function yg(t,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in t)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(t,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wc(t,n){const s=new Set(t.split(","));return a=>s.has(a)}const At={},Vs=[],On=()=>{},vg=()=>!1,ca=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ac=t=>t.startsWith("onUpdate:"),Wt=Object.assign,bc=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},Tg=Object.prototype.hasOwnProperty,nt=(t,n)=>Tg.call(t,n),Re=Array.isArray,Hs=t=>ji(t)==="[object Map]",ni=t=>ji(t)==="[object Set]",Pu=t=>ji(t)==="[object Date]",He=t=>typeof t=="function",Pt=t=>typeof t=="string",tr=t=>typeof t=="symbol",pt=t=>t!==null&&typeof t=="object",K1=t=>(pt(t)||He(t))&&He(t.then)&&He(t.catch),q1=Object.prototype.toString,ji=t=>q1.call(t),Sg=t=>ji(t).slice(8,-1),Z1=t=>ji(t)==="[object Object]",Cc=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ti=wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ua=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},Ig=/-(\w)/g,Vn=ua(t=>t.replace(Ig,(n,s)=>s?s.toUpperCase():"")),Og=/\B([A-Z])/g,xs=ua(t=>t.replace(Og,"-$1").toLowerCase()),fa=ua(t=>t.charAt(0).toUpperCase()+t.slice(1)),ol=ua(t=>t?`on${fa(t)}`:""),kr=(t,n)=>!Object.is(t,n),Lo=(t,...n)=>{for(let s=0;s<t.length;s++)t[s](...n)},Q1=(t,n,s,a=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:a,value:s})},jo=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Ng=t=>{const n=Pt(t)?Number(t):NaN;return isNaN(n)?t:n};let Bu;const J1=()=>Bu||(Bu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pi(t){if(Re(t)){const n={};for(let s=0;s<t.length;s++){const a=t[s],u=Pt(a)?Lg(a):Pi(a);if(u)for(const f in u)n[f]=u[f]}return n}else if(Pt(t)||pt(t))return t}const Rg=/;(?![^(]*\))/g,Dg=/:([^]+)/,Mg=/\/\*[^]*?\*\//g;function Lg(t){const n={};return t.replace(Mg,"").split(Rg).forEach(s=>{if(s){const a=s.split(Dg);a.length>1&&(n[a[0].trim()]=a[1].trim())}}),n}function Lt(t){let n="";if(Pt(t))n=t;else if(Re(t))for(let s=0;s<t.length;s++){const a=Lt(t[s]);a&&(n+=a+" ")}else if(pt(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}const Pg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bg=wc(Pg);function eh(t){return!!t||t===""}function kg(t,n){if(t.length!==n.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=zi(t[a],n[a]);return s}function zi(t,n){if(t===n)return!0;let s=Pu(t),a=Pu(n);if(s||a)return s&&a?t.getTime()===n.getTime():!1;if(s=tr(t),a=tr(n),s||a)return t===n;if(s=Re(t),a=Re(n),s||a)return s&&a?kg(t,n):!1;if(s=pt(t),a=pt(n),s||a){if(!s||!a)return!1;const u=Object.keys(t).length,f=Object.keys(n).length;if(u!==f)return!1;for(const g in t){const m=t.hasOwnProperty(g),E=n.hasOwnProperty(g);if(m&&!E||!m&&E||!zi(t[g],n[g]))return!1}}return String(t)===String(n)}function yc(t,n){return t.findIndex(s=>zi(s,n))}const th=t=>!!(t&&t.__v_isRef===!0),ot=t=>Pt(t)?t:t==null?"":Re(t)||pt(t)&&(t.toString===q1||!He(t.toString))?th(t)?ot(t.value):JSON.stringify(t,nh,2):String(t),nh=(t,n)=>th(n)?nh(t,n.value):Hs(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[a,u],f)=>(s[al(a,f)+" =>"]=u,s),{})}:ni(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>al(s))}:tr(n)?al(n):pt(n)&&!Re(n)&&!Z1(n)?String(n):n,al=(t,n="")=>{var s;return tr(t)?`Symbol(${(s=t.description)!=null?s:n})`:t};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xn;class rh{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xn,!n&&xn&&(this.index=(xn.scopes||(xn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=xn;try{return xn=this,n()}finally{xn=s}}}on(){xn=this}off(){xn=this.parent}stop(n){if(this._active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function sh(t){return new rh(t)}function Fg(t,n=xn){n&&n.active&&n.effects.push(t)}function ih(){return xn}function Ug(t){xn&&xn.cleanups.push(t)}let ls;class vc{constructor(n,s,a,u){this.fn=n,this.trigger=s,this.scheduler=a,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Fg(this,u)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Wr();for(let n=0;n<this._depsLength;n++){const s=this.deps[n];if(s.computed&&(Vg(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Gr()}return this._dirtyLevel>=4}set dirty(n){this._dirtyLevel=n?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=Pr,s=ls;try{return Pr=!0,ls=this,this._runnings++,ku(this),this.fn()}finally{Fu(this),this._runnings--,ls=s,Pr=n}}stop(){this.active&&(ku(this),Fu(this),this.onStop&&this.onStop(),this.active=!1)}}function Vg(t){return t.value}function ku(t){t._trackId++,t._depsLength=0}function Fu(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)oh(t.deps[n],t);t.deps.length=t._depsLength}}function oh(t,n){const s=t.get(n);s!==void 0&&n._trackId!==s&&(t.delete(n),t.size===0&&t.cleanup())}let Pr=!0,Fl=0;const ah=[];function Wr(){ah.push(Pr),Pr=!1}function Gr(){const t=ah.pop();Pr=t===void 0?!0:t}function Tc(){Fl++}function Sc(){for(Fl--;!Fl&&Ul.length;)Ul.shift()()}function lh(t,n,s){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const a=t.deps[t._depsLength];a!==n?(a&&oh(a,t),t.deps[t._depsLength++]=n):t._depsLength++}}const Ul=[];function ch(t,n,s){Tc();for(const a of t.keys()){let u;a._dirtyLevel<n&&(u??(u=t.get(a)===a._trackId))&&(a._shouldSchedule||(a._shouldSchedule=a._dirtyLevel===0),a._dirtyLevel=n),a._shouldSchedule&&(u??(u=t.get(a)===a._trackId))&&(a.trigger(),(!a._runnings||a.allowRecurse)&&a._dirtyLevel!==2&&(a._shouldSchedule=!1,a.scheduler&&Ul.push(a.scheduler)))}Sc()}const uh=(t,n)=>{const s=new Map;return s.cleanup=t,s.computed=n,s},zo=new WeakMap,cs=Symbol(""),Vl=Symbol("");function gn(t,n,s){if(Pr&&ls){let a=zo.get(t);a||zo.set(t,a=new Map);let u=a.get(s);u||a.set(s,u=uh(()=>a.delete(s))),lh(ls,u)}}function or(t,n,s,a,u,f){const g=zo.get(t);if(!g)return;let m=[];if(n==="clear")m=[...g.values()];else if(s==="length"&&Re(t)){const E=Number(a);g.forEach((x,w)=>{(w==="length"||!tr(w)&&w>=E)&&m.push(x)})}else switch(s!==void 0&&m.push(g.get(s)),n){case"add":Re(t)?Cc(s)&&m.push(g.get("length")):(m.push(g.get(cs)),Hs(t)&&m.push(g.get(Vl)));break;case"delete":Re(t)||(m.push(g.get(cs)),Hs(t)&&m.push(g.get(Vl)));break;case"set":Hs(t)&&m.push(g.get(cs));break}Tc();for(const E of m)E&&ch(E,4);Sc()}function Hg(t,n){const s=zo.get(t);return s&&s.get(n)}const Wg=wc("__proto__,__v_isRef,__isVue"),fh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(tr)),Uu=Gg();function Gg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const a=rt(this);for(let f=0,g=this.length;f<g;f++)gn(a,"get",f+"");const u=a[n](...s);return u===-1||u===!1?a[n](...s.map(rt)):u}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){Wr(),Tc();const a=rt(this)[n].apply(this,s);return Sc(),Gr(),a}}),t}function $g(t){tr(t)||(t=String(t));const n=rt(this);return gn(n,"has",t),n.hasOwnProperty(t)}class hh{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,a){const u=this._isReadonly,f=this._isShallow;if(s==="__v_isReactive")return!u;if(s==="__v_isReadonly")return u;if(s==="__v_isShallow")return f;if(s==="__v_raw")return a===(u?f?rp:mh:f?ph:gh).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(a)?n:void 0;const g=Re(n);if(!u){if(g&&nt(Uu,s))return Reflect.get(Uu,s,a);if(s==="hasOwnProperty")return $g}const m=Reflect.get(n,s,a);return(tr(s)?fh.has(s):Wg(s))||(u||gn(n,"get",s),f)?m:gt(m)?g&&Cc(s)?m:m.value:pt(m)?u?Eh(m):Yi(m):m}}class dh extends hh{constructor(n=!1){super(!1,n)}set(n,s,a,u){let f=n[s];if(!this._isShallow){const E=ds(f);if(!Xs(a)&&!ds(a)&&(f=rt(f),a=rt(a)),!Re(n)&&gt(f)&&!gt(a))return E?!1:(f.value=a,!0)}const g=Re(n)&&Cc(s)?Number(s)<n.length:nt(n,s),m=Reflect.set(n,s,a,u);return n===rt(u)&&(g?kr(a,f)&&or(n,"set",s,a):or(n,"add",s,a)),m}deleteProperty(n,s){const a=nt(n,s);n[s];const u=Reflect.deleteProperty(n,s);return u&&a&&or(n,"delete",s,void 0),u}has(n,s){const a=Reflect.has(n,s);return(!tr(s)||!fh.has(s))&&gn(n,"has",s),a}ownKeys(n){return gn(n,"iterate",Re(n)?"length":cs),Reflect.ownKeys(n)}}class Xg extends hh{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const jg=new dh,zg=new Xg,Yg=new dh(!0);const Ic=t=>t,ha=t=>Reflect.getPrototypeOf(t);function wo(t,n,s=!1,a=!1){t=t.__v_raw;const u=rt(t),f=rt(n);s||(kr(n,f)&&gn(u,"get",n),gn(u,"get",f));const{has:g}=ha(u),m=a?Ic:s?Dc:Bi;if(g.call(u,n))return m(t.get(n));if(g.call(u,f))return m(t.get(f));t!==u&&t.get(n)}function Ao(t,n=!1){const s=this.__v_raw,a=rt(s),u=rt(t);return n||(kr(t,u)&&gn(a,"has",t),gn(a,"has",u)),t===u?s.has(t):s.has(t)||s.has(u)}function bo(t,n=!1){return t=t.__v_raw,!n&&gn(rt(t),"iterate",cs),Reflect.get(t,"size",t)}function Vu(t,n=!1){!n&&!Xs(t)&&!ds(t)&&(t=rt(t));const s=rt(this);return ha(s).has.call(s,t)||(s.add(t),or(s,"add",t,t)),this}function Hu(t,n,s=!1){!s&&!Xs(n)&&!ds(n)&&(n=rt(n));const a=rt(this),{has:u,get:f}=ha(a);let g=u.call(a,t);g||(t=rt(t),g=u.call(a,t));const m=f.call(a,t);return a.set(t,n),g?kr(n,m)&&or(a,"set",t,n):or(a,"add",t,n),this}function Wu(t){const n=rt(this),{has:s,get:a}=ha(n);let u=s.call(n,t);u||(t=rt(t),u=s.call(n,t)),a&&a.call(n,t);const f=n.delete(t);return u&&or(n,"delete",t,void 0),f}function Gu(){const t=rt(this),n=t.size!==0,s=t.clear();return n&&or(t,"clear",void 0,void 0),s}function Co(t,n){return function(a,u){const f=this,g=f.__v_raw,m=rt(g),E=n?Ic:t?Dc:Bi;return!t&&gn(m,"iterate",cs),g.forEach((x,w)=>a.call(u,E(x),E(w),f))}}function yo(t,n,s){return function(...a){const u=this.__v_raw,f=rt(u),g=Hs(f),m=t==="entries"||t===Symbol.iterator&&g,E=t==="keys"&&g,x=u[t](...a),w=s?Ic:n?Dc:Bi;return!n&&gn(f,"iterate",E?Vl:cs),{next(){const{value:A,done:I}=x.next();return I?{value:A,done:I}:{value:m?[w(A[0]),w(A[1])]:w(A),done:I}},[Symbol.iterator](){return this}}}}function br(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function Kg(){const t={get(f){return wo(this,f)},get size(){return bo(this)},has:Ao,add:Vu,set:Hu,delete:Wu,clear:Gu,forEach:Co(!1,!1)},n={get(f){return wo(this,f,!1,!0)},get size(){return bo(this)},has:Ao,add(f){return Vu.call(this,f,!0)},set(f,g){return Hu.call(this,f,g,!0)},delete:Wu,clear:Gu,forEach:Co(!1,!0)},s={get(f){return wo(this,f,!0)},get size(){return bo(this,!0)},has(f){return Ao.call(this,f,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Co(!0,!1)},a={get(f){return wo(this,f,!0,!0)},get size(){return bo(this,!0)},has(f){return Ao.call(this,f,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Co(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=yo(f,!1,!1),s[f]=yo(f,!0,!1),n[f]=yo(f,!1,!0),a[f]=yo(f,!0,!0)}),[t,s,n,a]}const[qg,Zg,Qg,Jg]=Kg();function Oc(t,n){const s=n?t?Jg:Qg:t?Zg:qg;return(a,u,f)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?a:Reflect.get(nt(s,u)&&u in a?s:a,u,f)}const ep={get:Oc(!1,!1)},tp={get:Oc(!1,!0)},np={get:Oc(!0,!1)};const gh=new WeakMap,ph=new WeakMap,mh=new WeakMap,rp=new WeakMap;function sp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ip(t){return t.__v_skip||!Object.isExtensible(t)?0:sp(Sg(t))}function Yi(t){return ds(t)?t:Nc(t,!1,jg,ep,gh)}function xh(t){return Nc(t,!1,Yg,tp,ph)}function Eh(t){return Nc(t,!0,zg,np,mh)}function Nc(t,n,s,a,u){if(!pt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const f=u.get(t);if(f)return f;const g=ip(t);if(g===0)return t;const m=new Proxy(t,g===2?a:s);return u.set(t,m),m}function us(t){return ds(t)?us(t.__v_raw):!!(t&&t.__v_isReactive)}function ds(t){return!!(t&&t.__v_isReadonly)}function Xs(t){return!!(t&&t.__v_isShallow)}function _h(t){return t?!!t.__v_raw:!1}function rt(t){const n=t&&t.__v_raw;return n?rt(n):t}function Rc(t){return Object.isExtensible(t)&&Q1(t,"__v_skip",!0),t}const Bi=t=>pt(t)?Yi(t):t,Dc=t=>pt(t)?Eh(t):t;class wh{constructor(n,s,a,u){this.getter=n,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new vc(()=>n(this._value),()=>Po(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=a}get value(){const n=rt(this);return(!n._cacheable||n.effect.dirty)&&kr(n._value,n._value=n.effect.run())&&Po(n,4),Ah(n),n.effect._dirtyLevel>=2&&Po(n,2),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function op(t,n,s=!1){let a,u;const f=He(t);return f?(a=t,u=On):(a=t.get,u=t.set),new wh(a,u,f||!u,s)}function Ah(t){var n;Pr&&ls&&(t=rt(t),lh(ls,(n=t.dep)!=null?n:t.dep=uh(()=>t.dep=void 0,t instanceof wh?t:void 0)))}function Po(t,n=4,s,a){t=rt(t);const u=t.dep;u&&ch(u,n)}function gt(t){return!!(t&&t.__v_isRef===!0)}function Fe(t){return bh(t,!1)}function ap(t){return bh(t,!0)}function bh(t,n){return gt(t)?t:new lp(t,n)}class lp{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:rt(n),this._value=s?n:Bi(n)}get value(){return Ah(this),this._value}set value(n){const s=this.__v_isShallow||Xs(n)||ds(n);n=s?n:rt(n),kr(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=s?n:Bi(n),Po(this,4))}}function Me(t){return gt(t)?t.value:t}const cp={get:(t,n,s)=>Me(Reflect.get(t,n,s)),set:(t,n,s,a)=>{const u=t[n];return gt(u)&&!gt(s)?(u.value=s,!0):Reflect.set(t,n,s,a)}};function Ch(t){return us(t)?t:new Proxy(t,cp)}function up(t){const n=Re(t)?new Array(t.length):{};for(const s in t)n[s]=hp(t,s);return n}class fp{constructor(n,s,a){this._object=n,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Hg(rt(this._object),this._key)}}function hp(t,n,s){const a=t[n];return gt(a)?a:new fp(t,n,s)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Br(t,n,s,a){try{return a?t(...a):t()}catch(u){da(u,n,s)}}function Nn(t,n,s,a){if(He(t)){const u=Br(t,n,s,a);return u&&K1(u)&&u.catch(f=>{da(f,n,s)}),u}if(Re(t)){const u=[];for(let f=0;f<t.length;f++)u.push(Nn(t[f],n,s,a));return u}}function da(t,n,s,a=!0){const u=n?n.vnode:null;if(n){let f=n.parent;const g=n.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;f;){const x=f.ec;if(x){for(let w=0;w<x.length;w++)if(x[w](t,g,m)===!1)return}f=f.parent}const E=n.appContext.config.errorHandler;if(E){Wr(),Br(E,null,10,[t,g,m]),Gr();return}}dp(t,s,u,a)}function dp(t,n,s,a=!0){console.error(t)}let ki=!1,Hl=!1;const Zt=[];let Qn=0;const Ws=[];let Or=null,rs=0;const yh=Promise.resolve();let Mc=null;function Ki(t){const n=Mc||yh;return t?n.then(this?t.bind(this):t):n}function gp(t){let n=Qn+1,s=Zt.length;for(;n<s;){const a=n+s>>>1,u=Zt[a],f=Fi(u);f<t||f===t&&u.pre?n=a+1:s=a}return n}function Lc(t){(!Zt.length||!Zt.includes(t,ki&&t.allowRecurse?Qn+1:Qn))&&(t.id==null?Zt.push(t):Zt.splice(gp(t.id),0,t),vh())}function vh(){!ki&&!Hl&&(Hl=!0,Mc=yh.then(Sh))}function pp(t){const n=Zt.indexOf(t);n>Qn&&Zt.splice(n,1)}function mp(t){Re(t)?Ws.push(...t):(!Or||!Or.includes(t,t.allowRecurse?rs+1:rs))&&Ws.push(t),vh()}function $u(t,n,s=ki?Qn+1:0){for(;s<Zt.length;s++){const a=Zt[s];if(a&&a.pre){if(t&&a.id!==t.uid)continue;Zt.splice(s,1),s--,a()}}}function Th(t){if(Ws.length){const n=[...new Set(Ws)].sort((s,a)=>Fi(s)-Fi(a));if(Ws.length=0,Or){Or.push(...n);return}for(Or=n,rs=0;rs<Or.length;rs++){const s=Or[rs];s.active!==!1&&s()}Or=null,rs=0}}const Fi=t=>t.id==null?1/0:t.id,xp=(t,n)=>{const s=Fi(t)-Fi(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Sh(t){Hl=!1,ki=!0,Zt.sort(xp);try{for(Qn=0;Qn<Zt.length;Qn++){const n=Zt[Qn];n&&n.active!==!1&&Br(n,n.i,n.i?15:14)}}finally{Qn=0,Zt.length=0,Th(),ki=!1,Mc=null,(Zt.length||Ws.length)&&Sh()}}let en=null,ga=null;function Yo(t){const n=en;return en=t,ga=t&&t.type.__scopeId||null,n}function qi(t){ga=t}function Zi(){ga=null}function Ko(t,n=en,s){if(!n||t._n)return t;const a=(...u)=>{a._d&&rf(-1);const f=Yo(n);let g;try{g=t(...u)}finally{Yo(f),a._d&&rf(1)}return g};return a._n=!0,a._c=!0,a._d=!0,a}function En(t,n){if(en===null)return t;const s=Aa(en),a=t.dirs||(t.dirs=[]);for(let u=0;u<n.length;u++){let[f,g,m,E=At]=n[u];f&&(He(f)&&(f={mounted:f,updated:f}),f.deep&&Mr(g),a.push({dir:f,instance:s,value:g,oldValue:void 0,arg:m,modifiers:E}))}return t}function Jr(t,n,s,a){const u=t.dirs,f=n&&n.dirs;for(let g=0;g<u.length;g++){const m=u[g];f&&(m.oldValue=f[g].value);let E=m.dir[a];E&&(Wr(),Nn(E,s,8,[t.el,m,t,n]),Gr())}}const Nr=Symbol("_leaveCb"),vo=Symbol("_enterCb");function Ep(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Es(()=>{t.isMounted=!0}),Pc(()=>{t.isUnmounting=!0}),t}const In=[Function,Array],Ih={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},Oh=t=>{const n=t.subTree;return n.component?Oh(n.component):n},_p={name:"BaseTransition",props:Ih,setup(t,{slots:n}){const s=Zh(),a=Ep();return()=>{const u=n.default&&Rh(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const I of u)if(I.type!==_n){f=I;break}}const g=rt(t),{mode:m}=g;if(a.isLeaving)return ll(f);const E=Xu(f);if(!E)return ll(f);let x=Wl(E,g,a,s,I=>x=I);qo(E,x);const w=s.subTree,A=w&&Xu(w);if(A&&A.type!==_n&&!ss(E,A)&&Oh(s).type!==_n){const I=Wl(A,g,a,s);if(qo(A,I),m==="out-in"&&E.type!==_n)return a.isLeaving=!0,I.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},ll(f);m==="in-out"&&E.type!==_n&&(I.delayLeave=(S,L,D)=>{const J=Nh(a,A);J[String(A.key)]=A,S[Nr]=()=>{L(),S[Nr]=void 0,delete x.delayedLeave},x.delayedLeave=D})}return f}}},wp=_p;function Nh(t,n){const{leavingVNodes:s}=t;let a=s.get(n.type);return a||(a=Object.create(null),s.set(n.type,a)),a}function Wl(t,n,s,a,u){const{appear:f,mode:g,persisted:m=!1,onBeforeEnter:E,onEnter:x,onAfterEnter:w,onEnterCancelled:A,onBeforeLeave:I,onLeave:S,onAfterLeave:L,onLeaveCancelled:D,onBeforeAppear:J,onAppear:Y,onAfterAppear:j,onAppearCancelled:B}=n,Q=String(t.key),he=Nh(s,t),K=(P,_e)=>{P&&Nn(P,a,9,_e)},F=(P,_e)=>{const Ee=_e[1];K(P,_e),Re(P)?P.every(H=>H.length<=1)&&Ee():P.length<=1&&Ee()},ce={mode:g,persisted:m,beforeEnter(P){let _e=E;if(!s.isMounted)if(f)_e=J||E;else return;P[Nr]&&P[Nr](!0);const Ee=he[Q];Ee&&ss(t,Ee)&&Ee.el[Nr]&&Ee.el[Nr](),K(_e,[P])},enter(P){let _e=x,Ee=w,H=A;if(!s.isMounted)if(f)_e=Y||x,Ee=j||w,H=B||A;else return;let ne=!1;const Oe=P[vo]=W=>{ne||(ne=!0,W?K(H,[P]):K(Ee,[P]),ce.delayedLeave&&ce.delayedLeave(),P[vo]=void 0)};_e?F(_e,[P,Oe]):Oe()},leave(P,_e){const Ee=String(t.key);if(P[vo]&&P[vo](!0),s.isUnmounting)return _e();K(I,[P]);let H=!1;const ne=P[Nr]=Oe=>{H||(H=!0,_e(),Oe?K(D,[P]):K(L,[P]),P[Nr]=void 0,he[Ee]===t&&delete he[Ee])};he[Ee]=t,S?F(S,[P,ne]):ne()},clone(P){const _e=Wl(P,n,s,a,u);return u&&u(_e),_e}};return ce}function ll(t){if(pa(t))return t=Fr(t),t.children=null,t}function Xu(t){if(!pa(t))return t;const{shapeFlag:n,children:s}=t;if(s){if(n&16)return s[0];if(n&32&&He(s.default))return s.default()}}function qo(t,n){t.shapeFlag&6&&t.component?qo(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Rh(t,n=!1,s){let a=[],u=0;for(let f=0;f<t.length;f++){let g=t[f];const m=s==null?g.key:String(s)+String(g.key!=null?g.key:f);g.type===fn?(g.patchFlag&128&&u++,a=a.concat(Rh(g.children,n,m))):(n||g.type!==_n)&&a.push(m!=null?Fr(g,{key:m}):g)}if(u>1)for(let f=0;f<a.length;f++)a[f].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function Dh(t,n){return He(t)?Wt({name:t.name},n,{setup:t}):t}const Bo=t=>!!t.type.__asyncLoader,pa=t=>t.type.__isKeepAlive;function Ap(t,n){Mh(t,"a",n)}function bp(t,n){Mh(t,"da",n)}function Mh(t,n,s=Ht){const a=t.__wdc||(t.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return t()});if(ma(n,a,s),s){let u=s.parent;for(;u&&u.parent;)pa(u.parent.vnode)&&Cp(a,n,s,u),u=u.parent}}function Cp(t,n,s,a){const u=ma(n,t,a,!0);Bc(()=>{bc(a[n],u)},s)}function ma(t,n,s=Ht,a=!1){if(s){const u=s[t]||(s[t]=[]),f=n.__weh||(n.__weh=(...g)=>{Wr();const m=Qi(s),E=Nn(n,s,t,g);return m(),Gr(),E});return a?u.unshift(f):u.push(f),f}}const fr=t=>(n,s=Ht)=>{(!wa||t==="sp")&&ma(t,(...a)=>n(...a),s)},yp=fr("bm"),Es=fr("m"),vp=fr("bu"),Tp=fr("u"),Pc=fr("bum"),Bc=fr("um"),Sp=fr("sp"),Ip=fr("rtg"),Op=fr("rtc");function Np(t,n=Ht){ma("ec",t,n)}const Rp="components";function Gl(t,n){return Mp(Rp,t,!0,n)||t}const Dp=Symbol.for("v-ndc");function Mp(t,n,s=!0,a=!1){const u=en||Ht;if(u){const f=u.type;{const m=T2(f,!1);if(m&&(m===n||m===Vn(n)||m===fa(Vn(n))))return f}const g=ju(u[t]||f[t],n)||ju(u.appContext[t],n);return!g&&a?f:g}}function ju(t,n){return t&&(t[n]||t[Vn(n)]||t[fa(Vn(n))])}function Lp(t,n,s,a){let u;const f=s;if(Re(t)||Pt(t)){u=new Array(t.length);for(let g=0,m=t.length;g<m;g++)u[g]=n(t[g],g,void 0,f)}else if(typeof t=="number"){u=new Array(t);for(let g=0;g<t;g++)u[g]=n(g+1,g,void 0,f)}else if(pt(t))if(t[Symbol.iterator])u=Array.from(t,(g,m)=>n(g,m,void 0,f));else{const g=Object.keys(t);u=new Array(g.length);for(let m=0,E=g.length;m<E;m++){const x=g[m];u[m]=n(t[x],x,m,f)}}else u=[];return u}const $l=t=>t?Qh(t)?Aa(t):$l(t.parent):null,Si=Wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$l(t.parent),$root:t=>$l(t.root),$emit:t=>t.emit,$options:t=>kc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Lc(t.update)}),$nextTick:t=>t.n||(t.n=Ki.bind(t.proxy)),$watch:t=>i2.bind(t)}),cl=(t,n)=>t!==At&&!t.__isScriptSetup&&nt(t,n),Pp={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:a,data:u,props:f,accessCache:g,type:m,appContext:E}=t;let x;if(n[0]!=="$"){const S=g[n];if(S!==void 0)switch(S){case 1:return a[n];case 2:return u[n];case 4:return s[n];case 3:return f[n]}else{if(cl(a,n))return g[n]=1,a[n];if(u!==At&&nt(u,n))return g[n]=2,u[n];if((x=t.propsOptions[0])&&nt(x,n))return g[n]=3,f[n];if(s!==At&&nt(s,n))return g[n]=4,s[n];Xl&&(g[n]=0)}}const w=Si[n];let A,I;if(w)return n==="$attrs"&&gn(t.attrs,"get",""),w(t);if((A=m.__cssModules)&&(A=A[n]))return A;if(s!==At&&nt(s,n))return g[n]=4,s[n];if(I=E.config.globalProperties,nt(I,n))return I[n]},set({_:t},n,s){const{data:a,setupState:u,ctx:f}=t;return cl(u,n)?(u[n]=s,!0):a!==At&&nt(a,n)?(a[n]=s,!0):nt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(f[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:a,appContext:u,propsOptions:f}},g){let m;return!!s[g]||t!==At&&nt(t,g)||cl(n,g)||(m=f[0])&&nt(m,g)||nt(a,g)||nt(Si,g)||nt(u.config.globalProperties,g)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:nt(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};function zu(t){return Re(t)?t.reduce((n,s)=>(n[s]=null,n),{}):t}let Xl=!0;function Bp(t){const n=kc(t),s=t.proxy,a=t.ctx;Xl=!1,n.beforeCreate&&Yu(n.beforeCreate,t,"bc");const{data:u,computed:f,methods:g,watch:m,provide:E,inject:x,created:w,beforeMount:A,mounted:I,beforeUpdate:S,updated:L,activated:D,deactivated:J,beforeDestroy:Y,beforeUnmount:j,destroyed:B,unmounted:Q,render:he,renderTracked:K,renderTriggered:F,errorCaptured:ce,serverPrefetch:P,expose:_e,inheritAttrs:Ee,components:H,directives:ne,filters:Oe}=n;if(x&&kp(x,a,null),g)for(const ue in g){const $e=g[ue];He($e)&&(a[ue]=$e.bind(s))}if(u){const ue=u.call(s,s);pt(ue)&&(t.data=Yi(ue))}if(Xl=!0,f)for(const ue in f){const $e=f[ue],mt=He($e)?$e.bind(s,s):He($e.get)?$e.get.bind(s,s):On,vt=!He($e)&&He($e.set)?$e.set.bind(s):On,Gt=Nt({get:mt,set:vt});Object.defineProperty(a,ue,{enumerable:!0,configurable:!0,get:()=>Gt.value,set:qe=>Gt.value=qe})}if(m)for(const ue in m)Lh(m[ue],a,s,ue);if(E){const ue=He(E)?E.call(s):E;Reflect.ownKeys(ue).forEach($e=>{ko($e,ue[$e])})}w&&Yu(w,t,"c");function Se(ue,$e){Re($e)?$e.forEach(mt=>ue(mt.bind(s))):$e&&ue($e.bind(s))}if(Se(yp,A),Se(Es,I),Se(vp,S),Se(Tp,L),Se(Ap,D),Se(bp,J),Se(Np,ce),Se(Op,K),Se(Ip,F),Se(Pc,j),Se(Bc,Q),Se(Sp,P),Re(_e))if(_e.length){const ue=t.exposed||(t.exposed={});_e.forEach($e=>{Object.defineProperty(ue,$e,{get:()=>s[$e],set:mt=>s[$e]=mt})})}else t.exposed||(t.exposed={});he&&t.render===On&&(t.render=he),Ee!=null&&(t.inheritAttrs=Ee),H&&(t.components=H),ne&&(t.directives=ne)}function kp(t,n,s=On){Re(t)&&(t=jl(t));for(const a in t){const u=t[a];let f;pt(u)?"default"in u?f=Rn(u.from||a,u.default,!0):f=Rn(u.from||a):f=Rn(u),gt(f)?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:g=>f.value=g}):n[a]=f}}function Yu(t,n,s){Nn(Re(t)?t.map(a=>a.bind(n.proxy)):t.bind(n.proxy),n,s)}function Lh(t,n,s,a){const u=a.includes(".")?zh(s,a):()=>s[a];if(Pt(t)){const f=n[t];He(f)&&$s(u,f)}else if(He(t))$s(u,t.bind(s));else if(pt(t))if(Re(t))t.forEach(f=>Lh(f,n,s,a));else{const f=He(t.handler)?t.handler.bind(s):n[t.handler];He(f)&&$s(u,f,t)}}function kc(t){const n=t.type,{mixins:s,extends:a}=n,{mixins:u,optionsCache:f,config:{optionMergeStrategies:g}}=t.appContext,m=f.get(n);let E;return m?E=m:!u.length&&!s&&!a?E=n:(E={},u.length&&u.forEach(x=>Zo(E,x,g,!0)),Zo(E,n,g)),pt(n)&&f.set(n,E),E}function Zo(t,n,s,a=!1){const{mixins:u,extends:f}=n;f&&Zo(t,f,s,!0),u&&u.forEach(g=>Zo(t,g,s,!0));for(const g in n)if(!(a&&g==="expose")){const m=Fp[g]||s&&s[g];t[g]=m?m(t[g],n[g]):n[g]}return t}const Fp={data:Ku,props:qu,emits:qu,methods:vi,computed:vi,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:vi,directives:vi,watch:Vp,provide:Ku,inject:Up};function Ku(t,n){return n?t?function(){return Wt(He(t)?t.call(this,this):t,He(n)?n.call(this,this):n)}:n:t}function Up(t,n){return vi(jl(t),jl(n))}function jl(t){if(Re(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function Jt(t,n){return t?[...new Set([].concat(t,n))]:n}function vi(t,n){return t?Wt(Object.create(null),t,n):n}function qu(t,n){return t?Re(t)&&Re(n)?[...new Set([...t,...n])]:Wt(Object.create(null),zu(t),zu(n??{})):n}function Vp(t,n){if(!t)return n;if(!n)return t;const s=Wt(Object.create(null),t);for(const a in n)s[a]=Jt(t[a],n[a]);return s}function Ph(){return{app:null,config:{isNativeTag:vg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hp=0;function Wp(t,n){return function(a,u=null){He(a)||(a=Wt({},a)),u!=null&&!pt(u)&&(u=null);const f=Ph(),g=new WeakSet;let m=!1;const E=f.app={_uid:Hp++,_component:a,_props:u,_container:null,_context:f,_instance:null,version:I2,get config(){return f.config},set config(x){},use(x,...w){return g.has(x)||(x&&He(x.install)?(g.add(x),x.install(E,...w)):He(x)&&(g.add(x),x(E,...w))),E},mixin(x){return f.mixins.includes(x)||f.mixins.push(x),E},component(x,w){return w?(f.components[x]=w,E):f.components[x]},directive(x,w){return w?(f.directives[x]=w,E):f.directives[x]},mount(x,w,A){if(!m){const I=Rt(a,u);return I.appContext=f,A===!0?A="svg":A===!1&&(A=void 0),w&&n?n(I,x):t(I,x,A),m=!0,E._container=x,x.__vue_app__=E,Aa(I.component)}},unmount(){m&&(t(null,E._container),delete E._container.__vue_app__)},provide(x,w){return f.provides[x]=w,E},runWithContext(x){const w=Gs;Gs=E;try{return x()}finally{Gs=w}}};return E}}let Gs=null;function ko(t,n){if(Ht){let s=Ht.provides;const a=Ht.parent&&Ht.parent.provides;a===s&&(s=Ht.provides=Object.create(a)),s[t]=n}}function Rn(t,n,s=!1){const a=Ht||en;if(a||Gs){const u=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:Gs._context.provides;if(u&&t in u)return u[t];if(arguments.length>1)return s&&He(n)?n.call(a&&a.proxy):n}}function Gp(){return!!(Ht||en||Gs)}const Bh={},kh=()=>Object.create(Bh),Fh=t=>Object.getPrototypeOf(t)===Bh;function $p(t,n,s,a=!1){const u={},f=kh();t.propsDefaults=Object.create(null),Uh(t,n,u,f);for(const g in t.propsOptions[0])g in u||(u[g]=void 0);s?t.props=a?u:xh(u):t.type.props?t.props=u:t.props=f,t.attrs=f}function Xp(t,n,s,a){const{props:u,attrs:f,vnode:{patchFlag:g}}=t,m=rt(u),[E]=t.propsOptions;let x=!1;if((a||g>0)&&!(g&16)){if(g&8){const w=t.vnode.dynamicProps;for(let A=0;A<w.length;A++){let I=w[A];if(xa(t.emitsOptions,I))continue;const S=n[I];if(E)if(nt(f,I))S!==f[I]&&(f[I]=S,x=!0);else{const L=Vn(I);u[L]=zl(E,m,L,S,t,!1)}else S!==f[I]&&(f[I]=S,x=!0)}}}else{Uh(t,n,u,f)&&(x=!0);let w;for(const A in m)(!n||!nt(n,A)&&((w=xs(A))===A||!nt(n,w)))&&(E?s&&(s[A]!==void 0||s[w]!==void 0)&&(u[A]=zl(E,m,A,void 0,t,!0)):delete u[A]);if(f!==m)for(const A in f)(!n||!nt(n,A))&&(delete f[A],x=!0)}x&&or(t.attrs,"set","")}function Uh(t,n,s,a){const[u,f]=t.propsOptions;let g=!1,m;if(n)for(let E in n){if(Ti(E))continue;const x=n[E];let w;u&&nt(u,w=Vn(E))?!f||!f.includes(w)?s[w]=x:(m||(m={}))[w]=x:xa(t.emitsOptions,E)||(!(E in a)||x!==a[E])&&(a[E]=x,g=!0)}if(f){const E=rt(s),x=m||At;for(let w=0;w<f.length;w++){const A=f[w];s[A]=zl(u,E,A,x[A],t,!nt(x,A))}}return g}function zl(t,n,s,a,u,f){const g=t[s];if(g!=null){const m=nt(g,"default");if(m&&a===void 0){const E=g.default;if(g.type!==Function&&!g.skipFactory&&He(E)){const{propsDefaults:x}=u;if(s in x)a=x[s];else{const w=Qi(u);a=x[s]=E.call(null,n),w()}}else a=E}g[0]&&(f&&!m?a=!1:g[1]&&(a===""||a===xs(s))&&(a=!0))}return a}const jp=new WeakMap;function Vh(t,n,s=!1){const a=s?jp:n.propsCache,u=a.get(t);if(u)return u;const f=t.props,g={},m=[];let E=!1;if(!He(t)){const w=A=>{E=!0;const[I,S]=Vh(A,n,!0);Wt(g,I),S&&m.push(...S)};!s&&n.mixins.length&&n.mixins.forEach(w),t.extends&&w(t.extends),t.mixins&&t.mixins.forEach(w)}if(!f&&!E)return pt(t)&&a.set(t,Vs),Vs;if(Re(f))for(let w=0;w<f.length;w++){const A=Vn(f[w]);Zu(A)&&(g[A]=At)}else if(f)for(const w in f){const A=Vn(w);if(Zu(A)){const I=f[w],S=g[A]=Re(I)||He(I)?{type:I}:Wt({},I);if(S){const L=ef(Boolean,S.type),D=ef(String,S.type);S[0]=L>-1,S[1]=D<0||L<D,(L>-1||nt(S,"default"))&&m.push(A)}}}const x=[g,m];return pt(t)&&a.set(t,x),x}function Zu(t){return t[0]!=="$"&&!Ti(t)}function Qu(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Ju(t,n){return Qu(t)===Qu(n)}function ef(t,n){return Re(n)?n.findIndex(s=>Ju(s,t)):He(n)&&Ju(n,t)?0:-1}const Hh=t=>t[0]==="_"||t==="$stable",Fc=t=>Re(t)?t.map(Zn):[Zn(t)],zp=(t,n,s)=>{if(n._n)return n;const a=Ko((...u)=>Fc(n(...u)),s);return a._c=!1,a},Wh=(t,n,s)=>{const a=t._ctx;for(const u in t){if(Hh(u))continue;const f=t[u];if(He(f))n[u]=zp(u,f,a);else if(f!=null){const g=Fc(f);n[u]=()=>g}}},Gh=(t,n)=>{const s=Fc(n);t.slots.default=()=>s},$h=(t,n,s)=>{for(const a in n)(s||a!=="_")&&(t[a]=n[a])},Yp=(t,n,s)=>{const a=t.slots=kh();if(t.vnode.shapeFlag&32){const u=n._;u?($h(a,n,s),s&&Q1(a,"_",u,!0)):Wh(n,a)}else n&&Gh(t,n)},Kp=(t,n,s)=>{const{vnode:a,slots:u}=t;let f=!0,g=At;if(a.shapeFlag&32){const m=n._;m?s&&m===1?f=!1:$h(u,n,s):(f=!n.$stable,Wh(n,u)),g=n}else n&&(Gh(t,n),g={default:1});if(f)for(const m in u)!Hh(m)&&g[m]==null&&delete u[m]};function Yl(t,n,s,a,u=!1){if(Re(t)){t.forEach((I,S)=>Yl(I,n&&(Re(n)?n[S]:n),s,a,u));return}if(Bo(a)&&!u)return;const f=a.shapeFlag&4?Aa(a.component):a.el,g=u?null:f,{i:m,r:E}=t,x=n&&n.r,w=m.refs===At?m.refs={}:m.refs,A=m.setupState;if(x!=null&&x!==E&&(Pt(x)?(w[x]=null,nt(A,x)&&(A[x]=null)):gt(x)&&(x.value=null)),He(E))Br(E,m,12,[g,w]);else{const I=Pt(E),S=gt(E);if(I||S){const L=()=>{if(t.f){const D=I?nt(A,E)?A[E]:w[E]:E.value;u?Re(D)&&bc(D,f):Re(D)?D.includes(f)||D.push(f):I?(w[E]=[f],nt(A,E)&&(A[E]=w[E])):(E.value=[f],t.k&&(w[t.k]=E.value))}else I?(w[E]=g,nt(A,E)&&(A[E]=g)):S&&(E.value=g,t.k&&(w[t.k]=g))};g?(L.id=-1,un(L,s)):L()}}}const qp=Symbol("_vte"),Zp=t=>t.__isTeleport,un=d2;function Qp(t){return Jp(t)}function Jp(t,n){const s=J1();s.__VUE__=!0;const{insert:a,remove:u,patchProp:f,createElement:g,createText:m,createComment:E,setText:x,setElementText:w,parentNode:A,nextSibling:I,setScopeId:S=On,insertStaticContent:L}=t,D=(v,N,V,re=null,z=null,te=null,se=void 0,ge=null,G=!!N.dynamicChildren)=>{if(v===N)return;v&&!ss(v,N)&&(re=ee(v),qe(v,z,te,!0),v=null),N.patchFlag===-2&&(G=!1,N.dynamicChildren=null);const{type:oe,ref:we,shapeFlag:be}=N;switch(oe){case Ea:J(v,N,V,re);break;case _n:Y(v,N,V,re);break;case Ii:v==null&&j(N,V,re,se);break;case fn:H(v,N,V,re,z,te,se,ge,G);break;default:be&1?he(v,N,V,re,z,te,se,ge,G):be&6?ne(v,N,V,re,z,te,se,ge,G):(be&64||be&128)&&oe.process(v,N,V,re,z,te,se,ge,G,ve)}we!=null&&z&&Yl(we,v&&v.ref,te,N||v,!N)},J=(v,N,V,re)=>{if(v==null)a(N.el=m(N.children),V,re);else{const z=N.el=v.el;N.children!==v.children&&x(z,N.children)}},Y=(v,N,V,re)=>{v==null?a(N.el=E(N.children||""),V,re):N.el=v.el},j=(v,N,V,re)=>{[v.el,v.anchor]=L(v.children,N,V,re,v.el,v.anchor)},B=({el:v,anchor:N},V,re)=>{let z;for(;v&&v!==N;)z=I(v),a(v,V,re),v=z;a(N,V,re)},Q=({el:v,anchor:N})=>{let V;for(;v&&v!==N;)V=I(v),u(v),v=V;u(N)},he=(v,N,V,re,z,te,se,ge,G)=>{N.type==="svg"?se="svg":N.type==="math"&&(se="mathml"),v==null?K(N,V,re,z,te,se,ge,G):P(v,N,z,te,se,ge,G)},K=(v,N,V,re,z,te,se,ge)=>{let G,oe;const{props:we,shapeFlag:be,transition:Te,dirs:Ie}=v;if(G=v.el=g(v.type,te,we&&we.is,we),be&8?w(G,v.children):be&16&&ce(v.children,G,null,re,z,ul(v,te),se,ge),Ie&&Jr(v,null,re,"created"),F(G,v,v.scopeId,se,re),we){for(const Ye in we)Ye!=="value"&&!Ti(Ye)&&f(G,Ye,null,we[Ye],te,re);"value"in we&&f(G,"value",null,we.value,te),(oe=we.onVnodeBeforeMount)&&qn(oe,re,v)}Ie&&Jr(v,null,re,"beforeMount");const Ve=e2(z,Te);Ve&&Te.beforeEnter(G),a(G,N,V),((oe=we&&we.onVnodeMounted)||Ve||Ie)&&un(()=>{oe&&qn(oe,re,v),Ve&&Te.enter(G),Ie&&Jr(v,null,re,"mounted")},z)},F=(v,N,V,re,z)=>{if(V&&S(v,V),re)for(let te=0;te<re.length;te++)S(v,re[te]);if(z){let te=z.subTree;if(N===te){const se=z.vnode;F(v,se,se.scopeId,se.slotScopeIds,z.parent)}}},ce=(v,N,V,re,z,te,se,ge,G=0)=>{for(let oe=G;oe<v.length;oe++){const we=v[oe]=ge?Rr(v[oe]):Zn(v[oe]);D(null,we,N,V,re,z,te,se,ge)}},P=(v,N,V,re,z,te,se)=>{const ge=N.el=v.el;let{patchFlag:G,dynamicChildren:oe,dirs:we}=N;G|=v.patchFlag&16;const be=v.props||At,Te=N.props||At;let Ie;if(V&&es(V,!1),(Ie=Te.onVnodeBeforeUpdate)&&qn(Ie,V,N,v),we&&Jr(N,v,V,"beforeUpdate"),V&&es(V,!0),(be.innerHTML&&Te.innerHTML==null||be.textContent&&Te.textContent==null)&&w(ge,""),oe?_e(v.dynamicChildren,oe,ge,V,re,ul(N,z),te):se||$e(v,N,ge,null,V,re,ul(N,z),te,!1),G>0){if(G&16)Ee(ge,be,Te,V,z);else if(G&2&&be.class!==Te.class&&f(ge,"class",null,Te.class,z),G&4&&f(ge,"style",be.style,Te.style,z),G&8){const Ve=N.dynamicProps;for(let Ye=0;Ye<Ve.length;Ye++){const Ue=Ve[Ye],Dt=be[Ue],Yt=Te[Ue];(Yt!==Dt||Ue==="value")&&f(ge,Ue,Dt,Yt,z,V)}}G&1&&v.children!==N.children&&w(ge,N.children)}else!se&&oe==null&&Ee(ge,be,Te,V,z);((Ie=Te.onVnodeUpdated)||we)&&un(()=>{Ie&&qn(Ie,V,N,v),we&&Jr(N,v,V,"updated")},re)},_e=(v,N,V,re,z,te,se)=>{for(let ge=0;ge<N.length;ge++){const G=v[ge],oe=N[ge],we=G.el&&(G.type===fn||!ss(G,oe)||G.shapeFlag&70)?A(G.el):V;D(G,oe,we,null,re,z,te,se,!0)}},Ee=(v,N,V,re,z)=>{if(N!==V){if(N!==At)for(const te in N)!Ti(te)&&!(te in V)&&f(v,te,N[te],null,z,re);for(const te in V){if(Ti(te))continue;const se=V[te],ge=N[te];se!==ge&&te!=="value"&&f(v,te,ge,se,z,re)}"value"in V&&f(v,"value",N.value,V.value,z)}},H=(v,N,V,re,z,te,se,ge,G)=>{const oe=N.el=v?v.el:m(""),we=N.anchor=v?v.anchor:m("");let{patchFlag:be,dynamicChildren:Te,slotScopeIds:Ie}=N;Ie&&(ge=ge?ge.concat(Ie):Ie),v==null?(a(oe,V,re),a(we,V,re),ce(N.children||[],V,we,z,te,se,ge,G)):be>0&&be&64&&Te&&v.dynamicChildren?(_e(v.dynamicChildren,Te,V,z,te,se,ge),(N.key!=null||z&&N===z.subTree)&&Xh(v,N,!0)):$e(v,N,V,we,z,te,se,ge,G)},ne=(v,N,V,re,z,te,se,ge,G)=>{N.slotScopeIds=ge,v==null?N.shapeFlag&512?z.ctx.activate(N,V,re,se,G):Oe(N,V,re,z,te,se,G):W(v,N,G)},Oe=(v,N,V,re,z,te,se)=>{const ge=v.component=A2(v,re,z);if(pa(v)&&(ge.ctx.renderer=ve),b2(ge,!1,se),ge.asyncDep){if(z&&z.registerDep(ge,Se,se),!v.el){const G=ge.subTree=Rt(_n);Y(null,G,N,V)}}else Se(ge,v,N,V,z,te,se)},W=(v,N,V)=>{const re=N.component=v.component;if(u2(v,N,V))if(re.asyncDep&&!re.asyncResolved){ue(re,N,V);return}else re.next=N,pp(re.update),re.effect.dirty=!0,re.update();else N.el=v.el,re.vnode=N},Se=(v,N,V,re,z,te,se)=>{const ge=()=>{if(v.isMounted){let{next:we,bu:be,u:Te,parent:Ie,vnode:Ve}=v;{const gr=jh(v);if(gr){we&&(we.el=Ve.el,ue(v,we,se)),gr.asyncDep.then(()=>{v.isUnmounted||ge()});return}}let Ye=we,Ue;es(v,!1),we?(we.el=Ve.el,ue(v,we,se)):we=Ve,be&&Lo(be),(Ue=we.props&&we.props.onVnodeBeforeUpdate)&&qn(Ue,Ie,we,Ve),es(v,!0);const Dt=fl(v),Yt=v.subTree;v.subTree=Dt,D(Yt,Dt,A(Yt.el),ee(Yt),v,z,te),we.el=Dt.el,Ye===null&&f2(v,Dt.el),Te&&un(Te,z),(Ue=we.props&&we.props.onVnodeUpdated)&&un(()=>qn(Ue,Ie,we,Ve),z)}else{let we;const{el:be,props:Te}=N,{bm:Ie,m:Ve,parent:Ye}=v,Ue=Bo(N);if(es(v,!1),Ie&&Lo(Ie),!Ue&&(we=Te&&Te.onVnodeBeforeMount)&&qn(we,Ye,N),es(v,!0),be&&at){const Dt=()=>{v.subTree=fl(v),at(be,v.subTree,v,z,null)};Ue?N.type.__asyncLoader().then(()=>!v.isUnmounted&&Dt()):Dt()}else{const Dt=v.subTree=fl(v);D(null,Dt,V,re,v,z,te),N.el=Dt.el}if(Ve&&un(Ve,z),!Ue&&(we=Te&&Te.onVnodeMounted)){const Dt=N;un(()=>qn(we,Ye,Dt),z)}(N.shapeFlag&256||Ye&&Bo(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&v.a&&un(v.a,z),v.isMounted=!0,N=V=re=null}},G=v.effect=new vc(ge,On,()=>Lc(oe),v.scope),oe=v.update=()=>{G.dirty&&G.run()};oe.i=v,oe.id=v.uid,es(v,!0),oe()},ue=(v,N,V)=>{N.component=v;const re=v.vnode.props;v.vnode=N,v.next=null,Xp(v,N.props,re,V),Kp(v,N.children,V),Wr(),$u(v),Gr()},$e=(v,N,V,re,z,te,se,ge,G=!1)=>{const oe=v&&v.children,we=v?v.shapeFlag:0,be=N.children,{patchFlag:Te,shapeFlag:Ie}=N;if(Te>0){if(Te&128){vt(oe,be,V,re,z,te,se,ge,G);return}else if(Te&256){mt(oe,be,V,re,z,te,se,ge,G);return}}Ie&8?(we&16&&Ae(oe,z,te),be!==oe&&w(V,be)):we&16?Ie&16?vt(oe,be,V,re,z,te,se,ge,G):Ae(oe,z,te,!0):(we&8&&w(V,""),Ie&16&&ce(be,V,re,z,te,se,ge,G))},mt=(v,N,V,re,z,te,se,ge,G)=>{v=v||Vs,N=N||Vs;const oe=v.length,we=N.length,be=Math.min(oe,we);let Te;for(Te=0;Te<be;Te++){const Ie=N[Te]=G?Rr(N[Te]):Zn(N[Te]);D(v[Te],Ie,V,null,z,te,se,ge,G)}oe>we?Ae(v,z,te,!0,!1,be):ce(N,V,re,z,te,se,ge,G,be)},vt=(v,N,V,re,z,te,se,ge,G)=>{let oe=0;const we=N.length;let be=v.length-1,Te=we-1;for(;oe<=be&&oe<=Te;){const Ie=v[oe],Ve=N[oe]=G?Rr(N[oe]):Zn(N[oe]);if(ss(Ie,Ve))D(Ie,Ve,V,null,z,te,se,ge,G);else break;oe++}for(;oe<=be&&oe<=Te;){const Ie=v[be],Ve=N[Te]=G?Rr(N[Te]):Zn(N[Te]);if(ss(Ie,Ve))D(Ie,Ve,V,null,z,te,se,ge,G);else break;be--,Te--}if(oe>be){if(oe<=Te){const Ie=Te+1,Ve=Ie<we?N[Ie].el:re;for(;oe<=Te;)D(null,N[oe]=G?Rr(N[oe]):Zn(N[oe]),V,Ve,z,te,se,ge,G),oe++}}else if(oe>Te)for(;oe<=be;)qe(v[oe],z,te,!0),oe++;else{const Ie=oe,Ve=oe,Ye=new Map;for(oe=Ve;oe<=Te;oe++){const Xe=N[oe]=G?Rr(N[oe]):Zn(N[oe]);Xe.key!=null&&Ye.set(Xe.key,oe)}let Ue,Dt=0;const Yt=Te-Ve+1;let gr=!1,bt=0;const me=new Array(Yt);for(oe=0;oe<Yt;oe++)me[oe]=0;for(oe=Ie;oe<=be;oe++){const Xe=v[oe];if(Dt>=Yt){qe(Xe,z,te,!0);continue}let et;if(Xe.key!=null)et=Ye.get(Xe.key);else for(Ue=Ve;Ue<=Te;Ue++)if(me[Ue-Ve]===0&&ss(Xe,N[Ue])){et=Ue;break}et===void 0?qe(Xe,z,te,!0):(me[et-Ve]=oe+1,et>=bt?bt=et:gr=!0,D(Xe,N[et],V,null,z,te,se,ge,G),Dt++)}const Tt=gr?t2(me):Vs;for(Ue=Tt.length-1,oe=Yt-1;oe>=0;oe--){const Xe=Ve+oe,et=N[Xe],pr=Xe+1<we?N[Xe+1].el:re;me[oe]===0?D(null,et,V,pr,z,te,se,ge,G):gr&&(Ue<0||oe!==Tt[Ue]?Gt(et,V,pr,2):Ue--)}}},Gt=(v,N,V,re,z=null)=>{const{el:te,type:se,transition:ge,children:G,shapeFlag:oe}=v;if(oe&6){Gt(v.component.subTree,N,V,re);return}if(oe&128){v.suspense.move(N,V,re);return}if(oe&64){se.move(v,N,V,ve);return}if(se===fn){a(te,N,V);for(let be=0;be<G.length;be++)Gt(G[be],N,V,re);a(v.anchor,N,V);return}if(se===Ii){B(v,N,V);return}if(re!==2&&oe&1&&ge)if(re===0)ge.beforeEnter(te),a(te,N,V),un(()=>ge.enter(te),z);else{const{leave:be,delayLeave:Te,afterLeave:Ie}=ge,Ve=()=>a(te,N,V),Ye=()=>{be(te,()=>{Ve(),Ie&&Ie()})};Te?Te(te,Ve,Ye):Ye()}else a(te,N,V)},qe=(v,N,V,re=!1,z=!1)=>{const{type:te,props:se,ref:ge,children:G,dynamicChildren:oe,shapeFlag:we,patchFlag:be,dirs:Te,cacheIndex:Ie}=v;if(be===-2&&(z=!1),ge!=null&&Yl(ge,null,V,v,!0),Ie!=null&&(N.renderCache[Ie]=void 0),we&256){N.ctx.deactivate(v);return}const Ve=we&1&&Te,Ye=!Bo(v);let Ue;if(Ye&&(Ue=se&&se.onVnodeBeforeUnmount)&&qn(Ue,N,v),we&6)$t(v.component,V,re);else{if(we&128){v.suspense.unmount(V,re);return}Ve&&Jr(v,null,N,"beforeUnmount"),we&64?v.type.remove(v,N,V,ve,re):oe&&!oe.hasOnce&&(te!==fn||be>0&&be&64)?Ae(oe,N,V,!1,!0):(te===fn&&be&384||!z&&we&16)&&Ae(G,N,V),re&&Bt(v)}(Ye&&(Ue=se&&se.onVnodeUnmounted)||Ve)&&un(()=>{Ue&&qn(Ue,N,v),Ve&&Jr(v,null,N,"unmounted")},V)},Bt=v=>{const{type:N,el:V,anchor:re,transition:z}=v;if(N===fn){ct(V,re);return}if(N===Ii){Q(v);return}const te=()=>{u(V),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(v.shapeFlag&1&&z&&!z.persisted){const{leave:se,delayLeave:ge}=z,G=()=>se(V,te);ge?ge(v.el,te,G):G()}else te()},ct=(v,N)=>{let V;for(;v!==N;)V=I(v),u(v),v=V;u(N)},$t=(v,N,V)=>{const{bum:re,scope:z,update:te,subTree:se,um:ge,m:G,a:oe}=v;tf(G),tf(oe),re&&Lo(re),z.stop(),te&&(te.active=!1,qe(se,v,N,V)),ge&&un(ge,N),un(()=>{v.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Ae=(v,N,V,re=!1,z=!1,te=0)=>{for(let se=te;se<v.length;se++)qe(v[se],N,V,re,z)},ee=v=>{if(v.shapeFlag&6)return ee(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const N=I(v.anchor||v.el),V=N&&N[qp];return V?I(V):N};let fe=!1;const xe=(v,N,V)=>{v==null?N._vnode&&qe(N._vnode,null,null,!0):D(N._vnode||null,v,N,null,null,null,V),fe||(fe=!0,$u(),Th(),fe=!1),N._vnode=v},ve={p:D,um:qe,m:Gt,r:Bt,mt:Oe,mc:ce,pc:$e,pbc:_e,n:ee,o:t};let ke,at;return{render:xe,hydrate:ke,createApp:Wp(xe,ke)}}function ul({type:t,props:n},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function es({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function e2(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Xh(t,n,s=!1){const a=t.children,u=n.children;if(Re(a)&&Re(u))for(let f=0;f<a.length;f++){const g=a[f];let m=u[f];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[f]=Rr(u[f]),m.el=g.el),!s&&m.patchFlag!==-2&&Xh(g,m)),m.type===Ea&&(m.el=g.el)}}function t2(t){const n=t.slice(),s=[0];let a,u,f,g,m;const E=t.length;for(a=0;a<E;a++){const x=t[a];if(x!==0){if(u=s[s.length-1],t[u]<x){n[a]=u,s.push(a);continue}for(f=0,g=s.length-1;f<g;)m=f+g>>1,t[s[m]]<x?f=m+1:g=m;x<t[s[f]]&&(f>0&&(n[a]=s[f-1]),s[f]=a)}}for(f=s.length,g=s[f-1];f-- >0;)s[f]=g,g=n[g];return s}function jh(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:jh(n)}function tf(t){if(t)for(let n=0;n<t.length;n++)t[n].active=!1}const n2=Symbol.for("v-scx"),r2=()=>Rn(n2);function s2(t,n){return Uc(t,null,{flush:"post"})}const To={};function $s(t,n,s){return Uc(t,n,s)}function Uc(t,n,{immediate:s,deep:a,flush:u,once:f,onTrack:g,onTrigger:m}=At){if(n&&f){const K=n;n=(...F)=>{K(...F),he()}}const E=Ht,x=K=>a===!0?K:Mr(K,a===!1?1:void 0);let w,A=!1,I=!1;if(gt(t)?(w=()=>t.value,A=Xs(t)):us(t)?(w=()=>x(t),A=!0):Re(t)?(I=!0,A=t.some(K=>us(K)||Xs(K)),w=()=>t.map(K=>{if(gt(K))return K.value;if(us(K))return x(K);if(He(K))return Br(K,E,2)})):He(t)?n?w=()=>Br(t,E,2):w=()=>(S&&S(),Nn(t,E,3,[L])):w=On,n&&a){const K=w;w=()=>Mr(K())}let S,L=K=>{S=B.onStop=()=>{Br(K,E,4),S=B.onStop=void 0}},D;if(wa)if(L=On,n?s&&Nn(n,E,3,[w(),I?[]:void 0,L]):w(),u==="sync"){const K=r2();D=K.__watcherHandles||(K.__watcherHandles=[])}else return On;let J=I?new Array(t.length).fill(To):To;const Y=()=>{if(!(!B.active||!B.dirty))if(n){const K=B.run();(a||A||(I?K.some((F,ce)=>kr(F,J[ce])):kr(K,J)))&&(S&&S(),Nn(n,E,3,[K,J===To?void 0:I&&J[0]===To?[]:J,L]),J=K)}else B.run()};Y.allowRecurse=!!n;let j;u==="sync"?j=Y:u==="post"?j=()=>un(Y,E&&E.suspense):(Y.pre=!0,E&&(Y.id=E.uid),j=()=>Lc(Y));const B=new vc(w,On,j),Q=ih(),he=()=>{B.stop(),Q&&bc(Q.effects,B)};return n?s?Y():J=B.run():u==="post"?un(B.run.bind(B),E&&E.suspense):B.run(),D&&D.push(he),he}function i2(t,n,s){const a=this.proxy,u=Pt(t)?t.includes(".")?zh(a,t):()=>a[t]:t.bind(a,a);let f;He(n)?f=n:(f=n.handler,s=n);const g=Qi(this),m=Uc(u,f.bind(a),s);return g(),m}function zh(t,n){const s=n.split(".");return()=>{let a=t;for(let u=0;u<s.length&&a;u++)a=a[s[u]];return a}}function Mr(t,n=1/0,s){if(n<=0||!pt(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),n--,gt(t))Mr(t.value,n,s);else if(Re(t))for(let a=0;a<t.length;a++)Mr(t[a],n,s);else if(ni(t)||Hs(t))t.forEach(a=>{Mr(a,n,s)});else if(Z1(t)){for(const a in t)Mr(t[a],n,s);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&Mr(t[a],n,s)}return t}const o2=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${Vn(n)}Modifiers`]||t[`${xs(n)}Modifiers`];function a2(t,n,...s){if(t.isUnmounted)return;const a=t.vnode.props||At;let u=s;const f=n.startsWith("update:"),g=f&&o2(a,n.slice(7));g&&(g.trim&&(u=s.map(w=>Pt(w)?w.trim():w)),g.number&&(u=s.map(jo)));let m,E=a[m=ol(n)]||a[m=ol(Vn(n))];!E&&f&&(E=a[m=ol(xs(n))]),E&&Nn(E,t,6,u);const x=a[m+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[m])return;t.emitted[m]=!0,Nn(x,t,6,u)}}function Yh(t,n,s=!1){const a=n.emitsCache,u=a.get(t);if(u!==void 0)return u;const f=t.emits;let g={},m=!1;if(!He(t)){const E=x=>{const w=Yh(x,n,!0);w&&(m=!0,Wt(g,w))};!s&&n.mixins.length&&n.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}return!f&&!m?(pt(t)&&a.set(t,null),null):(Re(f)?f.forEach(E=>g[E]=null):Wt(g,f),pt(t)&&a.set(t,g),g)}function xa(t,n){return!t||!ca(n)?!1:(n=n.slice(2).replace(/Once$/,""),nt(t,n[0].toLowerCase()+n.slice(1))||nt(t,xs(n))||nt(t,n))}function fl(t){const{type:n,vnode:s,proxy:a,withProxy:u,propsOptions:[f],slots:g,attrs:m,emit:E,render:x,renderCache:w,props:A,data:I,setupState:S,ctx:L,inheritAttrs:D}=t,J=Yo(t);let Y,j;try{if(s.shapeFlag&4){const Q=u||a,he=Q;Y=Zn(x.call(he,Q,w,A,S,I,L)),j=m}else{const Q=n;Y=Zn(Q.length>1?Q(A,{attrs:m,slots:g,emit:E}):Q(A,null)),j=n.props?m:l2(m)}}catch(Q){Oi.length=0,da(Q,t,1),Y=Rt(_n)}let B=Y;if(j&&D!==!1){const Q=Object.keys(j),{shapeFlag:he}=B;Q.length&&he&7&&(f&&Q.some(Ac)&&(j=c2(j,f)),B=Fr(B,j,!1,!0))}return s.dirs&&(B=Fr(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(s.dirs):s.dirs),s.transition&&(B.transition=s.transition),Y=B,Yo(J),Y}const l2=t=>{let n;for(const s in t)(s==="class"||s==="style"||ca(s))&&((n||(n={}))[s]=t[s]);return n},c2=(t,n)=>{const s={};for(const a in t)(!Ac(a)||!(a.slice(9)in n))&&(s[a]=t[a]);return s};function u2(t,n,s){const{props:a,children:u,component:f}=t,{props:g,children:m,patchFlag:E}=n,x=f.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&E>=0){if(E&1024)return!0;if(E&16)return a?nf(a,g,x):!!g;if(E&8){const w=n.dynamicProps;for(let A=0;A<w.length;A++){const I=w[A];if(g[I]!==a[I]&&!xa(x,I))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:a===g?!1:a?g?nf(a,g,x):!0:!!g;return!1}function nf(t,n,s){const a=Object.keys(n);if(a.length!==Object.keys(t).length)return!0;for(let u=0;u<a.length;u++){const f=a[u];if(n[f]!==t[f]&&!xa(s,f))return!0}return!1}function f2({vnode:t,parent:n},s){for(;n;){const a=n.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=n.vnode).el=s,n=n.parent;else break}}const h2=t=>t.__isSuspense;function d2(t,n){n&&n.pendingBranch?Re(t)?n.effects.push(...t):n.effects.push(t):mp(t)}const fn=Symbol.for("v-fgt"),Ea=Symbol.for("v-txt"),_n=Symbol.for("v-cmt"),Ii=Symbol.for("v-stc"),Oi=[];let wn=null;function Ke(t=!1){Oi.push(wn=t?null:[])}function g2(){Oi.pop(),wn=Oi[Oi.length-1]||null}let Ui=1;function rf(t){Ui+=t,t<0&&wn&&(wn.hasOnce=!0)}function Kh(t){return t.dynamicChildren=Ui>0?wn||Vs:null,g2(),Ui>0&&wn&&wn.push(t),t}function Qe(t,n,s,a,u,f){return Kh(Z(t,n,s,a,u,f,!0))}function p2(t,n,s,a,u){return Kh(Rt(t,n,s,a,u,!0))}function Kl(t){return t?t.__v_isVNode===!0:!1}function ss(t,n){return t.type===n.type&&t.key===n.key}const qh=({key:t})=>t??null,Fo=({ref:t,ref_key:n,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Pt(t)||gt(t)||He(t)?{i:en,r:t,k:n,f:!!s}:t:null);function Z(t,n=null,s=null,a=0,u=null,f=t===fn?0:1,g=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&qh(n),ref:n&&Fo(n),scopeId:ga,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:en};return m?(Vc(E,s),f&128&&t.normalize(E)):s&&(E.shapeFlag|=Pt(s)?8:16),Ui>0&&!g&&wn&&(E.patchFlag>0||f&6)&&E.patchFlag!==32&&wn.push(E),E}const Rt=m2;function m2(t,n=null,s=null,a=0,u=null,f=!1){if((!t||t===Dp)&&(t=_n),Kl(t)){const m=Fr(t,n,!0);return s&&Vc(m,s),Ui>0&&!f&&wn&&(m.shapeFlag&6?wn[wn.indexOf(t)]=m:wn.push(m)),m.patchFlag=-2,m}if(S2(t)&&(t=t.__vccOpts),n){n=x2(n);let{class:m,style:E}=n;m&&!Pt(m)&&(n.class=Lt(m)),pt(E)&&(_h(E)&&!Re(E)&&(E=Wt({},E)),n.style=Pi(E))}const g=Pt(t)?1:h2(t)?128:Zp(t)?64:pt(t)?4:He(t)?2:0;return Z(t,n,s,a,u,g,f,!0)}function x2(t){return t?_h(t)||Fh(t)?Wt({},t):t:null}function Fr(t,n,s=!1,a=!1){const{props:u,ref:f,patchFlag:g,children:m,transition:E}=t,x=n?E2(u||{},n):u,w={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&qh(x),ref:n&&n.ref?s&&f?Re(f)?f.concat(Fo(n)):[f,Fo(n)]:Fo(n):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:m,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==fn?g===-1?16:g|16:g,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:E,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fr(t.ssContent),ssFallback:t.ssFallback&&Fr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return E&&a&&qo(w,E.clone(w)),w}function ri(t=" ",n=0){return Rt(Ea,null,t,n)}function _a(t,n){const s=Rt(Ii,null,t);return s.staticCount=n,s}function tn(t="",n=!1){return n?(Ke(),p2(_n,null,t)):Rt(_n,null,t)}function Zn(t){return t==null||typeof t=="boolean"?Rt(_n):Re(t)?Rt(fn,null,t.slice()):typeof t=="object"?Rr(t):Rt(Ea,null,String(t))}function Rr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fr(t)}function Vc(t,n){let s=0;const{shapeFlag:a}=t;if(n==null)n=null;else if(Re(n))s=16;else if(typeof n=="object")if(a&65){const u=n.default;u&&(u._c&&(u._d=!1),Vc(t,u()),u._c&&(u._d=!0));return}else{s=32;const u=n._;!u&&!Fh(n)?n._ctx=en:u===3&&en&&(en.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else He(n)?(n={default:n,_ctx:en},s=32):(n=String(n),a&64?(s=16,n=[ri(n)]):s=8);t.children=n,t.shapeFlag|=s}function E2(...t){const n={};for(let s=0;s<t.length;s++){const a=t[s];for(const u in a)if(u==="class")n.class!==a.class&&(n.class=Lt([n.class,a.class]));else if(u==="style")n.style=Pi([n.style,a.style]);else if(ca(u)){const f=n[u],g=a[u];g&&f!==g&&!(Re(f)&&f.includes(g))&&(n[u]=f?[].concat(f,g):g)}else u!==""&&(n[u]=a[u])}return n}function qn(t,n,s,a=null){Nn(t,n,7,[s,a])}const _2=Ph();let w2=0;function A2(t,n,s){const a=t.type,u=(n?n.appContext:t.appContext)||_2,f={uid:w2++,vnode:t,type:a,parent:n,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new rh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vh(a,u),emitsOptions:Yh(a,u),emit:null,emitted:null,propsDefaults:At,inheritAttrs:a.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=n?n.root:f,f.emit=a2.bind(null,f),t.ce&&t.ce(f),f}let Ht=null;const Zh=()=>Ht||en;let Qo,ql;{const t=J1(),n=(s,a)=>{let u;return(u=t[s])||(u=t[s]=[]),u.push(a),f=>{u.length>1?u.forEach(g=>g(f)):u[0](f)}};Qo=n("__VUE_INSTANCE_SETTERS__",s=>Ht=s),ql=n("__VUE_SSR_SETTERS__",s=>wa=s)}const Qi=t=>{const n=Ht;return Qo(t),t.scope.on(),()=>{t.scope.off(),Qo(n)}},sf=()=>{Ht&&Ht.scope.off(),Qo(null)};function Qh(t){return t.vnode.shapeFlag&4}let wa=!1;function b2(t,n=!1,s=!1){n&&ql(n);const{props:a,children:u}=t.vnode,f=Qh(t);$p(t,a,f,n),Yp(t,u,s);const g=f?C2(t,n):void 0;return n&&ql(!1),g}function C2(t,n){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Pp);const{setup:a}=s;if(a){const u=t.setupContext=a.length>1?v2(t):null,f=Qi(t);Wr();const g=Br(a,t,0,[t.props,u]);if(Gr(),f(),K1(g)){if(g.then(sf,sf),n)return g.then(m=>{of(t,m,n)}).catch(m=>{da(m,t,0)});t.asyncDep=g}else of(t,g,n)}else Jh(t,n)}function of(t,n,s){He(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:pt(n)&&(t.setupState=Ch(n)),Jh(t,s)}let af;function Jh(t,n,s){const a=t.type;if(!t.render){if(!n&&af&&!a.render){const u=a.template||kc(t).template;if(u){const{isCustomElement:f,compilerOptions:g}=t.appContext.config,{delimiters:m,compilerOptions:E}=a,x=Wt(Wt({isCustomElement:f,delimiters:m},g),E);a.render=af(u,x)}}t.render=a.render||On}{const u=Qi(t);Wr();try{Bp(t)}finally{Gr(),u()}}}const y2={get(t,n){return gn(t,"get",""),t[n]}};function v2(t){const n=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,y2),slots:t.slots,emit:t.emit,expose:n}}function Aa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ch(Rc(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in Si)return Si[s](t)},has(n,s){return s in n||s in Si}})):t.proxy}function T2(t,n=!0){return He(t)?t.displayName||t.name:t.name||n&&t.__name}function S2(t){return He(t)&&"__vccOpts"in t}const Nt=(t,n)=>op(t,n,wa);function Hc(t,n,s){const a=arguments.length;return a===2?pt(n)&&!Re(n)?Kl(n)?Rt(t,null,[n]):Rt(t,n):Rt(t,null,n):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&Kl(s)&&(s=[s]),Rt(t,n,s))}const I2="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const O2="http://www.w3.org/2000/svg",N2="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,lf=ir&&ir.createElement("template"),R2={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,a)=>{const u=n==="svg"?ir.createElementNS(O2,t):n==="mathml"?ir.createElementNS(N2,t):s?ir.createElement(t,{is:s}):ir.createElement(t);return t==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:t=>ir.createTextNode(t),createComment:t=>ir.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ir.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,a,u,f){const g=s?s.previousSibling:n.lastChild;if(u&&(u===f||u.nextSibling))for(;n.insertBefore(u.cloneNode(!0),s),!(u===f||!(u=u.nextSibling)););else{lf.innerHTML=a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t;const m=lf.content;if(a==="svg"||a==="mathml"){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}n.insertBefore(m,s)}return[g?g.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},Cr="transition",Ei="animation",Vi=Symbol("_vtc"),ba=(t,{slots:n})=>Hc(wp,D2(t),n);ba.displayName="Transition";const ed={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ba.props=Wt({},Ih,ed);const ts=(t,n=[])=>{Re(t)?t.forEach(s=>s(...n)):t&&t(...n)},cf=t=>t?Re(t)?t.some(n=>n.length>1):t.length>1:!1;function D2(t){const n={};for(const H in t)H in ed||(n[H]=t[H]);if(t.css===!1)return n;const{name:s="v",type:a,duration:u,enterFromClass:f=`${s}-enter-from`,enterActiveClass:g=`${s}-enter-active`,enterToClass:m=`${s}-enter-to`,appearFromClass:E=f,appearActiveClass:x=g,appearToClass:w=m,leaveFromClass:A=`${s}-leave-from`,leaveActiveClass:I=`${s}-leave-active`,leaveToClass:S=`${s}-leave-to`}=t,L=M2(u),D=L&&L[0],J=L&&L[1],{onBeforeEnter:Y,onEnter:j,onEnterCancelled:B,onLeave:Q,onLeaveCancelled:he,onBeforeAppear:K=Y,onAppear:F=j,onAppearCancelled:ce=B}=n,P=(H,ne,Oe)=>{ns(H,ne?w:m),ns(H,ne?x:g),Oe&&Oe()},_e=(H,ne)=>{H._isLeaving=!1,ns(H,A),ns(H,S),ns(H,I),ne&&ne()},Ee=H=>(ne,Oe)=>{const W=H?F:j,Se=()=>P(ne,H,Oe);ts(W,[ne,Se]),uf(()=>{ns(ne,H?E:f),yr(ne,H?w:m),cf(W)||ff(ne,a,D,Se)})};return Wt(n,{onBeforeEnter(H){ts(Y,[H]),yr(H,f),yr(H,g)},onBeforeAppear(H){ts(K,[H]),yr(H,E),yr(H,x)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(H,ne){H._isLeaving=!0;const Oe=()=>_e(H,ne);yr(H,A),yr(H,I),B2(),uf(()=>{H._isLeaving&&(ns(H,A),yr(H,S),cf(Q)||ff(H,a,J,Oe))}),ts(Q,[H,Oe])},onEnterCancelled(H){P(H,!1),ts(B,[H])},onAppearCancelled(H){P(H,!0),ts(ce,[H])},onLeaveCancelled(H){_e(H),ts(he,[H])}})}function M2(t){if(t==null)return null;if(pt(t))return[hl(t.enter),hl(t.leave)];{const n=hl(t);return[n,n]}}function hl(t){return Ng(t)}function yr(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Vi]||(t[Vi]=new Set)).add(n)}function ns(t,n){n.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const s=t[Vi];s&&(s.delete(n),s.size||(t[Vi]=void 0))}function uf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let L2=0;function ff(t,n,s,a){const u=t._endId=++L2,f=()=>{u===t._endId&&a()};if(s)return setTimeout(f,s);const{type:g,timeout:m,propCount:E}=P2(t,n);if(!g)return a();const x=g+"end";let w=0;const A=()=>{t.removeEventListener(x,I),f()},I=S=>{S.target===t&&++w>=E&&A()};setTimeout(()=>{w<E&&A()},m+1),t.addEventListener(x,I)}function P2(t,n){const s=window.getComputedStyle(t),a=L=>(s[L]||"").split(", "),u=a(`${Cr}Delay`),f=a(`${Cr}Duration`),g=hf(u,f),m=a(`${Ei}Delay`),E=a(`${Ei}Duration`),x=hf(m,E);let w=null,A=0,I=0;n===Cr?g>0&&(w=Cr,A=g,I=f.length):n===Ei?x>0&&(w=Ei,A=x,I=E.length):(A=Math.max(g,x),w=A>0?g>x?Cr:Ei:null,I=w?w===Cr?f.length:E.length:0);const S=w===Cr&&/\b(transform|all)(,|$)/.test(a(`${Cr}Property`).toString());return{type:w,timeout:A,propCount:I,hasTransform:S}}function hf(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,a)=>df(s)+df(t[a])))}function df(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function B2(){return document.body.offsetHeight}function k2(t,n,s){const a=t[Vi];a&&(n=(n?[n,...a]:[...a]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}const Jo=Symbol("_vod"),td=Symbol("_vsh"),Uo={beforeMount(t,{value:n},{transition:s}){t[Jo]=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):_i(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:a}){!n!=!s&&(a?n?(a.beforeEnter(t),_i(t,!0),a.enter(t)):a.leave(t,()=>{_i(t,!1)}):_i(t,n))},beforeUnmount(t,{value:n}){_i(t,n)}};function _i(t,n){t.style.display=n?t[Jo]:"none",t[td]=!n}const nd=Symbol("");function F2(t){const n=Zh();if(!n)return;const s=n.ut=(u=t(n.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${n.uid}"]`)).forEach(f=>Ql(f,u))},a=()=>{const u=t(n.proxy);Zl(n.subTree,u),s(u)};Es(()=>{s2(a);const u=new MutationObserver(a);u.observe(n.subTree.el.parentNode,{childList:!0}),Bc(()=>u.disconnect())})}function Zl(t,n){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Zl(s.activeBranch,n)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ql(t.el,n);else if(t.type===fn)t.children.forEach(s=>Zl(s,n));else if(t.type===Ii){let{el:s,anchor:a}=t;for(;s&&(Ql(s,n),s!==a);)s=s.nextSibling}}function Ql(t,n){if(t.nodeType===1){const s=t.style;let a="";for(const u in n)s.setProperty(`--${u}`,n[u]),a+=`--${u}: ${n[u]};`;s[nd]=a}}const U2=/(^|;)\s*display\s*:/;function V2(t,n,s){const a=t.style,u=Pt(s);let f=!1;if(s&&!u){if(n)if(Pt(n))for(const g of n.split(";")){const m=g.slice(0,g.indexOf(":")).trim();s[m]==null&&Vo(a,m,"")}else for(const g in n)s[g]==null&&Vo(a,g,"");for(const g in s)g==="display"&&(f=!0),Vo(a,g,s[g])}else if(u){if(n!==s){const g=a[nd];g&&(s+=";"+g),a.cssText=s,f=U2.test(s)}}else n&&t.removeAttribute("style");Jo in t&&(t[Jo]=f?a.display:"",t[td]&&(a.display="none"))}const gf=/\s*!important$/;function Vo(t,n,s){if(Re(s))s.forEach(a=>Vo(t,n,a));else if(s==null&&(s=""),n.startsWith("--"))t.setProperty(n,s);else{const a=H2(t,n);gf.test(s)?t.setProperty(xs(a),s.replace(gf,""),"important"):t[a]=s}}const pf=["Webkit","Moz","ms"],dl={};function H2(t,n){const s=dl[n];if(s)return s;let a=Vn(n);if(a!=="filter"&&a in t)return dl[n]=a;a=fa(a);for(let u=0;u<pf.length;u++){const f=pf[u]+a;if(f in t)return dl[n]=f}return n}const mf="http://www.w3.org/1999/xlink";function xf(t,n,s,a,u,f=Bg(n)){a&&n.startsWith("xlink:")?s==null?t.removeAttributeNS(mf,n.slice(6,n.length)):t.setAttributeNS(mf,n,s):s==null||f&&!eh(s)?t.removeAttribute(n):t.setAttribute(n,f?"":tr(s)?String(s):s)}function W2(t,n,s,a){if(n==="innerHTML"||n==="textContent"){if(s==null)return;t[n]=s;return}const u=t.tagName;if(n==="value"&&u!=="PROGRESS"&&!u.includes("-")){const g=u==="OPTION"?t.getAttribute("value")||"":t.value,m=s==null?"":String(s);(g!==m||!("_value"in t))&&(t.value=m),s==null&&t.removeAttribute(n),t._value=s;return}let f=!1;if(s===""||s==null){const g=typeof t[n];g==="boolean"?s=eh(s):s==null&&g==="string"?(s="",f=!0):g==="number"&&(s=0,f=!0)}try{t[n]=s}catch{}f&&t.removeAttribute(n)}function Lr(t,n,s,a){t.addEventListener(n,s,a)}function G2(t,n,s,a){t.removeEventListener(n,s,a)}const Ef=Symbol("_vei");function $2(t,n,s,a,u=null){const f=t[Ef]||(t[Ef]={}),g=f[n];if(a&&g)g.value=a;else{const[m,E]=X2(n);if(a){const x=f[n]=Y2(a,u);Lr(t,m,x,E)}else g&&(G2(t,m,g,E),f[n]=void 0)}}const _f=/(?:Once|Passive|Capture)$/;function X2(t){let n;if(_f.test(t)){n={};let a;for(;a=t.match(_f);)t=t.slice(0,t.length-a[0].length),n[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xs(t.slice(2)),n]}let gl=0;const j2=Promise.resolve(),z2=()=>gl||(j2.then(()=>gl=0),gl=Date.now());function Y2(t,n){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Nn(K2(a,s.value),n,5,[a])};return s.value=t,s.attached=z2(),s}function K2(t,n){if(Re(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(a=>u=>!u._stopped&&a&&a(u))}else return n}const wf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,q2=(t,n,s,a,u,f)=>{const g=u==="svg";n==="class"?k2(t,a,g):n==="style"?V2(t,s,a):ca(n)?Ac(n)||$2(t,n,s,a,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Z2(t,n,a,g))?(W2(t,n,a),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&xf(t,n,a,g,f,n!=="value")):(n==="true-value"?t._trueValue=a:n==="false-value"&&(t._falseValue=a),xf(t,n,a,g))};function Z2(t,n,s,a){if(a)return!!(n==="innerHTML"||n==="textContent"||n in t&&wf(n)&&He(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const u=t.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return wf(n)&&Pt(s)?!1:n in t}const js=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Re(n)?s=>Lo(n,s):n};function Q2(t){t.target.composing=!0}function Af(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const ar=Symbol("_assign"),is={created(t,{modifiers:{lazy:n,trim:s,number:a}},u){t[ar]=js(u);const f=a||u.props&&u.props.type==="number";Lr(t,n?"change":"input",g=>{if(g.target.composing)return;let m=t.value;s&&(m=m.trim()),f&&(m=jo(m)),t[ar](m)}),s&&Lr(t,"change",()=>{t.value=t.value.trim()}),n||(Lr(t,"compositionstart",Q2),Lr(t,"compositionend",Af),Lr(t,"change",Af))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:s,modifiers:{lazy:a,trim:u,number:f}},g){if(t[ar]=js(g),t.composing)return;const m=(f||t.type==="number")&&!/^0\d/.test(t.value)?jo(t.value):t.value,E=n??"";m!==E&&(document.activeElement===t&&t.type!=="range"&&(a&&n===s||u&&t.value.trim()===E)||(t.value=E))}},J2={deep:!0,created(t,n,s){t[ar]=js(s),Lr(t,"change",()=>{const a=t._modelValue,u=Hi(t),f=t.checked,g=t[ar];if(Re(a)){const m=yc(a,u),E=m!==-1;if(f&&!E)g(a.concat(u));else if(!f&&E){const x=[...a];x.splice(m,1),g(x)}}else if(ni(a)){const m=new Set(a);f?m.add(u):m.delete(u),g(m)}else g(rd(t,f))})},mounted:bf,beforeUpdate(t,n,s){t[ar]=js(s),bf(t,n,s)}};function bf(t,{value:n,oldValue:s},a){t._modelValue=n,Re(n)?t.checked=yc(n,a.props.value)>-1:ni(n)?t.checked=n.has(a.props.value):n!==s&&(t.checked=zi(n,rd(t,!0)))}const em={deep:!0,created(t,{value:n,modifiers:{number:s}},a){const u=ni(n);Lr(t,"change",()=>{const f=Array.prototype.filter.call(t.options,g=>g.selected).map(g=>s?jo(Hi(g)):Hi(g));t[ar](t.multiple?u?new Set(f):f:f[0]),t._assigning=!0,Ki(()=>{t._assigning=!1})}),t[ar]=js(a)},mounted(t,{value:n,modifiers:{number:s}}){Cf(t,n)},beforeUpdate(t,n,s){t[ar]=js(s)},updated(t,{value:n,modifiers:{number:s}}){t._assigning||Cf(t,n)}};function Cf(t,n,s){const a=t.multiple,u=Re(n);if(!(a&&!u&&!ni(n))){for(let f=0,g=t.options.length;f<g;f++){const m=t.options[f],E=Hi(m);if(a)if(u){const x=typeof E;x==="string"||x==="number"?m.selected=n.some(w=>String(w)===String(E)):m.selected=yc(n,E)>-1}else m.selected=n.has(E);else if(zi(Hi(m),n)){t.selectedIndex!==f&&(t.selectedIndex=f);return}}!a&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Hi(t){return"_value"in t?t._value:t.value}function rd(t,n){const s=n?"_trueValue":"_falseValue";return s in t?t[s]:n}const tm=["ctrl","shift","alt","meta"],nm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>tm.some(s=>t[`${s}Key`]&&!n.includes(s))},Wc=(t,n)=>{const s=t._withMods||(t._withMods={}),a=n.join(".");return s[a]||(s[a]=(u,...f)=>{for(let g=0;g<n.length;g++){const m=nm[n[g]];if(m&&m(u,n))return}return t(u,...f)})},rm=Wt({patchProp:q2},R2);let yf;function sm(){return yf||(yf=Qp(rm))}const im=(...t)=>{const n=sm().createApp(...t),{mount:s}=n;return n.mount=a=>{const u=am(a);if(!u)return;const f=n._component;!He(f)&&!f.render&&!f.template&&(f.template=u.innerHTML),u.innerHTML="";const g=s(u,!1,om(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),g},n};function om(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function am(t){return Pt(t)?document.querySelector(t):t}const lm="/Earth_Game/SSC_logo.png";var cm=!1;/*!
 * pinia v2.2.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let sd;const Ca=t=>sd=t,id=Symbol();function Jl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ni;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ni||(Ni={}));function um(){const t=sh(!0),n=t.run(()=>Fe({}));let s=[],a=[];const u=Rc({install(f){Ca(u),u._a=f,f.provide(id,u),f.config.globalProperties.$pinia=u,a.forEach(g=>s.push(g)),a=[]},use(f){return!this._a&&!cm?a.push(f):s.push(f),this},_p:s,_a:null,_e:t,_s:new Map,state:n});return u}const od=()=>{};function vf(t,n,s,a=od){t.push(n);const u=()=>{const f=t.indexOf(n);f>-1&&(t.splice(f,1),a())};return!s&&ih()&&Ug(u),u}function Rs(t,...n){t.slice().forEach(s=>{s(...n)})}const fm=t=>t(),Tf=Symbol(),pl=Symbol();function ec(t,n){t instanceof Map&&n instanceof Map?n.forEach((s,a)=>t.set(a,s)):t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const s in n){if(!n.hasOwnProperty(s))continue;const a=n[s],u=t[s];Jl(u)&&Jl(a)&&t.hasOwnProperty(s)&&!gt(a)&&!us(a)?t[s]=ec(u,a):t[s]=a}return t}const hm=Symbol();function dm(t){return!Jl(t)||!t.hasOwnProperty(hm)}const{assign:Ir}=Object;function gm(t){return!!(gt(t)&&t.effect)}function pm(t,n,s,a){const{state:u,actions:f,getters:g}=n,m=s.state.value[t];let E;function x(){m||(s.state.value[t]=u?u():{});const w=up(s.state.value[t]);return Ir(w,f,Object.keys(g||{}).reduce((A,I)=>(A[I]=Rc(Nt(()=>{Ca(s);const S=s._s.get(t);return g[I].call(S,S)})),A),{}))}return E=ad(t,x,n,s,a,!0),E}function ad(t,n,s={},a,u,f){let g;const m=Ir({actions:{}},s),E={deep:!0};let x,w,A=[],I=[],S;const L=a.state.value[t];!f&&!L&&(a.state.value[t]={}),Fe({});let D;function J(ce){let P;x=w=!1,typeof ce=="function"?(ce(a.state.value[t]),P={type:Ni.patchFunction,storeId:t,events:S}):(ec(a.state.value[t],ce),P={type:Ni.patchObject,payload:ce,storeId:t,events:S});const _e=D=Symbol();Ki().then(()=>{D===_e&&(x=!0)}),w=!0,Rs(A,P,a.state.value[t])}const Y=f?function(){const{state:P}=s,_e=P?P():{};this.$patch(Ee=>{Ir(Ee,_e)})}:od;function j(){g.stop(),A=[],I=[],a._s.delete(t)}const B=(ce,P="")=>{if(Tf in ce)return ce[pl]=P,ce;const _e=function(){Ca(a);const Ee=Array.from(arguments),H=[],ne=[];function Oe(ue){H.push(ue)}function W(ue){ne.push(ue)}Rs(I,{args:Ee,name:_e[pl],store:he,after:Oe,onError:W});let Se;try{Se=ce.apply(this&&this.$id===t?this:he,Ee)}catch(ue){throw Rs(ne,ue),ue}return Se instanceof Promise?Se.then(ue=>(Rs(H,ue),ue)).catch(ue=>(Rs(ne,ue),Promise.reject(ue))):(Rs(H,Se),Se)};return _e[Tf]=!0,_e[pl]=P,_e},Q={_p:a,$id:t,$onAction:vf.bind(null,I),$patch:J,$reset:Y,$subscribe(ce,P={}){const _e=vf(A,ce,P.detached,()=>Ee()),Ee=g.run(()=>$s(()=>a.state.value[t],H=>{(P.flush==="sync"?w:x)&&ce({storeId:t,type:Ni.direct,events:S},H)},Ir({},E,P)));return _e},$dispose:j},he=Yi(Q);a._s.set(t,he);const F=(a._a&&a._a.runWithContext||fm)(()=>a._e.run(()=>(g=sh()).run(()=>n({action:B}))));for(const ce in F){const P=F[ce];if(gt(P)&&!gm(P)||us(P))f||(L&&dm(P)&&(gt(P)?P.value=L[ce]:ec(P,L[ce])),a.state.value[t][ce]=P);else if(typeof P=="function"){const _e=B(P,ce);F[ce]=_e,m.actions[ce]=P}}return Ir(he,F),Ir(rt(he),F),Object.defineProperty(he,"$state",{get:()=>a.state.value[t],set:ce=>{J(P=>{Ir(P,ce)})}}),a._p.forEach(ce=>{Ir(he,g.run(()=>ce({store:he,app:a._a,pinia:a,options:m})))}),L&&f&&s.hydrate&&s.hydrate(he.$state,L),x=!0,w=!0,he}function ya(t,n,s){let a,u;const f=typeof n=="function";typeof t=="string"?(a=t,u=f?s:n):(u=t,a=t.id);function g(m,E){const x=Gp();return m=m||(x?Rn(id,null):null),m&&Ca(m),m=sd,m._s.has(a)||(f?ad(a,n,u,m):pm(a,u,m)),m._s.get(a)}return g.$id=a,g}function ld(t,n){return function(){return t.apply(n,arguments)}}const{toString:mm}=Object.prototype,{getPrototypeOf:Gc}=Object,va=(t=>n=>{const s=mm.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=t=>(t=t.toLowerCase(),n=>va(n)===t),Ta=t=>n=>typeof n===t,{isArray:si}=Array,Wi=Ta("undefined");function xm(t){return t!==null&&!Wi(t)&&t.constructor!==null&&!Wi(t.constructor)&&Dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cd=Wn("ArrayBuffer");function Em(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&cd(t.buffer),n}const _m=Ta("string"),Dn=Ta("function"),ud=Ta("number"),Sa=t=>t!==null&&typeof t=="object",wm=t=>t===!0||t===!1,Ho=t=>{if(va(t)!=="object")return!1;const n=Gc(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Am=Wn("Date"),bm=Wn("File"),Cm=Wn("Blob"),ym=Wn("FileList"),vm=t=>Sa(t)&&Dn(t.pipe),Tm=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Dn(t.append)&&((n=va(t))==="formdata"||n==="object"&&Dn(t.toString)&&t.toString()==="[object FormData]"))},Sm=Wn("URLSearchParams"),[Im,Om,Nm,Rm]=["ReadableStream","Request","Response","Headers"].map(Wn),Dm=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,u;if(typeof t!="object"&&(t=[t]),si(t))for(a=0,u=t.length;a<u;a++)n.call(null,t[a],a,t);else{const f=s?Object.getOwnPropertyNames(t):Object.keys(t),g=f.length;let m;for(a=0;a<g;a++)m=f[a],n.call(null,t[m],m,t)}}function fd(t,n){n=n.toLowerCase();const s=Object.keys(t);let a=s.length,u;for(;a-- >0;)if(u=s[a],n===u.toLowerCase())return u;return null}const hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dd=t=>!Wi(t)&&t!==hd;function tc(){const{caseless:t}=dd(this)&&this||{},n={},s=(a,u)=>{const f=t&&fd(n,u)||u;Ho(n[f])&&Ho(a)?n[f]=tc(n[f],a):Ho(a)?n[f]=tc({},a):si(a)?n[f]=a.slice():n[f]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Ji(arguments[a],s);return n}const Mm=(t,n,s,{allOwnKeys:a}={})=>(Ji(n,(u,f)=>{s&&Dn(u)?t[f]=ld(u,s):t[f]=u},{allOwnKeys:a}),t),Lm=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pm=(t,n,s,a)=>{t.prototype=Object.create(n.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},Bm=(t,n,s,a)=>{let u,f,g;const m={};if(n=n||{},t==null)return n;do{for(u=Object.getOwnPropertyNames(t),f=u.length;f-- >0;)g=u[f],(!a||a(g,t,n))&&!m[g]&&(n[g]=t[g],m[g]=!0);t=s!==!1&&Gc(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},km=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const a=t.indexOf(n,s);return a!==-1&&a===s},Fm=t=>{if(!t)return null;if(si(t))return t;let n=t.length;if(!ud(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},Um=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Gc(Uint8Array)),Vm=(t,n)=>{const a=(t&&t[Symbol.iterator]).call(t);let u;for(;(u=a.next())&&!u.done;){const f=u.value;n.call(t,f[0],f[1])}},Hm=(t,n)=>{let s;const a=[];for(;(s=t.exec(n))!==null;)a.push(s);return a},Wm=Wn("HTMLFormElement"),Gm=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),Sf=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),$m=Wn("RegExp"),gd=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),a={};Ji(s,(u,f)=>{let g;(g=n(u,f,t))!==!1&&(a[f]=g||u)}),Object.defineProperties(t,a)},Xm=t=>{gd(t,(n,s)=>{if(Dn(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Dn(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},jm=(t,n)=>{const s={},a=u=>{u.forEach(f=>{s[f]=!0})};return si(t)?a(t):a(String(t).split(n)),s},zm=()=>{},Ym=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,ml="abcdefghijklmnopqrstuvwxyz",If="0123456789",pd={DIGIT:If,ALPHA:ml,ALPHA_DIGIT:ml+ml.toUpperCase()+If},Km=(t=16,n=pd.ALPHA_DIGIT)=>{let s="";const{length:a}=n;for(;t--;)s+=n[Math.random()*a|0];return s};function qm(t){return!!(t&&Dn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Zm=t=>{const n=new Array(10),s=(a,u)=>{if(Sa(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[u]=a;const f=si(a)?[]:{};return Ji(a,(g,m)=>{const E=s(g,u+1);!Wi(E)&&(f[m]=E)}),n[u]=void 0,f}}return a};return s(t,0)},Qm=Wn("AsyncFunction"),Jm=t=>t&&(Sa(t)||Dn(t))&&Dn(t.then)&&Dn(t.catch),q={isArray:si,isArrayBuffer:cd,isBuffer:xm,isFormData:Tm,isArrayBufferView:Em,isString:_m,isNumber:ud,isBoolean:wm,isObject:Sa,isPlainObject:Ho,isReadableStream:Im,isRequest:Om,isResponse:Nm,isHeaders:Rm,isUndefined:Wi,isDate:Am,isFile:bm,isBlob:Cm,isRegExp:$m,isFunction:Dn,isStream:vm,isURLSearchParams:Sm,isTypedArray:Um,isFileList:ym,forEach:Ji,merge:tc,extend:Mm,trim:Dm,stripBOM:Lm,inherits:Pm,toFlatObject:Bm,kindOf:va,kindOfTest:Wn,endsWith:km,toArray:Fm,forEachEntry:Vm,matchAll:Hm,isHTMLForm:Wm,hasOwnProperty:Sf,hasOwnProp:Sf,reduceDescriptors:gd,freezeMethods:Xm,toObjectSet:jm,toCamelCase:Gm,noop:zm,toFiniteNumber:Ym,findKey:fd,global:hd,isContextDefined:dd,ALPHABET:pd,generateString:Km,isSpecCompliantForm:qm,toJSONObject:Zm,isAsyncFn:Qm,isThenable:Jm};function Ge(t,n,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}q.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const md=Ge.prototype,xd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xd[t]={value:t}});Object.defineProperties(Ge,xd);Object.defineProperty(md,"isAxiosError",{value:!0});Ge.from=(t,n,s,a,u,f)=>{const g=Object.create(md);return q.toFlatObject(t,g,function(E){return E!==Error.prototype},m=>m!=="isAxiosError"),Ge.call(g,t.message,n,s,a,u),g.cause=t,g.name=t.name,f&&Object.assign(g,f),g};const ex=null;function nc(t){return q.isPlainObject(t)||q.isArray(t)}function Ed(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function Of(t,n,s){return t?t.concat(n).map(function(u,f){return u=Ed(u),!s&&f?"["+u+"]":u}).join(s?".":""):n}function tx(t){return q.isArray(t)&&!t.some(nc)}const nx=q.toFlatObject(q,{},null,function(n){return/^is[A-Z]/.test(n)});function Ia(t,n,s){if(!q.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,J){return!q.isUndefined(J[D])});const a=s.metaTokens,u=s.visitor||w,f=s.dots,g=s.indexes,E=(s.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(n);if(!q.isFunction(u))throw new TypeError("visitor must be a function");function x(L){if(L===null)return"";if(q.isDate(L))return L.toISOString();if(!E&&q.isBlob(L))throw new Ge("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(L)||q.isTypedArray(L)?E&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function w(L,D,J){let Y=L;if(L&&!J&&typeof L=="object"){if(q.endsWith(D,"{}"))D=a?D:D.slice(0,-2),L=JSON.stringify(L);else if(q.isArray(L)&&tx(L)||(q.isFileList(L)||q.endsWith(D,"[]"))&&(Y=q.toArray(L)))return D=Ed(D),Y.forEach(function(B,Q){!(q.isUndefined(B)||B===null)&&n.append(g===!0?Of([D],Q,f):g===null?D:D+"[]",x(B))}),!1}return nc(L)?!0:(n.append(Of(J,D,f),x(L)),!1)}const A=[],I=Object.assign(nx,{defaultVisitor:w,convertValue:x,isVisitable:nc});function S(L,D){if(!q.isUndefined(L)){if(A.indexOf(L)!==-1)throw Error("Circular reference detected in "+D.join("."));A.push(L),q.forEach(L,function(Y,j){(!(q.isUndefined(Y)||Y===null)&&u.call(n,Y,q.isString(j)?j.trim():j,D,I))===!0&&S(Y,D?D.concat(j):[j])}),A.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return S(t),n}function Nf(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function $c(t,n){this._pairs=[],t&&Ia(t,this,n)}const _d=$c.prototype;_d.append=function(n,s){this._pairs.push([n,s])};_d.toString=function(n){const s=n?function(a){return n.call(this,a,Nf)}:Nf;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function rx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wd(t,n,s){if(!n)return t;const a=s&&s.encode||rx,u=s&&s.serialize;let f;if(u?f=u(n,s):f=q.isURLSearchParams(n)?n.toString():new $c(n,s).toString(a),f){const g=t.indexOf("#");g!==-1&&(t=t.slice(0,g)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class Rf{constructor(){this.handlers=[]}use(n,s,a){return this.handlers.push({fulfilled:n,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){q.forEach(this.handlers,function(a){a!==null&&n(a)})}}const Ad={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sx=typeof URLSearchParams<"u"?URLSearchParams:$c,ix=typeof FormData<"u"?FormData:null,ox=typeof Blob<"u"?Blob:null,ax={isBrowser:!0,classes:{URLSearchParams:sx,FormData:ix,Blob:ox},protocols:["http","https","file","blob","url","data"]},Xc=typeof window<"u"&&typeof document<"u",lx=(t=>Xc&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),cx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ux=Xc&&window.location.href||"http://localhost",fx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xc,hasStandardBrowserEnv:lx,hasStandardBrowserWebWorkerEnv:cx,origin:ux},Symbol.toStringTag,{value:"Module"})),Un={...fx,...ax};function hx(t,n){return Ia(t,new Un.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,f){return Un.isNode&&q.isBuffer(s)?(this.append(a,s.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function dx(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function gx(t){const n={},s=Object.keys(t);let a;const u=s.length;let f;for(a=0;a<u;a++)f=s[a],n[f]=t[f];return n}function bd(t){function n(s,a,u,f){let g=s[f++];if(g==="__proto__")return!0;const m=Number.isFinite(+g),E=f>=s.length;return g=!g&&q.isArray(u)?u.length:g,E?(q.hasOwnProp(u,g)?u[g]=[u[g],a]:u[g]=a,!m):((!u[g]||!q.isObject(u[g]))&&(u[g]=[]),n(s,a,u[g],f)&&q.isArray(u[g])&&(u[g]=gx(u[g])),!m)}if(q.isFormData(t)&&q.isFunction(t.entries)){const s={};return q.forEachEntry(t,(a,u)=>{n(dx(a),u,s,0)}),s}return null}function px(t,n,s){if(q.isString(t))try{return(n||JSON.parse)(t),q.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const eo={transitional:Ad,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,f=q.isObject(n);if(f&&q.isHTMLForm(n)&&(n=new FormData(n)),q.isFormData(n))return u?JSON.stringify(bd(n)):n;if(q.isArrayBuffer(n)||q.isBuffer(n)||q.isStream(n)||q.isFile(n)||q.isBlob(n)||q.isReadableStream(n))return n;if(q.isArrayBufferView(n))return n.buffer;if(q.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return hx(n,this.formSerializer).toString();if((m=q.isFileList(n))||a.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return Ia(m?{"files[]":n}:n,E&&new E,this.formSerializer)}}return f||u?(s.setContentType("application/json",!1),px(n)):n}],transformResponse:[function(n){const s=this.transitional||eo.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(q.isResponse(n)||q.isReadableStream(n))return n;if(n&&q.isString(n)&&(a&&!this.responseType||u)){const g=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(m){if(g)throw m.name==="SyntaxError"?Ge.from(m,Ge.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{eo.headers[t]={}});const mx=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xx=t=>{const n={};let s,a,u;return t&&t.split(`
`).forEach(function(g){u=g.indexOf(":"),s=g.substring(0,u).trim().toLowerCase(),a=g.substring(u+1).trim(),!(!s||n[s]&&mx[s])&&(s==="set-cookie"?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},Df=Symbol("internals");function wi(t){return t&&String(t).trim().toLowerCase()}function Wo(t){return t===!1||t==null?t:q.isArray(t)?t.map(Wo):String(t)}function Ex(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)n[a[1]]=a[2];return n}const _x=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xl(t,n,s,a,u){if(q.isFunction(a))return a.call(this,n,s);if(u&&(n=s),!!q.isString(n)){if(q.isString(a))return n.indexOf(a)!==-1;if(q.isRegExp(a))return a.test(n)}}function wx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,a)=>s.toUpperCase()+a)}function Ax(t,n){const s=q.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(u,f,g){return this[a].call(this,n,u,f,g)},configurable:!0})})}class dn{constructor(n){n&&this.set(n)}set(n,s,a){const u=this;function f(m,E,x){const w=wi(E);if(!w)throw new Error("header name must be a non-empty string");const A=q.findKey(u,w);(!A||u[A]===void 0||x===!0||x===void 0&&u[A]!==!1)&&(u[A||E]=Wo(m))}const g=(m,E)=>q.forEach(m,(x,w)=>f(x,w,E));if(q.isPlainObject(n)||n instanceof this.constructor)g(n,s);else if(q.isString(n)&&(n=n.trim())&&!_x(n))g(xx(n),s);else if(q.isHeaders(n))for(const[m,E]of n.entries())f(E,m,a);else n!=null&&f(s,n,a);return this}get(n,s){if(n=wi(n),n){const a=q.findKey(this,n);if(a){const u=this[a];if(!s)return u;if(s===!0)return Ex(u);if(q.isFunction(s))return s.call(this,u,a);if(q.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=wi(n),n){const a=q.findKey(this,n);return!!(a&&this[a]!==void 0&&(!s||xl(this,this[a],a,s)))}return!1}delete(n,s){const a=this;let u=!1;function f(g){if(g=wi(g),g){const m=q.findKey(a,g);m&&(!s||xl(a,a[m],m,s))&&(delete a[m],u=!0)}}return q.isArray(n)?n.forEach(f):f(n),u}clear(n){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const f=s[a];(!n||xl(this,this[f],f,n,!0))&&(delete this[f],u=!0)}return u}normalize(n){const s=this,a={};return q.forEach(this,(u,f)=>{const g=q.findKey(a,f);if(g){s[g]=Wo(u),delete s[f];return}const m=n?wx(f):String(f).trim();m!==f&&delete s[f],s[m]=Wo(u),a[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return q.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=n&&q.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const a=new this(n);return s.forEach(u=>a.set(u)),a}static accessor(n){const a=(this[Df]=this[Df]={accessors:{}}).accessors,u=this.prototype;function f(g){const m=wi(g);a[m]||(Ax(u,g),a[m]=!0)}return q.isArray(n)?n.forEach(f):f(n),this}}dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(dn.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(a){this[s]=a}}});q.freezeMethods(dn);function El(t,n){const s=this||eo,a=n||s,u=dn.from(a.headers);let f=a.data;return q.forEach(t,function(m){f=m.call(s,f,u.normalize(),n?n.status:void 0)}),u.normalize(),f}function Cd(t){return!!(t&&t.__CANCEL__)}function ii(t,n,s){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,n,s),this.name="CanceledError"}q.inherits(ii,Ge,{__CANCEL__:!0});function yd(t,n,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):n(new Ge("Request failed with status code "+s.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function bx(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Cx(t,n){t=t||10;const s=new Array(t),a=new Array(t);let u=0,f=0,g;return n=n!==void 0?n:1e3,function(E){const x=Date.now(),w=a[f];g||(g=x),s[u]=E,a[u]=x;let A=f,I=0;for(;A!==u;)I+=s[A++],A=A%t;if(u=(u+1)%t,u===f&&(f=(f+1)%t),x-g<n)return;const S=w&&x-w;return S?Math.round(I*1e3/S):void 0}}function yx(t,n){let s=0;const a=1e3/n;let u=null;return function(){const g=this===!0,m=Date.now();if(g||m-s>a)return u&&(clearTimeout(u),u=null),s=m,t.apply(null,arguments);u||(u=setTimeout(()=>(u=null,s=Date.now(),t.apply(null,arguments)),a-(m-s)))}}const ea=(t,n,s=3)=>{let a=0;const u=Cx(50,250);return yx(f=>{const g=f.loaded,m=f.lengthComputable?f.total:void 0,E=g-a,x=u(E),w=g<=m;a=g;const A={loaded:g,total:m,progress:m?g/m:void 0,bytes:E,rate:x||void 0,estimated:x&&m&&w?(m-g)/x:void 0,event:f,lengthComputable:m!=null};A[n?"download":"upload"]=!0,t(A)},s)},vx=Un.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(f){let g=f;return n&&(s.setAttribute("href",g),g=s.href),s.setAttribute("href",g),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(g){const m=q.isString(g)?u(g):g;return m.protocol===a.protocol&&m.host===a.host}}():function(){return function(){return!0}}(),Tx=Un.hasStandardBrowserEnv?{write(t,n,s,a,u,f){const g=[t+"="+encodeURIComponent(n)];q.isNumber(s)&&g.push("expires="+new Date(s).toGMTString()),q.isString(a)&&g.push("path="+a),q.isString(u)&&g.push("domain="+u),f===!0&&g.push("secure"),document.cookie=g.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ix(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function vd(t,n){return t&&!Sx(n)?Ix(t,n):n}const Mf=t=>t instanceof dn?{...t}:t;function gs(t,n){n=n||{};const s={};function a(x,w,A){return q.isPlainObject(x)&&q.isPlainObject(w)?q.merge.call({caseless:A},x,w):q.isPlainObject(w)?q.merge({},w):q.isArray(w)?w.slice():w}function u(x,w,A){if(q.isUndefined(w)){if(!q.isUndefined(x))return a(void 0,x,A)}else return a(x,w,A)}function f(x,w){if(!q.isUndefined(w))return a(void 0,w)}function g(x,w){if(q.isUndefined(w)){if(!q.isUndefined(x))return a(void 0,x)}else return a(void 0,w)}function m(x,w,A){if(A in n)return a(x,w);if(A in t)return a(void 0,x)}const E={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(x,w)=>u(Mf(x),Mf(w),!0)};return q.forEach(Object.keys(Object.assign({},t,n)),function(w){const A=E[w]||u,I=A(t[w],n[w],w);q.isUndefined(I)&&A!==m||(s[w]=I)}),s}const Td=t=>{const n=gs({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:f,headers:g,auth:m}=n;n.headers=g=dn.from(g),n.url=wd(vd(n.baseURL,n.url),t.params,t.paramsSerializer),m&&g.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let E;if(q.isFormData(s)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((E=g.getContentType())!==!1){const[x,...w]=E?E.split(";").map(A=>A.trim()).filter(Boolean):[];g.setContentType([x||"multipart/form-data",...w].join("; "))}}if(Un.hasStandardBrowserEnv&&(a&&q.isFunction(a)&&(a=a(n)),a||a!==!1&&vx(n.url))){const x=u&&f&&Tx.read(f);x&&g.set(u,x)}return n},Ox=typeof XMLHttpRequest<"u",Nx=Ox&&function(t){return new Promise(function(s,a){const u=Td(t);let f=u.data;const g=dn.from(u.headers).normalize();let{responseType:m}=u,E;function x(){u.cancelToken&&u.cancelToken.unsubscribe(E),u.signal&&u.signal.removeEventListener("abort",E)}let w=new XMLHttpRequest;w.open(u.method.toUpperCase(),u.url,!0),w.timeout=u.timeout;function A(){if(!w)return;const S=dn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!m||m==="text"||m==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:t,request:w};yd(function(Y){s(Y),x()},function(Y){a(Y),x()},D),w=null}"onloadend"in w?w.onloadend=A:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(A)},w.onabort=function(){w&&(a(new Ge("Request aborted",Ge.ECONNABORTED,u,w)),w=null)},w.onerror=function(){a(new Ge("Network Error",Ge.ERR_NETWORK,u,w)),w=null},w.ontimeout=function(){let L=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const D=u.transitional||Ad;u.timeoutErrorMessage&&(L=u.timeoutErrorMessage),a(new Ge(L,D.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,u,w)),w=null},f===void 0&&g.setContentType(null),"setRequestHeader"in w&&q.forEach(g.toJSON(),function(L,D){w.setRequestHeader(D,L)}),q.isUndefined(u.withCredentials)||(w.withCredentials=!!u.withCredentials),m&&m!=="json"&&(w.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&w.addEventListener("progress",ea(u.onDownloadProgress,!0)),typeof u.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",ea(u.onUploadProgress)),(u.cancelToken||u.signal)&&(E=S=>{w&&(a(!S||S.type?new ii(null,t,w):S),w.abort(),w=null)},u.cancelToken&&u.cancelToken.subscribe(E),u.signal&&(u.signal.aborted?E():u.signal.addEventListener("abort",E)));const I=bx(u.url);if(I&&Un.protocols.indexOf(I)===-1){a(new Ge("Unsupported protocol "+I+":",Ge.ERR_BAD_REQUEST,t));return}w.send(f||null)})},Rx=(t,n)=>{let s=new AbortController,a;const u=function(E){if(!a){a=!0,g();const x=E instanceof Error?E:this.reason;s.abort(x instanceof Ge?x:new ii(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{u(new Ge(`timeout ${n} of ms exceeded`,Ge.ETIMEDOUT))},n);const g=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(E=>{E&&(E.removeEventListener?E.removeEventListener("abort",u):E.unsubscribe(u))}),t=null)};t.forEach(E=>E&&E.addEventListener&&E.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=g,[m,()=>{f&&clearTimeout(f),f=null}]},Dx=function*(t,n){let s=t.byteLength;if(!n||s<n){yield t;return}let a=0,u;for(;a<s;)u=a+n,yield t.slice(a,u),a=u},Mx=async function*(t,n,s){for await(const a of t)yield*Dx(ArrayBuffer.isView(a)?a:await s(String(a)),n)},Lf=(t,n,s,a,u)=>{const f=Mx(t,n,u);let g=0;return new ReadableStream({type:"bytes",async pull(m){const{done:E,value:x}=await f.next();if(E){m.close(),a();return}let w=x.byteLength;s&&s(g+=w),m.enqueue(new Uint8Array(x))},cancel(m){return a(m),f.return()}},{highWaterMark:2})},Pf=(t,n)=>{const s=t!=null;return a=>setTimeout(()=>n({lengthComputable:s,total:t,loaded:a}))},Oa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sd=Oa&&typeof ReadableStream=="function",rc=Oa&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Lx=Sd&&(()=>{let t=!1;const n=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),Bf=64*1024,sc=Sd&&!!(()=>{try{return q.isReadableStream(new Response("").body)}catch{}})(),ta={stream:sc&&(t=>t.body)};Oa&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ta[n]&&(ta[n]=q.isFunction(t[n])?s=>s[n]():(s,a)=>{throw new Ge(`Response type '${n}' is not supported`,Ge.ERR_NOT_SUPPORT,a)})})})(new Response);const Px=async t=>{if(t==null)return 0;if(q.isBlob(t))return t.size;if(q.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(q.isArrayBufferView(t))return t.byteLength;if(q.isURLSearchParams(t)&&(t=t+""),q.isString(t))return(await rc(t)).byteLength},Bx=async(t,n)=>{const s=q.toFiniteNumber(t.getContentLength());return s??Px(n)},kx=Oa&&(async t=>{let{url:n,method:s,data:a,signal:u,cancelToken:f,timeout:g,onDownloadProgress:m,onUploadProgress:E,responseType:x,headers:w,withCredentials:A="same-origin",fetchOptions:I}=Td(t);x=x?(x+"").toLowerCase():"text";let[S,L]=u||f||g?Rx([u,f],g):[],D,J;const Y=()=>{!D&&setTimeout(()=>{S&&S.unsubscribe()}),D=!0};let j;try{if(E&&Lx&&s!=="get"&&s!=="head"&&(j=await Bx(w,a))!==0){let K=new Request(n,{method:"POST",body:a,duplex:"half"}),F;q.isFormData(a)&&(F=K.headers.get("content-type"))&&w.setContentType(F),K.body&&(a=Lf(K.body,Bf,Pf(j,ea(E)),null,rc))}q.isString(A)||(A=A?"cors":"omit"),J=new Request(n,{...I,signal:S,method:s.toUpperCase(),headers:w.normalize().toJSON(),body:a,duplex:"half",withCredentials:A});let B=await fetch(J);const Q=sc&&(x==="stream"||x==="response");if(sc&&(m||Q)){const K={};["status","statusText","headers"].forEach(ce=>{K[ce]=B[ce]});const F=q.toFiniteNumber(B.headers.get("content-length"));B=new Response(Lf(B.body,Bf,m&&Pf(F,ea(m,!0)),Q&&Y,rc),K)}x=x||"text";let he=await ta[q.findKey(ta,x)||"text"](B,t);return!Q&&Y(),L&&L(),await new Promise((K,F)=>{yd(K,F,{data:he,headers:dn.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:J})})}catch(B){throw Y(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,J),{cause:B.cause||B}):Ge.from(B,B&&B.code,t,J)}}),ic={http:ex,xhr:Nx,fetch:kx};q.forEach(ic,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const kf=t=>`- ${t}`,Fx=t=>q.isFunction(t)||t===null||t===!1,Id={getAdapter:t=>{t=q.isArray(t)?t:[t];const{length:n}=t;let s,a;const u={};for(let f=0;f<n;f++){s=t[f];let g;if(a=s,!Fx(s)&&(a=ic[(g=String(s)).toLowerCase()],a===void 0))throw new Ge(`Unknown adapter '${g}'`);if(a)break;u[g||"#"+f]=a}if(!a){const f=Object.entries(u).map(([m,E])=>`adapter ${m} `+(E===!1?"is not supported by the environment":"is not available in the build"));let g=n?f.length>1?`since :
`+f.map(kf).join(`
`):" "+kf(f[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a},adapters:ic};function _l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ii(null,t)}function Ff(t){return _l(t),t.headers=dn.from(t.headers),t.data=El.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Id.getAdapter(t.adapter||eo.adapter)(t).then(function(a){return _l(t),a.data=El.call(t,t.transformResponse,a),a.headers=dn.from(a.headers),a},function(a){return Cd(a)||(_l(t),a&&a.response&&(a.response.data=El.call(t,t.transformResponse,a.response),a.response.headers=dn.from(a.response.headers))),Promise.reject(a)})}const Od="1.7.2",jc={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{jc[t]=function(a){return typeof a===t||"a"+(n<1?"n ":" ")+t}});const Uf={};jc.transitional=function(n,s,a){function u(f,g){return"[Axios v"+Od+"] Transitional option '"+f+"'"+g+(a?". "+a:"")}return(f,g,m)=>{if(n===!1)throw new Ge(u(g," has been removed"+(s?" in "+s:"")),Ge.ERR_DEPRECATED);return s&&!Uf[g]&&(Uf[g]=!0,console.warn(u(g," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(f,g,m):!0}};function Ux(t,n,s){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let u=a.length;for(;u-- >0;){const f=a[u],g=n[f];if(g){const m=t[f],E=m===void 0||g(m,f,t);if(E!==!0)throw new Ge("option "+f+" must be "+E,Ge.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ge("Unknown option "+f,Ge.ERR_BAD_OPTION)}}const oc={assertOptions:Ux,validators:jc},vr=oc.validators;class fs{constructor(n){this.defaults=n,this.interceptors={request:new Rf,response:new Rf}}async request(n,s){try{return await this._request(n,s)}catch(a){if(a instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=gs(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:f}=s;a!==void 0&&oc.assertOptions(a,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),u!=null&&(q.isFunction(u)?s.paramsSerializer={serialize:u}:oc.assertOptions(u,{encode:vr.function,serialize:vr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let g=f&&q.merge(f.common,f[s.method]);f&&q.forEach(["delete","get","head","post","put","patch","common"],L=>{delete f[L]}),s.headers=dn.concat(g,f);const m=[];let E=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(s)===!1||(E=E&&D.synchronous,m.unshift(D.fulfilled,D.rejected))});const x=[];this.interceptors.response.forEach(function(D){x.push(D.fulfilled,D.rejected)});let w,A=0,I;if(!E){const L=[Ff.bind(this),void 0];for(L.unshift.apply(L,m),L.push.apply(L,x),I=L.length,w=Promise.resolve(s);A<I;)w=w.then(L[A++],L[A++]);return w}I=m.length;let S=s;for(A=0;A<I;){const L=m[A++],D=m[A++];try{S=L(S)}catch(J){D.call(this,J);break}}try{w=Ff.call(this,S)}catch(L){return Promise.reject(L)}for(A=0,I=x.length;A<I;)w=w.then(x[A++],x[A++]);return w}getUri(n){n=gs(this.defaults,n);const s=vd(n.baseURL,n.url);return wd(s,n.params,n.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(n){fs.prototype[n]=function(s,a){return this.request(gs(a||{},{method:n,url:s,data:(a||{}).data}))}});q.forEach(["post","put","patch"],function(n){function s(a){return function(f,g,m){return this.request(gs(m||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}fs.prototype[n]=s(),fs.prototype[n+"Form"]=s(!0)});class zc{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(f){s=f});const a=this;this.promise.then(u=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](u);a._listeners=null}),this.promise.then=u=>{let f;const g=new Promise(m=>{a.subscribe(m),f=m}).then(u);return g.cancel=function(){a.unsubscribe(f)},g},n(function(f,g,m){a.reason||(a.reason=new ii(f,g,m),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new zc(function(u){n=u}),cancel:n}}}function Vx(t){return function(s){return t.apply(null,s)}}function Hx(t){return q.isObject(t)&&t.isAxiosError===!0}const ac={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ac).forEach(([t,n])=>{ac[n]=t});function Nd(t){const n=new fs(t),s=ld(fs.prototype.request,n);return q.extend(s,fs.prototype,n,{allOwnKeys:!0}),q.extend(s,n,null,{allOwnKeys:!0}),s.create=function(u){return Nd(gs(t,u))},s}const yt=Nd(eo);yt.Axios=fs;yt.CanceledError=ii;yt.CancelToken=zc;yt.isCancel=Cd;yt.VERSION=Od;yt.toFormData=Ia;yt.AxiosError=Ge;yt.Cancel=yt.CanceledError;yt.all=function(n){return Promise.all(n)};yt.spread=Vx;yt.isAxiosError=Hx;yt.mergeConfig=gs;yt.AxiosHeaders=dn;yt.formToJSON=t=>bd(q.isHTMLForm(t)?new FormData(t):t);yt.getAdapter=Id.getAdapter;yt.HttpStatusCode=ac;yt.default=yt;let Wx="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const to=ya("users",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await yt.get(Wx,{params:{table:"users"}});this.data=t.data,console.log("useUsersStore:",this.data)}catch(t){console.log("call api error: "+t);return}},async get_user_by_email(t){this.data===null&&await this.callAPI();for(let n=0;n<this.data.length;n++)if(this.data[n].email===t)return console.log("user found: ",this.data[n]),this.data[n];return console.log("user not found."),!1}},getters:{get_data(){return this.data}}});let Gx="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const no=ya("clubs",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await yt.get(Gx,{params:{table:"clubs"}});this.data=t.data,console.log("useClubsStore:",this.data)}catch(t){console.log("call api error: ",t);return}},async get_club_by_email(t){this.data===null&&await this.callAPI();const n=this.data.find(s=>s.email===t);return n||(console.log("club not found."),null)},async get_user_by_email_password(t,n){this.data===null&&await this.callAPI();for(let s=0;s<this.data.length;s++)if(console.log(this.data[s].email,this.data[s].password),this.data[s].email==t&&this.data[s].password==n)return this.data[s];return console.log("club not found."),!1}},getters:{}});let $x="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const Na=ya("records",{state:()=>({data:null}),actions:{async callAPI(){const t=await yt.get($x,{params:{table:"records"}});this.data=t.data,console.log("useRecordsStore:",this.data)},async query_record(t,n,s){console.log("query_record(",t,", ",n,", ",s,")"),await this.callAPI(),console.log(this.data);for(let a=0;a<this.data.length;a++)if(console.log(this.data[a].club_email,this.data[a].user_email,this.data[a].is_ig),this.data[a].club_email==t&&this.data[a].user_email==n&&this.data[a].is_ig==s)return console.log("record found:"),console.log(this.data[a]),this.data[a];return console.log("record not found."),!1},async query_by_user(t){const n=no();await this.callAPI();let s=[];const a=Fe();for(let u=0;u<this.data.length;u++)if(this.data[u].user_email===t){a.value=await n.get_club_by_email(this.data[u].club_email);let f=a.value.name,g=a.value.text_on_stamp;s.push({user_email:this.data[u].user_email,club_name:f,club_stamp:g,club_email:this.data[u].club_email,created_time:this.data[u].created_time,is_ig:this.data[u].is_ig})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s},async query_by_club(t){await this.callAPI();for(let n=0;n<this.data.length;n++)if(this.data.club_email===t)return console.log("record found:"),console.log(this.data[n]),this.data[n];return console.log("record not found."),!1}},getters:{}}),_s=ya("auth",{state:()=>({name:null,nick_name:null,department:null,email:null,phone:null,stamps:null,is_club:!1,token:null,access_priv:!1,records:null}),actions:{async get_records(){const t=Na();this.isLoggedIn&&(this.records=await t.query_by_user(this.email),console.log("email: "+this.email,this.records))},async user_login(t){const n=to();try{const s=await n.get_user_by_email(t);console.log("user:",s),s?(this.token=s.user_id,this.access_priv=s.access_priv,this.name=s.name,this.nick_name=s.nick_name,this.department=s.department,this.email=s.email,this.phone=s.phone_number,console.log("user login successful!")):console.log("login failed :(")}catch(s){return console.error("Login error:",s),!1}},async club_login(t,n){console.log("email:",t,"password:",n);const a=await no().get_user_by_email_password(t,n);if(console.log("club: "+a),a)this.token=a.club_id,this.is_club=!0,this.name=a.name,this.email=a.email,console.log("club login successful!");else{console.log("login failed :(");return}},logout(){this.token=null,this.is_club=!1,this.records=null,this.name=null,this.nick_name=null,this.department=null,this.email=null,this.phone=null,console.log("logout successed :p")}},getters:{isLoggedIn:t=>!!t.token,records_len:t=>t.records==null?0:t.records.length}});/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof document<"u";function Xx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ut=Object.assign;function wl(t,n){const s={};for(const a in n){const u=n[a];s[a]=Hn(u)?u.map(t):t(u)}return s}const Ri=()=>{},Hn=Array.isArray,Rd=/#/g,jx=/&/g,zx=/\//g,Yx=/=/g,Kx=/\?/g,Dd=/\+/g,qx=/%5B/g,Zx=/%5D/g,Md=/%5E/g,Qx=/%60/g,Ld=/%7B/g,Jx=/%7C/g,Pd=/%7D/g,eE=/%20/g;function Yc(t){return encodeURI(""+t).replace(Jx,"|").replace(qx,"[").replace(Zx,"]")}function tE(t){return Yc(t).replace(Ld,"{").replace(Pd,"}").replace(Md,"^")}function lc(t){return Yc(t).replace(Dd,"%2B").replace(eE,"+").replace(Rd,"%23").replace(jx,"%26").replace(Qx,"`").replace(Ld,"{").replace(Pd,"}").replace(Md,"^")}function nE(t){return lc(t).replace(Yx,"%3D")}function rE(t){return Yc(t).replace(Rd,"%23").replace(Kx,"%3F")}function sE(t){return t==null?"":rE(t).replace(zx,"%2F")}function Gi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const iE=/\/$/,oE=t=>t.replace(iE,"");function Al(t,n,s="/"){let a,u={},f="",g="";const m=n.indexOf("#");let E=n.indexOf("?");return m<E&&m>=0&&(E=-1),E>-1&&(a=n.slice(0,E),f=n.slice(E+1,m>-1?m:n.length),u=t(f)),m>-1&&(a=a||n.slice(0,m),g=n.slice(m,n.length)),a=uE(a??n,s),{fullPath:a+(f&&"?")+f+g,path:a,query:u,hash:Gi(g)}}function aE(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Vf(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function lE(t,n,s){const a=n.matched.length-1,u=s.matched.length-1;return a>-1&&a===u&&zs(n.matched[a],s.matched[u])&&Bd(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function zs(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Bd(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!cE(t[s],n[s]))return!1;return!0}function cE(t,n){return Hn(t)?Hf(t,n):Hn(n)?Hf(n,t):t===n}function Hf(t,n){return Hn(n)?t.length===n.length&&t.every((s,a)=>s===n[a]):t.length===1&&t[0]===n}function uE(t,n){if(t.startsWith("/"))return t;if(!t)return n;const s=n.split("/"),a=t.split("/"),u=a[a.length-1];(u===".."||u===".")&&a.push("");let f=s.length-1,g,m;for(g=0;g<a.length;g++)if(m=a[g],m!==".")if(m==="..")f>1&&f--;else break;return s.slice(0,f).join("/")+"/"+a.slice(g).join("/")}const Tr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $i;(function(t){t.pop="pop",t.push="push"})($i||($i={}));var Di;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Di||(Di={}));function fE(t){if(!t)if(Ls){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),oE(t)}const hE=/^[^#]+#/;function dE(t,n){return t.replace(hE,"#")+n}function gE(t,n){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:n.behavior,left:a.left-s.left-(n.left||0),top:a.top-s.top-(n.top||0)}}const Ra=()=>({left:window.scrollX,top:window.scrollY});function pE(t){let n;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;n=gE(u,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Wf(t,n){return(history.state?history.state.position-n:-1)+t}const cc=new Map;function mE(t,n){cc.set(t,n)}function xE(t){const n=cc.get(t);return cc.delete(t),n}let EE=()=>location.protocol+"//"+location.host;function kd(t,n){const{pathname:s,search:a,hash:u}=n,f=t.indexOf("#");if(f>-1){let m=u.includes(t.slice(f))?t.slice(f).length:1,E=u.slice(m);return E[0]!=="/"&&(E="/"+E),Vf(E,"")}return Vf(s,t)+a+u}function _E(t,n,s,a){let u=[],f=[],g=null;const m=({state:I})=>{const S=kd(t,location),L=s.value,D=n.value;let J=0;if(I){if(s.value=S,n.value=I,g&&g===L){g=null;return}J=D?I.position-D.position:0}else a(S);u.forEach(Y=>{Y(s.value,L,{delta:J,type:$i.pop,direction:J?J>0?Di.forward:Di.back:Di.unknown})})};function E(){g=s.value}function x(I){u.push(I);const S=()=>{const L=u.indexOf(I);L>-1&&u.splice(L,1)};return f.push(S),S}function w(){const{history:I}=window;I.state&&I.replaceState(ut({},I.state,{scroll:Ra()}),"")}function A(){for(const I of f)I();f=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:E,listen:x,destroy:A}}function Gf(t,n,s,a=!1,u=!1){return{back:t,current:n,forward:s,replaced:a,position:window.history.length,scroll:u?Ra():null}}function wE(t){const{history:n,location:s}=window,a={value:kd(t,s)},u={value:n.state};u.value||f(a.value,{back:null,current:a.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function f(E,x,w){const A=t.indexOf("#"),I=A>-1?(s.host&&document.querySelector("base")?t:t.slice(A))+E:EE()+t+E;try{n[w?"replaceState":"pushState"](x,"",I),u.value=x}catch(S){console.error(S),s[w?"replace":"assign"](I)}}function g(E,x){const w=ut({},n.state,Gf(u.value.back,E,u.value.forward,!0),x,{position:u.value.position});f(E,w,!0),a.value=E}function m(E,x){const w=ut({},u.value,n.state,{forward:E,scroll:Ra()});f(w.current,w,!0);const A=ut({},Gf(a.value,E,null),{position:w.position+1},x);f(E,A,!1),a.value=E}return{location:a,state:u,push:m,replace:g}}function AE(t){t=fE(t);const n=wE(t),s=_E(t,n.state,n.location,n.replace);function a(f,g=!0){g||s.pauseListeners(),history.go(f)}const u=ut({location:"",base:t,go:a,createHref:dE.bind(null,t)},n,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>n.state.value}),u}function bE(t){return typeof t=="string"||t&&typeof t=="object"}function Fd(t){return typeof t=="string"||typeof t=="symbol"}const Ud=Symbol("");var $f;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})($f||($f={}));function Ys(t,n){return ut(new Error,{type:t,[Ud]:!0},n)}function rr(t,n){return t instanceof Error&&Ud in t&&(n==null||!!(t.type&n))}const Xf="[^/]+?",CE={sensitive:!1,strict:!1,start:!0,end:!0},yE=/[.+*?^${}()[\]/\\]/g;function vE(t,n){const s=ut({},CE,n),a=[];let u=s.start?"^":"";const f=[];for(const x of t){const w=x.length?[]:[90];s.strict&&!x.length&&(u+="/");for(let A=0;A<x.length;A++){const I=x[A];let S=40+(s.sensitive?.25:0);if(I.type===0)A||(u+="/"),u+=I.value.replace(yE,"\\$&"),S+=40;else if(I.type===1){const{value:L,repeatable:D,optional:J,regexp:Y}=I;f.push({name:L,repeatable:D,optional:J});const j=Y||Xf;if(j!==Xf){S+=10;try{new RegExp(`(${j})`)}catch(Q){throw new Error(`Invalid custom RegExp for param "${L}" (${j}): `+Q.message)}}let B=D?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;A||(B=J&&x.length<2?`(?:/${B})`:"/"+B),J&&(B+="?"),u+=B,S+=20,J&&(S+=-8),D&&(S+=-20),j===".*"&&(S+=-50)}w.push(S)}a.push(w)}if(s.strict&&s.end){const x=a.length-1;a[x][a[x].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const g=new RegExp(u,s.sensitive?"":"i");function m(x){const w=x.match(g),A={};if(!w)return null;for(let I=1;I<w.length;I++){const S=w[I]||"",L=f[I-1];A[L.name]=S&&L.repeatable?S.split("/"):S}return A}function E(x){let w="",A=!1;for(const I of t){(!A||!w.endsWith("/"))&&(w+="/"),A=!1;for(const S of I)if(S.type===0)w+=S.value;else if(S.type===1){const{value:L,repeatable:D,optional:J}=S,Y=L in x?x[L]:"";if(Hn(Y)&&!D)throw new Error(`Provided param "${L}" is an array but it is not repeatable (* or + modifiers)`);const j=Hn(Y)?Y.join("/"):Y;if(!j)if(J)I.length<2&&(w.endsWith("/")?w=w.slice(0,-1):A=!0);else throw new Error(`Missing required param "${L}"`);w+=j}}return w||"/"}return{re:g,score:a,keys:f,parse:m,stringify:E}}function TE(t,n){let s=0;for(;s<t.length&&s<n.length;){const a=n[s]-t[s];if(a)return a;s++}return t.length<n.length?t.length===1&&t[0]===80?-1:1:t.length>n.length?n.length===1&&n[0]===80?1:-1:0}function Vd(t,n){let s=0;const a=t.score,u=n.score;for(;s<a.length&&s<u.length;){const f=TE(a[s],u[s]);if(f)return f;s++}if(Math.abs(u.length-a.length)===1){if(jf(a))return 1;if(jf(u))return-1}return u.length-a.length}function jf(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const SE={type:0,value:""},IE=/[a-zA-Z0-9_]/;function OE(t){if(!t)return[[]];if(t==="/")return[[SE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(S){throw new Error(`ERR (${s})/"${x}": ${S}`)}let s=0,a=s;const u=[];let f;function g(){f&&u.push(f),f=[]}let m=0,E,x="",w="";function A(){x&&(s===0?f.push({type:0,value:x}):s===1||s===2||s===3?(f.length>1&&(E==="*"||E==="+")&&n(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:x,regexp:w,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):n("Invalid state to consume buffer"),x="")}function I(){x+=E}for(;m<t.length;){if(E=t[m++],E==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:E==="/"?(x&&A(),g()):E===":"?(A(),s=1):I();break;case 4:I(),s=a;break;case 1:E==="("?s=2:IE.test(E)?I():(A(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&m--);break;case 2:E===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+E:s=3:w+=E;break;case 3:A(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&m--,w="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${x}"`),A(),g(),u}function NE(t,n,s){const a=vE(OE(t.path),s),u=ut(a,{record:t,parent:n,children:[],alias:[]});return n&&!u.record.aliasOf==!n.record.aliasOf&&n.children.push(u),u}function RE(t,n){const s=[],a=new Map;n=Kf({strict:!1,end:!0,sensitive:!1},n);function u(A){return a.get(A)}function f(A,I,S){const L=!S,D=DE(A);D.aliasOf=S&&S.record;const J=Kf(n,A),Y=[D];if("alias"in A){const Q=typeof A.alias=="string"?[A.alias]:A.alias;for(const he of Q)Y.push(ut({},D,{components:S?S.record.components:D.components,path:he,aliasOf:S?S.record:D}))}let j,B;for(const Q of Y){const{path:he}=Q;if(I&&he[0]!=="/"){const K=I.record.path,F=K[K.length-1]==="/"?"":"/";Q.path=I.record.path+(he&&F+he)}if(j=NE(Q,I,J),S?S.alias.push(j):(B=B||j,B!==j&&B.alias.push(j),L&&A.name&&!Yf(j)&&g(A.name)),Hd(j)&&E(j),D.children){const K=D.children;for(let F=0;F<K.length;F++)f(K[F],j,S&&S.children[F])}S=S||j}return B?()=>{g(B)}:Ri}function g(A){if(Fd(A)){const I=a.get(A);I&&(a.delete(A),s.splice(s.indexOf(I),1),I.children.forEach(g),I.alias.forEach(g))}else{const I=s.indexOf(A);I>-1&&(s.splice(I,1),A.record.name&&a.delete(A.record.name),A.children.forEach(g),A.alias.forEach(g))}}function m(){return s}function E(A){const I=PE(A,s);s.splice(I,0,A),A.record.name&&!Yf(A)&&a.set(A.record.name,A)}function x(A,I){let S,L={},D,J;if("name"in A&&A.name){if(S=a.get(A.name),!S)throw Ys(1,{location:A});J=S.record.name,L=ut(zf(I.params,S.keys.filter(B=>!B.optional).concat(S.parent?S.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),A.params&&zf(A.params,S.keys.map(B=>B.name))),D=S.stringify(L)}else if(A.path!=null)D=A.path,S=s.find(B=>B.re.test(D)),S&&(L=S.parse(D),J=S.record.name);else{if(S=I.name?a.get(I.name):s.find(B=>B.re.test(I.path)),!S)throw Ys(1,{location:A,currentLocation:I});J=S.record.name,L=ut({},I.params,A.params),D=S.stringify(L)}const Y=[];let j=S;for(;j;)Y.unshift(j.record),j=j.parent;return{name:J,path:D,params:L,matched:Y,meta:LE(Y)}}t.forEach(A=>f(A));function w(){s.length=0,a.clear()}return{addRoute:f,resolve:x,removeRoute:g,clearRoutes:w,getRoutes:m,getRecordMatcher:u}}function zf(t,n){const s={};for(const a of n)a in t&&(s[a]=t[a]);return s}function DE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ME(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function ME(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const a in t.components)n[a]=typeof s=="object"?s[a]:s;return n}function Yf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function LE(t){return t.reduce((n,s)=>ut(n,s.meta),{})}function Kf(t,n){const s={};for(const a in t)s[a]=a in n?n[a]:t[a];return s}function PE(t,n){let s=0,a=n.length;for(;s!==a;){const f=s+a>>1;Vd(t,n[f])<0?a=f:s=f+1}const u=BE(t);return u&&(a=n.lastIndexOf(u,a-1)),a}function BE(t){let n=t;for(;n=n.parent;)if(Hd(n)&&Vd(t,n)===0)return n}function Hd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function kE(t){const n={};if(t===""||t==="?")return n;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<a.length;++u){const f=a[u].replace(Dd," "),g=f.indexOf("="),m=Gi(g<0?f:f.slice(0,g)),E=g<0?null:Gi(f.slice(g+1));if(m in n){let x=n[m];Hn(x)||(x=n[m]=[x]),x.push(E)}else n[m]=E}return n}function qf(t){let n="";for(let s in t){const a=t[s];if(s=nE(s),a==null){a!==void 0&&(n+=(n.length?"&":"")+s);continue}(Hn(a)?a.map(f=>f&&lc(f)):[a&&lc(a)]).forEach(f=>{f!==void 0&&(n+=(n.length?"&":"")+s,f!=null&&(n+="="+f))})}return n}function FE(t){const n={};for(const s in t){const a=t[s];a!==void 0&&(n[s]=Hn(a)?a.map(u=>u==null?null:""+u):a==null?a:""+a)}return n}const UE=Symbol(""),Zf=Symbol(""),Da=Symbol(""),Kc=Symbol(""),uc=Symbol("");function Ai(){let t=[];function n(a){return t.push(a),()=>{const u=t.indexOf(a);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:n,list:()=>t.slice(),reset:s}}function Dr(t,n,s,a,u,f=g=>g()){const g=a&&(a.enterCallbacks[u]=a.enterCallbacks[u]||[]);return()=>new Promise((m,E)=>{const x=I=>{I===!1?E(Ys(4,{from:s,to:n})):I instanceof Error?E(I):bE(I)?E(Ys(2,{from:n,to:I})):(g&&a.enterCallbacks[u]===g&&typeof I=="function"&&g.push(I),m())},w=f(()=>t.call(a&&a.instances[u],n,s,x));let A=Promise.resolve(w);t.length<3&&(A=A.then(x)),A.catch(I=>E(I))})}function bl(t,n,s,a,u=f=>f()){const f=[];for(const g of t)for(const m in g.components){let E=g.components[m];if(!(n!=="beforeRouteEnter"&&!g.instances[m]))if(VE(E)){const w=(E.__vccOpts||E)[n];w&&f.push(Dr(w,s,a,g,m,u))}else{let x=E();f.push(()=>x.then(w=>{if(!w)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${g.path}"`));const A=Xx(w)?w.default:w;g.components[m]=A;const S=(A.__vccOpts||A)[n];return S&&Dr(S,s,a,g,m,u)()}))}}return f}function VE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qf(t){const n=Rn(Da),s=Rn(Kc),a=Nt(()=>{const E=Me(t.to);return n.resolve(E)}),u=Nt(()=>{const{matched:E}=a.value,{length:x}=E,w=E[x-1],A=s.matched;if(!w||!A.length)return-1;const I=A.findIndex(zs.bind(null,w));if(I>-1)return I;const S=Jf(E[x-2]);return x>1&&Jf(w)===S&&A[A.length-1].path!==S?A.findIndex(zs.bind(null,E[x-2])):I}),f=Nt(()=>u.value>-1&&$E(s.params,a.value.params)),g=Nt(()=>u.value>-1&&u.value===s.matched.length-1&&Bd(s.params,a.value.params));function m(E={}){return GE(E)?n[Me(t.replace)?"replace":"push"](Me(t.to)).catch(Ri):Promise.resolve()}return{route:a,href:Nt(()=>a.value.href),isActive:f,isExactActive:g,navigate:m}}const HE=Dh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qf,setup(t,{slots:n}){const s=Yi(Qf(t)),{options:a}=Rn(Da),u=Nt(()=>({[e1(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[e1(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const f=n.default&&n.default(s);return t.custom?f:Hc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},f)}}}),WE=HE;function GE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function $E(t,n){for(const s in n){const a=n[s],u=t[s];if(typeof a=="string"){if(a!==u)return!1}else if(!Hn(u)||u.length!==a.length||a.some((f,g)=>f!==u[g]))return!1}return!0}function Jf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const e1=(t,n,s)=>t??n??s,XE=Dh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){const a=Rn(uc),u=Nt(()=>t.route||a.value),f=Rn(Zf,0),g=Nt(()=>{let x=Me(f);const{matched:w}=u.value;let A;for(;(A=w[x])&&!A.components;)x++;return x}),m=Nt(()=>u.value.matched[g.value]);ko(Zf,Nt(()=>g.value+1)),ko(UE,m),ko(uc,u);const E=Fe();return $s(()=>[E.value,m.value,t.name],([x,w,A],[I,S,L])=>{w&&(w.instances[A]=x,S&&S!==w&&x&&x===I&&(w.leaveGuards.size||(w.leaveGuards=S.leaveGuards),w.updateGuards.size||(w.updateGuards=S.updateGuards))),x&&w&&(!S||!zs(w,S)||!I)&&(w.enterCallbacks[A]||[]).forEach(D=>D(x))},{flush:"post"}),()=>{const x=u.value,w=t.name,A=m.value,I=A&&A.components[w];if(!I)return t1(s.default,{Component:I,route:x});const S=A.props[w],L=S?S===!0?x.params:typeof S=="function"?S(x):S:null,J=Hc(I,ut({},L,n,{onVnodeUnmounted:Y=>{Y.component.isUnmounted&&(A.instances[w]=null)},ref:E}));return t1(s.default,{Component:J,route:x})||J}}});function t1(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const jE=XE;function zE(t){const n=RE(t.routes,t),s=t.parseQuery||kE,a=t.stringifyQuery||qf,u=t.history,f=Ai(),g=Ai(),m=Ai(),E=ap(Tr);let x=Tr;Ls&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=wl.bind(null,ee=>""+ee),A=wl.bind(null,sE),I=wl.bind(null,Gi);function S(ee,fe){let xe,ve;return Fd(ee)?(xe=n.getRecordMatcher(ee),ve=fe):ve=ee,n.addRoute(ve,xe)}function L(ee){const fe=n.getRecordMatcher(ee);fe&&n.removeRoute(fe)}function D(){return n.getRoutes().map(ee=>ee.record)}function J(ee){return!!n.getRecordMatcher(ee)}function Y(ee,fe){if(fe=ut({},fe||E.value),typeof ee=="string"){const N=Al(s,ee,fe.path),V=n.resolve({path:N.path},fe),re=u.createHref(N.fullPath);return ut(N,V,{params:I(V.params),hash:Gi(N.hash),redirectedFrom:void 0,href:re})}let xe;if(ee.path!=null)xe=ut({},ee,{path:Al(s,ee.path,fe.path).path});else{const N=ut({},ee.params);for(const V in N)N[V]==null&&delete N[V];xe=ut({},ee,{params:A(N)}),fe.params=A(fe.params)}const ve=n.resolve(xe,fe),ke=ee.hash||"";ve.params=w(I(ve.params));const at=aE(a,ut({},ee,{hash:tE(ke),path:ve.path})),v=u.createHref(at);return ut({fullPath:at,hash:ke,query:a===qf?FE(ee.query):ee.query||{}},ve,{redirectedFrom:void 0,href:v})}function j(ee){return typeof ee=="string"?Al(s,ee,E.value.path):ut({},ee)}function B(ee,fe){if(x!==ee)return Ys(8,{from:fe,to:ee})}function Q(ee){return F(ee)}function he(ee){return Q(ut(j(ee),{replace:!0}))}function K(ee){const fe=ee.matched[ee.matched.length-1];if(fe&&fe.redirect){const{redirect:xe}=fe;let ve=typeof xe=="function"?xe(ee):xe;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=j(ve):{path:ve},ve.params={}),ut({query:ee.query,hash:ee.hash,params:ve.path!=null?{}:ee.params},ve)}}function F(ee,fe){const xe=x=Y(ee),ve=E.value,ke=ee.state,at=ee.force,v=ee.replace===!0,N=K(xe);if(N)return F(ut(j(N),{state:typeof N=="object"?ut({},ke,N.state):ke,force:at,replace:v}),fe||xe);const V=xe;V.redirectedFrom=fe;let re;return!at&&lE(a,ve,xe)&&(re=Ys(16,{to:V,from:ve}),Gt(ve,ve,!0,!1)),(re?Promise.resolve(re):_e(V,ve)).catch(z=>rr(z)?rr(z,2)?z:vt(z):$e(z,V,ve)).then(z=>{if(z){if(rr(z,2))return F(ut({replace:v},j(z.to),{state:typeof z.to=="object"?ut({},ke,z.to.state):ke,force:at}),fe||V)}else z=H(V,ve,!0,v,ke);return Ee(V,ve,z),z})}function ce(ee,fe){const xe=B(ee,fe);return xe?Promise.reject(xe):Promise.resolve()}function P(ee){const fe=ct.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(ee):ee()}function _e(ee,fe){let xe;const[ve,ke,at]=YE(ee,fe);xe=bl(ve.reverse(),"beforeRouteLeave",ee,fe);for(const N of ve)N.leaveGuards.forEach(V=>{xe.push(Dr(V,ee,fe))});const v=ce.bind(null,ee,fe);return xe.push(v),Ae(xe).then(()=>{xe=[];for(const N of f.list())xe.push(Dr(N,ee,fe));return xe.push(v),Ae(xe)}).then(()=>{xe=bl(ke,"beforeRouteUpdate",ee,fe);for(const N of ke)N.updateGuards.forEach(V=>{xe.push(Dr(V,ee,fe))});return xe.push(v),Ae(xe)}).then(()=>{xe=[];for(const N of at)if(N.beforeEnter)if(Hn(N.beforeEnter))for(const V of N.beforeEnter)xe.push(Dr(V,ee,fe));else xe.push(Dr(N.beforeEnter,ee,fe));return xe.push(v),Ae(xe)}).then(()=>(ee.matched.forEach(N=>N.enterCallbacks={}),xe=bl(at,"beforeRouteEnter",ee,fe,P),xe.push(v),Ae(xe))).then(()=>{xe=[];for(const N of g.list())xe.push(Dr(N,ee,fe));return xe.push(v),Ae(xe)}).catch(N=>rr(N,8)?N:Promise.reject(N))}function Ee(ee,fe,xe){m.list().forEach(ve=>P(()=>ve(ee,fe,xe)))}function H(ee,fe,xe,ve,ke){const at=B(ee,fe);if(at)return at;const v=fe===Tr,N=Ls?history.state:{};xe&&(ve||v?u.replace(ee.fullPath,ut({scroll:v&&N&&N.scroll},ke)):u.push(ee.fullPath,ke)),E.value=ee,Gt(ee,fe,xe,v),vt()}let ne;function Oe(){ne||(ne=u.listen((ee,fe,xe)=>{if(!$t.listening)return;const ve=Y(ee),ke=K(ve);if(ke){F(ut(ke,{replace:!0}),ve).catch(Ri);return}x=ve;const at=E.value;Ls&&mE(Wf(at.fullPath,xe.delta),Ra()),_e(ve,at).catch(v=>rr(v,12)?v:rr(v,2)?(F(v.to,ve).then(N=>{rr(N,20)&&!xe.delta&&xe.type===$i.pop&&u.go(-1,!1)}).catch(Ri),Promise.reject()):(xe.delta&&u.go(-xe.delta,!1),$e(v,ve,at))).then(v=>{v=v||H(ve,at,!1),v&&(xe.delta&&!rr(v,8)?u.go(-xe.delta,!1):xe.type===$i.pop&&rr(v,20)&&u.go(-1,!1)),Ee(ve,at,v)}).catch(Ri)}))}let W=Ai(),Se=Ai(),ue;function $e(ee,fe,xe){vt(ee);const ve=Se.list();return ve.length?ve.forEach(ke=>ke(ee,fe,xe)):console.error(ee),Promise.reject(ee)}function mt(){return ue&&E.value!==Tr?Promise.resolve():new Promise((ee,fe)=>{W.add([ee,fe])})}function vt(ee){return ue||(ue=!ee,Oe(),W.list().forEach(([fe,xe])=>ee?xe(ee):fe()),W.reset()),ee}function Gt(ee,fe,xe,ve){const{scrollBehavior:ke}=t;if(!Ls||!ke)return Promise.resolve();const at=!xe&&xE(Wf(ee.fullPath,0))||(ve||!xe)&&history.state&&history.state.scroll||null;return Ki().then(()=>ke(ee,fe,at)).then(v=>v&&pE(v)).catch(v=>$e(v,ee,fe))}const qe=ee=>u.go(ee);let Bt;const ct=new Set,$t={currentRoute:E,listening:!0,addRoute:S,removeRoute:L,clearRoutes:n.clearRoutes,hasRoute:J,getRoutes:D,resolve:Y,options:t,push:Q,replace:he,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:f.add,beforeResolve:g.add,afterEach:m.add,onError:Se.add,isReady:mt,install(ee){const fe=this;ee.component("RouterLink",WE),ee.component("RouterView",jE),ee.config.globalProperties.$router=fe,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(E)}),Ls&&!Bt&&E.value===Tr&&(Bt=!0,Q(u.location).catch(ke=>{}));const xe={};for(const ke in Tr)Object.defineProperty(xe,ke,{get:()=>E.value[ke],enumerable:!0});ee.provide(Da,fe),ee.provide(Kc,xh(xe)),ee.provide(uc,E);const ve=ee.unmount;ct.add(ee),ee.unmount=function(){ct.delete(ee),ct.size<1&&(x=Tr,ne&&ne(),ne=null,E.value=Tr,Bt=!1,ue=!1),ve()}}};function Ae(ee){return ee.reduce((fe,xe)=>fe.then(()=>P(xe)),Promise.resolve())}return $t}function YE(t,n){const s=[],a=[],u=[],f=Math.max(n.matched.length,t.matched.length);for(let g=0;g<f;g++){const m=n.matched[g];m&&(t.matched.find(x=>zs(x,m))?a.push(m):s.push(m));const E=t.matched[g];E&&(n.matched.find(x=>zs(x,E))||u.push(E))}return[s,a,u]}function ro(){return Rn(Da)}function Wd(t){return Rn(Kc)}const hr=(t,n)=>{const s=t.__vccOpts||t;for(const[a,u]of n)s[a]=u;return s},qc=t=>(qi("data-v-d35e30d0"),t=t(),Zi(),t),KE={class:"navbar navbar-expand-md navbar-dark fixed-top bg-danger"},qE={class:"container-fluid"},ZE=qc(()=>Z("img",{src:lm,height:"32px",alt:"Logo"},null,-1)),QE=qc(()=>Z("span",null,"社團博覽會大地遊戲",-1)),JE=qc(()=>Z("span",{class:"navbar-toggler-icon"},null,-1)),e_=[JE],t_={class:"navbar-collapse",id:"navbarCollapse"},n_={class:"navbar-nav me-auto mb-2 mb-md-0"},r_={class:"nav-item"},s_={key:0,class:"nav-item"},i_={class:"nav-item"},o_={key:1,class:"nav-item"},a_={key:2,class:"nav-item"},l_={key:3,class:"nav-item"},c_={__name:"NavBar",setup(t){F2(w=>({"69626cac":g.value}));const n=_s(),s=ro(),a=Wd(),u=Fe(!1),f=Fe(null),g=Fe("0px");function m(){u.value=!u.value,u.value&&Ki(()=>{x()})}function E(w){s.push(w),u.value=!1}function x(){f.value&&(g.value=`${f.value.scrollHeight}px`)}return $s(()=>a.path,()=>{u.value=!1}),window.addEventListener("resize",()=>{u.value&&x()}),Es(()=>{f.value=document.getElementById("navbarCollapse")}),(w,A)=>{const I=Gl("RouterLink");return Ke(),Qe("nav",KE,[Z("div",qE,[Rt(I,{to:"/",class:"navbar-brand"},{default:Ko(()=>[ZE,QE]),_:1}),Z("button",{class:"navbar-toggler",onClick:A[0]||(A[0]=S=>m()),type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},e_),Rt(ba,{name:"expand"},{default:Ko(()=>[En(Z("div",t_,[Z("ul",n_,[Z("li",r_,[Z("button",{onClick:A[1]||(A[1]=S=>E("/")),class:"nav-link"},"首頁")]),Me(n).is_club?tn("",!0):(Ke(),Qe("li",s_,[Z("button",{onClick:A[2]||(A[2]=S=>E("/stamp")),class:"nav-link"},"活動蓋章")])),Z("li",i_,[Z("button",{onClick:A[3]||(A[3]=S=>E("/partner")),class:"nav-link"},"合作夥伴")]),Me(n).isLoggedIn?tn("",!0):(Ke(),Qe("li",o_,[Z("button",{onClick:A[4]||(A[4]=S=>E("/register")),class:"nav-link"},"註冊帳號")])),Me(n).isLoggedIn?tn("",!0):(Ke(),Qe("li",a_,[Z("button",{onClick:A[5]||(A[5]=S=>E("/club_login")),class:"nav-link"},"社團登入")])),Me(n).is_club?(Ke(),Qe("li",l_,[Z("button",{onClick:A[6]||(A[6]=S=>E("/scan")),class:"nav-link"},"掃描新生")])):tn("",!0)])],512),[[Uo,u.value]])]),_:1})])])}}},u_=hr(c_,[["__scopeId","data-v-d35e30d0"]]),f_={components:{NavBar:u_}},h_=_a('<svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"><button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg><span class="visually-hidden" id="bd-theme-text">Toggle theme</span></button><ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg> Light <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg> Dark <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg> Auto <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></div>',2),d_={class:"flex-shrink-0"},g_={class:"container",style:{"margin-top":"60px"}},p_=_a('<footer class="footer mt-auto py-3 bg-body-tertiary"><div class="container"><p class="text-body-secondary"> © 2024 <a href="http://ttussc.github.io">TTUSSC</a>. Licensed under <a href="https://github.com/TTUSSC/Earth_Game/blob/main/LICENSE">MIT</a></p></div></footer>',1);function m_(t,n,s,a,u,f){const g=Gl("NavBar"),m=Gl("router-view");return Ke(),Qe(fn,null,[h_,Z("header",null,[Rt(g)]),Z("main",d_,[Z("div",g_,[Rt(ba,{name:"route",mode:"out-in"},{default:Ko(()=>[Rt(m,{class:"pt-3"})]),_:1})])]),p_],64)}const x_=hr(f_,[["render",m_]]),E_=["src"],Gd={__name:"createQRcode",props:{url:String},setup(t){const n=t;var s="https://quickchart.io/qr?size=1080&margin=2&text=";return console.log(s+n.url),(a,u)=>(Ke(),Qe("img",{class:"qrcode img-fluid rounded",src:Me(s)+n.url,alt:""},null,8,E_))}},so=t=>(qi("data-v-a4f3c0e3"),t=t(),Zi(),t),__=so(()=>Z("h1",null,"社博大地遊戲",-1)),w_={class:"my-4"},A_=so(()=>Z("div",{class:"card-btn card mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[Z("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[ri(" 邀請朋友參加大地遊戲！ "),Z("i",{class:"fa-solid fa-share-from-square bi ms-auto"})])],-1)),b_={class:"collapse mb-3 mx-auto",id:"collapseExample"},C_={class:"card card-body"},y_=so(()=>Z("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[ri(" 第一次加入點這裡註冊帳號！ "),Z("i",{class:"fa-solid fa-right-to-bracket bi ms-auto"})],-1)),v_=[y_],T_=so(()=>Z("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[ri(" 什麼？想蓋章？點這裡登入去蓋章！ "),Z("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),S_=[T_],I_=so(()=>Z("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[ri(" 我是社團，要走秘密通道 "),Z("i",{class:"fa-solid fa-dungeon bi ms-auto"})],-1)),O_=[I_],N_={__name:"HomeView",setup(t){const n=ro(),s=_s();return(a,u)=>(Ke(),Qe("div",null,[__,Z("section",w_,[A_,Z("div",b_,[Z("div",C_,[Rt(Gd,{url:"https://ttussc.github.io/Earth_Game"})])]),En(Z("div",{class:"card-btn card mb-2",onClick:u[0]||(u[0]=f=>{Me(n).push({name:"register"})})},v_,512),[[Uo,!Me(s).isLoggedIn]]),En(Z("div",{class:"card-btn card mb-2",onClick:u[1]||(u[1]=f=>{Me(n).push({name:"stamp"})})},S_,512),[[Uo,!Me(s).is_club]]),En(Z("div",{class:"card-btn card mb-2",onClick:u[2]||(u[2]=f=>{Me(n).push({name:"club_login"})})},O_,512),[[Uo,!Me(s).isLoggedIn||Me(s).isLoggedIn&&Me(s).is_club]])])]))}},R_=hr(N_,[["__scopeId","data-v-a4f3c0e3"]]),D_={},M_=Z("h1",null,"排行榜",-1),L_=[M_];function P_(t,n){return Ke(),Qe("div",null,L_)}const B_=hr(D_,[["render",P_]]),k_=Z("h1",{class:"title"},"蓋章！",-1),F_={class:"col mb-3"},U_=["disabled"],V_=Z("div",{class:"valid-feedback"},"Looks good!",-1),H_=Z("div",{class:"invalid-feedback"},"Looks bad!",-1),W_={class:"col-3 mb-3"},G_={class:"nav nav-tabs mb-2",id:"myTab",role:"tablist"},$_=Z("li",{class:"nav-item",role:"presentation"},[Z("button",{class:"nav-link active",id:"qrcode-tab","data-bs-toggle":"tab","data-bs-target":"#qrcode-tab-pane",type:"button",role:"tab","aria-controls":"qrcode-tab-pane","aria-selected":"true"}," QR code ")],-1),X_={class:"nav-item",role:"presentation"},j_=Z("li",{class:"nav-item",role:"presentation"},[Z("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"}," 個人資料 ")],-1),z_={class:"tab-pane fade show active",id:"qrcode-tab-pane",role:"tabpanel","aria-labelledby":"qrcode-tab",tabindex:"0"},Y_={key:1},K_={class:"tab-pane fade",id:"card-tab-pane",role:"tabpanel","aria-labelledby":"card-tab",tabindex:"0"},q_={key:0},Z_={class:"mb-2"},Q_={class:"card-header"},J_={key:0,class:"badge rounded-pill text-bg-danger"},ew={class:"card-body"},tw={key:0},nw={key:1},rw={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},sw={key:0,class:"card"},iw={class:"card-header"},ow={class:"card-body"},aw={class:"card-text"},lw=Z("br",null,null,-1),cw=Z("br",null,null,-1),uw=Z("br",null,null,-1),fw=Z("br",null,null,-1),hw={key:1},dw={__name:"StampView",setup(t){const n=to(),s=Na(),a=no();n.callAPI(),s.callAPI(),a.callAPI();const u=_s(),f=Fe(""),g=Fe(!1),m=Fe("");let E=Fe(!1),x=Fe("btn btn-primary"),w=Fe("登入");const A=async()=>{console.log("lock btn pushed."),E.value=!E.value,E.value?(x.value="btn btn-danger",w.value="登出"):(x.value="btn btn-primary",w.value="登入"),E.value?(await u.user_login(m.value),u.isLoggedIn?(g.value=!1,f.value="",await u.get_records()):(g.value=!0,f.value="找不到與電子郵件相符的帳號。尚未註冊帳號則點擊選單註冊帳號。",E.value=!1,x.value="btn btn-primary",w.value="登入")):u.logout()},I=Fe(null),S=Fe(0);Es(()=>{console.log("auth email:",u.email),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,E.value||(E.value=!0,x.value="btn btn-danger",w.value="登出")),L(),window.addEventListener("resize",L)}),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,E.value||(E.value=!0,x.value="btn btn-danger",w.value="登出"));const L=()=>{if(I.value){const J=I.value.getBoundingClientRect(),Y=window.innerHeight;S.value=Y-J.top-110,console.log("剩餘高度：",S.value)}},D=new Intl.DateTimeFormat("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return(J,Y)=>(Ke(),Qe("div",null,[k_,f.value?(Ke(),Qe("div",{key:0,class:Lt(["mt-3 text-break",["alert",g.value?"alert-danger":"alert-success"]]),role:"alert"},ot(f.value),3)):tn("",!0),Z("form",{class:"row align-items-center needs-validation my-3",onSubmit:Wc(A,["prevent"])},[Z("div",F_,[En(Z("input",{type:"email",class:"form-control",id:"account","onUpdate:modelValue":Y[0]||(Y[0]=j=>m.value=j),placeholder:"輸入 Email",required:"",disabled:Me(E)},null,8,U_),[[is,m.value]]),V_,H_]),Z("div",W_,[Z("button",{type:"submit",class:Lt(["btn",Me(x)])},ot(Me(w)),3)])],32),Z("ul",G_,[$_,Z("li",X_,[Z("button",{class:"nav-link",id:"card-tab","data-bs-toggle":"tab","data-bs-target":"#card-tab-pane",type:"button",role:"tab","aria-controls":"card-tab-pane","aria-selected":"false",onClick:Y[1]||(Y[1]=j=>Me(u).get_records())}," 集點卡 ")]),j_]),Z("div",{class:"tab-content",id:"myTabContent",ref_key:"tabContent",ref:I},[Z("div",z_,[Me(u).isLoggedIn?(Ke(),Qe("div",{key:0,class:"mx-auto",style:Pi({maxHeight:S.value+"px"})},[Rt(Gd,{url:m.value.trim()},null,8,["url"])],4)):(Ke(),Qe("div",Y_," 沒登入不能掃描 QR code 喔 "))]),Z("div",K_,[Me(u).isLoggedIn?(Ke(),Qe("div",q_,[Z("div",Z_,"總點數："+ot(Me(u).records_len),1),Z("div",{class:"overflow-auto",style:Pi({maxHeight:S.value+"px"})},[(Ke(!0),Qe(fn,null,Lp(Me(u).records,j=>(Ke(),Qe("div",{class:"card my-2",key:j.created_time},[Z("div",Q_,[Z("strong",null,ot(j.club_name)+" ",1),j.is_ig?(Ke(),Qe("span",J_,"限時動態")):tn("",!0)]),Z("div",ew,[j.club_stamp!=""?(Ke(),Qe("p",tw,ot(j.club_stamp),1)):tn("",!0),ri(" 蓋章時間："+ot(Me(D).format(new Date(j.created_time))),1)])]))),128))],4)])):(Ke(),Qe("div",nw," 這是一張空的集點卡呢 "))]),Z("div",rw,[Me(u).isLoggedIn?(Ke(),Qe("div",sw,[Z("div",iw,[Z("strong",null,ot(Me(u).name)+" ",1),Z("span",{class:Lt(["badge rounded-pill",{"text-bg-success":Me(u).access_priv,"text-bg-danger":!Me(u).access_priv}])},ot(Me(u).access_priv?"集點中":"已兌換抽獎券"),3)]),Z("div",ow,[Z("p",aw,[Z("span",null,"暱稱： "+ot(Me(u).nick_name),1),lw,Z("span",null,"科系： "+ot(Me(u).department),1),cw,Z("span",null,"電子信箱： "+ot(Me(u).email),1),uw,Z("span",null,"電話號碼： "+ot(Me(u).phone),1),fw])])])):(Ke(),Qe("div",hw," 這裡什麼都沒有喔 (ゝ∀･) "))])],512)]))}},gw=Z("h1",null,"Profile",-1),pw={__name:"ProfileView",setup(t){const n=Wd();return(s,a)=>(Ke(),Qe("div",null,[gw,Z("span",null,ot(Me(n).params.id),1)]))}},mw="/Earth_Game/ssc_full_name.png",xw={},Ew=_a('<h1 class="my-3">主辦單位</h1><div class="text-center"><h2>科學開源服務社</h2></div><img class="img-fluid mt-2 mb-4" src="'+mw+'" alt=""><p> 大同大學科學開源服務社（TTUSSC）是透過開源的方式做服務的社團。 會有技術型的社課，讓社員們可以學到各種課內學不到的技術與知識。我們也致力於校園內推廣開源文化，希望可以改善整體風氣，提供一個舒適的學習平台。 也會帶社員們參加國內的研討會，如：SITCON、COSCUP，並且在寒暑假一起舉辦營隊。 想要偷偷內卷但找不到同伴嗎？大學生活希望更充實的度過嗎？快來加入科學開源服務社的大家庭吧！ </p><h1 class="mb-4">共同主辦</h1><div class="text-center"><h2>大智佛學社</h2><p></p></div><div class="text-center"><h2>美術社</h2><p></p></div><div class="text-center"><h2>桌上遊戲社</h2><p></p></div><div class="text-center"><h2>飲品社</h2><p></p></div>',9),_w=[Ew];function ww(t,n){return Ke(),Qe("div",null,_w)}const Aw=hr(xw,[["render",ww]]),bw={},Cw=Z("h1",null,"404 Not Found",-1),yw=Z("p",null,"找不到這個網址的網頁餒",-1),vw=[Cw,yw];function Tw(t,n){return Ke(),Qe("div",null,vw)}const n1=hr(bw,[["render",Tw]]),Zc=t=>(qi("data-v-1de2f5ff"),t=t(),Zi(),t),Sw=Zc(()=>Z("h1",null,"註冊",-1)),Iw={class:"col-md-6"},Ow={class:"invalid-feedback"},Nw={class:"col-md-6"},Rw={class:"invalid-feedback"},Dw={class:"col-md-6"},Mw=_a('<option value="" selected disabled data-v-1de2f5ff>選擇科系</option><hr data-v-1de2f5ff><option value="機械與材料工程學系" data-v-1de2f5ff>機械與材料工程學系</option><option value="化學工程與生物科技學系" data-v-1de2f5ff>化學工程與生物科技學系</option><option value="工程學院學士班" data-v-1de2f5ff>工程學院學士班</option><option value="電機工程學系" data-v-1de2f5ff>電機工程學系</option><option value="資訊工程學系" data-v-1de2f5ff>資訊工程學系</option><option value="事業經營學系" data-v-1de2f5ff>事業經營學系</option><option value="資訊經營學系" data-v-1de2f5ff>資訊經營學系</option><option value="工業設計學系" data-v-1de2f5ff>工業設計學系</option><option value="媒體設計學系" data-v-1de2f5ff>媒體設計學系</option><option value="應用外語學系" data-v-1de2f5ff>應用外語學系</option>',12),Lw=[Mw],Pw={class:"invalid-feedback"},Bw={class:"col-md-6"},kw={class:"invalid-feedback"},Fw={class:"col-md-6"},Uw={class:"invalid-feedback"},Vw={class:"col-12"},Hw={class:"form-check"},Ww=Zc(()=>Z("label",{class:"form-check-label",for:"gridCheck"}," 同意資料使用條款 ",-1)),Gw={class:"invalid-feedback"},$w={class:"col-6 d-grid mx-auto"},Xw=["disabled"],jw={key:1,class:"loading-overlay"},zw=Zc(()=>Z("div",{class:"spinner-border text-primary",role:"status"},[Z("span",{class:"visually-hidden"},"Loading...")],-1)),Yw=[zw],Kw={__name:"RegisterView",setup(t){const n=ro(),s=to(),a=_s();let u=Fe(""),f=Fe(""),g=Fe(""),m=Fe(""),E=Fe(""),x=Fe(""),w=Fe(!1);const A=Fe(!1),I=Fe(""),S=Fe(!1),L=Fe({name:"",nick_name:"",department:"",email:"",phone:"",password:"",check:""});var D=Fe(!1);const J=async()=>{D.value=!0,A.value=!0;try{if(await P()){const H=new FormData;H.append("entry.1936143612",u.value),H.append("entry.1883933211",f.value),H.append("entry.2093473455",m.value),H.append("entry.1241463021",E.value),H.append("entry.1370233916",g.value),await fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfijitS0keu4OKn0P6PdaVg_R9QGPwsP5jl7Wa7RIOnNeNYbA/formResponse",{method:"POST",mode:"no-cors",body:H}),console.log("Form submitted successfully"),console.log("Submitted email:",m.value);let ne=null;for(let Oe=0;Oe<5;Oe++)if(console.log(`Attempt ${Oe+1} to fetch user data`),await s.callAPI(),ne=await s.get_user_by_email(m.value),console.log("API response:",ne),ne){console.log("i=",Oe,"found updated user:",ne),S.value=!1;break}else S.value=!0;S.value?I.value="資料提交失敗":(I.value="註冊成功！",console.log("trying to login."),await a.user_login(m.value),console.log("name:",a.name),console.log("nick_name:",a.nick_name),console.log("department:",a.department),console.log("email:",a.email),console.log("phone:",a.phone),A.value=!1,_e(),n.push({name:"stamp"}))}else A.value=!1,console.log("驗證失敗或未勾選同意條款")}catch(Ee){S.value=!0,I.value="註冊表單錯誤："+Ee,D.value=!1,console.error("Error submitting form:",Ee)}finally{A.value=!1}},Y=(Ee,H,ne)=>ne.required&&(!H||H==="")?(L.value[Ee]="此欄位為必填",!1):ne.minLength&&H.length<ne.minLength?(L.value[Ee]=`最少需要 ${ne.minLength} 個字符`,!1):ne.pattern&&!ne.pattern.test(H)?(L.value[Ee]="格式不正確",!1):(L.value[Ee]="",!0),j=Nt(()=>Y("name",u.value,{required:!0})),B=Nt(()=>Y("nick_name",f.value,{required:!1})),Q=Nt(()=>Y("department",g.value,{required:!0})),he=Nt(()=>Y("email",m.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),K=Nt(()=>Y("phone",E.value,{required:!0,pattern:/^\d{10}$/})),F=Nt(()=>Y("check",w.value,{required:!0})),ce=Nt(()=>j.value&&B.value&&Q.value&&he.value&&K.value&&F.value);async function P(){let Ee="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";var H=!0;if(!ce.value)return!1;try{const Oe=await yt.get(Ee,{params:{table:"users"}});console.log("get users data:"),console.log(Oe.data);const W=Oe.data;for(var ne=0;ne<W.length;ne++)if(W[ne].email===m.value||W[ne].phone_number===E.value)return console.log("data conflict."),S.value=!0,I.value="電子信箱或電話號碼已經被註冊過了。",D.value=!1,!1;return console.log("data valid passed."),H}catch(Oe){return console.error("Error validating form:",Oe),!1}}const _e=()=>{u.value="",f.value="",m.value="",E.value="",x.value="",w.value=!1};return(Ee,H)=>(Ke(),Qe("div",null,[Sw,I.value?(Ke(),Qe("div",{key:0,class:Lt(["mt-3",["alert",S.value?"alert-danger":"alert-success"]]),role:"alert"},ot(I.value),3)):tn("",!0),Z("form",{class:Lt(["row g-3 my-3 needs-validation",{"was-validated":Me(D)}]),onSubmit:Wc(J,["prevent"]),novalidate:""},[Z("div",Iw,[En(Z("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=ne=>gt(u)?u.value=ne:u=ne),class:Lt(["form-control",{"is-invalid":!j.value}]),name:"name",id:"name",placeholder:"姓名",required:""},null,2),[[is,Me(u)]]),Z("div",Ow,ot(L.value.name),1)]),Z("div",Nw,[En(Z("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=ne=>gt(f)?f.value=ne:f=ne),class:Lt(["form-control",{"is-invalid":!B.value}]),name:"nick_name",id:"nick_name",placeholder:"暱稱",required:""},null,2),[[is,Me(f)]]),Z("div",Rw,ot(L.value.nick_name),1)]),Z("div",Dw,[En(Z("select",{"onUpdate:modelValue":H[2]||(H[2]=ne=>gt(g)?g.value=ne:g=ne),class:Lt(["form-select",{"is-invalid":!Q.value}]),name:"department",id:"department",required:""},Lw,2),[[em,Me(g)]]),Z("div",Pw,ot(L.value.department),1)]),Z("div",Bw,[En(Z("input",{type:"email","onUpdate:modelValue":H[3]||(H[3]=ne=>gt(m)?m.value=ne:m=ne),class:Lt(["form-control",{"is-invalid":!he.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[is,Me(m)]]),Z("div",kw,ot(L.value.email),1)]),Z("div",Fw,[En(Z("input",{type:"tel","onUpdate:modelValue":H[4]||(H[4]=ne=>gt(E)?E.value=ne:E=ne),class:Lt(["form-control",{"is-invalid":!K.value}]),name:"phone",id:"phone",placeholder:"電話號碼",required:""},null,2),[[is,Me(E)]]),Z("div",Uw,ot(L.value.phone),1)]),Z("div",Vw,[Z("div",Hw,[En(Z("input",{type:"checkbox",class:Lt(["form-check-input",{"is-invalid":!F.value}]),"onUpdate:modelValue":H[5]||(H[5]=ne=>gt(w)?w.value=ne:w=ne),id:"gridCheck",required:""},null,2),[[J2,Me(w)]]),Ww,Z("div",Gw,ot(L.value.check),1)])]),Z("div",$w,[Z("button",{type:"submit",class:"btn btn-primary",disabled:!ce.value||A.value},ot(A.value?"提交中...":"註冊"),9,Xw)])],34),A.value?(Ke(),Qe("div",jw,Yw)):tn("",!0)]))}},qw=hr(Kw,[["__scopeId","data-v-1de2f5ff"]]);var ye;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var r1=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),s1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(s1||(s1={}));function Zw(t){return Object.values(ye).includes(t)}var na;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(na||(na={}));var Qw=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[na.SCAN_TYPE_CAMERA,na.SCAN_TYPE_FILE],t}(),$d=function(){function t(n,s){this.format=n,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!r1.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,r1.get(n))},t}(),i1=function(){function t(){}return t.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t}(),fc;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(fc||(fc={}));var Jw=function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:fc.UNKWOWN_ERROR}},t}(),eA=function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t}();function sr(t){return typeof t>"u"||t===null}var Fs=function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Xd=function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),g=Object.keys(n),m=0,E=g;m<E.length;m++){var x=E[m];if(f.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hc={exports:{}};(function(t,n){(function(s,a){a(n)})(bi,function(s){function a(b){return b==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,e){b.__proto__=e}||function(b,e){for(var r in e)e.hasOwnProperty(r)&&(b[r]=e[r])};function f(b,e){u(b,e);function r(){this.constructor=b}b.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g(b,e){var r=Object.setPrototypeOf;r?r(b,e):b.__proto__=e}function m(b,e){e===void 0&&(e=b.constructor);var r=Error.captureStackTrace;r&&r(b,e)}var E=function(b){f(e,b);function e(r){var i=this.constructor,o=b.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),g(o,i.prototype),m(o),o}return e}(Error);class x extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class w extends x{}w.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class I{constructor(e){if(this.binarizer=e,e===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,i,o){const l=this.binarizer.getLuminanceSource().crop(e,r,i,o);return new I(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends x{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(e,r,i,o,l){for(;l--;)i[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class J extends x{}J.kind="IndexOutOfBoundsException";class Y extends J{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}Y.kind="ArrayIndexOutOfBoundsException";class j{static fill(e,r){for(let i=0,o=e.length;i<o;i++)e[i]=r}static fillWithin(e,r,i,o){j.rangeCheck(e.length,r,i);for(let l=r;l<i;l++)e[l]=o}static rangeCheck(e,r,i){if(r>i)throw new A("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new Y(r);if(i>e)throw new Y(i)}static asList(...e){return e}static create(e,r,i){return Array.from({length:e}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(e,r,i){return Array.from({length:e}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==r[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const i of e)r=31*r+i;return r}static fillUint8Array(e,r){for(let i=0;i!==e.length;i++)e[i]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const i=new Uint8Array(r);return i.set(e),i}return e.slice(0,r)}static copyOfRange(e,r,i){const o=i-r,l=new Int32Array(o);return D.arraycopy(e,r,l,0,o),l}static binarySearch(e,r,i){i===void 0&&(i=j.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const c=l+o>>1,h=i(r,e[c]);if(h>0)o=c+1;else if(h<0)l=c-1;else return c}return-o-1}static numberComparator(e,r){return e-r}}class B{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let i=31;return r=e<<16,r!==0&&(i-=16,e=r),r=e<<8,r!==0&&(i-=8,e=r),r=e<<4,r!==0&&(i-=4,e=r),r=e<<2,r!==0&&(i-=2,e=r),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=Q.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=Q.makeArray(e);D.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=i[o]}const h=o*32+B.numberOfTrailingZeros(l);return h>r?r:h}getNextUnset(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=~i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=~i[o]}const h=o*32+B.numberOfTrailingZeros(l);return h>r?r:h}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new A;if(r===e)return;r--;const i=Math.floor(e/32),o=Math.floor(r/32),l=this.bits;for(let c=i;c<=o;c++){const h=c>i?0:e&31,p=(2<<(c<o?31:r&31))-(1<<h);l[c]|=p}}clear(){const e=this.bits.length,r=this.bits;for(let i=0;i<e;i++)r[i]=0}isRange(e,r,i){if(r<e||e<0||r>this.size)throw new A;if(r===e)return!0;r--;const o=Math.floor(e/32),l=Math.floor(r/32),c=this.bits;for(let h=o;h<=l;h++){const d=h>o?0:e&31,_=(2<<(h<l?31:r&31))-(1<<d)&4294967295;if((c[h]&_)!==(i?_:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=e.bits[i]}toBytes(e,r,i,o){for(let l=0;l<o;l++){let c=0;for(let h=0;h<8;h++)this.get(e)&&(c|=1<<7-h),e++;r[i+l]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[r-l]=c}if(this.size!==i*32){const l=i*32-this.size;let c=e[0]>>>l;for(let h=1;h<i;h++){const d=e[h];c|=d<<32-l,e[h-1]=c,c=d>>>l}e[i-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Q))return!1;const r=e;return this.size===r.size&&j.equals(this.bits,r.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let e="";for(let r=0,i=this.size;r<i;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new Q(this.size,this.bits.slice())}}var he;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(he||(he={}));var K=he;class F extends x{static getFormatInstance(){return new F}}F.kind="FormatException";var ce;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class P{constructor(e,r,i,...o){this.valueIdentifier=e,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,P.VALUE_IDENTIFIER_TO_ECI.set(e,this),P.NAME_TO_ECI.set(i,this);const l=this.values;for(let c=0,h=l.length;c!==h;c++){const d=l[c];P.VALUES_TO_ECI.set(d,this)}for(const c of o)P.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new F("incorect value");const r=P.VALUES_TO_ECI.get(e);if(r===void 0)throw new F("incorect value");return r}static getCharacterSetECIByName(e){const r=P.NAME_TO_ECI.get(e);if(r===void 0)throw new F("incorect value");return r}equals(e){if(!(e instanceof P))return!1;const r=e;return this.getName()===r.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(ce.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(ce.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(ce.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(ce.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(ce.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(ce.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(ce.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(ce.Big5,28,"Big5"),P.GB18030=new P(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(ce.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends x{}_e.kind="UnsupportedOperationException";class Ee{static decode(e,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Ee.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof P?e:P.getCharacterSetECIByName(e)}static decodeFallback(e,r){const i=this.encodingCharacterSet(r);if(Ee.isDecodeFallbackSupported(i)){let o="";for(let l=0,c=e.length;l<c;l++){let h=e[l].toString(16);h.length<2&&(h="0"+h),o+="%"+h}return decodeURIComponent(o)}if(i.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _e(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(P.UTF8)||e.equals(P.ISO8859_1)||e.equals(P.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class H{static castAsNonUtf8Char(e,r=null){const i=r?r.getName():this.ISO88591;return Ee.decode(new Uint8Array([e]),i)}static guessEncoding(e,r){if(r!=null&&r.get(K.CHARACTER_SET)!==void 0)return r.get(K.CHARACTER_SET).toString();const i=e.length;let o=!0,l=!0,c=!0,h=0,d=0,p=0,_=0,C=0,y=0,O=0,R=0,M=0,k=0,X=0;const de=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let pe=0;pe<i&&(o||l||c);pe++){const le=e[pe]&255;c&&(h>0?le&128?h--:c=!1:le&128&&(le&64?(h++,le&32?(h++,le&16?(h++,le&8?c=!1:_++):p++):d++):c=!1)),o&&(le>127&&le<160?o=!1:le>159&&(le<192||le===215||le===247)&&X++),l&&(C>0?le<64||le===127||le>252?l=!1:C--:le===128||le===160||le>239?l=!1:le>160&&le<224?(y++,R=0,O++,O>M&&(M=O)):le>127?(C++,O=0,R++,R>k&&(k=R)):(O=0,R=0))}return c&&h>0&&(c=!1),l&&C>0&&(l=!1),c&&(de||d+p+_>0)?H.UTF8:l&&(H.ASSUME_SHIFT_JIS||M>=3||k>=3)?H.SHIFT_JIS:o&&l?M===2&&y===2||X*10>=i?H.SHIFT_JIS:H.ISO88591:o?H.ISO88591:l?H.SHIFT_JIS:c?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let i=-1;function o(c,h,d,p,_,C){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=_?parseInt(_.substr(1)):void 0,O;switch(C){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(y||16);break;case"d":O=parseFloat(parseInt(r[i],y||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;O.length<R;)O=h!==void 0?O+M:M+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}static getBytes(e,r){return Ee.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}H.SHIFT_JIS=P.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=P.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=P.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class ne{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=H.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,i){for(let o=r;r<r+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Oe{constructor(e,r,i,o){if(this.width=e,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new A("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,i=e[0].length,o=new Oe(i,r);for(let l=0;l<r;l++){const c=e[l];for(let h=0;h<i;h++)c[h]&&o.set(h,l)}return o}static parseFromString(e,r,i){if(e===null)throw new A("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,c=0,h=-1,d=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(l>c){if(h===-1)h=l-c;else if(l-c!==h)throw new A("row lengths do not match");c=l,d++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(e.substring(p,p+i.length)===i)p+=i.length,o[l]=!1,l++;else throw new A("illegal character encountered: "+e.substring(p));if(l>c){if(h===-1)h=l-c;else if(l-c!==h)throw new A("row lengths do not match");d++}const _=new Oe(h,d);for(let C=0;C<l;C++)o[C]&&_.set(Math.floor(C%h),Math.floor(C/h));return _}get(e,r){const i=r*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const r=new Q(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const h=l*i,d=e.getRow(l,r).getBitArray();for(let p=0;p<i;p++)o[h+p]^=d[p]}}clear(){const e=this.bits,r=e.length;for(let i=0;i<r;i++)e[i]=0}setRegion(e,r,i,o){if(r<0||e<0)throw new A("Left and top must be nonnegative");if(o<1||i<1)throw new A("Height and width must be at least 1");const l=e+i,c=r+o;if(c>this.height||l>this.width)throw new A("The region must fit inside the matrix");const h=this.rowSize,d=this.bits;for(let p=r;p<c;p++){const _=p*h;for(let C=e;C<l;C++)d[_+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new Q(this.width):r.clear();const i=this.rowSize,o=this.bits,l=e*i;for(let c=0;c<i;c++)r.setBulk(c*32,o[l+c]);return r}setRow(e,r){D.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let i=new Q(e),o=new Q(e);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const e=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=e,c=r,h=-1,d=-1;for(let p=0;p<r;p++)for(let _=0;_<i;_++){const C=o[p*i+_];if(C!==0){if(p<c&&(c=p),p>d&&(d=p),_*32<l){let y=0;for(;!(C<<31-y&4294967295);)y++;_*32+y<l&&(l=_*32+y)}if(_*32+31>h){let y=31;for(;!(C>>>y);)y--;_*32+y>h&&(h=_*32+y)}}}return h<l||d<c?null:Int32Array.from([l,c,h-l+1,d-c+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/e;let l=i%e*32;const c=r[i];let h=0;for(;!(c<<31-h&4294967295);)h++;return l+=h,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let l=Math.floor(i%e)*32;const c=r[i];let h=31;for(;!(c>>>h);)h--;return l+=h,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Oe))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&j.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+j.hashCode(this.bits),e}toString(e="X ",r="  ",i=`
`){return this.buildToString(e,r,i)}buildToString(e,r,i){let o=new ne;for(let l=0,c=this.height;l<c;l++){for(let h=0,d=this.width;h<d;h++)o.append(this.get(h,l)?e:r);o.append(i)}return o.toString()}clone(){return new Oe(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends x{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Se extends L{constructor(e){super(e),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(e,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new Q(o):r.clear(),this.initArrays(o);const l=i.getRow(e,this.luminances),c=this.buckets;for(let d=0;d<o;d++)c[(l[d]&255)>>Se.LUMINANCE_SHIFT]++;const h=Se.estimateBlackPoint(c);if(o<3)for(let d=0;d<o;d++)(l[d]&255)<h&&r.set(d);else{let d=l[0]&255,p=l[1]&255;for(let _=1;_<o-1;_++){const C=l[_+1]&255;(p*4-d-C)/2<h&&r.set(_),d=p,p=C}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new Oe(r,i);this.initArrays(r);const l=this.buckets;for(let d=1;d<5;d++){const p=Math.floor(i*d/5),_=e.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let y=Math.floor(r/5);y<C;y++){const O=_[y]&255;l[O>>Se.LUMINANCE_SHIFT]++}}const c=Se.estimateBlackPoint(l),h=e.getMatrix();for(let d=0;d<i;d++){const p=d*r;for(let _=0;_<r;_++)(h[p+_]&255)<c&&o.set(_,d)}return o}createBinarizer(e){return new Se(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let i=0;i<Se.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(e){const r=e.length;let i=0,o=0,l=0;for(let _=0;_<r;_++)e[_]>l&&(o=_,l=e[_]),e[_]>i&&(i=e[_]);let c=0,h=0;for(let _=0;_<r;_++){const C=_-o,y=e[_]*C*C;y>h&&(c=_,h=y)}if(o>c){const _=o;o=c,c=_}if(c-o<=r/16)throw new W;let d=c-1,p=-1;for(let _=c-1;_>o;_--){const C=_-o,y=C*C*(c-_)*(i-e[_]);y>p&&(d=_,p=y)}return d<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class ue extends Se{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=ue.MINIMUM_DIMENSION&&i>=ue.MINIMUM_DIMENSION){const o=e.getMatrix();let l=r>>ue.BLOCK_SIZE_POWER;r&ue.BLOCK_SIZE_MASK&&l++;let c=i>>ue.BLOCK_SIZE_POWER;i&ue.BLOCK_SIZE_MASK&&c++;const h=ue.calculateBlackPoints(o,l,c,r,i),d=new Oe(r,i);ue.calculateThresholdForBlock(o,l,c,r,i,h,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,r,i,o,l,c,h){const d=l-ue.BLOCK_SIZE,p=o-ue.BLOCK_SIZE;for(let _=0;_<i;_++){let C=_<<ue.BLOCK_SIZE_POWER;C>d&&(C=d);const y=ue.cap(_,2,i-3);for(let O=0;O<r;O++){let R=O<<ue.BLOCK_SIZE_POWER;R>p&&(R=p);const M=ue.cap(O,2,r-3);let k=0;for(let de=-2;de<=2;de++){const pe=c[y+de];k+=pe[M-2]+pe[M-1]+pe[M]+pe[M+1]+pe[M+2]}const X=k/25;ue.thresholdBlock(e,R,C,X,o,h)}}}static cap(e,r,i){return e<r?r:e>i?i:e}static thresholdBlock(e,r,i,o,l,c){for(let h=0,d=i*l+r;h<ue.BLOCK_SIZE;h++,d+=l)for(let p=0;p<ue.BLOCK_SIZE;p++)(e[d+p]&255)<=o&&c.set(r+p,i+h)}static calculateBlackPoints(e,r,i,o,l){const c=l-ue.BLOCK_SIZE,h=o-ue.BLOCK_SIZE,d=new Array(i);for(let p=0;p<i;p++){d[p]=new Int32Array(r);let _=p<<ue.BLOCK_SIZE_POWER;_>c&&(_=c);for(let C=0;C<r;C++){let y=C<<ue.BLOCK_SIZE_POWER;y>h&&(y=h);let O=0,R=255,M=0;for(let X=0,de=_*o+y;X<ue.BLOCK_SIZE;X++,de+=o){for(let pe=0;pe<ue.BLOCK_SIZE;pe++){const le=e[de+pe]&255;O+=le,le<R&&(R=le),le>M&&(M=le)}if(M-R>ue.MIN_DYNAMIC_RANGE)for(X++,de+=o;X<ue.BLOCK_SIZE;X++,de+=o)for(let pe=0;pe<ue.BLOCK_SIZE;pe++)O+=e[de+pe]&255}let k=O>>ue.BLOCK_SIZE_POWER*2;if(M-R<=ue.MIN_DYNAMIC_RANGE&&(k=R/2,p>0&&C>0)){const X=(d[p-1][C]+2*d[p][C-1]+d[p-1][C-1])/4;R<X&&(k=X)}d[p][C]=k}}return d}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class $e{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,i,o){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new ne;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let l=0;l<this.width;l++){const c=o[l]&255;let h;c<64?h="#":c<128?h="+":c<192?h=".":h=" ",r.append(h)}r.append(`
`)}return r.toString()}}class mt extends $e{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const i=this.delegate.getRow(e,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,i,o){return new mt(this.delegate.crop(e,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new mt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new mt(this.delegate.rotateCounterClockwise45())}}class vt extends $e{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=vt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return vt.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,c=0,h=e.length;l<h;l+=4,c++){let d;if(e[l+3]===0)d=255;else{const _=e[l],C=e[l+1],y=e[l+2];d=306*_+601*C+117*y+512>>10}o[c]=d}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,i,o){return super.crop(e,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*vt.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),d=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=h,r.height=d,i.translate(h/2,d/2),i.rotate(o),i.drawImage(this.canvas,l/-2,c/-2),this.buffer=vt.makeBufferFromCanvasImageData(r),this}invert(){return new mt(this)}}vt.DEGREE_TO_RADIANS=Math.PI/180;class Gt{constructor(e,r,i){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var qe=(globalThis||bi||self||window||void 0)&&(globalThis||bi||self||window||void 0).__awaiter||function(b,e,r,i){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(_){try{p(i.next(_))}catch(C){c(C)}}function d(_){try{p(i.throw(_))}catch(C){c(C)}}function p(_){_.done?l(_.value):o(_.value).then(h,d)}p((i=i.apply(b,e||[])).next())})};class Bt{constructor(e,r=500,i){this.reader=e,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,c=i.label||`Video device ${r.length+1}`,h=i.groupId,d={deviceId:l,label:c,kind:o,groupId:h};r.push(d)}return r})}getVideoInputDevices(){return qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Gt(r.deviceId,r.label))})}findDeviceById(e){return qe(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return qe(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return qe(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(e,r){return qe(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,r,i){return qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,i)})}decodeFromVideoDevice(e,r,i){return qe(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(e,r,i){return qe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(e,r,i){return qe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return qe(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((r,i)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const i=document.getElementById(e);if(!i)throw new w(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new w(`element with id '${e}' must be an ${r} element`);return i}decodeFromImage(e,r){if(!e&&!r)throw new w("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new w("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,i){if(e===void 0&&r===void 0)throw new w("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new w("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(e){if(!e)throw new w("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new w("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=e,i}decodeFromVideoUrl(e){if(!e)throw new w("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=e,i}decodeFromVideoUrlContinuously(e,r){if(!e)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);l(h)}catch(h){const d=r&&h instanceof W,_=(h instanceof S||h instanceof F)&&i;if(d||_)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(h)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof S||o instanceof F,c=o instanceof W;(l||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,i){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),i=new vt(r),o=new ue(i);return new I(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ct{constructor(e,r,i=r==null?0:8*r.length,o,l,c=D.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=e,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=D.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(r.length+e.length);D.arraycopy(r,0,i,0,r.length),D.arraycopy(e,0,i,r.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var $t;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($t||($t={}));var Ae=$t,ee;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ee||(ee={}));var fe=ee;class xe{constructor(e,r,i,o,l=-1,c=-1){this.rawBytes=e,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ve{exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class ke{constructor(e,r){if(r.length===0)throw new A;this.field=e;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(e===1){i=0;for(let c=0,h=r.length;c!==h;c++){const d=r[c];i=ve.addOrSubtract(i,d)}return i}i=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)i=ve.addOrSubtract(l.multiply(e,i),r[c]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){const c=r;r=i,i=c}let o=new Int32Array(i.length);const l=i.length-r.length;D.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=ve.addOrSubtract(r[c-l],i[c]);return new ke(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1),h=this.field;for(let d=0;d<i;d++){const p=r[d];for(let _=0;_<l;_++)c[d+_]=ve.addOrSubtract(c[d+_],h.multiply(p,o[_]))}return new ke(h,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=i.multiply(l[c],e);return new ke(i,o)}multiplyByMonomial(e,r){if(e<0)throw new A;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+e),c=this.field;for(let h=0;h<o;h++)l[h]=c.multiply(i[h],r);return new ke(c,l)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),c=r.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const h=o.getDegree()-e.getDegree(),d=r.multiply(o.getCoefficient(o.getDegree()),c),p=e.multiplyByMonomial(h,d),_=r.buildMonomial(h,d);i=i.addOrSubtract(_),o=o.addOrSubtract(p)}return[i,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class at extends x{}at.kind="ArithmeticException";class v extends ve{constructor(e,r,i){super(),this.primitive=e,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let h=0;h<r;h++)o[h]=l,l*=2,l>=r&&(l^=e,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let h=0;h<r-1;h++)c[o[h]]=h;this.logTable=c,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(r===0)return this.zero;const i=new Int32Array(e+1);return i[0]=r,new ke(this,i)}inverse(e){if(e===0)throw new at;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}v.AZTEC_DATA_12=new v(4201,4096,1),v.AZTEC_DATA_10=new v(1033,1024,1),v.AZTEC_DATA_6=new v(67,64,1),v.AZTEC_PARAM=new v(19,16,1),v.QR_CODE_FIELD_256=new v(285,256,0),v.DATA_MATRIX_FIELD_256=new v(301,256,1),v.AZTEC_DATA_8=v.DATA_MATRIX_FIELD_256,v.MAXICODE_FIELD_64=v.AZTEC_DATA_6;class N extends x{}N.kind="ReedSolomonException";class V extends x{}V.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,r){const i=this.field,o=new ke(i,e),l=new Int32Array(r);let c=!0;for(let O=0;O<r;O++){const R=o.evaluateAt(i.exp(O+i.getGeneratorBase()));l[l.length-1-O]=R,R!==0&&(c=!1)}if(c)return;const h=new ke(i,l),d=this.runEuclideanAlgorithm(i.buildMonomial(r,1),h,r),p=d[0],_=d[1],C=this.findErrorLocations(p),y=this.findErrorMagnitudes(_,C);for(let O=0;O<C.length;O++){const R=e.length-1-i.log(C[O]);if(R<0)throw new N("Bad error location");e[R]=v.addOrSubtract(e[R],y[O])}}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){const O=e;e=r,r=O}const o=this.field;let l=e,c=r,h=o.getZero(),d=o.getOne();for(;c.getDegree()>=(i/2|0);){let O=l,R=h;if(l=c,h=d,l.isZero())throw new N("r_{i-1} was zero");c=O;let M=o.getZero();const k=l.getCoefficient(l.getDegree()),X=o.inverse(k);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const de=c.getDegree()-l.getDegree(),pe=o.multiply(c.getCoefficient(c.getDegree()),X);M=M.addOrSubtract(o.buildMonomial(de,pe)),c=c.addOrSubtract(l.multiplyByMonomial(de,pe))}if(d=M.multiply(h).addOrSubtract(R),c.getDegree()>=l.getDegree())throw new V("Division algorithm failed to reduce polynomial?")}const p=d.getCoefficient(0);if(p===0)throw new N("sigmaTilde(0) was zero");const _=o.inverse(p),C=d.multiplyScalar(_),y=c.multiplyScalar(_);return[C,y]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)e.evaluateAt(c)===0&&(i[o]=l.inverse(c),o++);if(o!==r)throw new N("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let c=0;c<i;c++){const h=l.inverse(r[c]);let d=1;for(let p=0;p<i;p++)if(c!==p){const _=l.multiply(r[p],h),C=_&1?_&-2:_|1;d=l.multiply(d,C)}o[c]=l.multiply(e.evaluateAt(h),l.inverse(d)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],h))}return o}}var z;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(z||(z={}));class te{decode(e){this.ddata=e;let r=e.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=te.convertBoolArrayToByteArray(o),c=te.getEncodedData(o),h=new xe(l,c,null,null);return h.setNumBits(o.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,i=z.UPPER,o=z.UPPER,l="",c=0;for(;c<r;)if(o===z.BINARY){if(r-c<5)break;let h=te.readCode(e,c,5);if(c+=5,h===0){if(r-c<11)break;h=te.readCode(e,c,11)+31,c+=11}for(let d=0;d<h;d++){if(r-c<8){c=r;break}const p=te.readCode(e,c,8);l+=H.castAsNonUtf8Char(p),c+=8}o=i}else{let h=o===z.DIGIT?4:5;if(r-c<h)break;let d=te.readCode(e,c,h);c+=h;let p=te.getCharacter(o,d);p.startsWith("CTRL_")?(i=o,o=te.getTable(p.charAt(5)),p.charAt(6)==="L"&&(i=o)):(l+=p,o=i)}return l}static getTable(e){switch(e){case"L":return z.LOWER;case"P":return z.PUNCT;case"M":return z.MIXED;case"D":return z.DIGIT;case"B":return z.BINARY;case"U":default:return z.UPPER}}static getCharacter(e,r){switch(e){case z.UPPER:return te.UPPER_TABLE[r];case z.LOWER:return te.LOWER_TABLE[r];case z.MIXED:return te.MIXED_TABLE[r];case z.PUNCT:return te.PUNCT_TABLE[r];case z.DIGIT:return te.DIGIT_TABLE[r];default:throw new V("Bad table")}}correctBits(e){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=v.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=v.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=v.AZTEC_DATA_10):(i=12,r=v.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=e.length/i;if(l<o)throw new F;let c=e.length%i,h=new Int32Array(l);for(let y=0;y<l;y++,c+=i)h[y]=te.readCode(e,c,i);try{new re(r).decode(h,l-o)}catch(y){throw new F(y)}let d=(1<<i)-1,p=0;for(let y=0;y<o;y++){let O=h[y];if(O===0||O===d)throw new F;(O===1||O===d-1)&&p++}let _=new Array(o*i-p),C=0;for(let y=0;y<o;y++){let O=h[y];if(O===1||O===d-1)_.fill(O>1,C,C+i-1),C+=i-1;else for(let R=i-1;R>=0;--R)_[C++]=(O&1<<R)!==0}return _}extractBits(e){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,r));if(r)for(let h=0;h<l.length;h++)l[h]=h;else{let h=o+1+2*B.truncDivision(B.truncDivision(o,2)-1,15),d=o/2,p=B.truncDivision(h,2);for(let _=0;_<d;_++){let C=_+B.truncDivision(_,15);l[d-_-1]=p-C-1,l[d+_]=p+C+1}}for(let h=0,d=0;h<i;h++){let p=(i-h)*4+(r?9:12),_=h*2,C=o-1-_;for(let y=0;y<p;y++){let O=y*2;for(let R=0;R<2;R++)c[d+O+R]=e.get(l[_+R],l[_+y]),c[d+2*p+O+R]=e.get(l[_+y],l[C-R]),c[d+4*p+O+R]=e.get(l[C-R],l[C-y]),c[d+6*p+O+R]=e.get(l[C-y],l[_+R])}d+=p*8}return c}static readCode(e,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,e[l]&&(o|=1);return o}static readByte(e,r){let i=e.length-r;return i>=8?te.readCode(e,r,8):te.readCode(e,r,i)<<8-i}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let i=0;i<r.length;i++)r[i]=te.readByte(e,8*i);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}te.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],te.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],te.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],te.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],te.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class se{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,i,o){const l=e-i,c=r-o;return Math.sqrt(l*l+c*c)}static sum(e){let r=0;for(let i=0,o=e.length;i!==o;i++){const l=e[i];r+=l}return r}}class ge{static floatToIntBits(e){return e}}ge.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof G){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ge.floatToIntBits(this.x)+ge.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,c,h;if(i>=r&&i>=o?(c=e[0],l=e[1],h=e[2]):o>=i&&o>=r?(c=e[1],l=e[0],h=e[2]):(c=e[2],l=e[0],h=e[1]),this.crossProductZ(l,c,h)<0){const d=l;l=h,h=d}e[0]=l,e[1]=c,e[2]=h}static distance(e,r){return se.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,i){const o=r.x,l=r.y;return(i.x-o)*(e.y-l)-(i.y-l)*(e.x-o)}}class oe{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we extends oe{constructor(e,r,i,o,l){super(e,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class be{constructor(e,r,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=be.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let e=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,c=!0,h=!1,d=!1,p=!1,_=!1,C=!1;const y=this.width,O=this.height;for(;c;){c=!1;let R=!0;for(;(R||!d)&&r<y;)R=this.containsBlackPoint(i,o,r,!1),R?(r++,c=!0,d=!0):d||r++;if(r>=y){l=!0;break}let M=!0;for(;(M||!p)&&o<O;)M=this.containsBlackPoint(e,r,o,!0),M?(o++,c=!0,p=!0):p||o++;if(o>=O){l=!0;break}let k=!0;for(;(k||!_)&&e>=0;)k=this.containsBlackPoint(i,o,e,!1),k?(e--,c=!0,_=!0):_||e--;if(e<0){l=!0;break}let X=!0;for(;(X||!C)&&i>=0;)X=this.containsBlackPoint(e,r,i,!0),X?(i--,c=!0,C=!0):C||i--;if(i<0){l=!0;break}c&&(h=!0)}if(!l&&h){const R=r-e;let M=null;for(let pe=1;M===null&&pe<R;pe++)M=this.getBlackPointOnSegment(e,o-pe,e+pe,o);if(M==null)throw new W;let k=null;for(let pe=1;k===null&&pe<R;pe++)k=this.getBlackPointOnSegment(e,i+pe,e+pe,i);if(k==null)throw new W;let X=null;for(let pe=1;X===null&&pe<R;pe++)X=this.getBlackPointOnSegment(r,i+pe,r-pe,i);if(X==null)throw new W;let de=null;for(let pe=1;de===null&&pe<R;pe++)de=this.getBlackPointOnSegment(r,o-pe,r-pe,o);if(de==null)throw new W;return this.centerEdges(de,M,X,k)}else throw new W}getBlackPointOnSegment(e,r,i,o){const l=se.round(se.distance(e,r,i,o)),c=(i-e)/l,h=(o-r)/l,d=this.image;for(let p=0;p<l;p++){const _=se.round(e+p*c),C=se.round(r+p*h);if(d.get(_,C))return new G(_,C)}return null}centerEdges(e,r,i,o){const l=e.getX(),c=e.getY(),h=r.getX(),d=r.getY(),p=i.getX(),_=i.getY(),C=o.getX(),y=o.getY(),O=be.CORR;return l<this.width/2?[new G(C-O,y+O),new G(h+O,d+O),new G(p-O,_-O),new G(l+O,c-O)]:[new G(C+O,y+O),new G(h+O,d-O),new G(p-O,_+O),new G(l-O,c-O)]}containsBlackPoint(e,r,i,o){const l=this.image;if(o){for(let c=e;c<=r;c++)if(l.get(c,i))return!0}else for(let c=e;c<=r;c++)if(l.get(i,c))return!0;return!1}}be.INIT_SIZE=10,be.CORR=1;class Te{static checkAndNudgePoints(e,r){const i=e.getWidth(),o=e.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const h=Math.floor(r[c]),d=Math.floor(r[c+1]);if(h<-1||h>i||d<-1||d>o)throw new W;l=!1,h===-1?(r[c]=0,l=!0):h===i&&(r[c]=i-1,l=!0),d===-1?(r[c+1]=0,l=!0):d===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const h=Math.floor(r[c]),d=Math.floor(r[c+1]);if(h<-1||h>i||d<-1||d>o)throw new W;l=!1,h===-1?(r[c]=0,l=!0):h===i&&(r[c]=i-1,l=!0),d===-1?(r[c+1]=0,l=!0):d===o&&(r[c+1]=o-1,l=!0)}}}class Ie{constructor(e,r,i,o,l,c,h,d,p){this.a11=e,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=c,this.a13=h,this.a23=d,this.a33=p}static quadrilateralToQuadrilateral(e,r,i,o,l,c,h,d,p,_,C,y,O,R,M,k){const X=Ie.quadrilateralToSquare(e,r,i,o,l,c,h,d);return Ie.squareToQuadrilateral(p,_,C,y,O,R,M,k).times(X)}transformPoints(e){const r=e.length,i=this.a11,o=this.a12,l=this.a13,c=this.a21,h=this.a22,d=this.a23,p=this.a31,_=this.a32,C=this.a33;for(let y=0;y<r;y+=2){const O=e[y],R=e[y+1],M=l*O+d*R+C;e[y]=(i*O+c*R+p)/M,e[y+1]=(o*O+h*R+_)/M}}transformPointsWithValues(e,r){const i=this.a11,o=this.a12,l=this.a13,c=this.a21,h=this.a22,d=this.a23,p=this.a31,_=this.a32,C=this.a33,y=e.length;for(let O=0;O<y;O++){const R=e[O],M=r[O],k=l*R+d*M+C;e[O]=(i*R+c*M+p)/k,r[O]=(o*R+h*M+_)/k}}static squareToQuadrilateral(e,r,i,o,l,c,h,d){const p=e-i+l-h,_=r-o+c-d;if(p===0&&_===0)return new Ie(i-e,l-i,e,o-r,c-o,r,0,0,1);{const C=i-l,y=h-l,O=o-c,R=d-c,M=C*R-y*O,k=(p*R-y*_)/M,X=(C*_-p*O)/M;return new Ie(i-e+k*i,h-e+X*h,e,o-r+k*o,d-r+X*d,r,k,X,1)}}static quadrilateralToSquare(e,r,i,o,l,c,h,d){return Ie.squareToQuadrilateral(e,r,i,o,l,c,h,d).buildAdjoint()}buildAdjoint(){return new Ie(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ie(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Ve extends Te{sampleGrid(e,r,i,o,l,c,h,d,p,_,C,y,O,R,M,k,X,de,pe){const le=Ie.quadrilateralToQuadrilateral(o,l,c,h,d,p,_,C,y,O,R,M,k,X,de,pe);return this.sampleGridWithTransform(e,r,i,le)}sampleGridWithTransform(e,r,i,o){if(r<=0||i<=0)throw new W;const l=new Oe(r,i),c=new Float32Array(2*r);for(let h=0;h<i;h++){const d=c.length,p=h+.5;for(let _=0;_<d;_+=2)c[_]=_/2+.5,c[_+1]=p;o.transformPoints(c),Te.checkAndNudgePoints(e,c);try{for(let _=0;_<d;_+=2)e.get(Math.floor(c[_]),Math.floor(c[_+1]))&&l.set(_/2,h)}catch{throw new W}}return l}}class Ye{static setGridSampler(e){Ye.gridSampler=e}static getInstance(){return Ye.gridSampler}}Ye.gridSampler=new Ve;class Ue{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new G(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Dt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(e){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new we(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new W;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let c=0;c<4;c++){let h=i[(this.shift+c)%4];this.compact?(o<<=7,o+=h>>1&127):(o<<=10,o+=(h>>2&992)+(h>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(e,r){let i=0;e.forEach((o,l,c)=>{let h=(o>>r-2<<1)+(o&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(B.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(e,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,c=new Int32Array(i);for(let d=i-1;d>=0;--d)c[d]=e&15,e>>=4;try{new re(v.AZTEC_PARAM).decode(c,l)}catch{throw new W}let h=0;for(let d=0;d<o;d++)h=(h<<4)+c[d];return h}getBullsEyeCorners(e){let r=e,i=e,o=e,l=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,c,1,-1),y=this.getFirstDifferent(i,c,1,1),O=this.getFirstDifferent(o,c,-1,1),R=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(R,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(C,y,O,R))break}r=C,i=y,o=O,l=R,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let h=new G(r.getX()+.5,r.getY()-.5),d=new G(i.getX()+.5,i.getY()+.5),p=new G(o.getX()-.5,o.getY()+.5),_=new G(l.getX()-.5,l.getY()-.5);return this.expandSquare([h,d,p,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,i,o;try{let h=new be(this.image).detect();e=h[0],r=h[1],i=h[2],o=h[3]}catch{let d=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new Ue(d+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ue(d+7,p+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ue(d-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ue(d-7,p-7),!1,-1,-1).toResultPoint()}let l=se.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=se.round((e.getY()+o.getY()+r.getY()+i.getY())/4);try{let h=new be(this.image,15,l,c).detect();e=h[0],r=h[1],i=h[2],o=h[3]}catch{e=this.getFirstDifferent(new Ue(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ue(l+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ue(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ue(l-7,c-7),!1,-1,-1).toResultPoint()}return l=se.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=se.round((e.getY()+o.getY()+r.getY()+i.getY())/4),new Ue(l,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,i,o,l){let c=Ye.getInstance(),h=this.getDimension(),d=h/2-this.nbCenterLayers,p=h/2+this.nbCenterLayers;return c.sampleGrid(e,h,h,d,d,p,d,p,p,d,p,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,r,i){let o=0,l=this.distanceResultPoint(e,r),c=l/i,h=e.getX(),d=e.getY(),p=c*(r.getX()-e.getX())/l,_=c*(r.getY()-e.getY())/l;for(let C=0;C<i;C++)this.image.get(se.round(h+C*p),se.round(d+C*_))&&(o|=1<<i-C-1);return o}isWhiteOrBlackRectangle(e,r,i,o){let l=3;e=new Ue(e.getX()-l,e.getY()+l),r=new Ue(r.getX()-l,r.getY()-l),i=new Ue(i.getX()+l,i.getY()-l),o=new Ue(o.getX()+l,o.getY()+l);let c=this.getColor(o,e);if(c===0)return!1;let h=this.getColor(e,r);return h!==c||(h=this.getColor(r,i),h!==c)?!1:(h=this.getColor(i,o),h===c)}getColor(e,r){let i=this.distancePoint(e,r),o=(r.getX()-e.getX())/i,l=(r.getY()-e.getY())/i,c=0,h=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),_=Math.ceil(i);for(let y=0;y<_;y++)h+=o,d+=l,this.image.get(se.round(h),se.round(d))!==p&&c++;let C=c/i;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(e,r,i,o){let l=e.getX()+i,c=e.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i,c+=o;for(l-=i,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i;for(l-=i;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new Ue(l,c)}expandSquare(e,r,i){let o=i/(2*r),l=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new G(h+o*l,d+o*c),_=new G(h-o*l,d-o*c);l=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let C=new G(h+o*l,d+o*c),y=new G(h-o*l,d-o*c);return[p,C,_,y]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=se.round(e.getX()),i=se.round(e.getY());return this.isValid(r,i)}distancePoint(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(e,r=null){let i=null,o=new Dt(e.getBlackMatrix()),l=null,c=null;try{let _=o.detectMirror(!1);l=_.getPoints(),this.reportFoundResultPoints(r,l),c=new te().decode(_)}catch(_){i=_}if(c==null)try{let _=o.detectMirror(!0);l=_.getPoints(),this.reportFoundResultPoints(r,l),c=new te().decode(_)}catch(_){throw i??_}let h=new ct(c.getText(),c.getRawBytes(),c.getNumBits(),l,Ae.AZTEC,D.currentTimeMillis()),d=c.getByteSegments();d!=null&&h.putMetadata(fe.BYTE_SEGMENTS,d);let p=c.getECLevel();return p!=null&&h.putMetadata(fe.ERROR_CORRECTION_LEVEL,p),h}reportFoundResultPoints(e,r){if(e!=null){let i=e.get(K.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class gr extends Bt{constructor(e=500){super(new Yt,e)}}class bt{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(K.TRY_HARDER)===!0&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),c=this.doDecode(l,r),h=c.getResultMetadata();let d=270;h!==null&&h.get(fe.ORIENTATION)===!0&&(d=d+h.get(fe.ORIENTATION)%360),c.putMetadata(fe.ORIENTATION,d);const p=c.getResultPoints();if(p!==null){const _=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new G(_-p[C].getY()-1,p[C].getX())}return c}else throw new W}}reset(){}doDecode(e,r){const i=e.getWidth(),o=e.getHeight();let l=new Q(i);const c=r&&r.get(K.TRY_HARDER)===!0,h=Math.max(1,o>>(c?8:5));let d;c?d=o:d=15;const p=Math.trunc(o/2);for(let _=0;_<d;_++){const C=Math.trunc((_+1)/2),y=(_&1)===0,O=p+h*(y?C:-C);if(O<0||O>=o)break;try{l=e.getBlackRow(O,l)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(l.reverse(),r&&r.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;r.forEach((k,X)=>M.set(X,k)),M.delete(K.NEED_RESULT_POINT_CALLBACK),r=M}try{const M=this.decodeRow(O,l,r);if(R===1){M.putMetadata(fe.ORIENTATION,180);const k=M.getResultPoints();k!==null&&(k[0]=new G(i-k[0].getX()-1,k[0].getY()),k[1]=new G(i-k[1].getX()-1,k[1].getY()))}return M}catch{}}}throw new W}static recordPattern(e,r,i){const o=i.length;for(let p=0;p<o;p++)i[p]=0;const l=e.getSize();if(r>=l)throw new W;let c=!e.get(r),h=0,d=r;for(;d<l;){if(e.get(d)!==c)i[h]++;else{if(++h===o)break;i[h]=1,c=!c}d++}if(!(h===o||h===o-1&&d===l))throw new W}static recordPatternInReverse(e,r,i){let o=i.length,l=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new W;bt.recordPattern(e,r+1,i)}static patternMatchVariance(e,r,i){const o=e.length;let l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return Number.POSITIVE_INFINITY;const h=l/c;i*=h;let d=0;for(let p=0;p<o;p++){const _=e[p],C=r[p]*h,y=_>C?_-C:C-_;if(y>i)return Number.POSITIVE_INFINITY;d+=y}return d/l}}class me extends bt{static findStartPattern(e){const r=e.getSize(),i=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=i,h=!1;const d=6;for(let p=i;p<r;p++)if(e.get(p)!==h)l[o]++;else{if(o===d-1){let _=me.MAX_AVG_VARIANCE,C=-1;for(let y=me.CODE_START_A;y<=me.CODE_START_C;y++){const O=bt.patternMatchVariance(l,me.CODE_PATTERNS[y],me.MAX_INDIVIDUAL_VARIANCE);O<_&&(_=O,C=y)}if(C>=0&&e.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,C]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,h=!h}throw new W}static decodeCode(e,r,i){bt.recordPattern(e,i,r);let o=me.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<me.CODE_PATTERNS.length;c++){const h=me.CODE_PATTERNS[c],d=this.patternMatchVariance(r,h,me.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,l=c)}if(l>=0)return l;throw new W}decodeRow(e,r,i){const o=i&&i.get(K.ASSUME_GS1)===!0,l=me.findStartPattern(r),c=l[2];let h=0;const d=new Uint8Array(20);d[h++]=c;let p;switch(c){case me.CODE_START_A:p=me.CODE_CODE_A;break;case me.CODE_START_B:p=me.CODE_CODE_B;break;case me.CODE_START_C:p=me.CODE_CODE_C;break;default:throw new F}let _=!1,C=!1,y="",O=l[0],R=l[1];const M=Int32Array.from([0,0,0,0,0,0]);let k=0,X=0,de=c,pe=0,le=!0,Ze=!1,We=!1;for(;!_;){const Ns=C;switch(C=!1,k=X,X=me.decodeCode(r,M,R),d[h++]=X,X!==me.CODE_STOP&&(le=!0),X!==me.CODE_STOP&&(pe++,de+=pe*X),O=R,R+=M.reduce((bg,Cg)=>bg+Cg,0),X){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new F}switch(p){case me.CODE_CODE_A:if(X<64)We===Ze?y+=String.fromCharCode(32+X):y+=String.fromCharCode(32+X+128),We=!1;else if(X<96)We===Ze?y+=String.fromCharCode(X-64):y+=String.fromCharCode(X+64),We=!1;else switch(X!==me.CODE_STOP&&(le=!1),X){case me.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case me.CODE_SHIFT:C=!0,p=me.CODE_CODE_B;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:_=!0;break}break;case me.CODE_CODE_B:if(X<96)We===Ze?y+=String.fromCharCode(32+X):y+=String.fromCharCode(32+X+128),We=!1;else switch(X!==me.CODE_STOP&&(le=!1),X){case me.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case me.CODE_SHIFT:C=!0,p=me.CODE_CODE_A;break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:_=!0;break}break;case me.CODE_CODE_C:if(X<100)X<10&&(y+="0"),y+=X;else switch(X!==me.CODE_STOP&&(le=!1),X){case me.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_STOP:_=!0;break}break}Ns&&(p=p===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const ln=R-O;if(R=r.getNextUnset(R),!r.isRange(R,Math.min(r.getSize(),R+(R-O)/2),!1))throw new W;if(de-=pe*k,de%103!==k)throw new S;const Fn=y.length;if(Fn===0)throw new W;Fn>0&&le&&(p===me.CODE_CODE_C?y=y.substring(0,Fn-2):y=y.substring(0,Fn-1));const cn=(l[1]+l[0])/2,dt=O+ln/2,zt=d.length,pn=new Uint8Array(zt);for(let Ns=0;Ns<zt;Ns++)pn[Ns]=d[Ns];const Os=[new G(cn,e),new G(dt,e)];return new ct(y,pn,0,Os,Ae.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Tt extends bt{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=Tt.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),h=r.getSize(),d,p;do{Tt.recordPattern(r,c,o);let M=Tt.toNarrowWidePattern(o);if(M<0)throw new W;d=Tt.patternToChar(M),this.decodeRowResult+=d,p=c;for(let k of o)c+=k;c=r.getNextSet(c)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let M of o)_+=M;let C=c-p-_;if(c!==h&&C*2<_)throw new W;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,k=0;for(let X=0;X<M;X++)k+=Tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(M)!==Tt.ALPHABET_STRING.charAt(k%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new W;let y;this.extendedMode?y=Tt.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let O=(l[1]+l[0])/2,R=p+_/2;return new ct(y,null,0,[new G(O,e),new G(R,e)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let i=e.getSize(),o=e.getNextSet(0),l=0,c=o,h=!1,d=r.length;for(let p=o;p<i;p++)if(e.get(p)!==h)r[l]++;else{if(l===d-1){if(this.toNarrowWidePattern(r)===Tt.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,h=!h}throw new W}static toNarrowWidePattern(e){let r=e.length,i=0,o;do{let l=2147483647;for(let d of e)d<l&&d>i&&(l=d);i=l,o=0;let c=0,h=0;for(let d=0;d<r;d++){let p=e[d];p>i&&(h|=1<<r-1-d,o++,c+=p)}if(o===3){for(let d=0;d<r&&o>0;d++){let p=e[d];if(p>i&&(o--,p*2>=c))return-1}return h}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<Tt.CHARACTER_ENCODINGS.length;r++)if(Tt.CHARACTER_ENCODINGS[r]===e)return Tt.ALPHABET_STRING.charAt(r);if(e===Tt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(e){let r=e.length,i="";for(let o=0;o<r;o++){let l=e.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=e.charAt(o+1),h="\0";switch(l){case"+":if(c>="A"&&c<="Z")h=String.fromCharCode(c.charCodeAt(0)+32);else throw new F;break;case"$":if(c>="A"&&c<="Z")h=String.fromCharCode(c.charCodeAt(0)-64);else throw new F;break;case"%":if(c>="A"&&c<="E")h=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")h=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")h=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")h=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")h="\0";else if(c==="V")h="@";else if(c==="W")h="`";else if(c==="X"||c==="Y"||c==="Z")h="";else throw new F;break;case"/":if(c>="A"&&c<="O")h=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")h=":";else throw new F;break}i+=h,o++}else i+=l}return i}}Tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Tt.ASTERISK_ENCODING=148;class Xe extends bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new ne;Xe.decodeMiddle(r,o[1],l[0],c);let h=c.toString(),d=null;i!=null&&(d=i.get(K.ALLOWED_LENGTHS)),d==null&&(d=Xe.DEFAULT_ALLOWED_LENGTHS);let p=h.length,_=!1,C=0;for(let R of d){if(p===R){_=!0;break}R>C&&(C=R)}if(!_&&p>C&&(_=!0),!_)throw new F;const y=[new G(o[1],e),new G(l[0],e)];return new ct(h,null,0,y,Ae.ITF,new Date().getTime())}static decodeMiddle(e,r,i,o){let l=new Int32Array(10),c=new Int32Array(5),h=new Int32Array(5);for(l.fill(0),c.fill(0),h.fill(0);r<i;){bt.recordPattern(e,r,l);for(let p=0;p<5;p++){let _=2*p;c[p]=l[_],h[p]=l[_+1]}let d=Xe.decodeDigit(c);o.append(d.toString()),d=this.decodeDigit(h),o.append(d.toString()),l.forEach(function(p){r+=p})}}decodeStart(e){let r=Xe.skipWhiteSpace(e),i=Xe.findGuardPattern(e,r,Xe.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new W}static skipWhiteSpace(e){const r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new W;return i}decodeEnd(e){e.reverse();try{let r=Xe.skipWhiteSpace(e),i;try{i=Xe.findGuardPattern(e,r,Xe.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(i=Xe.findGuardPattern(e,r,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,r,i){let o=i.length,l=new Int32Array(o),c=e.getSize(),h=!1,d=0,p=r;l.fill(0);for(let _=r;_<c;_++)if(e.get(_)!==h)l[d]++;else{if(d===o-1){if(bt.patternMatchVariance(l,i,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[p,_];p+=l[0]+l[1],D.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,h=!h}throw new W}static decodeDigit(e){let r=Xe.MAX_AVG_VARIANCE,i=-1,o=Xe.PATTERNS.length;for(let l=0;l<o;l++){let c=Xe.PATTERNS[l],h=bt.patternMatchVariance(e,c,Xe.MAX_INDIVIDUAL_VARIANCE);h<r?(r=h,i=l):h===r&&(i=-1)}if(i>=0)return i%10;throw new W}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class et extends bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=et.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let c=i[0];o=i[1];let h=c-(o-c);h>=0&&(r=e.isRange(h,c,!1))}return i}static checkChecksum(e){return et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return et.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}return(1e3-i)%10}static decodeEnd(e,r){return et.findGuardPattern(e,r,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))}static findGuardPattern(e,r,i,o,l){let c=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);let h=0,d=r,p=o.length,_=i;for(let C=r;C<c;C++)if(e.get(C)!==_)l[h]++;else{if(h===p-1){if(bt.patternMatchVariance(l,o,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return Int32Array.from([d,C]);d+=l[0]+l[1];let y=l.slice(2,l.length-1);for(let O=0;O<h-1;O++)l[O]=y[O];l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,_=!_}throw new W}static decodeDigit(e,r,i,o){this.recordPattern(e,i,r);let l=this.MAX_AVG_VARIANCE,c=-1,h=o.length;for(let d=0;d<h;d++){let p=o[d],_=bt.patternMatchVariance(r,p,et.MAX_INDIVIDUAL_VARIANCE);_<l&&(l=_,c=d)}if(c>=0)return c;throw new W}}et.MAX_AVG_VARIANCE=.48,et.MAX_INDIVIDUAL_VARIANCE=.7,et.START_END_PATTERN=Int32Array.from([1,1,1]),et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),h=pr.parseExtensionString(c),d=[new G((i[0]+i[1])/2,e),new G(l,e)],p=new ct(c,null,0,d,Ae.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&p.putAllMetadata(h),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let p=0;p<5&&c<l;p++){let _=et.decodeDigit(e,o,c,et.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);for(let C of o)c+=C;_>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==5)throw new W;let d=this.determineCheckDigit(h);if(pr.extensionChecksum(i.toString())!==d)throw new W;return c}static extensionChecksum(e){let r=e.length,i=0;for(let o=r-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(e){if(e.length!==5)return null;let r=pr.parseExtension5String(e);return r==null?null:new Map([[fe.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),l=i%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class Ha{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),h=Ha.parseExtensionString(c),d=[new G((i[0]+i[1])/2,e),new G(l,e)],p=new ct(c,null,0,d,Ae.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&p.putAllMetadata(h),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let d=0;d<2&&c<l;d++){let p=et.decodeDigit(e,o,c,et.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let _ of o)c+=_;p>=10&&(h|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==2)throw new W;if(parseInt(i.toString())%4!==h)throw new W;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[fe.ISSUE_NUMBER,parseInt(e)]])}}class Eu{static decodeRow(e,r,i){let o=et.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pr().decodeRow(e,r,o)}catch{return new Ha().decodeRow(e,r,o)}}}Eu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class st extends et{constructor(){super(),this.decodeRowStringBuffer="",st.L_AND_G_PATTERNS=st.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=st.L_PATTERNS[e-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];st.L_AND_G_PATTERNS[e]=i}}decodeRow(e,r,i){let o=st.findStartGuardPattern(r),l=i==null?null:i.get(K.NEED_RESULT_POINT_CALLBACK);if(l!=null){const le=new G((o[0]+o[1])/2,e);l.foundPossibleResultPoint(le)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),h=c.rowOffset,d=c.resultString;if(l!=null){const le=new G(h,e);l.foundPossibleResultPoint(le)}let p=this.decodeEnd(r,h);if(l!=null){const le=new G((p[0]+p[1])/2,e);l.foundPossibleResultPoint(le)}let _=p[1],C=_+(_-p[0]);if(C>=r.getSize()||!r.isRange(_,C,!1))throw new W;let y=d.toString();if(y.length<8)throw new F;if(!st.checkChecksum(y))throw new S;let O=(o[1]+o[0])/2,R=(p[1]+p[0])/2,M=this.getBarcodeFormat(),k=[new G(O,e),new G(R,e)],X=new ct(y,null,0,k,M,new Date().getTime()),de=0;try{let le=Eu.decodeRow(e,r,p[1]);X.putMetadata(fe.UPC_EAN_EXTENSION,le.getText()),X.putAllMetadata(le.getResultMetadata()),X.addResultPoints(le.getResultPoints()),de=le.getText().length}catch{}let pe=i==null?null:i.get(K.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let le=!1;for(let Ze in pe)if(de.toString()===Ze){le=!0;break}if(!le)throw new W}return X}decodeEnd(e,r){return st.findGuardPattern(e,r,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return st.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}return(1e3-i)%10}}class zr extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let p=0;p<6&&c<l;p++){let _=st.decodeDigit(e,o,c,st.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);for(let C of o)c+=C;_>=10&&(h|=1<<5-p)}i=zr.determineFirstDigit(i,h),c=st.findGuardPattern(e,c,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let _=st.decodeDigit(e,o,c,st.L_PATTERNS);i+=String.fromCharCode(48+_);for(let C of o)c+=C}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(e,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new W}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class _u extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1];for(let d=0;d<4&&c<l;d++){let p=st.decodeDigit(e,o,c,st.L_PATTERNS);i+=String.fromCharCode(48+p);for(let _ of o)c+=_}c=st.findGuardPattern(e,c,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&c<l;d++){let p=st.decodeDigit(e,o,c,st.L_PATTERNS);i+=String.fromCharCode(48+p);for(let _ of o)c+=_}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return Ae.EAN_8}}class wu extends st{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return Ae.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))}decodeMiddle(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let i=new ct(r.substring(1),null,null,e.getResultPoints(),Ae.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new W}reset(){this.ean13Reader.reset()}}class kn extends st{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let c=r[1],h=0;for(let p=0;p<6&&c<l;p++){const _=kn.decodeDigit(e,o,c,kn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);for(let C of o)c+=C;_>=10&&(h|=1<<5-p)}let d=kn.determineNumSysAndCheckDigit(i,h);return{rowOffset:c,resultString:d}}decodeEnd(e,r){return kn.findGuardPatternWithoutCounters(e,r,!0,kn.MIDDLE_END_PATTERN)}checkChecksum(e){return st.checkChecksum(kn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),c=String.fromCharCode(48+o);return l+e+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new ne;i.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wa extends bt{constructor(e){super();let r=e==null?null:e.get(K.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new zr),i.push(new wu),i.push(new _u),i.push(new kn)):(r.indexOf(Ae.EAN_13)>-1&&i.push(new zr),r.indexOf(Ae.UPC_A)>-1&&i.push(new wu),r.indexOf(Ae.EAN_8)>-1&&i.push(new _u),r.indexOf(Ae.UPC_E)>-1&&i.push(new kn)),this.readers=i}decodeRow(e,r,i){for(let o of this.readers)try{const l=o.decodeRow(e,r,i),c=l.getBarcodeFormat()===Ae.EAN_13&&l.getText().charAt(0)==="0",h=i==null?null:i.get(K.POSSIBLE_FORMATS),d=h==null||h.includes(Ae.UPC_A);if(c&&d){const p=l.getRawBytes(),_=new ct(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),Ae.UPC_A);return _.putAllMetadata(l.getResultMetadata()),_}return l}catch{}throw new W}reset(){for(let e of this.readers)e.reset()}}class Kt extends bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let i=0;i<r.length;i++)if(bt.patternMatchVariance(e,r[i],Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return i;throw new W}static count(e){return se.sum(new Int32Array(e))}static increment(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]>o&&(o=r[l],i=l);e[i]++}static decrement(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]<o&&(o=r[l],i=l);e[i]--}static isFinderPattern(e){let r=e[0]+e[1],i=r+e[2]+e[3],o=r/i;if(o>=Kt.MIN_FINDER_PATTERN_RATIO&&o<=Kt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let h of e)h>c&&(c=h),h<l&&(l=h);return c<10*l}return!1}}Kt.MAX_AVG_VARIANCE=.2,Kt.MAX_INDIVIDUAL_VARIANCE=.45,Kt.MIN_FINDER_PATTERN_RATIO=9.5/12,Kt.MAX_FINDER_PATTERN_RATIO=12.5/14;class bs{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof bs))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uo{constructor(e,r,i,o,l){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new G(i,l)),this.resultPoints.push(new G(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof uo))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class $n{constructor(){}static getRSSvalue(e,r,i){let o=0;for(let d of e)o+=d;let l=0,c=0,h=e.length;for(let d=0;d<h-1;d++){let p;for(p=1,c|=1<<d;p<e[d];p++,c&=~(1<<d)){let _=$n.combins(o-p-1,h-d-2);if(i&&c===0&&o-p-(h-d-1)>=h-d-1&&(_-=$n.combins(o-p-(h-d),h-d-2)),h-d-1>1){let C=0;for(let y=o-p-(h-d-2);y>r;y--)C+=$n.combins(o-p-y-1,h-d-3);_-=C*(h-1-d)}else o-p>r&&_--;l+=_}o-=p}return l}static combins(e,r){let i,o;e-r>r?(o=r,i=e-r):(o=e-r,i=r);let l=1,c=1;for(let h=e;h>i;h--)l*=h,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class Y0{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new Q(i),l=0,h=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)h&1<<d&&o.set(l),l++;for(let d=1;d<e.length;++d){let p=e[d],_=p.getLeftChar().getValue();for(let C=11;C>=0;--C)_&1<<C&&o.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let y=11;y>=0;--y)C&1<<y&&o.set(l),l++}}return o}}class Yr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ga{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class sn extends Ga{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===sn.FNC1}}sn.FNC1="$";class Kr extends Ga{constructor(e,r,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class yn extends Ga{constructor(e,r,i){if(super(e),r<0||r>10||i<0||i>10)throw new F;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===yn.FNC1}isAnyFNC1(){return this.firstDigit===yn.FNC1||this.secondDigit===yn.FNC1}}yn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new W;let r=e.substring(0,2);for(let l of Ce.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,l[2],e):Ce.processFixedAI(2,l[1],e);if(e.length<3)throw new W;let i=e.substring(0,3);for(let l of Ce.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,l[2],e):Ce.processFixedAI(3,l[1],e);for(let l of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,l[2],e):Ce.processFixedAI(4,l[1],e);if(e.length<4)throw new W;let o=e.substring(0,4);for(let l of Ce.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,l[2],e):Ce.processFixedAI(4,l[1],e);throw new W}static processFixedAI(e,r,i){if(i.length<e)throw new W;let o=i.substring(0,e);if(i.length<e+r)throw new W;let l=i.substring(e,e+r),c=i.substring(e+r),h="("+o+")"+l,d=Ce.parseFieldsInGeneralPurpose(c);return d==null?h:h+d}static processVariableAI(e,r,i){let o=i.substring(0,e),l;i.length<e+r?l=i.length:l=e+r;let c=i.substring(e,l),h=i.substring(l),d="("+o+")"+c,p=Ce.parseFieldsInGeneralPurpose(h);return p==null?d:d+p}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class Cs{constructor(e){this.buffer=new ne,this.information=e}decodeAllCodes(e,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),c=Ce.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&e.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return l===0?new yn(this.information.getSize(),yn.FNC1,yn.FNC1):new yn(this.information.getSize(),l-1,yn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new yn(e+7,i,o)}extractNumericValueFromBitArray(e,r){return Cs.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,i){let o=0;for(let l=0;l<i;++l)e.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Kr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new Kr(this.current.getPosition(),this.buffer.toString()):r=new Kr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Yr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Yr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Yr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Yr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new sn(e+5,sn.FNC1);if(r>=5&&r<15)return new sn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new sn(e+7,""+(i+1));if(i>=90&&i<116)return new sn(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new F}return new sn(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new sn(e+5,sn.FNC1);if(r>=5&&r<15)return new sn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new sn(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new V("Decoding invalid alphanumeric value: "+i)}return new sn(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class $a{constructor(e){this.information=e,this.generalDecoder=new Cs(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class on extends $a{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)}encodeCompressedGtinWithoutAI(e,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&e.append("0"),l/10===0&&e.append("0"),e.append(l)}on.appendCheckDigit(e,i)}static appendCheckDigit(e,r){let i=0;for(let o=0;o<13;o++){let l=e.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),e.append(i)}}on.GTIN_SIZE=40;class ys extends on{constructor(e){super(e)}parseInformation(){let e=new ne;e.append("(01)");let r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(ys.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,ys.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,ys.HEADER_SIZE+44)}}ys.HEADER_SIZE=4;class fo extends $a{constructor(e){super(e)}parseInformation(){let e=new ne;return this.getGeneralDecoder().decodeAllCodes(e,fo.HEADER_SIZE)}}fo.HEADER_SIZE=5;class ho extends on{constructor(e){super(e)}encodeCompressedWeight(e,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);let l=this.checkWeight(o),c=1e5;for(let h=0;h<5;++h)l/c===0&&e.append("0"),c/=10;e.append(l)}}class Xn extends ho{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+ho.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new W;let e=new ne;return this.encodeCompressedGtin(e,Xn.HEADER_SIZE),this.encodeCompressedWeight(e,Xn.HEADER_SIZE+ho.GTIN_SIZE,Xn.WEIGHT_SIZE),e.toString()}}Xn.HEADER_SIZE=5,Xn.WEIGHT_SIZE=15;class K0 extends Xn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class q0 extends Xn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class jn extends on{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<jn.HEADER_SIZE+on.GTIN_SIZE)throw new W;let e=new ne;this.encodeCompressedGtin(e,jn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(jn.HEADER_SIZE+on.GTIN_SIZE,jn.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(jn.HEADER_SIZE+on.GTIN_SIZE+jn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}jn.HEADER_SIZE=8,jn.LAST_DIGIT_SIZE=2;class Qt extends on{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+on.GTIN_SIZE)throw new W;let e=new ne;this.encodeCompressedGtin(e,Qt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+on.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+on.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+on.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class wt extends ho{constructor(e,r,i){super(e),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new W;let e=new ne;return this.encodeCompressedGtin(e,wt.HEADER_SIZE),this.encodeCompressedWeight(e,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(e,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,wt.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let c=i;c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function Au(b){try{if(b.get(1))return new ys(b);if(!b.get(2))return new fo(b);switch(Cs.extractNumericValueFromBitArray(b,1,4)){case 4:return new K0(b);case 5:return new q0(b)}switch(Cs.extractNumericValueFromBitArray(b,1,5)){case 12:return new jn(b);case 13:return new Qt(b)}switch(Cs.extractNumericValueFromBitArray(b,1,7)){case 56:return new wt(b,"310","11");case 57:return new wt(b,"320","11");case 58:return new wt(b,"310","13");case 59:return new wt(b,"320","13");case 60:return new wt(b,"310","15");case 61:return new wt(b,"320","15");case 62:return new wt(b,"310","17");case 63:return new wt(b,"320","17")}}catch(e){throw console.log(e),new V("unknown decoder: "+b)}}class mr{constructor(e,r,i,o){this.leftchar=e,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof mr?mr.equalsOrNull(e.leftchar,r.leftchar)&&mr.equalsOrNull(e.rightchar,r.rightchar)&&mr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:mr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xa{constructor(e,r,i){this.pairs=e,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Xa?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let i;return e.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class ie extends Kt{constructor(e){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,i+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(e){for(let r of ie.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>e){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}l||o||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Xa(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let i of r)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let l of e)if(mr.equals(o,l))break}}static isPartialRow(e,r){for(let i of r){let o=!0;for(let l of e){let c=!1;for(let h of i.getPairs())if(l.equals(h)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=Y0.buildBitArray(e),o=Au(r).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),h=[l[0],l[1],c[0],c[1]];return new ct(o,null,null,h,Ae.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let h=1;h<this.pairs.size();++h){let d=this.pairs.get(h);o+=d.getLeftChar().getChecksumPortion(),l++;let p=d.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(e,r){let i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i}retrieveNextPair(e,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,h=-1;do this.findNextPair(e,r,h),l=this.parseFoundFinderPattern(e,i,o),l==null?h=ie.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let d=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let p;try{p=this.decodeDataCharacter(e,l,o,!1)}catch(_){p=null,this.verbose&&console.log(_)}return new mr(d,p,l,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c;i>=0?c=i:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let h=r.length%2!=0;this.startFromEven&&(h=!h);let d=!1;for(;c<l&&(d=!e.get(c),!!d);)c++;let p=0,_=c;for(let C=c;C<l;C++)if(e.get(C)!=d)o[p]++;else{if(p==3){if(h&&ie.reverseCounters(o),ie.isFinderPattern(o)){this.startEnd[0]=_,this.startEnd[1]=C;return}h&&ie.reverseCounters(o),_+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,d=!d}throw new W}static reverseCounters(e){let r=e.length;for(let i=0;i<r/2;++i){let o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}}parseFoundFinderPattern(e,r,i){let o,l,c;if(i){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let h=this.getDecodeFinderCounters();D.arraycopy(h,0,h,1,h.length-1),h[0]=o;let d;try{d=this.parseFinderValue(h,ie.FINDER_PATTERNS)}catch{return null}return new uo(d,[l,c],l,c,r)}decodeDataCharacter(e,r,i,o){let l=this.getDataCharacterCounters();for(let dt=0;dt<l.length;dt++)l[dt]=0;if(o)ie.recordPatternInReverse(e,r.getStartEnd()[0],l);else{ie.recordPattern(e,r.getStartEnd()[1],l);for(let dt=0,zt=l.length-1;dt<zt;dt++,zt--){let pn=l[dt];l[dt]=l[zt],l[zt]=pn}}let c=17,h=se.sum(new Int32Array(l))/c,d=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(h-d)/d>.3)throw new W;let p=this.getOddCounts(),_=this.getEvenCounts(),C=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let dt=0;dt<l.length;dt++){let zt=1*l[dt]/h,pn=zt+.5;if(pn<1){if(zt<.3)throw new W;pn=1}else if(pn>8){if(zt>8.7)throw new W;pn=8}let Os=dt/2;dt&1?(_[Os]=pn,y[Os]=zt-pn):(p[Os]=pn,C[Os]=zt-pn)}this.adjustOddEvenCounts(c);let O=4*r.getValue()+(i?0:2)+(o?0:1)-1,R=0,M=0;for(let dt=p.length-1;dt>=0;dt--){if(ie.isNotA1left(r,i,o)){let zt=ie.WEIGHTS[O][2*dt];M+=p[dt]*zt}R+=p[dt]}let k=0;for(let dt=_.length-1;dt>=0;dt--)if(ie.isNotA1left(r,i,o)){let zt=ie.WEIGHTS[O][2*dt+1];k+=_[dt]*zt}let X=M+k;if(R&1||R>13||R<4)throw new W;let de=(13-R)/2,pe=ie.SYMBOL_WIDEST[de],le=9-pe,Ze=$n.getRSSvalue(p,pe,!0),We=$n.getRSSvalue(_,le,!1),ln=ie.EVEN_TOTAL_SUBSET[de],Fn=ie.GSUM[de],cn=Ze*ln+We+Fn;return new bs(cn,X)}static isNotA1left(e,r,i){return!(e.getValue()==0&&r&&i)}adjustOddEvenCounts(e){let r=se.sum(new Int32Array(this.getOddCounts())),i=se.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,h=!1;i>13?h=!0:i<4&&(c=!0);let d=r+i-e,p=(r&1)==1,_=(i&1)==0;if(d==1)if(p){if(_)throw new W;l=!0}else{if(!_)throw new W;h=!0}else if(d==-1)if(p){if(_)throw new W;o=!0}else{if(!_)throw new W;c=!0}else if(d==0){if(p){if(!_)throw new W;r<i?(o=!0,h=!0):(l=!0,c=!0)}else if(_)throw new W}else throw new W;if(o){if(l)throw new W;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new W;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class Z0 extends bs{constructor(e,r,i){super(e,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends Kt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,i){const o=this.decodePair(r,!1,e,i);St.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,e,i);St.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&St.checkChecksum(c,h))return St.constructResult(c,h)}throw new W}static addOrTally(e,r){if(r==null)return;let i=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),l=new ne;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let c=0;for(let p=0;p<13;p++){let _=l.charAt(p).charCodeAt(0)-48;c+=p&1?_:3*_}c=10-c%10,c===10&&(c=0),l.append(c.toString());let h=e.getFinderPattern().getResultPoints(),d=r.getFinderPattern().getResultPoints();return new ct(l.toString(),null,0,[h[0],h[1],d[0],d[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(e,r){let i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,r,i,o){try{let l=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,i,r,l),h=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(h!=null){let _=(l[0]+l[1])/2;r&&(_=e.getSize()-1-_),h.foundPossibleResultPoint(new G(_,i))}let d=this.decodeDataCharacter(e,c,!0),p=this.decodeDataCharacter(e,c,!1);return new Z0(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,r,i){let o=this.getDataCharacterCounters();for(let k=0;k<o.length;k++)o[k]=0;if(i)bt.recordPatternInReverse(e,r.getStartEnd()[0],o);else{bt.recordPattern(e,r.getStartEnd()[1]+1,o);for(let k=0,X=o.length-1;k<X;k++,X--){let de=o[k];o[k]=o[X],o[X]=de}}let l=i?16:15,c=se.sum(new Int32Array(o))/l,h=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let k=0;k<o.length;k++){let X=o[k]/c,de=Math.floor(X+.5);de<1?de=1:de>8&&(de=8);let pe=Math.floor(k/2);k&1?(d[pe]=de,_[pe]=X-de):(h[pe]=de,p[pe]=X-de)}this.adjustOddEvenCounts(i,l);let C=0,y=0;for(let k=h.length-1;k>=0;k--)y*=9,y+=h[k],C+=h[k];let O=0,R=0;for(let k=d.length-1;k>=0;k--)O*=9,O+=d[k],R+=d[k];let M=y+3*O;if(i){if(C&1||C>12||C<4)throw new W;let k=(12-C)/2,X=St.OUTSIDE_ODD_WIDEST[k],de=9-X,pe=$n.getRSSvalue(h,X,!1),le=$n.getRSSvalue(d,de,!0),Ze=St.OUTSIDE_EVEN_TOTAL_SUBSET[k],We=St.OUTSIDE_GSUM[k];return new bs(pe*Ze+le+We,M)}else{if(R&1||R>10||R<4)throw new W;let k=(10-R)/2,X=St.INSIDE_ODD_WIDEST[k],de=9-X,pe=$n.getRSSvalue(h,X,!0),le=$n.getRSSvalue(d,de,!1),Ze=St.INSIDE_ODD_TOTAL_SUBSET[k],We=St.INSIDE_GSUM[k];return new bs(le*Ze+pe+We,M)}}findFinderPattern(e,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),l=!1,c=0;for(;c<o&&(l=!e.get(c),r!==l);)c++;let h=0,d=c;for(let p=c;p<o;p++)if(e.get(p)!==l)i[h]++;else{if(h===3){if(Kt.isFinderPattern(i))return[d,p];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,l=!l}throw new W}parseFoundFinderPattern(e,r,i,o){let l=e.get(o[0]),c=o[0]-1;for(;c>=0&&l!==e.get(c);)c--;c++;const h=o[0]-c,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);D.arraycopy(d,0,p,1,d.length-1),p[0]=h;const _=this.parseFinderValue(p,St.FINDER_PATTERNS);let C=c,y=o[1];return i&&(C=e.getSize()-1-C,y=e.getSize()-1-y),new uo(_,[c,o[1]],C,y,r)}adjustOddEvenCounts(e,r){let i=se.sum(new Int32Array(this.getOddCounts())),o=se.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,h=!1,d=!1;e?(i>12?c=!0:i<4&&(l=!0),o>12?d=!0:o<4&&(h=!0)):(i>11?c=!0:i<5&&(l=!0),o>10?d=!0:o<4&&(h=!0));let p=i+o-r,_=(i&1)===(e?1:0),C=(o&1)===1;if(p===1)if(_){if(C)throw new W;c=!0}else{if(!C)throw new W;d=!0}else if(p===-1)if(_){if(C)throw new W;l=!0}else{if(!C)throw new W;h=!0}else if(p===0){if(_){if(!C)throw new W;i<o?(l=!0,d=!0):(c=!0,h=!0)}else if(C)throw new W}else throw new W;if(l){if(c)throw new W;Kt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Kt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(d)throw new W;Kt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Kt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vs extends bt{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const i=e?e.get(K.POSSIBLE_FORMATS):null,o=e&&e.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(Ae.EAN_13)||i.includes(Ae.UPC_A)||i.includes(Ae.EAN_8)||i.includes(Ae.UPC_E))&&this.readers.push(new Wa(e)),i.includes(Ae.CODE_39)&&this.readers.push(new Tt(o)),i.includes(Ae.CODE_128)&&this.readers.push(new me),i.includes(Ae.ITF)&&this.readers.push(new Xe),i.includes(Ae.RSS_14)&&this.readers.push(new St),i.includes(Ae.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Wa(e)),this.readers.push(new Tt),this.readers.push(new Wa(e)),this.readers.push(new me),this.readers.push(new Xe),this.readers.push(new St),this.readers.push(new ie(this.verbose)))}decodeRow(e,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new W}reset(){this.readers.forEach(e=>e.reset())}}class Q0 extends Bt{constructor(e=500,r){super(new vs(r),e,r)}}class lt{constructor(e,r,i){this.ecCodewords=e,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(e,r,i,o,l,c){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let h=0;const d=c.getECCodewords(),p=c.getECBlocks();for(let _ of p)h+=_.getCount()*(_.getDataCodewords()+d);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new F;for(let i of Je.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===r)return i;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new lt(5,new it(1,3))),new Je(2,12,12,10,10,new lt(7,new it(1,5))),new Je(3,14,14,12,12,new lt(10,new it(1,8))),new Je(4,16,16,14,14,new lt(12,new it(1,12))),new Je(5,18,18,16,16,new lt(14,new it(1,18))),new Je(6,20,20,18,18,new lt(18,new it(1,22))),new Je(7,22,22,20,20,new lt(20,new it(1,30))),new Je(8,24,24,22,22,new lt(24,new it(1,36))),new Je(9,26,26,24,24,new lt(28,new it(1,44))),new Je(10,32,32,14,14,new lt(36,new it(1,62))),new Je(11,36,36,16,16,new lt(42,new it(1,86))),new Je(12,40,40,18,18,new lt(48,new it(1,114))),new Je(13,44,44,20,20,new lt(56,new it(1,144))),new Je(14,48,48,22,22,new lt(68,new it(1,174))),new Je(15,52,52,24,24,new lt(42,new it(2,102))),new Je(16,64,64,14,14,new lt(56,new it(2,140))),new Je(17,72,72,16,16,new lt(36,new it(4,92))),new Je(18,80,80,18,18,new lt(48,new it(4,114))),new Je(19,88,88,20,20,new lt(56,new it(4,144))),new Je(20,96,96,22,22,new lt(68,new it(4,174))),new Je(21,104,104,24,24,new lt(56,new it(6,136))),new Je(22,120,120,18,18,new lt(68,new it(6,175))),new Je(23,132,132,20,20,new lt(62,new it(8,163))),new Je(24,144,144,22,22,new lt(62,new it(8,156),new it(2,155))),new Je(25,8,18,6,16,new lt(7,new it(1,5))),new Je(26,8,32,6,14,new lt(11,new it(1,10))),new Je(27,12,26,10,24,new lt(14,new it(1,16))),new Je(28,12,36,10,16,new lt(18,new it(1,22))),new Je(29,16,36,14,16,new lt(24,new it(1,32))),new Je(30,16,48,14,22,new lt(28,new it(1,49)))]}}Je.VERSIONS=Je.buildVersions();class ja{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new F;this.version=ja.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),i=e.getWidth();return Je.getVersionForDimensions(r,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let h=!1,d=!1,p=!1,_=!1;do if(i===l&&o===0&&!h)e[r++]=this.readCorner1(l,c)&255,i-=2,o+=2,h=!0;else if(i===l-2&&o===0&&c&3&&!d)e[r++]=this.readCorner2(l,c)&255,i-=2,o+=2,d=!0;else if(i===l+4&&o===2&&!(c&7)&&!p)e[r++]=this.readCorner3(l,c)&255,i-=2,o+=2,p=!0;else if(i===l-2&&o===0&&(c&7)===4&&!_)e[r++]=this.readCorner4(l,c)&255,i-=2,o+=2,_=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<c);if(r!==this.version.getTotalCodewords())throw new F;return e}readModule(e,r,i,o){return e<0&&(e+=i,r+=4-(i+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,i,o){let l=0;return this.readModule(e-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r,i,o)&&(l|=1),l<<=1,this.readModule(e,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e,r,i,o)&&(l|=1),l}readCorner1(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,1,e,r)&&(i|=1),i<<=1,this.readModule(e-1,2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}readCorner2(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-4,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner3(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-3,e,r)&&(i|=1),i<<=1,this.readModule(1,r-2,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner4(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,h=i/l|0,d=c*o,p=h*l,_=new Oe(p,d);for(let C=0;C<c;++C){const y=C*o;for(let O=0;O<h;++O){const R=O*l;for(let M=0;M<o;++M){const k=C*(o+2)+1+M,X=y+M;for(let de=0;de<l;++de){const pe=O*(l+2)+1+de;if(e.get(pe,k)){const le=R+de;_.set(le,X)}}}}}return _}}class za{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let M of l)o+=M.getCount();const c=new Array(o);let h=0;for(let M of l)for(let k=0;k<M.getCount();k++){const X=M.getDataCodewords(),de=i.getECCodewords()+X;c[h++]=new za(X,new Uint8Array(de))}const p=c[0].codewords.length-i.getECCodewords(),_=p-1;let C=0;for(let M=0;M<_;M++)for(let k=0;k<h;k++)c[k].codewords[M]=e[C++];const y=r.getVersionNumber()===24,O=y?8:h;for(let M=0;M<O;M++)c[M].codewords[p-1]=e[C++];const R=c[0].codewords.length;for(let M=p;M<R;M++)for(let k=0;k<h;k++){const X=y?(k+8)%h:k,de=y&&X>7?M-1:M;c[X].codewords[de]=e[C++]}if(C!==e.length)throw new A;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ya{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const c=8-i,h=e<c?e:c,d=c-h,p=255>>8-h<<d;r=(l[o]&p)>>d,e-=h,i+=h,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)r=r<<8|l[o]&255,o++,e-=8;if(e>0){const c=8-e,h=255>>c<<c;r=r<<e|(l[o]&h)>>c,i+=e}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var kt;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(kt||(kt={}));class xr{static decode(e){const r=new Ya(e),i=new ne,o=new ne,l=new Array;let c=kt.ASCII_ENCODE;do if(c===kt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,i,o);else{switch(c){case kt.C40_ENCODE:this.decodeC40Segment(r,i);break;case kt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case kt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case kt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case kt.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new F}c=kt.ASCII_ENCODE}while(c!==kt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new xe(e,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(e,r,i){let o=!1;do{let l=e.readBits(8);if(l===0)throw new F;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),kt.ASCII_ENCODE;if(l===129)return kt.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return kt.C40_ENCODE;case 231:return kt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return kt.ANSIX12_ENCODE;case 239:return kt.TEXT_ENCODE;case 240:return kt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||e.available()!==0)throw new F;break}}while(e.available()>0);return kt.ASCII_ENCODE}static decodeC40Segment(e,r){let i=!1;const o=[];let l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let h=0;h<3;h++){const d=o[h];switch(l){case 0:if(d<3)l=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new F;break;case 1:i?(r.append(String.fromCharCode(d+128)),i=!1):r.append(String.fromCharCode(d)),l=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:i=!0;break;default:throw new F}l=0;break;case 3:i?(r.append(String.fromCharCode(d+224)),i=!1):r.append(String.fromCharCode(d+96)),l=0;break;default:throw new F}}}while(e.available()>0)}static decodeTextSegment(e,r){let i=!1,o=[],l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let h=0;h<3;h++){const d=o[h];switch(l){case 0:if(d<3)l=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new F;break;case 1:i?(r.append(String.fromCharCode(d+128)),i=!1):r.append(String.fromCharCode(d)),l=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:i=!0;break;default:throw new F}l=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p),l=0}else throw new F;break;default:throw new F}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let l=0;l<3;l++){const c=i[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new F;break}}}while(e.available()>0)}static parseTwoBytes(e,r,i){let o=(e<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const l=8-e.getBitOffset();l!==8&&e.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,i){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let c;if(l===0?c=e.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new F;const h=new Uint8Array(c);for(let d=0;d<c;d++){if(e.available()<8)throw new F;h[d]=this.unrandomize255State(e.readBits(8),o++)}i.push(h);try{r.append(Ee.decode(h,H.ISO88591))}catch(d){throw new V("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,r){const i=149*r%255+1,o=e-i;return o>=0?o:o+256}}xr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],xr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],xr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],xr.TEXT_SHIFT2_SET_CHARS=xr.C40_SHIFT2_SET_CHARS,xr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class J0{constructor(){this.rsDecoder=new re(v.DATA_MATRIX_FIELD_256)}decode(e){const r=new ja(e),i=r.getVersion(),o=r.readCodewords(),l=za.getDataBlocks(o,i);let c=0;for(let p of l)c+=p.getNumDataCodewords();const h=new Uint8Array(c),d=l.length;for(let p=0;p<d;p++){const _=l[p],C=_.getCodewords(),y=_.getNumDataCodewords();this.correctErrors(C,y);for(let O=0;O<y;O++)h[O*d+p]=C[O]}return xr.decode(h)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new S}for(let o=0;o<r;o++)e[o]=i[o]}}class Mt{constructor(e){this.image=e,this.rectangleDetector=new be(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],c=r[3];let h=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(l,c)+1;(h&1)===1&&(h+=1),(d&1)===1&&(d+=1),4*h<7*d&&4*d<7*h&&(h=d=Math.max(h,d));let p=Mt.sampleGrid(this.image,i,o,l,c,h,d);return new oe(p,[i,o,l,c])}static shiftPoint(e,r,i){let o=(r.getX()-e.getX())/(i+1),l=(r.getY()-e.getY())/(i+1);return new G(e.getX()+o,e.getY()+l)}static moveAway(e,r,i){let o=e.getX(),l=e.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new G(o,l)}detectSolid1(e){let r=e[0],i=e[1],o=e[3],l=e[2],c=this.transitionsBetween(r,i),h=this.transitionsBetween(i,o),d=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),_=c,C=[l,r,i,o];return _>h&&(_=h,C[0]=r,C[1]=i,C[2]=o,C[3]=l),_>d&&(_=d,C[0]=i,C[1]=o,C[2]=l,C[3]=r),_>p&&(C[0]=o,C[1]=l,C[2]=r,C[3]=i),C}detectSolid2(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),h=Mt.shiftPoint(i,o,(c+1)*4),d=Mt.shiftPoint(o,i,(c+1)*4),p=this.transitionsBetween(h,r),_=this.transitionsBetween(d,l);return p<_?(e[0]=r,e[1]=i,e[2]=o,e[3]=l):(e[0]=i,e[1]=o,e[2]=l,e[3]=r),e}correctTopRight(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),h=this.transitionsBetween(i,l),d=Mt.shiftPoint(r,i,(h+1)*4),p=Mt.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(d,l),h=this.transitionsBetween(p,l);let _=new G(l.getX()+(o.getX()-i.getX())/(c+1),l.getY()+(o.getY()-i.getY())/(c+1)),C=new G(l.getX()+(r.getX()-i.getX())/(h+1),l.getY()+(r.getY()-i.getY())/(h+1));if(!this.isValid(_))return this.isValid(C)?C:null;if(!this.isValid(C))return _;let y=this.transitionsBetween(d,_)+this.transitionsBetween(p,_),O=this.transitionsBetween(d,C)+this.transitionsBetween(p,C);return y>O?_:C}shiftToModuleCenter(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l)+1,h=this.transitionsBetween(o,l)+1,d=Mt.shiftPoint(r,i,h*4),p=Mt.shiftPoint(o,i,c*4);c=this.transitionsBetween(d,l)+1,h=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(h&1)===1&&(h+=1);let _=(r.getX()+i.getX()+o.getX()+l.getX())/4,C=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=Mt.moveAway(r,_,C),i=Mt.moveAway(i,_,C),o=Mt.moveAway(o,_,C),l=Mt.moveAway(l,_,C);let y,O;return d=Mt.shiftPoint(r,i,h*4),d=Mt.shiftPoint(d,l,c*4),y=Mt.shiftPoint(i,r,h*4),y=Mt.shiftPoint(y,o,c*4),p=Mt.shiftPoint(o,l,h*4),p=Mt.shiftPoint(p,i,c*4),O=Mt.shiftPoint(l,o,h*4),O=Mt.shiftPoint(O,r,c*4),[d,y,p,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,i,o,l,c,h){return Ye.getInstance().sampleGrid(e,c,h,.5,.5,c-.5,.5,c-.5,h-.5,.5,h-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,r){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),h=Math.abs(c-o)>Math.abs(l-i);if(h){let M=i;i=o,o=M,M=l,l=c,c=M}let d=Math.abs(l-i),p=Math.abs(c-o),_=-d/2,C=o<c?1:-1,y=i<l?1:-1,O=0,R=this.image.get(h?o:i,h?i:o);for(let M=i,k=o;M!==l;M+=y){let X=this.image.get(h?k:M,h?M:k);if(X!==R&&(O++,R=X),_+=p,_>0){if(k===c)break;k+=C,_-=d}}return O}}class Er{constructor(){this.decoder=new J0}decode(e,r=null){let i,o;if(r!=null&&r.has(K.PURE_BARCODE)){const p=Er.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(p),o=Er.NO_POINTS}else{const p=new Mt(e.getBlackMatrix()).detect();i=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=i.getRawBytes(),c=new ct(i.getText(),l,8*l.length,o,Ae.DATA_MATRIX,D.currentTimeMillis()),h=i.getByteSegments();h!=null&&c.putMetadata(fe.BYTE_SEGMENTS,h);const d=i.getECLevel();return d!=null&&c.putMetadata(fe.ERROR_CORRECTION_LEVEL,d),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r==null||i==null)throw new W;const o=this.moduleSize(r,e);let l=r[1];const c=i[1];let h=r[0];const p=(i[0]-h+1)/o,_=(c-l+1)/o;if(p<=0||_<=0)throw new W;const C=o/2;l+=C,h+=C;const y=new Oe(p,_);for(let O=0;O<_;O++){const R=l+O*o;for(let M=0;M<p;M++)e.get(h+M*o,R)&&y.set(M,O)}return y}static moduleSize(e,r){const i=r.getWidth();let o=e[0];const l=e[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new W;const c=o-e[0];if(c===0)throw new W;return c}}Er.NO_POINTS=[];class eg extends Bt{constructor(e=500){super(new Er,e)}}var Ts;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(Ts||(Ts={}));class xt{constructor(e,r,i){this.value=e,this.stringValue=r,this.bits=i,xt.FOR_BITS.set(i,this),xt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new w(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof xt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=xt.FOR_BITS.size)throw new A;return xt.FOR_BITS.get(e)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(Ts.L,"L",1),xt.M=new xt(Ts.M,"M",0),xt.Q=new xt(Ts.Q,"Q",3),xt.H=new xt(Ts.H,"H",2);class qt{constructor(e){this.errorCorrectionLevel=xt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return B.bitCount(e^r)}static decodeFormatInformation(e,r){const i=qt.doDecodeFormatInformation(e,r);return i!==null?i:qt.doDecodeFormatInformation(e^qt.FORMAT_INFO_MASK_QR,r^qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of qt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===e||c===r)return new qt(l[1]);let h=qt.numBitsDiffering(e,c);h<i&&(o=l[1],i=h),e!==r&&(h=qt.numBitsDiffering(r,c),h<i&&(o=l[1],i=h))}return i<=3?new qt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof qt))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}qt.FORMAT_INFO_MASK_QR=21522,qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const i of r)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(e,r,...i){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const h of c)o+=h.getCount()*(h.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new F;try{return this.getVersionForNumber((e-17)/4)}catch{throw new F}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return Ne.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<Ne.VERSION_DECODE_INFO.length;o++){const l=Ne.VERSION_DECODE_INFO[o];if(l===e)return Ne.getVersionForNumber(o+7);const c=qt.numBitsDiffering(e,l);c<r&&(i=o+7,r=c)}return r<=3?Ne.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Oe(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Ne.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ne.VERSIONS=[new Ne(1,new Int32Array(0),new U(7,new T(1,19)),new U(10,new T(1,16)),new U(13,new T(1,13)),new U(17,new T(1,9))),new Ne(2,Int32Array.from([6,18]),new U(10,new T(1,34)),new U(16,new T(1,28)),new U(22,new T(1,22)),new U(28,new T(1,16))),new Ne(3,Int32Array.from([6,22]),new U(15,new T(1,55)),new U(26,new T(1,44)),new U(18,new T(2,17)),new U(22,new T(2,13))),new Ne(4,Int32Array.from([6,26]),new U(20,new T(1,80)),new U(18,new T(2,32)),new U(26,new T(2,24)),new U(16,new T(4,9))),new Ne(5,Int32Array.from([6,30]),new U(26,new T(1,108)),new U(24,new T(2,43)),new U(18,new T(2,15),new T(2,16)),new U(22,new T(2,11),new T(2,12))),new Ne(6,Int32Array.from([6,34]),new U(18,new T(2,68)),new U(16,new T(4,27)),new U(24,new T(4,19)),new U(28,new T(4,15))),new Ne(7,Int32Array.from([6,22,38]),new U(20,new T(2,78)),new U(18,new T(4,31)),new U(18,new T(2,14),new T(4,15)),new U(26,new T(4,13),new T(1,14))),new Ne(8,Int32Array.from([6,24,42]),new U(24,new T(2,97)),new U(22,new T(2,38),new T(2,39)),new U(22,new T(4,18),new T(2,19)),new U(26,new T(4,14),new T(2,15))),new Ne(9,Int32Array.from([6,26,46]),new U(30,new T(2,116)),new U(22,new T(3,36),new T(2,37)),new U(20,new T(4,16),new T(4,17)),new U(24,new T(4,12),new T(4,13))),new Ne(10,Int32Array.from([6,28,50]),new U(18,new T(2,68),new T(2,69)),new U(26,new T(4,43),new T(1,44)),new U(24,new T(6,19),new T(2,20)),new U(28,new T(6,15),new T(2,16))),new Ne(11,Int32Array.from([6,30,54]),new U(20,new T(4,81)),new U(30,new T(1,50),new T(4,51)),new U(28,new T(4,22),new T(4,23)),new U(24,new T(3,12),new T(8,13))),new Ne(12,Int32Array.from([6,32,58]),new U(24,new T(2,92),new T(2,93)),new U(22,new T(6,36),new T(2,37)),new U(26,new T(4,20),new T(6,21)),new U(28,new T(7,14),new T(4,15))),new Ne(13,Int32Array.from([6,34,62]),new U(26,new T(4,107)),new U(22,new T(8,37),new T(1,38)),new U(24,new T(8,20),new T(4,21)),new U(22,new T(12,11),new T(4,12))),new Ne(14,Int32Array.from([6,26,46,66]),new U(30,new T(3,115),new T(1,116)),new U(24,new T(4,40),new T(5,41)),new U(20,new T(11,16),new T(5,17)),new U(24,new T(11,12),new T(5,13))),new Ne(15,Int32Array.from([6,26,48,70]),new U(22,new T(5,87),new T(1,88)),new U(24,new T(5,41),new T(5,42)),new U(30,new T(5,24),new T(7,25)),new U(24,new T(11,12),new T(7,13))),new Ne(16,Int32Array.from([6,26,50,74]),new U(24,new T(5,98),new T(1,99)),new U(28,new T(7,45),new T(3,46)),new U(24,new T(15,19),new T(2,20)),new U(30,new T(3,15),new T(13,16))),new Ne(17,Int32Array.from([6,30,54,78]),new U(28,new T(1,107),new T(5,108)),new U(28,new T(10,46),new T(1,47)),new U(28,new T(1,22),new T(15,23)),new U(28,new T(2,14),new T(17,15))),new Ne(18,Int32Array.from([6,30,56,82]),new U(30,new T(5,120),new T(1,121)),new U(26,new T(9,43),new T(4,44)),new U(28,new T(17,22),new T(1,23)),new U(28,new T(2,14),new T(19,15))),new Ne(19,Int32Array.from([6,30,58,86]),new U(28,new T(3,113),new T(4,114)),new U(26,new T(3,44),new T(11,45)),new U(26,new T(17,21),new T(4,22)),new U(26,new T(9,13),new T(16,14))),new Ne(20,Int32Array.from([6,34,62,90]),new U(28,new T(3,107),new T(5,108)),new U(26,new T(3,41),new T(13,42)),new U(30,new T(15,24),new T(5,25)),new U(28,new T(15,15),new T(10,16))),new Ne(21,Int32Array.from([6,28,50,72,94]),new U(28,new T(4,116),new T(4,117)),new U(26,new T(17,42)),new U(28,new T(17,22),new T(6,23)),new U(30,new T(19,16),new T(6,17))),new Ne(22,Int32Array.from([6,26,50,74,98]),new U(28,new T(2,111),new T(7,112)),new U(28,new T(17,46)),new U(30,new T(7,24),new T(16,25)),new U(24,new T(34,13))),new Ne(23,Int32Array.from([6,30,54,78,102]),new U(30,new T(4,121),new T(5,122)),new U(28,new T(4,47),new T(14,48)),new U(30,new T(11,24),new T(14,25)),new U(30,new T(16,15),new T(14,16))),new Ne(24,Int32Array.from([6,28,54,80,106]),new U(30,new T(6,117),new T(4,118)),new U(28,new T(6,45),new T(14,46)),new U(30,new T(11,24),new T(16,25)),new U(30,new T(30,16),new T(2,17))),new Ne(25,Int32Array.from([6,32,58,84,110]),new U(26,new T(8,106),new T(4,107)),new U(28,new T(8,47),new T(13,48)),new U(30,new T(7,24),new T(22,25)),new U(30,new T(22,15),new T(13,16))),new Ne(26,Int32Array.from([6,30,58,86,114]),new U(28,new T(10,114),new T(2,115)),new U(28,new T(19,46),new T(4,47)),new U(28,new T(28,22),new T(6,23)),new U(30,new T(33,16),new T(4,17))),new Ne(27,Int32Array.from([6,34,62,90,118]),new U(30,new T(8,122),new T(4,123)),new U(28,new T(22,45),new T(3,46)),new U(30,new T(8,23),new T(26,24)),new U(30,new T(12,15),new T(28,16))),new Ne(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new T(3,117),new T(10,118)),new U(28,new T(3,45),new T(23,46)),new U(30,new T(4,24),new T(31,25)),new U(30,new T(11,15),new T(31,16))),new Ne(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new T(7,116),new T(7,117)),new U(28,new T(21,45),new T(7,46)),new U(30,new T(1,23),new T(37,24)),new U(30,new T(19,15),new T(26,16))),new Ne(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new T(5,115),new T(10,116)),new U(28,new T(19,47),new T(10,48)),new U(30,new T(15,24),new T(25,25)),new U(30,new T(23,15),new T(25,16))),new Ne(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new T(13,115),new T(3,116)),new U(28,new T(2,46),new T(29,47)),new U(30,new T(42,24),new T(1,25)),new U(30,new T(23,15),new T(28,16))),new Ne(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new T(17,115)),new U(28,new T(10,46),new T(23,47)),new U(30,new T(10,24),new T(35,25)),new U(30,new T(19,15),new T(35,16))),new Ne(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new T(17,115),new T(1,116)),new U(28,new T(14,46),new T(21,47)),new U(30,new T(29,24),new T(19,25)),new U(30,new T(11,15),new T(46,16))),new Ne(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new T(13,115),new T(6,116)),new U(28,new T(14,46),new T(23,47)),new U(30,new T(44,24),new T(7,25)),new U(30,new T(59,16),new T(1,17))),new Ne(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new T(12,121),new T(7,122)),new U(28,new T(12,47),new T(26,48)),new U(30,new T(39,24),new T(14,25)),new U(30,new T(22,15),new T(41,16))),new Ne(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new T(6,121),new T(14,122)),new U(28,new T(6,47),new T(34,48)),new U(30,new T(46,24),new T(10,25)),new U(30,new T(2,15),new T(64,16))),new Ne(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new T(17,122),new T(4,123)),new U(28,new T(29,46),new T(14,47)),new U(30,new T(49,24),new T(10,25)),new U(30,new T(24,15),new T(46,16))),new Ne(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new T(4,122),new T(18,123)),new U(28,new T(13,46),new T(32,47)),new U(30,new T(48,24),new T(14,25)),new U(30,new T(42,15),new T(32,16))),new Ne(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new T(20,117),new T(4,118)),new U(28,new T(40,47),new T(7,48)),new U(30,new T(43,24),new T(22,25)),new U(30,new T(10,15),new T(67,16))),new Ne(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new T(19,118),new T(6,119)),new U(28,new T(18,47),new T(31,48)),new U(30,new T(34,24),new T(34,25)),new U(30,new T(20,15),new T(61,16)))];var Ut;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(Ut||(Ut={}));class vn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&e.flip(o,i)}}vn.values=new Map([[Ut.DATA_MASK_000,new vn(Ut.DATA_MASK_000,(b,e)=>(b+e&1)===0)],[Ut.DATA_MASK_001,new vn(Ut.DATA_MASK_001,(b,e)=>(b&1)===0)],[Ut.DATA_MASK_010,new vn(Ut.DATA_MASK_010,(b,e)=>e%3===0)],[Ut.DATA_MASK_011,new vn(Ut.DATA_MASK_011,(b,e)=>(b+e)%3===0)],[Ut.DATA_MASK_100,new vn(Ut.DATA_MASK_100,(b,e)=>(Math.floor(b/2)+Math.floor(e/3)&1)===0)],[Ut.DATA_MASK_101,new vn(Ut.DATA_MASK_101,(b,e)=>b*e%6===0)],[Ut.DATA_MASK_110,new vn(Ut.DATA_MASK_110,(b,e)=>b*e%6<3)],[Ut.DATA_MASK_111,new vn(Ut.DATA_MASK_111,(b,e)=>(b+e+b*e%3&1)===0)]]);class tg{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new F;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=qt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ne.getVersionForNumber(r);let i=0;const o=e-11;for(let c=5;c>=0;c--)for(let h=e-9;h>=o;h--)i=this.copyBit(h,c,i);let l=Ne.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;i=0;for(let c=5;c>=0;c--)for(let h=e-9;h>=o;h--)i=this.copyBit(c,h,i);if(l=Ne.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new F}copyBit(e,r,i){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),i=vn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const h=new Uint8Array(r.getTotalCodewords());let d=0,p=0,_=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let y=0;y<o;y++){const O=c?o-1-y:y;for(let R=0;R<2;R++)l.get(C-R,O)||(_++,p<<=1,this.bitMatrix.get(C-R,O)&&(p|=1),_===8&&(h[d++]=p,_=0,p=0))}c=!c}if(d!==r.getTotalCodewords())throw new F;return h}remask(){if(this.parsedFormatInfo===null)return;const e=vn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,i=e.getWidth();r<i;r++)for(let o=r+1,l=e.getHeight();o<l;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class Ka{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,i){if(e.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(i);let l=0;const c=o.getECBlocks();for(const R of c)l+=R.getCount();const h=new Array(l);let d=0;for(const R of c)for(let M=0;M<R.getCount();M++){const k=R.getDataCodewords(),X=o.getECCodewordsPerBlock()+k;h[d++]=new Ka(k,new Uint8Array(X))}const p=h[0].codewords.length;let _=h.length-1;for(;_>=0&&h[_].codewords.length!==p;)_--;_++;const C=p-o.getECCodewordsPerBlock();let y=0;for(let R=0;R<C;R++)for(let M=0;M<d;M++)h[M].codewords[R]=e[y++];for(let R=_;R<d;R++)h[R].codewords[C]=e[y++];const O=h[0].codewords.length;for(let R=C;R<O;R++)for(let M=0;M<d;M++){const k=M<_?R:R+1;h[M].codewords[k]=e[y++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(Tn||(Tn={}));class De{constructor(e,r,i,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,De.FOR_BITS.set(o,this),De.FOR_VALUE.set(e,this)}static forBits(e){const r=De.FOR_BITS.get(e);if(r===void 0)throw new A;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof De))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Tn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Tn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Tn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Tn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Tn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Tn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Tn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Tn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Tn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Tn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(e,r,i,o){const l=new Ya(e);let c=new ne;const h=new Array;let d=-1,p=-1;try{let _=null,C=!1,y;do{if(l.available()<4)y=De.TERMINATOR;else{const O=l.readBits(4);y=De.forBits(O)}switch(y){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:C=!0;break;case De.STRUCTURED_APPEND:if(l.available()<16)throw new F;d=l.readBits(8),p=l.readBits(8);break;case De.ECI:const O=Ct.parseECIValue(l);if(_=P.getCharacterSetECIByValue(O),_===null)throw new F;break;case De.HANZI:const R=l.readBits(4),M=l.readBits(y.getCharacterCountBits(r));R===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(l,c,M);break;default:const k=l.readBits(y.getCharacterCountBits(r));switch(y){case De.NUMERIC:Ct.decodeNumericSegment(l,c,k);break;case De.ALPHANUMERIC:Ct.decodeAlphanumericSegment(l,c,k,C);break;case De.BYTE:Ct.decodeByteSegment(l,c,k,_,h,o);break;case De.KANJI:Ct.decodeKanjiSegment(l,c,k);break;default:throw new F}break}}while(y!==De.TERMINATOR)}catch{throw new F}return new xe(e,c.toString(),h.length===0?null:h,i===null?null:i.toString(),d,p)}static decodeHanziSegment(e,r,i){if(i*13>e.available())throw new F;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let h=c/96<<8&4294967295|c%96;h<959?h+=41377:h+=42657,o[l]=h>>8&255,o[l+1]=h&255,l+=2,i--}try{r.append(Ee.decode(o,H.GB2312))}catch(c){throw new F(c)}}static decodeKanjiSegment(e,r,i){if(i*13>e.available())throw new F;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let h=c/192<<8&4294967295|c%192;h<7936?h+=33088:h+=49472,o[l]=h>>8,o[l+1]=h,l+=2,i--}try{r.append(Ee.decode(o,H.SHIFT_JIS))}catch(c){throw new F(c)}}static decodeByteSegment(e,r,i,o,l,c){if(8*i>e.available())throw new F;const h=new Uint8Array(i);for(let p=0;p<i;p++)h[p]=e.readBits(8);let d;o===null?d=H.guessEncoding(h,c):d=o.getName();try{r.append(Ee.decode(h,d))}catch(p){throw new F(p)}l.push(h)}static toAlphaNumericChar(e){if(e>=Ct.ALPHANUMERIC_CHARS.length)throw new F;return Ct.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,i,o){const l=r.length();for(;i>1;){if(e.available()<11)throw new F;const c=e.readBits(11);r.append(Ct.toAlphaNumericChar(Math.floor(c/45))),r.append(Ct.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(e.available()<6)throw new F;r.append(Ct.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(e,r,i){for(;i>=3;){if(e.available()<10)throw new F;const o=e.readBits(10);if(o>=1e3)throw new F;r.append(Ct.toAlphaNumericChar(Math.floor(o/100))),r.append(Ct.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Ct.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new F;const o=e.readBits(7);if(o>=100)throw new F;r.append(Ct.toAlphaNumericChar(Math.floor(o/10))),r.append(Ct.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new F;const o=e.readBits(4);if(o>=10)throw new F;r.append(Ct.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=e.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new F}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class bu{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class ng{constructor(){this.rsDecoder=new re(v.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Oe.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const i=new tg(e);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new bu(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(e,r){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=Ka.getDataBlocks(l,i,o);let h=0;for(const _ of c)h+=_.getNumDataCodewords();const d=new Uint8Array(h);let p=0;for(const _ of c){const C=_.getCodewords(),y=_.getNumDataCodewords();this.correctErrors(C,y);for(let O=0;O<y;O++)d[p++]=C[O]}return Ct.decode(d,i,o,r)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new S}for(let o=0;o<r;o++)e[o]=i[o]}}class qa extends G{constructor(e,r,i){super(e,r),this.estimatedModuleSize=i}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=(this.getX()+r)/2,l=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new qa(o,l,c)}}class go{constructor(e,r,i,o,l,c,h){this.image=e,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,i=this.width,o=e+i,l=this.startY+r/2,c=new Int32Array(3),h=this.image;for(let d=0;d<r;d++){const p=l+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;let _=e;for(;_<o&&!h.get(_,p);)_++;let C=0;for(;_<o;){if(h.get(_,p))if(C===1)c[1]++;else if(C===2){if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,_);if(y!==null)return y}c[0]=c[2],c[1]=1,c[2]=0,C=1}else c[++C]++;else C===1&&C++,c[C]++;_++}if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,o);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=i)return!1;return!0}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let d=e;for(;d>=0&&l.get(r,d)&&h[1]<=i;)h[1]++,d--;if(d<0||h[1]>i)return NaN;for(;d>=0&&!l.get(r,d)&&h[0]<=i;)h[0]++,d--;if(h[0]>i)return NaN;for(d=e+1;d<c&&l.get(r,d)&&h[1]<=i;)h[1]++,d++;if(d===c||h[1]>i)return NaN;for(;d<c&&!l.get(r,d)&&h[2]<=i;)h[2]++,d++;if(h[2]>i)return NaN;const p=h[0]+h[1]+h[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(h)?go.centerFromEnd(h,d):NaN}handlePossibleCenter(e,r,i){const o=e[0]+e[1]+e[2],l=go.centerFromEnd(e,i),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){const h=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(h,c,l))return p.combineEstimate(c,l,h);const d=new qa(l,c,h);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Za extends G{constructor(e,r,i,o){super(e,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,h=(this.count*this.estimatedModuleSize+i)/o;return new Za(l,c,h,o)}}class rg{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(K.TRY_HARDER)!==void 0,i=e!=null&&e.get(K.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let h=Math.floor(3*l/(4*Vt.MAX_MODULES));(h<Vt.MIN_SKIP||r)&&(h=Vt.MIN_SKIP);let d=!1;const p=new Int32Array(5);for(let C=h-1;C<l&&!d;C+=h){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let y=0;for(let O=0;O<c;O++)if(o.get(O,C))(y&1)===1&&y++,p[y]++;else if(y&1)p[y]++;else if(y===4)if(Vt.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,O,i)===!0)if(h=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>p[2]&&(C+=M-p[2]-h,O=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;continue}y=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;else p[++y]++;Vt.foundPatternCross(p)&&this.handlePossibleCenter(p,C,c,i)===!0&&(h=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return G.orderBestPatterns(_),new rg(_)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let l=0;l<5;l++){const c=e[l];if(c===0)return!1;r+=c}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,i,o){const l=this.getCrossCheckStateCount();let c=0;const h=this.image;for(;e>=c&&r>=c&&h.get(r-c,e-c);)l[2]++,c++;if(e<c||r<c)return!1;for(;e>=c&&r>=c&&!h.get(r-c,e-c)&&l[1]<=i;)l[1]++,c++;if(e<c||r<c||l[1]>i)return!1;for(;e>=c&&r>=c&&h.get(r-c,e-c)&&l[0]<=i;)l[0]++,c++;if(l[0]>i)return!1;const d=h.getHeight(),p=h.getWidth();for(c=1;e+c<d&&r+c<p&&h.get(r+c,e+c);)l[2]++,c++;if(e+c>=d||r+c>=p)return!1;for(;e+c<d&&r+c<p&&!h.get(r+c,e+c)&&l[3]<i;)l[3]++,c++;if(e+c>=d||r+c>=p||l[3]>=i)return!1;for(;e+c<d&&r+c<p&&h.get(r+c,e+c)&&l[4]<i;)l[4]++,c++;if(l[4]>=i)return!1;const _=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(_-o)<2*o&&Vt.foundPatternCross(l)}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),h=this.getCrossCheckStateCount();let d=e;for(;d>=0&&l.get(r,d);)h[2]++,d--;if(d<0)return NaN;for(;d>=0&&!l.get(r,d)&&h[1]<=i;)h[1]++,d--;if(d<0||h[1]>i)return NaN;for(;d>=0&&l.get(r,d)&&h[0]<=i;)h[0]++,d--;if(h[0]>i)return NaN;for(d=e+1;d<c&&l.get(r,d);)h[2]++,d++;if(d===c)return NaN;for(;d<c&&!l.get(r,d)&&h[3]<i;)h[3]++,d++;if(d===c||h[3]>=i)return NaN;for(;d<c&&l.get(r,d)&&h[4]<i;)h[4]++,d++;if(h[4]>=i)return NaN;const p=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(p-o)>=2*o?NaN:Vt.foundPatternCross(h)?Vt.centerFromEnd(h,d):NaN}crossCheckHorizontal(e,r,i,o){const l=this.image,c=l.getWidth(),h=this.getCrossCheckStateCount();let d=e;for(;d>=0&&l.get(d,r);)h[2]++,d--;if(d<0)return NaN;for(;d>=0&&!l.get(d,r)&&h[1]<=i;)h[1]++,d--;if(d<0||h[1]>i)return NaN;for(;d>=0&&l.get(d,r)&&h[0]<=i;)h[0]++,d--;if(h[0]>i)return NaN;for(d=e+1;d<c&&l.get(d,r);)h[2]++,d++;if(d===c)return NaN;for(;d<c&&!l.get(d,r)&&h[3]<i;)h[3]++,d++;if(d===c||h[3]>=i)return NaN;for(;d<c&&l.get(d,r)&&h[4]<i;)h[4]++,d++;if(h[4]>=i)return NaN;const p=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(p-o)>=o?NaN:Vt.foundPatternCross(h)?Vt.centerFromEnd(h,d):NaN}handlePossibleCenter(e,r,i,o){const l=e[0]+e[1]+e[2]+e[3]+e[4];let c=Vt.centerFromEnd(e,i),h=this.crossCheckVertical(r,Math.floor(c),e[2],l);if(!isNaN(h)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(h),e[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(h),Math.floor(c),e[2],l)))){const d=l/7;let p=!1;const _=this.possibleCenters;for(let C=0,y=_.length;C<y;C++){const O=_[C];if(O.aboutEquals(d,h,c)){_[C]=O.combineEstimate(h,c,d),p=!0;break}}if(!p){const C=new Za(c,h,d);_.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Vt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Vt.CENTER_QUORUM&&(e++,r+=c.getEstimatedModuleSize());if(e<3)return!1;const o=r/i;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new W;const r=this.possibleCenters;let i;if(e>3){let o=0,l=0;for(const d of this.possibleCenters){const p=d.getEstimatedModuleSize();o+=p,l+=p*p}i=o/e;let c=Math.sqrt(l/e-i*i);r.sort((d,p)=>{const _=Math.abs(p.getEstimatedModuleSize()-i),C=Math.abs(d.getEstimatedModuleSize()-i);return _<C?-1:_>C?1:0});const h=Math.max(.2*i,c);for(let d=0;d<r.length&&r.length>3;d++){const p=r[d];Math.abs(p.getEstimatedModuleSize()-i)>h&&(r.splice(d,1),d--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const h=Math.abs(c.getEstimatedModuleSize()-i),d=Math.abs(l.getEstimatedModuleSize()-i);return h<d?1:h>d?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class ui{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(K.NEED_RESULT_POINT_CALLBACK);const i=new Vt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const r=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new W("No pattern found in proccess finder.");const c=ui.computeDimension(r,i,o,l),h=Ne.getProvisionalVersionForDimension(c),d=h.getDimensionForVersion()-7;let p=null;if(h.getAlignmentPatternCenters().length>0){const O=i.getX()-r.getX()+o.getX(),R=i.getY()-r.getY()+o.getY(),M=1-3/d,k=Math.floor(r.getX()+M*(O-r.getX())),X=Math.floor(r.getY()+M*(R-r.getY()));for(let de=4;de<=16;de<<=1)try{p=this.findAlignmentInRegion(l,k,X,de);break}catch(pe){if(!(pe instanceof W))throw pe}}const _=ui.createTransform(r,i,o,p,c),C=ui.sampleGrid(this.image,_,c);let y;return p===null?y=[o,r,i]:y=[o,r,i,p],new oe(C,y)}static createTransform(e,r,i,o,l){const c=l-3.5;let h,d,p,_;return o!==null?(h=o.getX(),d=o.getY(),p=c-3,_=p):(h=r.getX()-e.getX()+i.getX(),d=r.getY()-e.getY()+i.getY(),p=c,_=c),Ie.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,_,3.5,c,e.getX(),e.getY(),r.getX(),r.getY(),h,d,i.getX(),i.getY())}static sampleGrid(e,r,i){return Ye.getInstance().sampleGridWithTransform(e,i,i,r)}static computeDimension(e,r,i,o){const l=se.round(G.distance(e,r)/o),c=se.round(G.distance(e,i)/o);let h=Math.floor((l+c)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new W("Dimensions could be not found.")}return h}calculateModuleSize(e,r,i){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(e,r,i,o),c=1,h=e-(i-e);h<0?(c=e/(e-h),h=0):h>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let d=Math.floor(r-(o-r)*c);return c=1,d<0?(c=r/(r-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),h=Math.floor(e+(h-e)*c),l+=this.sizeOfBlackWhiteBlackRun(e,r,h,d),l-1}sizeOfBlackWhiteBlackRun(e,r,i,o){const l=Math.abs(o-r)>Math.abs(i-e);if(l){let O=e;e=r,r=O,O=i,i=o,o=O}const c=Math.abs(i-e),h=Math.abs(o-r);let d=-c/2;const p=e<i?1:-1,_=r<o?1:-1;let C=0;const y=i+p;for(let O=e,R=r;O!==y;O+=p){const M=l?R:O,k=l?O:R;if(C===1===this.image.get(M,k)){if(C===2)return se.distance(O,R,e,r);C++}if(d+=h,d>0){if(R===o)break;R+=_,d-=c}}return C===2?se.distance(i+p,o,e,r):NaN}findAlignmentInRegion(e,r,i,o){const l=Math.floor(o*e),c=Math.max(0,r-l),h=Math.min(this.image.getWidth()-1,r+l);if(h-c<e*3)throw new W("Alignment top exceeds estimated module size.");const d=Math.max(0,i-l),p=Math.min(this.image.getHeight()-1,i+l);if(p-d<e*3)throw new W("Alignment bottom exceeds estimated module size.");return new go(this.image,c,d,h-c,p-d,e,this.resultPointCallback).find()}}class _r{constructor(){this.decoder=new ng}getDecoder(){return this.decoder}decode(e,r){let i,o;if(r!=null&&r.get(K.PURE_BARCODE)!==void 0){const d=_r.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(d,r),o=_r.NO_POINTS}else{const d=new ui(e.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(d.getBits(),r),o=d.getPoints()}i.getOther()instanceof bu&&i.getOther().applyMirroredCorrection(o);const l=new ct(i.getText(),i.getRawBytes(),void 0,o,Ae.QR_CODE,void 0),c=i.getByteSegments();c!==null&&l.putMetadata(fe.BYTE_SEGMENTS,c);const h=i.getECLevel();return h!==null&&l.putMetadata(fe.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(l.putMetadata(fe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(fe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r===null||i===null)throw new W;const o=this.moduleSize(r,e);let l=r[1],c=i[1],h=r[0],d=i[0];if(h>=d||l>=c)throw new W;if(c-l!==d-h&&(d=h+(c-l),d>=e.getWidth()))throw new W;const p=Math.round((d-h+1)/o),_=Math.round((c-l+1)/o);if(p<=0||_<=0)throw new W;if(_!==p)throw new W;const C=Math.floor(o/2);l+=C,h+=C;const y=h+Math.floor((p-1)*o)-d;if(y>0){if(y>C)throw new W;h-=y}const O=l+Math.floor((_-1)*o)-c;if(O>0){if(O>C)throw new W;l-=O}const R=new Oe(p,_);for(let M=0;M<_;M++){const k=l+Math.floor(M*o);for(let X=0;X<p;X++)e.get(h+Math.floor(X*o),k)&&R.set(X,M)}return R}static moduleSize(e,r){const i=r.getHeight(),o=r.getWidth();let l=e[0],c=e[1],h=!0,d=0;for(;l<o&&c<i;){if(h!==r.get(l,c)){if(++d===5)break;h=!h}l++,c++}if(l===o||c===i)throw new W;return(l-e[0])/7}}_r.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(e){return se.sum(e)}static toIntArray(e){if(e==null||!e.length)return Be.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let i=0;for(const o of e)r[i++]=o;return r}static getCodeword(e){const r=j.binarySearch(Be.SYMBOL_TABLE,e&262143);return r<0?-1:(Be.CODEWORD_TABLE[r]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class sg{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(e,r,i){let o=e.getBlackMatrix(),l=je.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=je.detect(i,o)),new sg(o,l)}static detect(e,r){const i=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const h=je.findVertices(r,o,l);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,l=0;for(const d of i)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=je.ROW_STEP;continue}if(c=!0,i.push(h),!e)break;h[2]!=null?(l=Math.trunc(h[2].getX()),o=Math.trunc(h[2].getY())):(l=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY()))}return i}static findVertices(e,r,i){const o=e.getHeight(),l=e.getWidth(),c=new Array(8);return je.copyToResult(c,je.findRowsWithPattern(e,o,l,r,i,je.START_PATTERN),je.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),je.copyToResult(c,je.findRowsWithPattern(e,o,l,r,i,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),c}static copyToResult(e,r,i){for(let o=0;o<i.length;o++)e[i[o]]=r[o]}static findRowsWithPattern(e,r,i,o,l,c){const h=new Array(4);let d=!1;const p=new Int32Array(c.length);for(;o<r;o+=je.ROW_STEP){let C=je.findGuardPattern(e,l,o,i,!1,c,p);if(C!=null){for(;o>0;){const y=je.findGuardPattern(e,l,--o,i,!1,c,p);if(y!=null)C=y;else{o++;break}}h[0]=new G(C[0],o),h[1]=new G(C[1],o),d=!0;break}}let _=o+1;if(d){let C=0,y=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;_<r;_++){const O=je.findGuardPattern(e,y[0],_,i,!1,c,p);if(O!=null&&Math.abs(y[0]-O[0])<je.MAX_PATTERN_DRIFT&&Math.abs(y[1]-O[1])<je.MAX_PATTERN_DRIFT)y=O,C=0;else{if(C>je.SKIPPED_ROW_COUNT_MAX)break;C++}}_-=C+1,h[2]=new G(y[0],_),h[3]=new G(y[1],_)}return _-o<je.BARCODE_MIN_HEIGHT&&j.fill(h,null),h}static findGuardPattern(e,r,i,o,l,c,h){j.fillWithin(h,0,h.length,0);let d=r,p=0;for(;e.get(d,i)&&d>0&&p++<je.MAX_PIXEL_DRIFT;)d--;let _=d,C=0,y=c.length;for(let O=l;_<o;_++)if(e.get(_,i)!==O)h[C]++;else{if(C===y-1){if(je.patternMatchVariance(h,c,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([d,_]);d+=h[0]+h[1],D.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,O=!O}return C===y-1&&je.patternMatchVariance(h,c,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([d,_-1]):null}static patternMatchVariance(e,r,i){let o=e.length,l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return 1/0;let h=l/c;i*=h;let d=0;for(let p=0;p<o;p++){let _=e[p],C=r[p]*h,y=_>C?_-C:C-_;if(y>i)return 1/0;d+=y}return d/l}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class Xt{constructor(e,r){if(r.length===0)throw new A;this.field=e;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){let c=r;r=i,i=c}let o=new Int32Array(i.length),l=i.length-r.length;D.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=this.field.add(r[c-l],i[c]);return new Xt(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Xt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Xt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1);for(let h=0;h<i;h++){let d=r[h];for(let p=0;p<l;p++)c[h+p]=this.field.add(c[h+p],this.field.multiply(d,o[p]))}return new Xt(this.field,c)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let i=0;i<e;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Xt(this.field,r)}multiplyScalar(e){if(e===0)return new Xt(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new Xt(this.field,i)}multiplyByMonomial(e,r){if(e<0)throw new A;if(r===0)return new Xt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Xt(this.field,o)}toString(){let e=new ne;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(r===0||i!==1)&&e.append(i),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class ig{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}inverse(e){if(e===0)throw new at;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Qa extends ig{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Xt(this,new Int32Array([0])),this.one=new Xt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(r===0)return this.zero;let i=new Int32Array(e+1);return i[0]=r,new Xt(this,i)}}Qa.PDF417_GF=new Qa(Be.NUMBER_OF_CODEWORDS,3);class Cu{constructor(){this.field=Qa.PDF417_GF}decode(e,r,i){let o=new Xt(this.field,e),l=new Int32Array(r),c=!1;for(let R=r;R>0;R--){let M=o.evaluateAt(this.field.exp(R));l[r-R]=M,M!==0&&(c=!0)}if(!c)return 0;let h=this.field.getOne();if(i!=null)for(const R of i){let M=this.field.exp(e.length-1-R),k=new Xt(this.field,new Int32Array([this.field.subtract(0,M),1]));h=h.multiply(k)}let d=new Xt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),d,r),_=p[0],C=p[1],y=this.findErrorLocations(_),O=this.findErrorMagnitudes(C,_,y);for(let R=0;R<y.length;R++){let M=e.length-1-this.field.log(y[R]);if(M<0)throw S.getChecksumInstance();e[M]=this.field.subtract(e[M],O[R])}return y.length}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){let y=e;e=r,r=y}let o=e,l=r,c=this.field.getZero(),h=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let y=o,O=c;if(o=l,c=h,o.isZero())throw S.getChecksumInstance();l=y;let R=this.field.getZero(),M=o.getCoefficient(o.getDegree()),k=this.field.inverse(M);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let X=l.getDegree()-o.getDegree(),de=this.field.multiply(l.getCoefficient(l.getDegree()),k);R=R.add(this.field.buildMonomial(X,de)),l=l.subtract(o.multiplyByMonomial(X,de))}h=R.multiply(c).subtract(O).negative()}let d=h.getCoefficient(0);if(d===0)throw S.getChecksumInstance();let p=this.field.inverse(d),_=h.multiply(p),C=l.multiply(p);return[_,C]}findErrorLocations(e){let r=e.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)e.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw S.getChecksumInstance();return i}findErrorMagnitudes(e,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new Xt(this.field,l),h=i.length,d=new Int32Array(h);for(let p=0;p<h;p++){let _=this.field.inverse(i[p]),C=this.field.subtract(0,e.evaluateAt(_)),y=this.field.inverse(c.evaluateAt(_));d[p]=this.field.multiply(C,y)}return d}}class qr{constructor(e,r,i,o,l){e instanceof qr?this.constructor_2(e):this.constructor_1(e,r,i,o,l)}constructor_1(e,r,i,o,l){const c=r==null||i==null,h=o==null||l==null;if(c&&h)throw new W;c?(r=new G(0,o.getY()),i=new G(0,l.getY())):h&&(o=new G(e.getWidth()-1,r.getY()),l=new G(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new qr(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,i){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,h=this.bottomRight;if(e>0){let d=i?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);let _=new G(d.getX(),p);i?o=_:c=_}if(r>0){let d=i?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let _=new G(d.getX(),p);i?l=_:h=_}return new qr(this.image,o,l,c,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class og{constructor(e,r,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fi{constructor(){this.buffer=""}static form(e,r){let i=-1;function o(c,h,d,p,_,C){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=_?parseInt(_.substr(1)):void 0,O;switch(C){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(y||16);break;case"d":O=parseFloat(parseInt(r[i],y||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;O.length<R;)O=h!==void 0?O+M:M+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}format(e,...r){this.buffer+=fi.form(e,r)}toString(){return this.buffer}}class hi{constructor(e){this.boundingBox=new qr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let i=1;i<hi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new fi;let r=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return e.toString()}}hi.MAX_NEARBY_DISTANCE=5;class di{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>e?(e=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===e&&r.push(l.getKey())}return Be.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class yu extends hi{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=-1,p=1,_=0;for(let C=c;C<h;C++){if(r[C]==null)continue;let y=r[C],O=y.getRowNumber()-d;if(O===0)_++;else if(O===1)p=Math.max(p,_),_=1,d=y.getRowNumber();else if(O<0||y.getRowNumber()>=e.getRowCount()||O>C)r[C]=null;else{let R;p>2?R=(p-2)*O:R=O;let M=R>=C;for(let k=1;k<=R&&!M;k++)M=r[C-k]!=null;M?r[C]=null:(d=y.getRowNumber(),_=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.getCodewords(),d=-1;for(let p=l;p<c;p++){if(h[p]==null)continue;let _=h[p];_.setRowNumberAsRowIndicatorColumn();let C=_.getRowNumber()-d;C===0||(C===1?d=_.getRowNumber():_.getRowNumber()>=e.getRowCount()?h[p]=null:d=_.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new di,i=new di,o=new di,l=new di;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let d=h.getValue()%30,p=h.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:i.setValue(d*3+1);break;case 1:l.setValue(d/3),o.setValue(d%3);break;case 2:r.setValue(d+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let c=new og(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,r){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:l+1!==r.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class gi{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Be.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&r[i]!=null&&e[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(e[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let h=this.detectionResultColumns[c].getCodewords()[i];h!=null&&(l=gi.adjustRowNumberIfValid(o,l,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let h=this.detectionResultColumns[c].getCodewords()[i];h!=null&&(l=gi.adjustRowNumberIfValid(o,l,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,i){if(!this.detectionResultColumns[e-1])return;let o=i[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=l[r],h[3]=c[r],r>0&&(h[0]=i[r-1],h[4]=l[r-1],h[5]=c[r-1]),r>1&&(h[8]=i[r-2],h[10]=l[r-2],h[11]=c[r-2]),r<i.length-1&&(h[1]=i[r+1],h[6]=l[r+1],h[7]=c[r+1]),r<i.length-2&&(h[9]=i[r+2],h[12]=l[r+2],h[13]=c[r+2]);for(let d of h)if(gi.adjustRowNumber(o,d))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new fi;for(let i=0;i<e.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class pi{constructor(e,r,i,o){this.rowNumber=pi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==pi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}pi.BARCODE_ROW_UNKNOWN=-1;class an{static initialize(){for(let e=0;e<Be.SYMBOL_TABLE.length;e++){let r=Be.SYMBOL_TABLE[e],i=r&1;for(let o=0;o<Be.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,an.RATIOS_TABLE[e]||(an.RATIOS_TABLE[e]=new Array(Be.BARS_IN_MODULE)),an.RATIOS_TABLE[e][Be.BARS_IN_MODULE-o-1]=Math.fround(l/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=an.getDecodedCodewordValue(an.sampleBitCounts(e));return r!==-1?r:an.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=se.sum(e),i=new Int32Array(Be.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<Be.MODULES_IN_CODEWORD;c++){let h=r/(2*Be.MODULES_IN_CODEWORD)+c*r/Be.MODULES_IN_CODEWORD;l+e[o]<=h&&(l+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let r=an.getBitValue(e);return Be.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=se.sum(e),i=new Array(Be.BARS_IN_MODULE);if(r>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(e[c]/r);let o=ge.MAX_VALUE,l=-1;this.bSymbolTableReady||an.initialize();for(let c=0;c<an.RATIOS_TABLE.length;c++){let h=0,d=an.RATIOS_TABLE[c];for(let p=0;p<Be.BARS_IN_MODULE;p++){let _=Math.fround(d[p]-i[p]);if(h+=Math.fround(_*_),h>=o)break}h<o&&(o=h,l=Be.SYMBOL_TABLE[c])}return l}}an.bSymbolTableReady=!1,an.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(b=>new Array(Be.BARS_IN_MODULE));class vu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Tu{static parseLong(e,r=void 0){return parseInt(e,r)}}class Su extends x{}Su.kind="NullPointerException";class ag{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,i){if(e==null)throw new Su;if(r<0||r>e.length||i<0||r+i>e.length||r+i<0)throw new J;if(i===0)return;for(let o=0;o<i;o++)this.write(e[r+o])}flush(){}close(){}}class lg extends x{}class cg extends ag{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new lg;i=B.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new J;this.ensureCapacity(this.count+i),D.arraycopy(e,r,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ft;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ft||(ft={}));function Iu(){if(typeof window<"u")return window.BigInt||null;if(typeof bi<"u")return bi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let po;function wr(b){if(typeof po>"u"&&(po=Iu()),po===null)throw new Error("BigInt is not supported!");return po(b)}function ug(){let b=[];b[0]=wr(1);let e=wr(900);b[1]=e;for(let r=2;r<16;r++)b[r]=b[r-1]*e;return b}class ${static decode(e,r){let i=new ne(""),o=P.ISO8859_1;i.enableDecoding(o);let l=1,c=e[l++],h=new vu;for(;l<e[0];){switch(c){case $.TEXT_COMPACTION_MODE_LATCH:l=$.textCompaction(e,l,i);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:l=$.byteCompaction(c,e,o,l,i);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[l++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:l=$.numericCompaction(e,l,i);break;case $.ECI_CHARSET:P.getCharacterSetECIByValue(e[l++]);break;case $.ECI_GENERAL_PURPOSE:l+=2;break;case $.ECI_USER_DEFINED:l++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=$.decodeMacroBlock(e,l,h);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new F;default:l--,l=$.textCompaction(e,l,i);break}if(l<e.length)c=e[l++];else throw F.getFormatInstance()}if(i.length()===0)throw F.getFormatInstance();let d=new xe(null,i.toString(),null,r);return d.setOther(h),d}static decodeMacroBlock(e,r,i){if(r+$.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw F.getFormatInstance();let o=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<$.NUMBER_OF_SEQUENCE_CODEWORDS;h++,r++)o[h]=e[r];i.setSegmentIndex(B.parseInt($.decodeBase900toBase10(o,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ne;r=$.textCompaction(e,r,l),i.setFileId(l.toString());let c=-1;for(e[r]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ne;r=$.textCompaction(e,r+1,h),i.setFileName(h.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new ne;r=$.textCompaction(e,r+1,d),i.setSender(d.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ne;r=$.textCompaction(e,r+1,p),i.setAddressee(p.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new ne;r=$.numericCompaction(e,r+1,_),i.setSegmentCount(B.parseInt(_.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ne;r=$.numericCompaction(e,r+1,C),i.setTimestamp(Tu.parseLong(C.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new ne;r=$.numericCompaction(e,r+1,y),i.setChecksum(B.parseInt(y.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new ne;r=$.numericCompaction(e,r+1,O),i.setFileSize(Tu.parseLong(O.toString()));break;default:throw F.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(c!==-1){let h=r-c;i.isLastSegment()&&h--,i.setOptionalData(j.copyOfRange(e,c,c+h))}return r}static textCompaction(e,r,i){let o=new Int32Array((e[0]-r)*2),l=new Int32Array((e[0]-r)*2),c=0,h=!1;for(;r<e[0]&&!h;){let d=e[r++];if(d<$.TEXT_COMPACTION_MODE_LATCH)o[c]=d/30,o[c+1]=d%30,c+=2;else switch(d){case $.TEXT_COMPACTION_MODE_LATCH:o[c++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:r--,h=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[r++],l[c]=d,c++;break}}return $.decodeTextCompaction(o,l,c,i),r}static decodeTextCompaction(e,r,i,o){let l=ft.ALPHA,c=ft.ALPHA,h=0;for(;h<i;){let d=e[h],p="";switch(l){case ft.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case $.LL:l=ft.LOWER;break;case $.ML:l=ft.MIXED;break;case $.PS:c=l,l=ft.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break;case ft.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case $.AS:c=l,l=ft.ALPHA_SHIFT;break;case $.ML:l=ft.MIXED;break;case $.PS:c=l,l=ft.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break;case ft.MIXED:if(d<$.PL)p=$.MIXED_CHARS[d];else switch(d){case $.PL:l=ft.PUNCT;break;case 26:p=" ";break;case $.LL:l=ft.LOWER;break;case $.AL:l=ft.ALPHA;break;case $.PS:c=l,l=ft.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break;case ft.PUNCT:if(d<$.PAL)p=$.PUNCT_CHARS[d];else switch(d){case $.PAL:l=ft.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break;case ft.ALPHA_SHIFT:if(l=c,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break;case ft.PUNCT_SHIFT:if(l=c,d<$.PAL)p=$.PUNCT_CHARS[d];else switch(d){case $.PAL:l=ft.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case $.TEXT_COMPACTION_MODE_LATCH:l=ft.ALPHA;break}break}p!==""&&o.append(p),h++}}static byteCompaction(e,r,i,o,l){let c=new cg,h=0,d=0,p=!1;switch(e){case $.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),C=r[o++];for(;o<r[0]&&!p;)switch(_[h++]=C,d=900*d+C,C=r[o++],C){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(h%5===0&&h>0){for(let y=0;y<6;++y)c.write(Number(wr(d)>>wr(8*(5-y))));d=0,h=0}break}o===r[0]&&C<$.TEXT_COMPACTION_MODE_LATCH&&(_[h++]=C);for(let y=0;y<h;y++)c.write(_[y]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let y=r[o++];if(y<$.TEXT_COMPACTION_MODE_LATCH)h++,d=900*d+y;else switch(y){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(h%5===0&&h>0){for(let O=0;O<6;++O)c.write(Number(wr(d)>>wr(8*(5-O))));d=0,h=0}}break}return l.append(Ee.decode(c.toByteArray(),i)),o}static numericCompaction(e,r,i){let o=0,l=!1,c=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!l;){let h=e[r++];if(r===e[0]&&(l=!0),h<$.TEXT_COMPACTION_MODE_LATCH)c[o]=h,o++;else switch(h){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%$.MAX_NUMERIC_CODEWORDS===0||h===$.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append($.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(e,r){let i=wr(0);for(let l=0;l<r;l++)i+=$.EXP900[r-l-1]*wr(e[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new F;return o.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=Iu()?ug():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ze{constructor(){}static decode(e,r,i,o,l,c,h){let d=new qr(e,r,i,o,l),p=null,_=null,C;for(let R=!0;;R=!1){if(r!=null&&(p=ze.getRowIndicatorColumn(e,d,r,!0,c,h)),o!=null&&(_=ze.getRowIndicatorColumn(e,d,o,!1,c,h)),C=ze.merge(p,_),C==null)throw W.getNotFoundInstance();let M=C.getBoundingBox();if(R&&M!=null&&(M.getMinY()<d.getMinY()||M.getMaxY()>d.getMaxY()))d=M;else break}C.setBoundingBox(d);let y=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(y,_);let O=p!=null;for(let R=1;R<=y;R++){let M=O?R:y-R;if(C.getDetectionResultColumn(M)!==void 0)continue;let k;M===0||M===y?k=new yu(d,M===0):k=new hi(d),C.setDetectionResultColumn(M,k);let X=-1,de=X;for(let pe=d.getMinY();pe<=d.getMaxY();pe++){if(X=ze.getStartColumn(C,M,pe,O),X<0||X>d.getMaxX()){if(de===-1)continue;X=de}let le=ze.detectCodeword(e,d.getMinX(),d.getMaxX(),O,X,pe,c,h);le!=null&&(k.setCodeword(pe,le),de=X,c=Math.min(c,le.getWidth()),h=Math.max(h,le.getWidth()))}}return ze.createDecoderResult(C)}static merge(e,r){if(e==null&&r==null)return null;let i=ze.getBarcodeMetadata(e,r);if(i==null)return null;let o=qr.merge(ze.adjustBoundingBox(e),ze.adjustBoundingBox(r));return new gi(i,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let i=ze.getMax(r),o=0;for(let h of r)if(o+=i-h,h>0)break;let l=e.getCodewords();for(let h=0;o>0&&l[h]==null;h++)o--;let c=0;for(let h=r.length-1;h>=0&&(c+=i-r[h],!(r[h]>0));h--);for(let h=l.length-1;c>0&&l[h]==null;h--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let r=-1;for(let i of e)r=Math.max(r,i);return r}static getBarcodeMetadata(e,r){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,r,i,o,l,c){let h=new yu(r,o);for(let d=0;d<2;d++){let p=d===0?1:-1,_=Math.trunc(Math.trunc(i.getX()));for(let C=Math.trunc(Math.trunc(i.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let y=ze.detectCodeword(e,0,e.getWidth(),o,_,C,l,c);y!=null&&(h.setCodeword(C,y),o?_=y.getStartX():_=y.getEndX())}}return h}static adjustCodewordCount(e,r){let i=r[0][1],o=i.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ze.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(l<1||l>Be.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(e){let r=ze.createBarcodeMatrix(e);ze.adjustCodewordCount(e,r);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],c=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let p=0;p<e.getBarcodeColumnCount();p++){let _=r[d][p+1].getValue(),C=d*e.getBarcodeColumnCount()+p;_.length===0?i.push(C):_.length===1?o[C]=_[0]:(c.push(C),l.push(_))}let h=new Array(l.length);for(let d=0;d<h.length;d++)h[d]=l[d];return ze.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Be.toIntArray(i),Be.toIntArray(c),h)}static createDecoderResultFromAmbiguousValues(e,r,i,o,l){let c=new Int32Array(o.length),h=100;for(;h-- >0;){for(let d=0;d<c.length;d++)r[o[d]]=l[d][c[d]];try{return ze.decodeCodewords(r,e,i)}catch(d){if(!(d instanceof S))throw d}if(c.length===0)throw S.getChecksumInstance();for(let d=0;d<c.length;d++)if(c[d]<l[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new di;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,i,o){let l=o?1:-1,c=null;if(ze.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(ze.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let h=0;for(;ze.isValidBarcodeColumn(e,r-l);){r-=l;for(let d of e.getDetectionResultColumn(r).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+l*h*(d.getEndX()-d.getStartX());h++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,i,o,l,c,h,d){l=ze.adjustCodewordStartColumn(e,r,i,o,l,c);let p=ze.getModuleBitCount(e,r,i,o,l,c);if(p==null)return null;let _,C=se.sum(p);if(o)_=l+C;else{for(let R=0;R<p.length/2;R++){let M=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=M}_=l,l=_-C}if(!ze.checkCodewordSkew(C,h,d))return null;let y=an.getDecodedValue(p),O=Be.getCodeword(y);return O===-1?null:new pi(l,_,ze.getCodewordBucketNumber(y),O)}static getModuleBitCount(e,r,i,o,l,c){let h=l,d=new Int32Array(8),p=0,_=o?1:-1,C=o;for(;(o?h<i:h>=r)&&p<d.length;)e.get(h,c)===C?(d[p]++,h+=_):(p++,C=!C);return p===d.length||h===(o?i:r)&&p===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,i,o,l,c){let h=l,d=o?-1:1;for(let p=0;p<2;p++){for(;(o?h>=r:h<i)&&o===e.get(h,c);){if(Math.abs(l-h)>ze.CODEWORD_SKEW_SIZE)return l;h+=d}d=-d,o=!o}return h}static checkCodewordSkew(e,r,i){return r-ze.CODEWORD_SKEW_SIZE<=e&&e<=i+ze.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,i){if(e.length===0)throw F.getFormatInstance();let o=1<<r+1,l=ze.correctErrors(e,i,o);ze.verifyCodewordCount(e,o);let c=$.decode(e,""+r);return c.setErrorsCorrected(l),c.setErasures(i.length),c}static correctErrors(e,r,i){if(r!=null&&r.length>i/2+ze.MAX_ERRORS||i<0||i>ze.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return ze.errorCorrection.decode(e,i,r)}static verifyCodewordCount(e,r){if(e.length<4)throw F.getFormatInstance();let i=e[0];if(i>e.length)throw F.getFormatInstance();if(i===0)if(r<e.length)e[0]=e.length-r;else throw F.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ze.getCodewordBucketNumber(ze.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new fi;for(let i=0;i<e.length;i++){r.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let l=e[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ze.CODEWORD_SKEW_SIZE=2,ze.MAX_ERRORS=3,ze.MAX_EC_CODEWORDS=512,ze.errorCorrection=new Cu;class jt{decode(e,r=null){let i=jt.decode(e,r,!1);if(i==null||i.length===0||i[0]==null)throw W.getNotFoundInstance();return i[0]}decodeMultiple(e,r=null){try{return jt.decode(e,r,!0)}catch(i){throw i instanceof F||i instanceof S?W.getNotFoundInstance():i}}static decode(e,r,i){const o=new Array,l=je.detectMultiple(e,r,i);for(const c of l.getPoints()){const h=ze.decode(l.getBits(),c[4],c[5],c[6],c[7],jt.getMinCodewordWidth(c),jt.getMaxCodewordWidth(c)),d=new ct(h.getText(),h.getRawBytes(),void 0,c,Ae.PDF_417);d.putMetadata(fe.ERROR_CORRECTION_LEVEL,h.getECLevel());const p=h.getOther();p!=null&&d.putMetadata(fe.PDF417_EXTRA_METADATA,p),o.push(d)}return o.map(c=>c)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?B.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(jt.getMaxWidth(e[0],e[4]),jt.getMaxWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(jt.getMaxWidth(e[1],e[5]),jt.getMaxWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(jt.getMinWidth(e[0],e[4]),jt.getMinWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(jt.getMinWidth(e[1],e[5]),jt.getMinWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class mo extends x{}mo.kind="ReaderException";class Ou{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!a(e)&&e.get(K.TRY_HARDER)===!0,i=a(e)?null:e.get(K.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(c=>c===Ae.UPC_A||c===Ae.UPC_E||c===Ae.EAN_13||c===Ae.EAN_8||c===Ae.CODABAR||c===Ae.CODE_39||c===Ae.CODE_93||c===Ae.CODE_128||c===Ae.ITF||c===Ae.RSS_14||c===Ae.RSS_EXPANDED);l&&!r&&o.push(new vs(e,this.verbose)),i.includes(Ae.QR_CODE)&&o.push(new _r),i.includes(Ae.DATA_MATRIX)&&o.push(new Er),i.includes(Ae.AZTEC)&&o.push(new Yt),i.includes(Ae.PDF_417)&&o.push(new jt),l&&r&&o.push(new vs(e,this.verbose))}o.length===0&&(r||o.push(new vs(e,this.verbose)),o.push(new _r),o.push(new Er),o.push(new Yt),o.push(new jt),r&&o.push(new vs(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new mo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(i){if(i instanceof mo)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class fg extends Bt{constructor(e=null,r=500){const i=new Ou;i.setHints(e),super(i,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class hg extends Bt{constructor(e=500){super(new jt,e)}}class dg extends Bt{constructor(e=500){super(new _r,e)}}var Ja;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Ja||(Ja={}));var Ft=Ja;class el{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ke(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=e;l++){const c=i.multiply(new ke(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),i=c}}return r[e]}encode(e,r){if(r===0)throw new A("No error correction bytes");const i=e.length-r;if(i<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);D.arraycopy(e,0,l,0,i);let c=new ke(this.field,l);c=c.multiplyByMonomial(r,1);const d=c.divide(o)[1].getCoefficients(),p=r-d.length;for(let _=0;_<p;_++)e[i+_]=0;D.arraycopy(d,0,e,i+p,d.length)}}class It{constructor(){}static applyMaskPenaltyRule1(e){return It.applyMaskPenaltyRule1Internal(e,!0)+It.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l-1;c++){const h=i[c];for(let d=0;d<o-1;d++){const p=h[d];p===h[d+1]&&p===i[c+1][d]&&p===i[c+1][d+1]&&r++}}return It.N2*r}static applyMaskPenaltyRule3(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l;c++)for(let h=0;h<o;h++){const d=i[c];h+6<o&&d[h]===1&&d[h+1]===0&&d[h+2]===1&&d[h+3]===1&&d[h+4]===1&&d[h+5]===0&&d[h+6]===1&&(It.isWhiteHorizontal(d,h-4,h)||It.isWhiteHorizontal(d,h+7,h+11))&&r++,c+6<l&&i[c][h]===1&&i[c+1][h]===0&&i[c+2][h]===1&&i[c+3][h]===1&&i[c+4][h]===1&&i[c+5][h]===0&&i[c+6][h]===1&&(It.isWhiteVertical(i,h,c-4,c)||It.isWhiteVertical(i,h,c+7,c+11))&&r++}return r*It.N3}static isWhiteHorizontal(e,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let l=i;l<o;l++)if(e[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let d=0;d<l;d++){const p=i[d];for(let _=0;_<o;_++)p[_]===1&&r++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*It.N4}static getDataMaskBit(e,r,i){let o,l;switch(e){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new A("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let i=0;const o=r?e.getHeight():e.getWidth(),l=r?e.getWidth():e.getHeight(),c=e.getArray();for(let h=0;h<o;h++){let d=0,p=-1;for(let _=0;_<l;_++){const C=r?c[h][_]:c[_][h];C===p?d++:(d>=5&&(i+=It.N1+(d-5)),d=1,p=C)}d>=5&&(i+=It.N1+(d-5))}return i}}It.N1=3,It.N2=3,It.N3=40,It.N4=10;class xo{constructor(e,r){this.width=e,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,i){this.bytes[r][e]=i}setBoolean(e,r,i){this.bytes[r][e]=i?1:0}clear(e){for(const r of this.bytes)j.fill(r,e)}equals(e){if(!(e instanceof xo))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],c=r.bytes[i];for(let h=0,d=this.width;h<d;++h)if(l[h]!==c[h])return!1}return!0}toString(){const e=new ne;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Zr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ne;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Zr.NUM_MASK_PATTERNS}}Zr.NUM_MASK_PATTERNS=8;class ht extends x{}ht.kind="WriterException";class Pe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,i,o,l){Pe.clearMatrix(l),Pe.embedBasicPatterns(i,l),Pe.embedTypeInfo(r,o,l),Pe.maybeEmbedVersionInfo(i,l),Pe.embedDataBits(e,o,l)}static embedBasicPatterns(e,r){Pe.embedPositionDetectionPatternsAndSeparators(r),Pe.embedDarkDotAtLeftBottomCorner(r),Pe.maybeEmbedPositionAdjustmentPatterns(e,r),Pe.embedTimingPatterns(r)}static embedTypeInfo(e,r,i){const o=new Q;Pe.makeTypeInfoBits(e,r,o);for(let l=0,c=o.getSize();l<c;++l){const h=o.get(o.getSize()-1-l),d=Pe.TYPE_INFO_COORDINATES[l],p=d[0],_=d[1];if(i.setBoolean(p,_,h),l<8){const C=i.getWidth()-l-1;i.setBoolean(C,8,h)}else{const y=i.getHeight()-7+(l-8);i.setBoolean(8,y,h)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const i=new Q;Pe.makeVersionInfoBits(e,i);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const h=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,h),r.setBoolean(r.getHeight()-11+c,l,h)}}static embedDataBits(e,r,i){let o=0,l=-1,c=i.getWidth()-1,h=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);h>=0&&h<i.getHeight();){for(let d=0;d<2;++d){const p=c-d;if(!Pe.isEmpty(i.get(p,h)))continue;let _;o<e.getSize()?(_=e.get(o),++o):_=!1,r!==255&&It.getDataMaskBit(r,p,h)&&(_=!_),i.setBoolean(p,h,_)}h+=l}l=-l,h+=l,c-=2}if(o!==e.getSize())throw new ht("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-B.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new A("0 polynomial");const i=Pe.findMSBSet(r);for(e<<=i-1;Pe.findMSBSet(e)>=i;)e^=r<<Pe.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,r,i){if(!Zr.isValidMaskPattern(r))throw new ht("Invalid mask pattern");const o=e.getBits()<<3|r;i.appendBits(o,5);const l=Pe.calculateBCHCode(o,Pe.TYPE_INFO_POLY);i.appendBits(l,10);const c=new Q;if(c.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new ht("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const i=Pe.calculateBCHCode(e.getVersionNumber(),Pe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new ht("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const i=(r+1)%2;Pe.isEmpty(e.get(r,6))&&e.setNumber(r,6,i),Pe.isEmpty(e.get(6,r))&&e.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new ht;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,i){for(let o=0;o<8;++o){if(!Pe.isEmpty(i.get(e+o,r)))throw new ht;i.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,i){for(let o=0;o<7;++o){if(!Pe.isEmpty(i.get(e,r+o)))throw new ht;i.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,i){for(let o=0;o<5;++o){const l=Pe.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPattern(e,r,i){for(let o=0;o<7;++o){const l=Pe.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,e),Pe.embedPositionDetectionPattern(e.getWidth()-r,0,e),Pe.embedPositionDetectionPattern(0,e.getWidth()-r,e);const i=8;Pe.embedHorizontalSeparationPattern(0,i-1,e),Pe.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Pe.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;Pe.embedVerticalSeparationPattern(o,0,e),Pe.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Pe.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,c=o.length;l!==c;l++){const h=o[l];if(h>=0)for(let d=0;d!==c;d++){const p=o[d];p>=0&&Pe.isEmpty(r.get(p,h))&&Pe.embedPositionAdjustmentPattern(p-2,h-2,r)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class gg{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Et{constructor(){}static calculateMaskPenalty(e){return It.applyMaskPenaltyRule1(e)+It.applyMaskPenaltyRule2(e)+It.applyMaskPenaltyRule3(e)+It.applyMaskPenaltyRule4(e)}static encode(e,r,i=null){let o=Et.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(Ft.CHARACTER_SET)!==void 0;l&&(o=i.get(Ft.CHARACTER_SET).toString());const c=this.chooseMode(e,o),h=new Q;if(c===De.BYTE&&(l||Et.DEFAULT_BYTE_MODE_ENCODING!==o)){const pe=P.getCharacterSetECIByName(o);pe!==void 0&&this.appendECI(pe,h)}this.appendModeInfo(c,h);const d=new Q;this.appendBytes(e,c,d,o);let p;if(i!==null&&i.get(Ft.QR_VERSION)!==void 0){const pe=Number.parseInt(i.get(Ft.QR_VERSION).toString(),10);p=Ne.getVersionForNumber(pe);const le=this.calculateBitsNeeded(c,h,d,p);if(!this.willFit(le,p,r))throw new ht("Data too big for requested version")}else p=this.recommendVersion(r,c,h,d);const _=new Q;_.appendBitArray(h);const C=c===De.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(C,p,c,_),_.appendBitArray(d);const y=p.getECBlocksForLevel(r),O=p.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(O,_);const R=this.interleaveWithECBytes(_,p.getTotalCodewords(),O,y.getNumBlocks()),M=new Zr;M.setECLevel(r),M.setMode(c),M.setVersion(p);const k=p.getDimensionForVersion(),X=new xo(k,k),de=this.chooseMaskPattern(R,r,p,X);return M.setMaskPattern(de),Pe.buildMatrix(R,r,p,de,X),M.setMatrix(X),M}static recommendVersion(e,r,i,o){const l=this.calculateBitsNeeded(r,i,o,Ne.getVersionForNumber(1)),c=this.chooseVersion(l,e),h=this.calculateBitsNeeded(r,i,o,c);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,r,i,o){return r.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<Et.ALPHANUMERIC_TABLE.length?Et.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(P.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return De.KANJI;let i=!1,o=!1;for(let l=0,c=e.length;l<c;++l){const h=e.charAt(l);if(Et.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)o=!0;else return De.BYTE}return o?De.ALPHANUMERIC:i?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=Ee.encode(e,P.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,r,i,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let h=0;h<Zr.NUM_MASK_PATTERNS;h++){Pe.buildMatrix(e,r,i,h,o);let d=this.calculateMaskPenalty(o);d<l&&(l=d,c=h)}return c}static chooseVersion(e,r){for(let i=1;i<=40;i++){const o=Ne.getVersionForNumber(i);if(Et.willFit(e,o,r))return o}throw new ht("Data too big")}static willFit(e,r,i){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(i).getTotalECCodewords(),h=o-c,d=(e+7)/8;return h>=d}static terminateBits(e,r){const i=e*8;if(r.getSize()>i)throw new ht("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let c=0;c<4&&r.getSize()<i;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=e-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==i)throw new ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,i,o,l,c){if(o>=i)throw new ht("Block ID too large");const h=e%i,d=i-h,p=Math.floor(e/i),_=p+1,C=Math.floor(r/i),y=C+1,O=p-C,R=_-y;if(O!==R)throw new ht("EC bytes mismatch");if(i!==d+h)throw new ht("RS blocks mismatch");if(e!==(C+O)*d+(y+R)*h)throw new ht("Total bytes mismatch");o<d?(l[0]=C,c[0]=O):(l[0]=y,c[0]=R)}static interleaveWithECBytes(e,r,i,o){if(e.getSizeInBytes()!==i)throw new ht("Number of bits and data bytes does not match");let l=0,c=0,h=0;const d=new Array;for(let _=0;_<o;++_){const C=new Int32Array(1),y=new Int32Array(1);Et.getNumDataBytesAndNumECBytesForBlockID(r,i,o,_,C,y);const O=C[0],R=new Uint8Array(O);e.toBytes(8*l,R,0,O);const M=Et.generateECBytes(R,y[0]);d.push(new gg(R,M)),c=Math.max(c,O),h=Math.max(h,M.length),l+=C[0]}if(i!==l)throw new ht("Data bytes does not match offset");const p=new Q;for(let _=0;_<c;++_)for(const C of d){const y=C.getDataBytes();_<y.length&&p.appendBits(y[_],8)}for(let _=0;_<h;++_)for(const C of d){const y=C.getErrorCorrectionBytes();_<y.length&&p.appendBits(y[_],8)}if(r!==p.getSizeInBytes())throw new ht("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,r){const i=e.length,o=new Int32Array(i+r);for(let c=0;c<i;c++)o[c]=e[c]&255;new el(v.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[i+c];return l}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,i,o){const l=i.getCharacterCountBits(r);if(e>=1<<l)throw new ht(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,r,i,o){switch(r){case De.NUMERIC:Et.appendNumericBytes(e,i);break;case De.ALPHANUMERIC:Et.appendAlphanumericBytes(e,i);break;case De.BYTE:Et.append8BitBytes(e,i,o);break;case De.KANJI:Et.appendKanjiBytes(e,i);break;default:throw new ht("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Et.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=Et.getDigit(e.charAt(o));if(o+2<i){const c=Et.getDigit(e.charAt(o+1)),h=Et.getDigit(e.charAt(o+2));r.appendBits(l*100+c*10+h,10),o+=3}else if(o+1<i){const c=Et.getDigit(e.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=Et.getAlphanumericCode(e.charCodeAt(o));if(l===-1)throw new ht;if(o+1<i){const c=Et.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new ht;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(e,r,i){let o;try{o=Ee.encode(e,i)}catch(l){throw new ht(l)}for(let l=0,c=o.length;l!==c;l++){const h=o[l];r.appendBits(h,8)}}static appendKanjiBytes(e,r){let i;try{i=Ee.encode(e,P.SJIS)}catch(l){throw new ht(l)}const o=i.length;for(let l=0;l<o;l+=2){const c=i[l]&255,h=i[l+1]&255,d=c<<8&4294967295|h;let p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new ht("Invalid byte sequence");const _=(p>>8)*192+(p&255);r.appendBits(_,13)}}static appendECI(e,r){r.appendBits(De.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Et.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class Qr{write(e,r,i,o=null){if(e.length===0)throw new A("Found empty contents");if(r<0||i<0)throw new A("Requested dimensions are too small: "+r+"x"+i);let l=xt.L,c=Qr.QUIET_ZONE_SIZE;o!==null&&(o.get(Ft.ERROR_CORRECTION)!==void 0&&(l=xt.fromString(o.get(Ft.ERROR_CORRECTION).toString())),o.get(Ft.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Ft.MARGIN).toString(),10)));const h=Et.encode(e,l,o);return this.renderResult(h,r,i,c)}writeToDom(e,r,i,o,l=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(r,i,o,l);e&&e.appendChild(c)}renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new V;const c=l.getWidth(),h=l.getHeight(),d=c+o*2,p=h+o*2,_=Math.max(r,d),C=Math.max(i,p),y=Math.min(Math.floor(_/d),Math.floor(C/p)),O=Math.floor((_-c*y)/2),R=Math.floor((C-h*y)/2),M=this.createSVGElement(_,C);for(let k=0,X=R;k<h;k++,X+=y)for(let de=0,pe=O;de<c;de++,pe+=y)if(l.get(de,k)===1){const le=this.createSvgRectElement(pe,X,y,y);M.appendChild(le)}return M}createSVGElement(e,r){const i=document.createElementNS(Qr.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(e,r,i,o){const l=document.createElementNS(Qr.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Qr.QUIET_ZONE_SIZE=4,Qr.SVG_NS="http://www.w3.org/2000/svg";class Ss{encode(e,r,i,o,l){if(e.length===0)throw new A("Found empty contents");if(r!==Ae.QR_CODE)throw new A("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new A(`Requested dimensions are too small: ${i}x${o}`);let c=xt.L,h=Ss.QUIET_ZONE_SIZE;l!==null&&(l.get(Ft.ERROR_CORRECTION)!==void 0&&(c=xt.fromString(l.get(Ft.ERROR_CORRECTION).toString())),l.get(Ft.MARGIN)!==void 0&&(h=Number.parseInt(l.get(Ft.MARGIN).toString(),10)));const d=Et.encode(e,c,l);return Ss.renderResult(d,i,o,h)}static renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new V;const c=l.getWidth(),h=l.getHeight(),d=c+o*2,p=h+o*2,_=Math.max(r,d),C=Math.max(i,p),y=Math.min(Math.floor(_/d),Math.floor(C/p)),O=Math.floor((_-c*y)/2),R=Math.floor((C-h*y)/2),M=new Oe(_,C);for(let k=0,X=R;k<h;k++,X+=y)for(let de=0,pe=O;de<c;de++,pe+=y)l.get(de,k)===1&&M.setRegion(pe,X,y,y);return M}}Ss.QUIET_ZONE_SIZE=4;class pg{encode(e,r,i,o,l){let c;switch(r){case Ae.QR_CODE:c=new Ss;break;default:throw new A("No encoder available for format "+r)}return c.encode(e,r,i,o,l)}}class zn extends $e{constructor(e,r,i,o,l,c,h,d){if(super(c,h),this.yuvData=e,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+c>r||l+h>i)throw new A("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(c,h)}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.yuvData,l,o,0,i),o;for(let c=0;c<r;c++){const h=c*e;D.arraycopy(this.yuvData,l,o,h,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)}renderThumbnail(){const e=this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const h=c*e;for(let d=0;d<e;d++){const p=o[l+d*zn.THUMBNAIL_SCALE_FACTOR]&255;i[h+d]=4278190080|p*65793}l+=this.dataWidth*zn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+e/2;for(let h=l,d=l+e-1;h<c;h++,d--){const p=i[h];i[h]=i[d],i[d]=p}}}invert(){return new mt(this)}}zn.THUMBNAIL_SCALE_FACTOR=2;class tl extends $e{constructor(e,r,i,o,l,c,h){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=h,e.BYTES_PER_ELEMENT===4){const d=r*i,p=new Uint8ClampedArray(d);for(let _=0;_<d;_++){const C=e[_],y=C>>16&255,O=C>>7&510,R=C&255;p[_]=(y+O+R)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.luminances,l,o,0,i),o;for(let c=0;c<r;c++){const h=c*e;D.arraycopy(this.luminances,l,o,h,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new tl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new mt(this)}}class Nu extends P{static forName(e){return this.getCharacterSetECIByName(e)}}class nl{}nl.ISO_8859_1=P.ISO8859_1;class Ru{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Du{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class mg{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Is extends mg{constructor(e,r,i){super(e),this.value=r,this.bitCount=i}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Is(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Is(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+B.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class rl extends Is{constructor(e,r,i){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(e,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(e,r){return new rl(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function xg(b,e,r){return new rl(b,e,r)}function mi(b,e,r){return new Is(b,e,r)}const Eg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ar=0,Eo=1,Sn=2,Mu=3,Yn=4,_g=new Is(null,0,0),sl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wg(b){for(let e of b)j.fill(e,-1);return b[Ar][Yn]=0,b[Eo][Yn]=0,b[Eo][Ar]=28,b[Mu][Yn]=0,b[Sn][Yn]=0,b[Sn][Ar]=15,b}const Lu=wg(j.createInt32Array(6,6));class Kn{constructor(e,r,i,o){this.token=e,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let i=this.bitCount,o=this.token;if(e!==this.mode){let c=sl[this.mode][e];o=mi(o,c&65535,c>>16),i+=c>>16}let l=e===Sn?4:5;return o=mi(o,r,l),new Kn(o,e,0,i+l)}shiftAndAppend(e,r){let i=this.token,o=this.mode===Sn?4:5;return i=mi(i,Lu[this.mode][e],o),i=mi(i,r,5),new Kn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Yn||this.mode===Sn){let h=sl[i][Ar];r=mi(r,h&65535,h>>16),o+=h>>16,i=Ar}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Kn(r,i,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=xg(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Kn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(sl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Kn.calculateBinaryShiftCost(e)-Kn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new Q;for(const o of r)o.appendTo(i,e);return i}toString(){return H.format("%s bits=%d bytes=%d",Eg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Kn.INITIAL_STATE=new Kn(_g,Ar,0,0);function Ag(b){const e=H.getCharCode(" "),r=H.getCharCode("."),i=H.getCharCode(",");b[Ar][e]=1;const o=H.getCharCode("Z"),l=H.getCharCode("A");for(let y=l;y<=o;y++)b[Ar][y]=y-l+2;b[Eo][e]=1;const c=H.getCharCode("z"),h=H.getCharCode("a");for(let y=h;y<=c;y++)b[Eo][y]=y-h+2;b[Sn][e]=1;const d=H.getCharCode("9"),p=H.getCharCode("0");for(let y=p;y<=d;y++)b[Sn][y]=y-p+2;b[Sn][i]=12,b[Sn][r]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<_.length;y++)b[Mu][H.getCharCode(_[y])]=y;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<C.length;y++)H.getCharCode(C[y])>0&&(b[Yn][H.getCharCode(C[y])]=y);return b}const il=Ag(j.createInt32Array(5,256));class xi{constructor(e){this.text=e}encode(){const e=H.getCharCode(" "),r=H.getCharCode(`
`);let i=Du.singletonList(Kn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,h=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case H.getCharCode("\r"):c=h===r?2:0;break;case H.getCharCode("."):c=h===e?3:0;break;case H.getCharCode(","):c=h===e?4:0;break;case H.getCharCode(":"):c=h===e?5:0;break;default:c=0}c>0?(i=xi.updateStateListForPair(i,l,c),l++):i=this.updateStateListForChar(i,l)}return Du.min(i,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const i=[];for(let o of e)this.updateStateForChar(o,r,i);return xi.simplifyStates(i)}updateStateForChar(e,r,i){let o=this.text[r]&255,l=il[e.getMode()][o]>0,c=null;for(let h=0;h<=Yn;h++){let d=il[h][o];if(d>0){if(c==null&&(c=e.endBinaryShift(r)),!l||h===e.getMode()||h===Sn){const p=c.latchAndAppend(h,d);i.push(p)}if(!l&&Lu[e.getMode()][h]>=0){const p=c.shiftAndAppend(h,d);i.push(p)}}}if(e.getBinaryShiftByteCount()>0||il[e.getMode()][o]===0){let h=e.addBinaryShiftChar(r);i.push(h)}}static updateStateListForPair(e,r,i){const o=[];for(let l of e)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(e,r,i,o){let l=e.endBinaryShift(r);if(o.push(l.latchAndAppend(Yn,i)),e.getMode()!==Yn&&o.push(l.shiftAndAppend(Yn,i)),i===3||i===4){let c=l.latchAndAppend(Sn,16-i).latchAndAppend(Sn,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(e){let r=[];for(const i of e){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(i)}return r}}class tt{constructor(){}static encodeBytes(e){return tt.encode(e,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(e,r,i){let o=new xi(e).encode(),l=B.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,h,d,p,_,C;if(i!==tt.DEFAULT_AZTEC_LAYERS){if(h=i<0,d=Math.abs(i),d>(h?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new A(H.format("Illegal value %s for layers",i));p=tt.totalBitsInLayer(d,h),_=tt.WORD_SIZE[d];let le=p-p%_;if(C=tt.stuffBits(o,_),C.getSize()+l>le)throw new A("Data to large for user specified layer");if(h&&C.getSize()>_*64)throw new A("Data to large for user specified layer")}else{_=0,C=null;for(let le=0;;le++){if(le>tt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(h=le<=3,d=h?le+1:le,p=tt.totalBitsInLayer(d,h),c>p)continue;(C==null||_!==tt.WORD_SIZE[d])&&(_=tt.WORD_SIZE[d],C=tt.stuffBits(o,_));let Ze=p-p%_;if(!(h&&C.getSize()>_*64)&&C.getSize()+l<=Ze)break}}let y=tt.generateCheckWords(C,p,_),O=C.getSize()/_,R=tt.generateModeMessage(h,d,O),M=(h?11:14)+d*4,k=new Int32Array(M),X;if(h){X=M;for(let le=0;le<k.length;le++)k[le]=le}else{X=M+1+2*B.truncDivision(B.truncDivision(M,2)-1,15);let le=B.truncDivision(M,2),Ze=B.truncDivision(X,2);for(let We=0;We<le;We++){let ln=We+B.truncDivision(We,15);k[le-We-1]=Ze-ln-1,k[le+We]=Ze+ln+1}}let de=new Oe(X);for(let le=0,Ze=0;le<d;le++){let We=(d-le)*4+(h?9:12);for(let ln=0;ln<We;ln++){let Fn=ln*2;for(let cn=0;cn<2;cn++)y.get(Ze+Fn+cn)&&de.set(k[le*2+cn],k[le*2+ln]),y.get(Ze+We*2+Fn+cn)&&de.set(k[le*2+ln],k[M-1-le*2-cn]),y.get(Ze+We*4+Fn+cn)&&de.set(k[M-1-le*2-cn],k[M-1-le*2-ln]),y.get(Ze+We*6+Fn+cn)&&de.set(k[M-1-le*2-ln],k[le*2+cn])}Ze+=We*8}if(tt.drawModeMessage(de,h,X,R),h)tt.drawBullsEye(de,B.truncDivision(X,2),5);else{tt.drawBullsEye(de,B.truncDivision(X,2),7);for(let le=0,Ze=0;le<B.truncDivision(M,2)-1;le+=15,Ze+=16)for(let We=B.truncDivision(X,2)&1;We<X;We+=2)de.set(B.truncDivision(X,2)-Ze,We),de.set(B.truncDivision(X,2)+Ze,We),de.set(We,B.truncDivision(X,2)-Ze),de.set(We,B.truncDivision(X,2)+Ze)}let pe=new Ru;return pe.setCompact(h),pe.setSize(X),pe.setLayers(d),pe.setCodeWords(O),pe.setMatrix(de),pe}static drawBullsEye(e,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)e.set(l,r-o),e.set(l,r+o),e.set(r-o,l),e.set(r+o,l);e.set(r-i,r-i),e.set(r-i+1,r-i),e.set(r-i,r-i+1),e.set(r+i,r-i),e.set(r+i,r-i+1),e.set(r+i,r+i-1)}static generateModeMessage(e,r,i){let o=new Q;return e?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=tt.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=tt.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,i,o){let l=B.truncDivision(i,2);if(r)for(let c=0;c<7;c++){let h=l-3+c;o.get(c)&&e.set(h,l-5),o.get(c+7)&&e.set(l+5,h),o.get(20-c)&&e.set(h,l+5),o.get(27-c)&&e.set(l-5,h)}else for(let c=0;c<10;c++){let h=l-5+c+B.truncDivision(c,5);o.get(c)&&e.set(h,l-7),o.get(c+10)&&e.set(l+7,h),o.get(29-c)&&e.set(h,l+7),o.get(39-c)&&e.set(l-7,h)}}static generateCheckWords(e,r,i){let o=e.getSize()/i,l=new el(tt.getGF(i)),c=B.truncDivision(r,i),h=tt.bitsToWords(e,i,c);l.encode(h,c-o);let d=r%i,p=new Q;p.appendBits(0,d);for(const _ of Array.from(h))p.appendBits(_,i);return p}static bitsToWords(e,r,i){let o=new Int32Array(i),l,c;for(l=0,c=e.getSize()/r;l<c;l++){let h=0;for(let d=0;d<r;d++)h|=e.get(l*r+d)?1<<r-d-1:0;o[l]=h}return o}static getGF(e){switch(e){case 4:return v.AZTEC_PARAM;case 6:return v.AZTEC_DATA_6;case 8:return v.AZTEC_DATA_8;case 10:return v.AZTEC_DATA_10;case 12:return v.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,r){let i=new Q,o=e.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let h=0;for(let d=0;d<r;d++)(c+d>=o||e.get(c+d))&&(h|=1<<r-1-d);(h&l)===l?(i.appendBits(h&l,r),c--):h&l?i.appendBits(h,r):(i.appendBits(h|1,r),c--)}return i}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class _o{encode(e,r,i,o){return this.encodeWithHints(e,r,i,o,null)}encodeWithHints(e,r,i,o,l){let c=nl.ISO_8859_1,h=tt.DEFAULT_EC_PERCENT,d=tt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Ft.CHARACTER_SET)&&(c=Nu.forName(l.get(Ft.CHARACTER_SET).toString())),l.has(Ft.ERROR_CORRECTION)&&(h=B.parseInt(l.get(Ft.ERROR_CORRECTION).toString())),l.has(Ft.AZTEC_LAYERS)&&(d=B.parseInt(l.get(Ft.AZTEC_LAYERS).toString()))),_o.encodeLayers(e,r,i,o,c,h,d)}static encodeLayers(e,r,i,o,l,c,h){if(r!==Ae.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let d=tt.encode(H.getBytes(e,l),c,h);return _o.renderResult(d,i,o)}static renderResult(e,r,i){let o=e.getMatrix();if(o==null)throw new V;let l=o.getWidth(),c=o.getHeight(),h=Math.max(r,l),d=Math.max(i,c),p=Math.min(h/l,d/c),_=(h-l*p)/2,C=(d-c*p)/2,y=new Oe(h,d);for(let O=0,R=C;O<c;O++,R+=p)for(let M=0,k=_;M<l;M++,k+=p)o.get(M,O)&&y.setRegion(k,R,p,p);return y}}s.AbstractExpandedDecoder=$a,s.ArgumentException=w,s.ArithmeticException=at,s.AztecCode=Ru,s.AztecCodeReader=Yt,s.AztecCodeWriter=_o,s.AztecDecoder=te,s.AztecDetector=Dt,s.AztecDetectorResult=we,s.AztecEncoder=tt,s.AztecHighLevelEncoder=xi,s.AztecPoint=Ue,s.BarcodeFormat=Ae,s.Binarizer=L,s.BinaryBitmap=I,s.BitArray=Q,s.BitMatrix=Oe,s.BitSource=Ya,s.BrowserAztecCodeReader=gr,s.BrowserBarcodeReader=Q0,s.BrowserCodeReader=Bt,s.BrowserDatamatrixCodeReader=eg,s.BrowserMultiFormatReader=fg,s.BrowserPDF417Reader=hg,s.BrowserQRCodeReader=dg,s.BrowserQRCodeSvgWriter=Qr,s.CharacterSetECI=P,s.ChecksumException=S,s.Code128Reader=me,s.Code39Reader=Tt,s.DataMatrixDecodedBitStreamParser=xr,s.DataMatrixReader=Er,s.DecodeHintType=K,s.DecoderResult=xe,s.DefaultGridSampler=Ve,s.DetectorResult=oe,s.EAN13Reader=zr,s.EncodeHintType=Ft,s.Exception=x,s.FormatException=F,s.GenericGF=v,s.GenericGFPoly=ke,s.GlobalHistogramBinarizer=Se,s.GridSampler=Te,s.GridSamplerInstance=Ye,s.HTMLCanvasElementLuminanceSource=vt,s.HybridBinarizer=ue,s.ITFReader=Xe,s.IllegalArgumentException=A,s.IllegalStateException=V,s.InvertedLuminanceSource=mt,s.LuminanceSource=$e,s.MathUtils=se,s.MultiFormatOneDReader=vs,s.MultiFormatReader=Ou,s.MultiFormatWriter=pg,s.NotFoundException=W,s.OneDReader=bt,s.PDF417DecodedBitStreamParser=$,s.PDF417DecoderErrorCorrection=Cu,s.PDF417Reader=jt,s.PDF417ResultMetadata=vu,s.PerspectiveTransform=Ie,s.PlanarYUVLuminanceSource=zn,s.QRCodeByteMatrix=xo,s.QRCodeDataMask=vn,s.QRCodeDecodedBitStreamParser=Ct,s.QRCodeDecoderErrorCorrectionLevel=xt,s.QRCodeDecoderFormatInformation=qt,s.QRCodeEncoder=Et,s.QRCodeEncoderQRCode=Zr,s.QRCodeMaskUtil=It,s.QRCodeMatrixUtil=Pe,s.QRCodeMode=De,s.QRCodeReader=_r,s.QRCodeVersion=Ne,s.QRCodeWriter=Ss,s.RGBLuminanceSource=tl,s.RSS14Reader=St,s.RSSExpandedReader=ie,s.ReaderException=mo,s.ReedSolomonDecoder=re,s.ReedSolomonEncoder=el,s.ReedSolomonException=N,s.Result=ct,s.ResultMetadataType=fe,s.ResultPoint=G,s.StringUtils=H,s.UnsupportedOperationException=_e,s.VideoInputDevice=Gt,s.WhiteRectangleDetector=be,s.WriterException=ht,s.ZXingArrays=j,s.ZXingCharset=Nu,s.ZXingInteger=B,s.ZXingStandardCharsets=nl,s.ZXingStringBuilder=ne,s.ZXingStringEncoding=Ee,s.ZXingSystem=D,s.createAbstractExpandedDecoder=Au,Object.defineProperty(s,"__esModule",{value:!0})})})(hc,hc.exports);var _t=hc.exports;const nA=tA(_t),rA=yg({__proto__:null,default:nA},[_t]);var o1=function(){function t(n,s,a){if(this.formatMap=new Map([[ye.QR_CODE,_t.BarcodeFormat.QR_CODE],[ye.AZTEC,_t.BarcodeFormat.AZTEC],[ye.CODABAR,_t.BarcodeFormat.CODABAR],[ye.CODE_39,_t.BarcodeFormat.CODE_39],[ye.CODE_93,_t.BarcodeFormat.CODE_93],[ye.CODE_128,_t.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,_t.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,_t.BarcodeFormat.MAXICODE],[ye.ITF,_t.BarcodeFormat.ITF],[ye.EAN_13,_t.BarcodeFormat.EAN_13],[ye.EAN_8,_t.BarcodeFormat.EAN_8],[ye.PDF_417,_t.BarcodeFormat.PDF_417],[ye.RSS_14,_t.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,_t.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,_t.BarcodeFormat.UPC_A],[ye.UPC_E,_t.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,_t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!rA)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(_t.DecodeHintType.POSSIBLE_FORMATS,u),f.set(_t.DecodeHintType.TRY_HARDER,!1),this.hints=f}return t.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,u){try{a(s.decode(n))}catch(f){u(f)}})},t.prototype.decode=function(n){var s=new _t.MultiFormatReader(this.verbose,this.hints),a=new _t.HTMLCanvasElementLuminanceSource(n),u=new _t.BinaryBitmap(new _t.HybridBinarizer(a)),f=s.decode(u);return{text:f.text,format:$d.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),sA=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(g){g(f)})}return new(s||(s=Promise))(function(f,g){function m(w){try{x(a.next(w))}catch(A){g(A)}}function E(w){try{x(a.throw(w))}catch(A){g(A)}}function x(w){w.done?f(w.value):u(w.value).then(m,E)}x((a=a.apply(t,n||[])).next())})},iA=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(w){return E([x,w])}}function E(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(w){x=[6,w],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},a1=function(){function t(n,s,a){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return sA(this,void 0,void 0,function(){var s,a;return iA(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:$d.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,u=0,f=n;u<f.length;u++){var g=f[u],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,s=g)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),l1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(g){g(f)})}return new(s||(s=Promise))(function(f,g){function m(w){try{x(a.next(w))}catch(A){g(A)}}function E(w){try{x(a.throw(w))}catch(A){g(A)}}function x(w){w.done?f(w.value):u(w.value).then(m,E)}x((a=a.apply(t,n||[])).next())})},c1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(w){return E([x,w])}}function E(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(w){x=[6,w],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},oA=function(){function t(n,s,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&a1.isSupported()?(this.primaryDecoder=new a1(n,a,u),this.secondaryDecoder=new o1(n,a,u)):this.primaryDecoder=new o1(n,a,u)}return t.prototype.decodeAsync=function(n){return l1(this,void 0,void 0,function(){var s;return c1(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return l1(this,void 0,void 0,function(){var s,a;return c1(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var u=a[s];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Qc=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),ra=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(g){g(f)})}return new(s||(s=Promise))(function(f,g){function m(w){try{x(a.next(w))}catch(A){g(A)}}function E(w){try{x(a.throw(w))}catch(A){g(A)}}function x(w){w.done?f(w.value):u(w.value).then(m,E)}x((a=a.apply(t,n||[])).next())})},sa=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(w){return E([x,w])}}function E(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(w){x=[6,w],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},jd=function(){function t(n,s){this.name=n,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},t}(),aA=function(t){Qc(n,t);function n(s,a){return t.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(jd),lA=function(t){Qc(n,t);function n(s){return t.call(this,"zoom",s)||this}return n}(aA),cA=function(t){Qc(n,t);function n(s){return t.call(this,"torch",s)||this}return n}(jd),uA=function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new lA(this.track)},t.prototype.torchFeature=function(){return new cA(this.track)},t}(),fA=function(){function t(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,s,a,u){return ra(this,void 0,void 0,function(){var f,g;return sa(this,function(m){switch(m.label){case 0:return f=new t(n,s,u),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return ra(this,void 0,void 0,function(){return sa(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var u=n.mediaStream.getVideoTracks(),f=u.length,g=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},t.prototype.getCapabilities=function(){return new uA(this.getFirstTrackOrFail())},t}(),hA=function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,s,a){return ra(this,void 0,void 0,function(){return sa(this,function(u){return[2,fA.create(n,this.mediaStream,s,a)]})})},t.create=function(n){return ra(this,void 0,void 0,function(){var s,a;return sa(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=u.sent(),[2,new t(a)]}})})},t}(),u1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(g){g(f)})}return new(s||(s=Promise))(function(f,g){function m(w){try{x(a.next(w))}catch(A){g(A)}}function E(w){try{x(a.throw(w))}catch(A){g(A)}}function x(w){w.done?f(w.value):u(w.value).then(m,E)}x((a=a.apply(t,n||[])).next())})},f1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(w){return E([x,w])}}function E(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(w){x=[6,w],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},dA=function(){function t(){}return t.failIfNotSupported=function(){return u1(this,void 0,void 0,function(){return f1(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return u1(this,void 0,void 0,function(){return f1(this,function(s){return[2,hA.create(n)]})})},t}(),gA=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(g){g(f)})}return new(s||(s=Promise))(function(f,g){function m(w){try{x(a.next(w))}catch(A){g(A)}}function E(w){try{x(a.throw(w))}catch(A){g(A)}}function x(w){w.done?f(w.value):u(w.value).then(m,E)}x((a=a.apply(t,n||[])).next())})},pA=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(w){return E([x,w])}}function E(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(w){x=[6,w],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},mA=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=Fs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=Fs.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return gA(this,void 0,void 0,function(){var n,s,a,u,f,g,m;return pA(this,function(E){switch(E.label){case 0:return n=function(x){for(var w=x.getVideoTracks(),A=0,I=w;A<I.length;A++){var S=I[A];S.enabled=!1,S.stop(),x.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),u=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return n(s),[2,u]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(f){for(var g=[],m=0,E=f;m<E.length;m++){var x=E[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}n(g)},u=MediaStreamTrack;u.getSources(a)})},t}(),Ot;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ot||(Ot={}));var xA=function(){function t(){this.state=Ot.NOT_STARTED,this.onGoingTransactionNewState=Ot.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ot.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ot.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Ot.UNKNOWN:throw"Transition from unknown is not allowed";case Ot.NOT_STARTED:this.failIfNewStateIs(n,[Ot.PAUSED]);break;case Ot.SCANNING:break;case Ot.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,s){for(var a=0,u=s;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t}(),EA=function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ot.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ot.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ot.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ot.PAUSED},t}(),_A=function(){function t(){}return t.create=function(){return new EA(new xA)},t}(),wA=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),mn=function(t){wA(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Qw),AA=function(){function t(n,s){this.logger=s,this.fps=mn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=mn.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Xd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!sr(this.qrbox)},t.create=function(n,s){return new t(n,s)},t}(),bA=function(){function t(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new eA(this.verbose),this.qrcode=new oA(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_A.create()}return t.prototype.start=function(n,s,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var m=AA.create(s,this.logger);this.clearElement();var E=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=E,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:mn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var A=this,I=this.stateManagerProxy.startTransition(Ot.SCANNING);return new Promise(function(S,L){var D=x?m.videoConstraints:A.createVideoConstraints(n);if(!D){I.cancel(),L("videoConstraints should be defined");return}var J={};(!x||m.aspectRatio)&&(J.aspectRatio=m.aspectRatio);var Y={onRenderSurfaceReady:function(j,B){A.setupUi(j,B,m),A.isScanning=!0,A.foreverScan(m,a,g)}};dA.failIfNotSupported().then(function(j){j.create(D).then(function(B){return B.render(f.element,J,Y).then(function(Q){A.renderedCamera=Q,I.execute(),S(null)}).catch(function(Q){I.cancel(),L(Q)})}).catch(function(B){I.cancel(),L(Fs.errorGettingUserMedia(B))})}).catch(function(j){I.cancel(),L(Fs.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ot.PAUSED),this.showPausedState(),(sr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(Ot.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(mn.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),s.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},t.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(sr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var g=new Image;g.onload=function(){var m=g.width,E=g.height,x=document.getElementById(a.elementId),w=x.clientWidth?x.clientWidth:mn.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:E,mn.FILE_SCAN_MIN_HEIGHT),I=a.computeCanvasDrawConfig(m,E,w,A);if(s){var S=a.createCanvasElement(w,A,"qr-canvas-visible");S.style.display="inline-block",x.appendChild(S);var L=S.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=w,L.canvas.height=A,L.drawImage(g,0,0,m,E,I.x,I.y,I.width,I.height)}var D=mn.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(g.width,I.width),Y=Math.max(g.height,I.height),j=J+2*D,B=Y+2*D,Q=a.createCanvasElement(j,B);x.appendChild(Q);var he=Q.getContext("2d");if(!he)throw"Unable to get 2d context from canvas";he.canvas.width=j,he.canvas.height=B,he.drawImage(g,0,0,m,E,D,D,J,Y);try{a.qrcode.decodeRobustlyAsync(Q).then(function(K){u(i1.createFromQrcodeResult(K))}).catch(f)}catch(K){f("QR code parse error, error = ".concat(K))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return mA.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!Xd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var s=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var g=f[u];Zw(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(sr(n))return!0;if(!sr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(sr(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return sr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,s,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,s,f),m=function(x){if(x<mn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(mn.MIN_QR_BOX_SIZE,"px.")},E=function(x){return x>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(g.width),m(g.height),g.width=E(g.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},t.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var u=sr(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,s,u);f.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=s,m={x:0,y:0,width:n,height:s},E=g?this.getShadedRegionBounds(n,s,f):m,x=this.createCanvasElement(E.width,E.height),w={willReadFrequently:!0},A=x.getContext("2d",w);A.canvas.width=E.width,A.canvas.height=E.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,n,s,f),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=A,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Fs.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,i1.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=Fs.codeParseError(u);return s(f,Jw.createFrom(f)),!1})},t.prototype.foreverScan=function(n,s,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*g,x=this.qrRegion.height*m,w=this.qrRegion.x*g,A=this.qrRegion.y*m;this.context.drawImage(f,w,A,E,x,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,s,a)},u.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(S){!S&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,a).finally(function(){I()})):I()}).catch(function(S){u.logger.logError("Error happend while scanning context",S),I()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",g=function(L){if(L in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var E=Object.keys(n)[0];if(E!==s&&E!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===s){var x=n.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var w=typeof x;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var A=n.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(f in A)return{deviceId:{exact:A["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var S=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},t.prototype.computeCanvasDrawConfig=function(n,s,a,u){if(n<=a&&s<=u){var f=(a-n)/2,g=(u-s)/2;return{x:f,y:g,width:n,height:s}}else{var m=n,E=s;return n>a&&(s=a/n*s,n=a),s>u&&(n=u/s*n,s=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(E)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,u)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?mn.BORDER_SHADER_MATCH_COLOR:mn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,s,a){var u=n,f=s,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=sr(a)?"qr-canvas":a,g},t.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},t.prototype.possiblyInsertShadingElement=function(n,s,a,u){if(!(s-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(s-u.width)/2,m=(a-u.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(mn.SHADED_REGION_ELEMENT_ID),s-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var E=5,x=40;this.insertShaderBorders(f,x,E,-E,null,0,!0),this.insertShaderBorders(f,x,E,-E,null,0,!1),this.insertShaderBorders(f,x,E,null,-E,0,!0),this.insertShaderBorders(f,x,E,null,-E,0,!1),this.insertShaderBorders(f,E,x+E,-E,null,-E,!0),this.insertShaderBorders(f,E,x+E,null,-E,-E,!0),this.insertShaderBorders(f,E,x+E,-E,null,-E,!1),this.insertShaderBorders(f,E,x+E,null,-E,-E,!1),this.hasBorderShaders=!0}n.append(f)}},t.prototype.insertShaderBorders=function(n,s,a,u,f,g,m){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=mn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(s,"px"),E.style.height="".concat(a,"px"),u!==null&&(E.style.top="".concat(u,"px")),f!==null&&(E.style.bottom="".concat(f,"px")),m?E.style.left="".concat(g,"px"):E.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),n.appendChild(E)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t}(),h1;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(h1||(h1={}));const CA={class:"card",style:{overflow:"hidden"}},yA={class:"card-body p-0",style:{overflow:"hidden"}},vA={key:0,class:"ratio ratio-1x1",id:"qr-reader"},TA={class:"d-grid col-6 mx-auto my-4"},SA={__name:"QRcodeReader",emits:["scan-success"],setup(t,{emit:n}){const s=_s(),a=Fe(!1),u=Fe("");let f=null;const g=n,m=()=>{if(!(!s.isLoggedIn||!s.is_club))try{f=new bA("qr-reader");const D=document.getElementById("qr-reader").offsetWidth,J=document.getElementById("qr-reader").offsetHeight,Y={fps:10,qrbox:{width:250,height:250},aspectRatio:1,width:D*.7,height:J*.7};f.start({facingMode:"environment"},Y,E,x)}catch(D){console.log("init scanner failed: "+D),I.value="btn btn-primary",S.value="開啟相機",A.value=!1}},E=D=>{u.value=D,g("scan-success",D),w()},x=D=>{console.warn(`QR Code scanning failed: ${D}`)};Es(()=>{L()}),Pc(()=>{w()});const w=async()=>{if(f)try{await f.stop()}catch(D){console.error("Failed to stop scanner:",D)}I.value="btn btn-primary",S.value="開啟相機",A.value=!1},A=Fe(!1),I=Fe("btn btn-primary"),S=Fe("關閉相機"),L=async()=>{A.value=!A.value,A.value?(m(),I.value="btn btn-danger",S.value="關閉相機"):(w(),I.value="btn btn-primary",S.value="開啟相機")};return(D,J)=>(Ke(),Qe(fn,null,[Z("div",CA,[Z("div",yA,[a.value?tn("",!0):(Ke(),Qe("div",vA))])]),Z("div",TA,[Z("button",{class:Lt(I.value),type:"button",onClick:L},ot(S.value),3)])],64))}},IA=t=>(qi("data-v-ccf17de7"),t=t(),Zi(),t),OA={key:0},NA={class:"mb-4"},RA={class:"row mb-4"},DA={key:1,class:"loading-overlay"},MA=IA(()=>Z("div",{class:"spinner-border text-primary",role:"status"},[Z("span",{class:"visually-hidden"},"Loading...")],-1)),LA=[MA],PA={__name:"ScanView",setup(t){const n=to(),s=no(),a=Na(),u=_s();s.callAPI(),n.callAPI(),a.callAPI();const f=ro();Es(()=>{(!u.isLoggedIn||!u.is_club)&&f.push({name:"club_login"})});const g=Fe(!1),m=Fe(!1),E=async()=>{if(g.value=!0,await x(u.email,w.value,D.value)){g.value=!1;return}try{const Y=new FormData;Y.append("entry.1180634340",u.email),Y.append("entry.1788223982",w.value),Y.append("entry.914325063",D.value),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLScMibiJl3amUlq6x91EwApaW7XqnRTl51ZQagvWz3vNftR3tw/formResponse",{method:"POST",mode:"no-cors",body:Y}),console.log("Form submitted successfully"),L.value=!1,S.value="提交 "+A.value+" 蓋章紀錄成功！"}catch(Y){L.value=!0,S.value="紀錄提交錯誤："+Y,console.error("Error submitting form:",Y)}finally{g.value=!1}},x=async(Y,j,B)=>{const Q=await a.query_record(Y,j,B);return console.log(B,Q),Q?(L.value=!0,S.value="已經蓋過章了！",!0):(L.value=!1,S.value="",!1)},w=Fe(""),A=Fe(""),I=async Y=>{if(m.value)return;m.value=!0,w.value=Y;let j=await n.get_user_by_email(Y);if(console.log(j),j)j.nick_name!=""?A.value=j.nick_name:A.value=j.name,L.value=!1,S.value="掃描成功！"+A.value;else{L.value=!0,S.value="找不到 email: "+Y+" 的帳號。",m.value=!1;return}await E(),m.value=!1},S=Fe(""),L=Fe(!1),D=Fe(!1);let J=()=>{D.value=!D.value};return(Y,j)=>(Ke(),Qe("div",null,[Me(u).isLoggedIn&&Me(u).is_club?(Ke(),Qe("div",OA,[Z("h1",NA,ot(Me(u).name)+"："+ot(D.value?"限動":"掃描"),1),S.value?(Ke(),Qe("div",{key:0,class:Lt(["mt-3 text-break",["alert",L.value?"alert-danger":"alert-success"]]),role:"alert"},ot(S.value),3)):tn("",!0),Rt(SA,{onScanSuccess:I}),Z("div",RA,[Z("button",{class:Lt(["d-grid col-6 mx-auto btn",{"btn-warning":D.value,"btn-success":!D.value}]),onClick:j[0]||(j[0]=(...B)=>Me(J)&&Me(J)(...B))},ot(D.value?"IG 打卡掃描":"活動蓋章掃描"),3)])])):tn("",!0),g.value?(Ke(),Qe("div",DA,LA)):tn("",!0)]))}},BA=hr(PA,[["__scopeId","data-v-ccf17de7"]]),zd=t=>(qi("data-v-9927edd4"),t=t(),Zi(),t),kA=zd(()=>Z("h1",{class:"mb-4"},"社團登入",-1)),FA={class:"col-md-6"},UA={class:"invalid-feedback"},VA={class:"col-md-6"},HA={class:"invalid-feedback"},WA={class:"col-6 d-grid mx-auto"},GA=["disabled"],$A={key:1,class:"loading-overlay"},XA=zd(()=>Z("div",{class:"spinner-border text-primary",role:"status"},[Z("span",{class:"visually-hidden"},"Loading...")],-1)),jA=[XA],zA={__name:"ClubLoginView",setup(t){const n=to(),s=no(),a=Na(),u=_s(),f=ro();s.callAPI(),n.callAPI(),a.callAPI();const g=Fe(""),m=Fe(!1),E=Fe("");u.isLoggedIn&&u.is_club&&f.push({name:"scan"});let x=Fe(""),w=Fe("");const A=Fe(!1),I=Fe({email:"",password:""});var S=Fe("row g-3 my-3 needs-validation");const L=async()=>{A.value=!0;try{const he=await B();await u.club_login(x.value,w.value),he&&u.isLoggedIn&&u.is_club?(console.log("Club login successfully"),m.value=!1,g.value="登入成功！",console.log(u.name,u.email,u.is_club),E.value=u.name,Q(),f.push({name:"scan"})):(m.value=!0,g.value="帳號密碼錯誤",console.log("帳號密碼錯誤"))}catch(he){m.value=!0,g.value="登入表單錯誤："+he,console.error("Error submitting form:",he)}finally{A.value=!1}},D=(he,K,F)=>F.required&&!K?(I.value[he]="此欄位為必填",!1):F.minLength&&K.length<F.minLength?(I.value[he]=`最少需要 ${F.minLength} 個字符`,!1):F.pattern&&!F.pattern.test(K)?(I.value[he]="格式不正確",!1):(I.value[he]="",S.value="row g-3 my-3 needs-validation was-validated",!0),J=Nt(()=>D("email",x.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),Y=Nt(()=>D("password",w.value,{required:!0,minLength:4})),j=Nt(()=>J.value&&Y.value);async function B(){return j.value?!0:(S.value="row g-3 my-3 needs-validation was-validated",!1)}const Q=()=>{x.value="",w.value=""};return(he,K)=>(Ke(),Qe("div",null,[kA,g.value?(Ke(),Qe("div",{key:0,class:Lt(["mt-3 text-break",["alert",m.value?"alert-danger":"alert-success"]]),role:"alert"},ot(g.value),3)):tn("",!0),Z("form",{class:Lt(Me(S)),onSubmit:Wc(L,["prevent"]),novalidate:""},[Z("div",FA,[En(Z("input",{type:"email","onUpdate:modelValue":K[0]||(K[0]=F=>gt(x)?x.value=F:x=F),class:Lt(["form-control",{"is-invalid":!J.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[is,Me(x)]]),Z("div",UA,ot(I.value.email),1)]),Z("div",VA,[En(Z("input",{type:"password","onUpdate:modelValue":K[1]||(K[1]=F=>gt(w)?w.value=F:w=F),class:Lt(["form-control",{"is-invalid":!Y.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[is,Me(w)]]),Z("div",HA,ot(I.value.password),1)]),Z("div",WA,[Z("button",{type:"submit",class:"btn btn-primary",disabled:!j.value||A.value},ot(A.value?"提交中...":"登入"),9,GA)])],34),A.value?(Ke(),Qe("div",$A,jA)):tn("",!0)]))}},YA=hr(zA,[["__scopeId","data-v-9927edd4"]]),KA=zE({linkActiveClass:"active",linkExactActiveClass:"",history:AE("/Earth_Game/"),routes:[{path:"/",name:"home",component:R_},{path:"/stamp",name:"stamp",component:dw},{path:"/rank",name:"rank",component:B_},{path:"/partner",name:"partner",component:Aw},{path:"/register",name:"register",component:qw},{path:"/club_login",name:"club_login",component:YA},{path:"/scan",name:"scan",component:BA},{path:"/user/:id",component:pw},{path:"/404",name:"NotFound",component:n1},{path:"/:pathMatch(.*)*",name:"NotFound",component:n1}]});var nn="top",An="bottom",bn="right",rn="left",Ma="auto",oi=[nn,An,bn,rn],ps="start",Ks="end",Yd="clippingParents",Jc="viewport",Ps="popper",Kd="reference",dc=oi.reduce(function(t,n){return t.concat([n+"-"+ps,n+"-"+Ks])},[]),eu=[].concat(oi,[Ma]).reduce(function(t,n){return t.concat([n,n+"-"+ps,n+"-"+Ks])},[]),qd="beforeRead",Zd="read",Qd="afterRead",Jd="beforeMain",e0="main",t0="afterMain",n0="beforeWrite",r0="write",s0="afterWrite",i0=[qd,Zd,Qd,Jd,e0,t0,n0,r0,s0];function nr(t){return t?(t.nodeName||"").toLowerCase():null}function Cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function ms(t){var n=Cn(t).Element;return t instanceof n||t instanceof Element}function Mn(t){var n=Cn(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function tu(t){if(typeof ShadowRoot>"u")return!1;var n=Cn(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function qA(t){var n=t.state;Object.keys(n.elements).forEach(function(s){var a=n.styles[s]||{},u=n.attributes[s]||{},f=n.elements[s];!Mn(f)||!nr(f)||(Object.assign(f.style,a),Object.keys(u).forEach(function(g){var m=u[g];m===!1?f.removeAttribute(g):f.setAttribute(g,m===!0?"":m)}))})}function ZA(t){var n=t.state,s={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,s.popper),n.styles=s,n.elements.arrow&&Object.assign(n.elements.arrow.style,s.arrow),function(){Object.keys(n.elements).forEach(function(a){var u=n.elements[a],f=n.attributes[a]||{},g=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:s[a]),m=g.reduce(function(E,x){return E[x]="",E},{});!Mn(u)||!nr(u)||(Object.assign(u.style,m),Object.keys(f).forEach(function(E){u.removeAttribute(E)}))})}}const nu={name:"applyStyles",enabled:!0,phase:"write",fn:qA,effect:ZA,requires:["computeStyles"]};function Jn(t){return t.split("-")[0]}var hs=Math.max,ia=Math.min,qs=Math.round;function gc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function o0(){return!/^((?!chrome|android).)*safari/i.test(gc())}function Zs(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var a=t.getBoundingClientRect(),u=1,f=1;n&&Mn(t)&&(u=t.offsetWidth>0&&qs(a.width)/t.offsetWidth||1,f=t.offsetHeight>0&&qs(a.height)/t.offsetHeight||1);var g=ms(t)?Cn(t):window,m=g.visualViewport,E=!o0()&&s,x=(a.left+(E&&m?m.offsetLeft:0))/u,w=(a.top+(E&&m?m.offsetTop:0))/f,A=a.width/u,I=a.height/f;return{width:A,height:I,top:w,right:x+A,bottom:w+I,left:x,x,y:w}}function ru(t){var n=Zs(t),s=t.offsetWidth,a=t.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:a}}function a0(t,n){var s=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(s&&tu(s)){var a=n;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function ur(t){return Cn(t).getComputedStyle(t)}function QA(t){return["table","td","th"].indexOf(nr(t))>=0}function $r(t){return((ms(t)?t.ownerDocument:t.document)||window.document).documentElement}function La(t){return nr(t)==="html"?t:t.assignedSlot||t.parentNode||(tu(t)?t.host:null)||$r(t)}function d1(t){return!Mn(t)||ur(t).position==="fixed"?null:t.offsetParent}function JA(t){var n=/firefox/i.test(gc()),s=/Trident/i.test(gc());if(s&&Mn(t)){var a=ur(t);if(a.position==="fixed")return null}var u=La(t);for(tu(u)&&(u=u.host);Mn(u)&&["html","body"].indexOf(nr(u))<0;){var f=ur(u);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return u;u=u.parentNode}return null}function io(t){for(var n=Cn(t),s=d1(t);s&&QA(s)&&ur(s).position==="static";)s=d1(s);return s&&(nr(s)==="html"||nr(s)==="body"&&ur(s).position==="static")?n:s||JA(t)||n}function su(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mi(t,n,s){return hs(t,ia(n,s))}function eb(t,n,s){var a=Mi(t,n,s);return a>s?s:a}function l0(){return{top:0,right:0,bottom:0,left:0}}function c0(t){return Object.assign({},l0(),t)}function u0(t,n){return n.reduce(function(s,a){return s[a]=t,s},{})}var tb=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,c0(typeof n!="number"?n:u0(n,oi))};function nb(t){var n,s=t.state,a=t.name,u=t.options,f=s.elements.arrow,g=s.modifiersData.popperOffsets,m=Jn(s.placement),E=su(m),x=[rn,bn].indexOf(m)>=0,w=x?"height":"width";if(!(!f||!g)){var A=tb(u.padding,s),I=ru(f),S=E==="y"?nn:rn,L=E==="y"?An:bn,D=s.rects.reference[w]+s.rects.reference[E]-g[E]-s.rects.popper[w],J=g[E]-s.rects.reference[E],Y=io(f),j=Y?E==="y"?Y.clientHeight||0:Y.clientWidth||0:0,B=D/2-J/2,Q=A[S],he=j-I[w]-A[L],K=j/2-I[w]/2+B,F=Mi(Q,K,he),ce=E;s.modifiersData[a]=(n={},n[ce]=F,n.centerOffset=F-K,n)}}function rb(t){var n=t.state,s=t.options,a=s.element,u=a===void 0?"[data-popper-arrow]":a;u!=null&&(typeof u=="string"&&(u=n.elements.popper.querySelector(u),!u)||a0(n.elements.popper,u)&&(n.elements.arrow=u))}const f0={name:"arrow",enabled:!0,phase:"main",fn:nb,effect:rb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qs(t){return t.split("-")[1]}var sb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ib(t,n){var s=t.x,a=t.y,u=n.devicePixelRatio||1;return{x:qs(s*u)/u||0,y:qs(a*u)/u||0}}function g1(t){var n,s=t.popper,a=t.popperRect,u=t.placement,f=t.variation,g=t.offsets,m=t.position,E=t.gpuAcceleration,x=t.adaptive,w=t.roundOffsets,A=t.isFixed,I=g.x,S=I===void 0?0:I,L=g.y,D=L===void 0?0:L,J=typeof w=="function"?w({x:S,y:D}):{x:S,y:D};S=J.x,D=J.y;var Y=g.hasOwnProperty("x"),j=g.hasOwnProperty("y"),B=rn,Q=nn,he=window;if(x){var K=io(s),F="clientHeight",ce="clientWidth";if(K===Cn(s)&&(K=$r(s),ur(K).position!=="static"&&m==="absolute"&&(F="scrollHeight",ce="scrollWidth")),K=K,u===nn||(u===rn||u===bn)&&f===Ks){Q=An;var P=A&&K===he&&he.visualViewport?he.visualViewport.height:K[F];D-=P-a.height,D*=E?1:-1}if(u===rn||(u===nn||u===An)&&f===Ks){B=bn;var _e=A&&K===he&&he.visualViewport?he.visualViewport.width:K[ce];S-=_e-a.width,S*=E?1:-1}}var Ee=Object.assign({position:m},x&&sb),H=w===!0?ib({x:S,y:D},Cn(s)):{x:S,y:D};if(S=H.x,D=H.y,E){var ne;return Object.assign({},Ee,(ne={},ne[Q]=j?"0":"",ne[B]=Y?"0":"",ne.transform=(he.devicePixelRatio||1)<=1?"translate("+S+"px, "+D+"px)":"translate3d("+S+"px, "+D+"px, 0)",ne))}return Object.assign({},Ee,(n={},n[Q]=j?D+"px":"",n[B]=Y?S+"px":"",n.transform="",n))}function ob(t){var n=t.state,s=t.options,a=s.gpuAcceleration,u=a===void 0?!0:a,f=s.adaptive,g=f===void 0?!0:f,m=s.roundOffsets,E=m===void 0?!0:m,x={placement:Jn(n.placement),variation:Qs(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:u,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,g1(Object.assign({},x,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:g,roundOffsets:E})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,g1(Object.assign({},x,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:E})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const iu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ob,data:{}};var So={passive:!0};function ab(t){var n=t.state,s=t.instance,a=t.options,u=a.scroll,f=u===void 0?!0:u,g=a.resize,m=g===void 0?!0:g,E=Cn(n.elements.popper),x=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&x.forEach(function(w){w.addEventListener("scroll",s.update,So)}),m&&E.addEventListener("resize",s.update,So),function(){f&&x.forEach(function(w){w.removeEventListener("scroll",s.update,So)}),m&&E.removeEventListener("resize",s.update,So)}}const ou={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ab,data:{}};var lb={left:"right",right:"left",bottom:"top",top:"bottom"};function Go(t){return t.replace(/left|right|bottom|top/g,function(n){return lb[n]})}var cb={start:"end",end:"start"};function p1(t){return t.replace(/start|end/g,function(n){return cb[n]})}function au(t){var n=Cn(t),s=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:s,scrollTop:a}}function lu(t){return Zs($r(t)).left+au(t).scrollLeft}function ub(t,n){var s=Cn(t),a=$r(t),u=s.visualViewport,f=a.clientWidth,g=a.clientHeight,m=0,E=0;if(u){f=u.width,g=u.height;var x=o0();(x||!x&&n==="fixed")&&(m=u.offsetLeft,E=u.offsetTop)}return{width:f,height:g,x:m+lu(t),y:E}}function fb(t){var n,s=$r(t),a=au(t),u=(n=t.ownerDocument)==null?void 0:n.body,f=hs(s.scrollWidth,s.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),g=hs(s.scrollHeight,s.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),m=-a.scrollLeft+lu(t),E=-a.scrollTop;return ur(u||s).direction==="rtl"&&(m+=hs(s.clientWidth,u?u.clientWidth:0)-f),{width:f,height:g,x:m,y:E}}function cu(t){var n=ur(t),s=n.overflow,a=n.overflowX,u=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+u+a)}function h0(t){return["html","body","#document"].indexOf(nr(t))>=0?t.ownerDocument.body:Mn(t)&&cu(t)?t:h0(La(t))}function Li(t,n){var s;n===void 0&&(n=[]);var a=h0(t),u=a===((s=t.ownerDocument)==null?void 0:s.body),f=Cn(a),g=u?[f].concat(f.visualViewport||[],cu(a)?a:[]):a,m=n.concat(g);return u?m:m.concat(Li(La(g)))}function pc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hb(t,n){var s=Zs(t,!1,n==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function m1(t,n,s){return n===Jc?pc(ub(t,s)):ms(n)?hb(n,s):pc(fb($r(t)))}function db(t){var n=Li(La(t)),s=["absolute","fixed"].indexOf(ur(t).position)>=0,a=s&&Mn(t)?io(t):t;return ms(a)?n.filter(function(u){return ms(u)&&a0(u,a)&&nr(u)!=="body"}):[]}function gb(t,n,s,a){var u=n==="clippingParents"?db(t):[].concat(n),f=[].concat(u,[s]),g=f[0],m=f.reduce(function(E,x){var w=m1(t,x,a);return E.top=hs(w.top,E.top),E.right=ia(w.right,E.right),E.bottom=ia(w.bottom,E.bottom),E.left=hs(w.left,E.left),E},m1(t,g,a));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function d0(t){var n=t.reference,s=t.element,a=t.placement,u=a?Jn(a):null,f=a?Qs(a):null,g=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,E;switch(u){case nn:E={x:g,y:n.y-s.height};break;case An:E={x:g,y:n.y+n.height};break;case bn:E={x:n.x+n.width,y:m};break;case rn:E={x:n.x-s.width,y:m};break;default:E={x:n.x,y:n.y}}var x=u?su(u):null;if(x!=null){var w=x==="y"?"height":"width";switch(f){case ps:E[x]=E[x]-(n[w]/2-s[w]/2);break;case Ks:E[x]=E[x]+(n[w]/2-s[w]/2);break}}return E}function Js(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=a===void 0?t.placement:a,f=s.strategy,g=f===void 0?t.strategy:f,m=s.boundary,E=m===void 0?Yd:m,x=s.rootBoundary,w=x===void 0?Jc:x,A=s.elementContext,I=A===void 0?Ps:A,S=s.altBoundary,L=S===void 0?!1:S,D=s.padding,J=D===void 0?0:D,Y=c0(typeof J!="number"?J:u0(J,oi)),j=I===Ps?Kd:Ps,B=t.rects.popper,Q=t.elements[L?j:I],he=gb(ms(Q)?Q:Q.contextElement||$r(t.elements.popper),E,w,g),K=Zs(t.elements.reference),F=d0({reference:K,element:B,strategy:"absolute",placement:u}),ce=pc(Object.assign({},B,F)),P=I===Ps?ce:K,_e={top:he.top-P.top+Y.top,bottom:P.bottom-he.bottom+Y.bottom,left:he.left-P.left+Y.left,right:P.right-he.right+Y.right},Ee=t.modifiersData.offset;if(I===Ps&&Ee){var H=Ee[u];Object.keys(_e).forEach(function(ne){var Oe=[bn,An].indexOf(ne)>=0?1:-1,W=[nn,An].indexOf(ne)>=0?"y":"x";_e[ne]+=H[W]*Oe})}return _e}function pb(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=s.boundary,f=s.rootBoundary,g=s.padding,m=s.flipVariations,E=s.allowedAutoPlacements,x=E===void 0?eu:E,w=Qs(a),A=w?m?dc:dc.filter(function(L){return Qs(L)===w}):oi,I=A.filter(function(L){return x.indexOf(L)>=0});I.length===0&&(I=A);var S=I.reduce(function(L,D){return L[D]=Js(t,{placement:D,boundary:u,rootBoundary:f,padding:g})[Jn(D)],L},{});return Object.keys(S).sort(function(L,D){return S[L]-S[D]})}function mb(t){if(Jn(t)===Ma)return[];var n=Go(t);return[p1(t),n,p1(n)]}function xb(t){var n=t.state,s=t.options,a=t.name;if(!n.modifiersData[a]._skip){for(var u=s.mainAxis,f=u===void 0?!0:u,g=s.altAxis,m=g===void 0?!0:g,E=s.fallbackPlacements,x=s.padding,w=s.boundary,A=s.rootBoundary,I=s.altBoundary,S=s.flipVariations,L=S===void 0?!0:S,D=s.allowedAutoPlacements,J=n.options.placement,Y=Jn(J),j=Y===J,B=E||(j||!L?[Go(J)]:mb(J)),Q=[J].concat(B).reduce(function(ct,$t){return ct.concat(Jn($t)===Ma?pb(n,{placement:$t,boundary:w,rootBoundary:A,padding:x,flipVariations:L,allowedAutoPlacements:D}):$t)},[]),he=n.rects.reference,K=n.rects.popper,F=new Map,ce=!0,P=Q[0],_e=0;_e<Q.length;_e++){var Ee=Q[_e],H=Jn(Ee),ne=Qs(Ee)===ps,Oe=[nn,An].indexOf(H)>=0,W=Oe?"width":"height",Se=Js(n,{placement:Ee,boundary:w,rootBoundary:A,altBoundary:I,padding:x}),ue=Oe?ne?bn:rn:ne?An:nn;he[W]>K[W]&&(ue=Go(ue));var $e=Go(ue),mt=[];if(f&&mt.push(Se[H]<=0),m&&mt.push(Se[ue]<=0,Se[$e]<=0),mt.every(function(ct){return ct})){P=Ee,ce=!1;break}F.set(Ee,mt)}if(ce)for(var vt=L?3:1,Gt=function($t){var Ae=Q.find(function(ee){var fe=F.get(ee);if(fe)return fe.slice(0,$t).every(function(xe){return xe})});if(Ae)return P=Ae,"break"},qe=vt;qe>0;qe--){var Bt=Gt(qe);if(Bt==="break")break}n.placement!==P&&(n.modifiersData[a]._skip=!0,n.placement=P,n.reset=!0)}}const g0={name:"flip",enabled:!0,phase:"main",fn:xb,requiresIfExists:["offset"],data:{_skip:!1}};function x1(t,n,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-n.height-s.y,right:t.right-n.width+s.x,bottom:t.bottom-n.height+s.y,left:t.left-n.width-s.x}}function E1(t){return[nn,bn,An,rn].some(function(n){return t[n]>=0})}function Eb(t){var n=t.state,s=t.name,a=n.rects.reference,u=n.rects.popper,f=n.modifiersData.preventOverflow,g=Js(n,{elementContext:"reference"}),m=Js(n,{altBoundary:!0}),E=x1(g,a),x=x1(m,u,f),w=E1(E),A=E1(x);n.modifiersData[s]={referenceClippingOffsets:E,popperEscapeOffsets:x,isReferenceHidden:w,hasPopperEscaped:A},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":w,"data-popper-escaped":A})}const p0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Eb};function _b(t,n,s){var a=Jn(t),u=[rn,nn].indexOf(a)>=0?-1:1,f=typeof s=="function"?s(Object.assign({},n,{placement:t})):s,g=f[0],m=f[1];return g=g||0,m=(m||0)*u,[rn,bn].indexOf(a)>=0?{x:m,y:g}:{x:g,y:m}}function wb(t){var n=t.state,s=t.options,a=t.name,u=s.offset,f=u===void 0?[0,0]:u,g=eu.reduce(function(w,A){return w[A]=_b(A,n.rects,f),w},{}),m=g[n.placement],E=m.x,x=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=E,n.modifiersData.popperOffsets.y+=x),n.modifiersData[a]=g}const m0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wb};function Ab(t){var n=t.state,s=t.name;n.modifiersData[s]=d0({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const uu={name:"popperOffsets",enabled:!0,phase:"read",fn:Ab,data:{}};function bb(t){return t==="x"?"y":"x"}function Cb(t){var n=t.state,s=t.options,a=t.name,u=s.mainAxis,f=u===void 0?!0:u,g=s.altAxis,m=g===void 0?!1:g,E=s.boundary,x=s.rootBoundary,w=s.altBoundary,A=s.padding,I=s.tether,S=I===void 0?!0:I,L=s.tetherOffset,D=L===void 0?0:L,J=Js(n,{boundary:E,rootBoundary:x,padding:A,altBoundary:w}),Y=Jn(n.placement),j=Qs(n.placement),B=!j,Q=su(Y),he=bb(Q),K=n.modifiersData.popperOffsets,F=n.rects.reference,ce=n.rects.popper,P=typeof D=="function"?D(Object.assign({},n.rects,{placement:n.placement})):D,_e=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),Ee=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,H={x:0,y:0};if(K){if(f){var ne,Oe=Q==="y"?nn:rn,W=Q==="y"?An:bn,Se=Q==="y"?"height":"width",ue=K[Q],$e=ue+J[Oe],mt=ue-J[W],vt=S?-ce[Se]/2:0,Gt=j===ps?F[Se]:ce[Se],qe=j===ps?-ce[Se]:-F[Se],Bt=n.elements.arrow,ct=S&&Bt?ru(Bt):{width:0,height:0},$t=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:l0(),Ae=$t[Oe],ee=$t[W],fe=Mi(0,F[Se],ct[Se]),xe=B?F[Se]/2-vt-fe-Ae-_e.mainAxis:Gt-fe-Ae-_e.mainAxis,ve=B?-F[Se]/2+vt+fe+ee+_e.mainAxis:qe+fe+ee+_e.mainAxis,ke=n.elements.arrow&&io(n.elements.arrow),at=ke?Q==="y"?ke.clientTop||0:ke.clientLeft||0:0,v=(ne=Ee==null?void 0:Ee[Q])!=null?ne:0,N=ue+xe-v-at,V=ue+ve-v,re=Mi(S?ia($e,N):$e,ue,S?hs(mt,V):mt);K[Q]=re,H[Q]=re-ue}if(m){var z,te=Q==="x"?nn:rn,se=Q==="x"?An:bn,ge=K[he],G=he==="y"?"height":"width",oe=ge+J[te],we=ge-J[se],be=[nn,rn].indexOf(Y)!==-1,Te=(z=Ee==null?void 0:Ee[he])!=null?z:0,Ie=be?oe:ge-F[G]-ce[G]-Te+_e.altAxis,Ve=be?ge+F[G]+ce[G]-Te-_e.altAxis:we,Ye=S&&be?eb(Ie,ge,Ve):Mi(S?Ie:oe,ge,S?Ve:we);K[he]=Ye,H[he]=Ye-ge}n.modifiersData[a]=H}}const x0={name:"preventOverflow",enabled:!0,phase:"main",fn:Cb,requiresIfExists:["offset"]};function yb(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vb(t){return t===Cn(t)||!Mn(t)?au(t):yb(t)}function Tb(t){var n=t.getBoundingClientRect(),s=qs(n.width)/t.offsetWidth||1,a=qs(n.height)/t.offsetHeight||1;return s!==1||a!==1}function Sb(t,n,s){s===void 0&&(s=!1);var a=Mn(n),u=Mn(n)&&Tb(n),f=$r(n),g=Zs(t,u,s),m={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(a||!a&&!s)&&((nr(n)!=="body"||cu(f))&&(m=vb(n)),Mn(n)?(E=Zs(n,!0),E.x+=n.clientLeft,E.y+=n.clientTop):f&&(E.x=lu(f))),{x:g.left+m.scrollLeft-E.x,y:g.top+m.scrollTop-E.y,width:g.width,height:g.height}}function Ib(t){var n=new Map,s=new Set,a=[];t.forEach(function(f){n.set(f.name,f)});function u(f){s.add(f.name);var g=[].concat(f.requires||[],f.requiresIfExists||[]);g.forEach(function(m){if(!s.has(m)){var E=n.get(m);E&&u(E)}}),a.push(f)}return t.forEach(function(f){s.has(f.name)||u(f)}),a}function Ob(t){var n=Ib(t);return i0.reduce(function(s,a){return s.concat(n.filter(function(u){return u.phase===a}))},[])}function Nb(t){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(t())})})),n}}function Rb(t){var n=t.reduce(function(s,a){var u=s[a.name];return s[a.name]=u?Object.assign({},u,a,{options:Object.assign({},u.options,a.options),data:Object.assign({},u.data,a.data)}):a,s},{});return Object.keys(n).map(function(s){return n[s]})}var _1={placement:"bottom",modifiers:[],strategy:"absolute"};function w1(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Pa(t){t===void 0&&(t={});var n=t,s=n.defaultModifiers,a=s===void 0?[]:s,u=n.defaultOptions,f=u===void 0?_1:u;return function(m,E,x){x===void 0&&(x=f);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},_1,f),modifiersData:{},elements:{reference:m,popper:E},attributes:{},styles:{}},A=[],I=!1,S={state:w,setOptions:function(Y){var j=typeof Y=="function"?Y(w.options):Y;D(),w.options=Object.assign({},f,w.options,j),w.scrollParents={reference:ms(m)?Li(m):m.contextElement?Li(m.contextElement):[],popper:Li(E)};var B=Ob(Rb([].concat(a,w.options.modifiers)));return w.orderedModifiers=B.filter(function(Q){return Q.enabled}),L(),S.update()},forceUpdate:function(){if(!I){var Y=w.elements,j=Y.reference,B=Y.popper;if(w1(j,B)){w.rects={reference:Sb(j,io(B),w.options.strategy==="fixed"),popper:ru(B)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(_e){return w.modifiersData[_e.name]=Object.assign({},_e.data)});for(var Q=0;Q<w.orderedModifiers.length;Q++){if(w.reset===!0){w.reset=!1,Q=-1;continue}var he=w.orderedModifiers[Q],K=he.fn,F=he.options,ce=F===void 0?{}:F,P=he.name;typeof K=="function"&&(w=K({state:w,options:ce,name:P,instance:S})||w)}}}},update:Nb(function(){return new Promise(function(J){S.forceUpdate(),J(w)})}),destroy:function(){D(),I=!0}};if(!w1(m,E))return S;S.setOptions(x).then(function(J){!I&&x.onFirstUpdate&&x.onFirstUpdate(J)});function L(){w.orderedModifiers.forEach(function(J){var Y=J.name,j=J.options,B=j===void 0?{}:j,Q=J.effect;if(typeof Q=="function"){var he=Q({state:w,name:Y,instance:S,options:B}),K=function(){};A.push(he||K)}})}function D(){A.forEach(function(J){return J()}),A=[]}return S}}var Db=Pa(),Mb=[ou,uu,iu,nu],Lb=Pa({defaultModifiers:Mb}),Pb=[ou,uu,iu,nu,m0,g0,x0,f0,p0],fu=Pa({defaultModifiers:Pb});const E0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:t0,afterRead:Qd,afterWrite:s0,applyStyles:nu,arrow:f0,auto:Ma,basePlacements:oi,beforeMain:Jd,beforeRead:qd,beforeWrite:n0,bottom:An,clippingParents:Yd,computeStyles:iu,createPopper:fu,createPopperBase:Db,createPopperLite:Lb,detectOverflow:Js,end:Ks,eventListeners:ou,flip:g0,hide:p0,left:rn,main:e0,modifierPhases:i0,offset:m0,placements:eu,popper:Ps,popperGenerator:Pa,popperOffsets:uu,preventOverflow:x0,read:Zd,reference:Kd,right:bn,start:ps,top:nn,variationPlacements:dc,viewport:Jc,write:r0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Sr=new Map,Cl={set(t,n,s){Sr.has(t)||Sr.set(t,new Map);const a=Sr.get(t);if(!a.has(n)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(n,s)},get(t,n){return Sr.has(t)&&Sr.get(t).get(n)||null},remove(t,n){if(!Sr.has(t))return;const s=Sr.get(t);s.delete(n),s.size===0&&Sr.delete(t)}},Bb=1e6,kb=1e3,mc="transitionend",_0=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(n,s)=>`#${CSS.escape(s)}`)),t),Fb=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Ub=t=>{do t+=Math.floor(Math.random()*Bb);while(document.getElementById(t));return t},Vb=t=>{if(!t)return 0;let{transitionDuration:n,transitionDelay:s}=window.getComputedStyle(t);const a=Number.parseFloat(n),u=Number.parseFloat(s);return!a&&!u?0:(n=n.split(",")[0],s=s.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(s))*kb)},w0=t=>{t.dispatchEvent(new Event(mc))},lr=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ur=t=>lr(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(_0(t)):null,ai=t=>{if(!lr(t)||t.getClientRects().length===0)return!1;const n=getComputedStyle(t).getPropertyValue("visibility")==="visible",s=t.closest("details:not([open])");if(!s)return n;if(s!==t){const a=t.closest("summary");if(a&&a.parentNode!==s||a===null)return!1}return n},Vr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",A0=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?A0(t.parentNode):null},oa=()=>{},oo=t=>{t.offsetHeight},b0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yl=[],Hb=t=>{document.readyState==="loading"?(yl.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of yl)n()}),yl.push(t)):t()},Ln=()=>document.documentElement.dir==="rtl",Bn=t=>{Hb(()=>{const n=b0();if(n){const s=t.NAME,a=n.fn[s];n.fn[s]=t.jQueryInterface,n.fn[s].Constructor=t,n.fn[s].noConflict=()=>(n.fn[s]=a,t.jQueryInterface)}})},hn=(t,n=[],s=t)=>typeof t=="function"?t(...n):s,C0=(t,n,s=!0)=>{if(!s){hn(t);return}const u=Vb(n)+5;let f=!1;const g=({target:m})=>{m===n&&(f=!0,n.removeEventListener(mc,g),hn(t))};n.addEventListener(mc,g),setTimeout(()=>{f||w0(n)},u)},hu=(t,n,s,a)=>{const u=t.length;let f=t.indexOf(n);return f===-1?!s&&a?t[u-1]:t[0]:(f+=s?1:-1,a&&(f=(f+u)%u),t[Math.max(0,Math.min(f,u-1))])},Wb=/[^.]*(?=\..*)\.|.*/,Gb=/\..*/,$b=/::\d+$/,vl={};let A1=1;const y0={mouseenter:"mouseover",mouseleave:"mouseout"},Xb=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v0(t,n){return n&&`${n}::${A1++}`||t.uidEvent||A1++}function T0(t){const n=v0(t);return t.uidEvent=n,vl[n]=vl[n]||{},vl[n]}function jb(t,n){return function s(a){return du(a,{delegateTarget:t}),s.oneOff&&ae.off(t,a.type,n),n.apply(t,[a])}}function zb(t,n,s){return function a(u){const f=t.querySelectorAll(n);for(let{target:g}=u;g&&g!==this;g=g.parentNode)for(const m of f)if(m===g)return du(u,{delegateTarget:g}),a.oneOff&&ae.off(t,u.type,n,s),s.apply(g,[u])}}function S0(t,n,s=null){return Object.values(t).find(a=>a.callable===n&&a.delegationSelector===s)}function I0(t,n,s){const a=typeof n=="string",u=a?s:n||s;let f=O0(t);return Xb.has(f)||(f=t),[a,u,f]}function b1(t,n,s,a,u){if(typeof n!="string"||!t)return;let[f,g,m]=I0(n,s,a);n in y0&&(g=(L=>function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return L.call(this,D)})(g));const E=T0(t),x=E[m]||(E[m]={}),w=S0(x,g,f?s:null);if(w){w.oneOff=w.oneOff&&u;return}const A=v0(g,n.replace(Wb,"")),I=f?zb(t,s,g):jb(t,g);I.delegationSelector=f?s:null,I.callable=g,I.oneOff=u,I.uidEvent=A,x[A]=I,t.addEventListener(m,I,f)}function xc(t,n,s,a,u){const f=S0(n[s],a,u);f&&(t.removeEventListener(s,f,!!u),delete n[s][f.uidEvent])}function Yb(t,n,s,a){const u=n[s]||{};for(const[f,g]of Object.entries(u))f.includes(a)&&xc(t,n,s,g.callable,g.delegationSelector)}function O0(t){return t=t.replace(Gb,""),y0[t]||t}const ae={on(t,n,s,a){b1(t,n,s,a,!1)},one(t,n,s,a){b1(t,n,s,a,!0)},off(t,n,s,a){if(typeof n!="string"||!t)return;const[u,f,g]=I0(n,s,a),m=g!==n,E=T0(t),x=E[g]||{},w=n.startsWith(".");if(typeof f<"u"){if(!Object.keys(x).length)return;xc(t,E,g,f,u?s:null);return}if(w)for(const A of Object.keys(E))Yb(t,E,A,n.slice(1));for(const[A,I]of Object.entries(x)){const S=A.replace($b,"");(!m||n.includes(S))&&xc(t,E,g,I.callable,I.delegationSelector)}},trigger(t,n,s){if(typeof n!="string"||!t)return null;const a=b0(),u=O0(n),f=n!==u;let g=null,m=!0,E=!0,x=!1;f&&a&&(g=a.Event(n,s),a(t).trigger(g),m=!g.isPropagationStopped(),E=!g.isImmediatePropagationStopped(),x=g.isDefaultPrevented());const w=du(new Event(n,{bubbles:m,cancelable:!0}),s);return x&&w.preventDefault(),E&&t.dispatchEvent(w),w.defaultPrevented&&g&&g.preventDefault(),w}};function du(t,n={}){for(const[s,a]of Object.entries(n))try{t[s]=a}catch{Object.defineProperty(t,s,{configurable:!0,get(){return a}})}return t}function C1(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Tl(t){return t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const cr={setDataAttribute(t,n,s){t.setAttribute(`data-bs-${Tl(n)}`,s)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${Tl(n)}`)},getDataAttributes(t){if(!t)return{};const n={},s=Object.keys(t.dataset).filter(a=>a.startsWith("bs")&&!a.startsWith("bsConfig"));for(const a of s){let u=a.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),n[u]=C1(t.dataset[a])}return n},getDataAttribute(t,n){return C1(t.getAttribute(`data-bs-${Tl(n)}`))}};class ao{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,s){const a=lr(s)?cr.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...lr(s)?cr.getDataAttributes(s):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,s=this.constructor.DefaultType){for(const[a,u]of Object.entries(s)){const f=n[a],g=lr(f)?"element":Fb(f);if(!new RegExp(u).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${g}" but expected type "${u}".`)}}}const Kb="5.3.3";class Gn extends ao{constructor(n,s){super(),n=Ur(n),n&&(this._element=n,this._config=this._getConfig(s),Cl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cl.remove(this._element,this.constructor.DATA_KEY),ae.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,s,a=!0){C0(n,s,a)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Cl.get(Ur(n),this.DATA_KEY)}static getOrCreateInstance(n,s={}){return this.getInstance(n)||new this(n,typeof s=="object"?s:null)}static get VERSION(){return Kb}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Sl=t=>{let n=t.getAttribute("data-bs-target");if(!n||n==="#"){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),n=s&&s!=="#"?s.trim():null}return n?n.split(",").map(s=>_0(s)).join(","):null},Le={find(t,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,t))},findOne(t,n=document.documentElement){return Element.prototype.querySelector.call(n,t)},children(t,n){return[].concat(...t.children).filter(s=>s.matches(n))},parents(t,n){const s=[];let a=t.parentNode.closest(n);for(;a;)s.push(a),a=a.parentNode.closest(n);return s},prev(t,n){let s=t.previousElementSibling;for(;s;){if(s.matches(n))return[s];s=s.previousElementSibling}return[]},next(t,n){let s=t.nextElementSibling;for(;s;){if(s.matches(n))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(n,t).filter(s=>!Vr(s)&&ai(s))},getSelectorFromElement(t){const n=Sl(t);return n&&Le.findOne(n)?n:null},getElementFromSelector(t){const n=Sl(t);return n?Le.findOne(n):null},getMultipleElementsFromSelector(t){const n=Sl(t);return n?Le.find(n):[]}},Ba=(t,n="hide")=>{const s=`click.dismiss${t.EVENT_KEY}`,a=t.NAME;ae.on(document,s,`[data-bs-dismiss="${a}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Vr(this))return;const f=Le.getElementFromSelector(this)||this.closest(`.${a}`);t.getOrCreateInstance(f)[n]()})},qb="alert",Zb="bs.alert",N0=`.${Zb}`,Qb=`close${N0}`,Jb=`closed${N0}`,e3="fade",t3="show";class ka extends Gn{static get NAME(){return qb}close(){if(ae.trigger(this._element,Qb).defaultPrevented)return;this._element.classList.remove(t3);const s=this._element.classList.contains(e3);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),ae.trigger(this._element,Jb),this.dispose()}static jQueryInterface(n){return this.each(function(){const s=ka.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ba(ka,"close");Bn(ka);const n3="button",r3="bs.button",s3=`.${r3}`,i3=".data-api",o3="active",y1='[data-bs-toggle="button"]',a3=`click${s3}${i3}`;class Fa extends Gn{static get NAME(){return n3}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(o3))}static jQueryInterface(n){return this.each(function(){const s=Fa.getOrCreateInstance(this);n==="toggle"&&s[n]()})}}ae.on(document,a3,y1,t=>{t.preventDefault();const n=t.target.closest(y1);Fa.getOrCreateInstance(n).toggle()});Bn(Fa);const l3="swipe",li=".bs.swipe",c3=`touchstart${li}`,u3=`touchmove${li}`,f3=`touchend${li}`,h3=`pointerdown${li}`,d3=`pointerup${li}`,g3="touch",p3="pen",m3="pointer-event",x3=40,E3={endCallback:null,leftCallback:null,rightCallback:null},_3={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class aa extends ao{constructor(n,s){super(),this._element=n,!(!n||!aa.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return E3}static get DefaultType(){return _3}static get NAME(){return l3}dispose(){ae.off(this._element,li)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),hn(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=x3)return;const s=n/this._deltaX;this._deltaX=0,s&&hn(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ae.on(this._element,h3,n=>this._start(n)),ae.on(this._element,d3,n=>this._end(n)),this._element.classList.add(m3)):(ae.on(this._element,c3,n=>this._start(n)),ae.on(this._element,u3,n=>this._move(n)),ae.on(this._element,f3,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===p3||n.pointerType===g3)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const w3="carousel",A3="bs.carousel",Xr=`.${A3}`,R0=".data-api",b3="ArrowLeft",C3="ArrowRight",y3=500,Ci="next",Ds="prev",Bs="left",$o="right",v3=`slide${Xr}`,Il=`slid${Xr}`,T3=`keydown${Xr}`,S3=`mouseenter${Xr}`,I3=`mouseleave${Xr}`,O3=`dragstart${Xr}`,N3=`load${Xr}${R0}`,R3=`click${Xr}${R0}`,D0="carousel",Io="active",D3="slide",M3="carousel-item-end",L3="carousel-item-start",P3="carousel-item-next",B3="carousel-item-prev",M0=".active",L0=".carousel-item",k3=M0+L0,F3=".carousel-item img",U3=".carousel-indicators",V3="[data-bs-slide], [data-bs-slide-to]",H3='[data-bs-ride="carousel"]',W3={[b3]:$o,[C3]:Bs},G3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lo extends Gn{constructor(n,s){super(n,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Le.findOne(U3,this._element),this._addEventListeners(),this._config.ride===D0&&this.cycle()}static get Default(){return G3}static get DefaultType(){return $3}static get NAME(){return w3}next(){this._slide(Ci)}nextWhenVisible(){!document.hidden&&ai(this._element)&&this.next()}prev(){this._slide(Ds)}pause(){this._isSliding&&w0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ae.one(this._element,Il,()=>this.cycle());return}this.cycle()}}to(n){const s=this._getItems();if(n>s.length-1||n<0)return;if(this._isSliding){ae.one(this._element,Il,()=>this.to(n));return}const a=this._getItemIndex(this._getActive());if(a===n)return;const u=n>a?Ci:Ds;this._slide(u,s[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&ae.on(this._element,T3,n=>this._keydown(n)),this._config.pause==="hover"&&(ae.on(this._element,S3,()=>this.pause()),ae.on(this._element,I3,()=>this._maybeEnableCycle())),this._config.touch&&aa.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of Le.find(F3,this._element))ae.on(a,O3,u=>u.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(Bs)),rightCallback:()=>this._slide(this._directionToOrder($o)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),y3+this._config.interval))}};this._swipeHelper=new aa(this._element,s)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const s=W3[n.key];s&&(n.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const s=Le.findOne(M0,this._indicatorsElement);s.classList.remove(Io),s.removeAttribute("aria-current");const a=Le.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);a&&(a.classList.add(Io),a.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const s=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(n,s=null){if(this._isSliding)return;const a=this._getActive(),u=n===Ci,f=s||hu(this._getItems(),a,u,this._config.wrap);if(f===a)return;const g=this._getItemIndex(f),m=S=>ae.trigger(this._element,S,{relatedTarget:f,direction:this._orderToDirection(n),from:this._getItemIndex(a),to:g});if(m(v3).defaultPrevented||!a||!f)return;const x=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=f;const w=u?L3:M3,A=u?P3:B3;f.classList.add(A),oo(f),a.classList.add(w),f.classList.add(w);const I=()=>{f.classList.remove(w,A),f.classList.add(Io),a.classList.remove(Io,A,w),this._isSliding=!1,m(Il)};this._queueCallback(I,a,this._isAnimated()),x&&this.cycle()}_isAnimated(){return this._element.classList.contains(D3)}_getActive(){return Le.findOne(k3,this._element)}_getItems(){return Le.find(L0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return Ln()?n===Bs?Ds:Ci:n===Bs?Ci:Ds}_orderToDirection(n){return Ln()?n===Ds?Bs:$o:n===Ds?$o:Bs}static jQueryInterface(n){return this.each(function(){const s=lo.getOrCreateInstance(this,n);if(typeof n=="number"){s.to(n);return}if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ae.on(document,R3,V3,function(t){const n=Le.getElementFromSelector(this);if(!n||!n.classList.contains(D0))return;t.preventDefault();const s=lo.getOrCreateInstance(n),a=this.getAttribute("data-bs-slide-to");if(a){s.to(a),s._maybeEnableCycle();return}if(cr.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});ae.on(window,N3,()=>{const t=Le.find(H3);for(const n of t)lo.getOrCreateInstance(n)});Bn(lo);const X3="collapse",j3="bs.collapse",co=`.${j3}`,z3=".data-api",Y3=`show${co}`,K3=`shown${co}`,q3=`hide${co}`,Z3=`hidden${co}`,Q3=`click${co}${z3}`,Ol="show",Us="collapse",Oo="collapsing",J3="collapsed",eC=`:scope .${Us} .${Us}`,tC="collapse-horizontal",nC="width",rC="height",sC=".collapse.show, .collapse.collapsing",Ec='[data-bs-toggle="collapse"]',iC={parent:null,toggle:!0},oC={parent:"(null|element)",toggle:"boolean"};class Xi extends Gn{constructor(n,s){super(n,s),this._isTransitioning=!1,this._triggerArray=[];const a=Le.find(Ec);for(const u of a){const f=Le.getSelectorFromElement(u),g=Le.find(f).filter(m=>m===this._element);f!==null&&g.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return iC}static get DefaultType(){return oC}static get NAME(){return X3}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(sC).filter(m=>m!==this._element).map(m=>Xi.getOrCreateInstance(m,{toggle:!1}))),n.length&&n[0]._isTransitioning||ae.trigger(this._element,Y3).defaultPrevented)return;for(const m of n)m.hide();const a=this._getDimension();this._element.classList.remove(Us),this._element.classList.add(Oo),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(Oo),this._element.classList.add(Us,Ol),this._element.style[a]="",ae.trigger(this._element,K3)},g=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[a]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||ae.trigger(this._element,q3).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,oo(this._element),this._element.classList.add(Oo),this._element.classList.remove(Us,Ol);for(const u of this._triggerArray){const f=Le.getElementFromSelector(u);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Oo),this._element.classList.add(Us),ae.trigger(this._element,Z3)};this._element.style[s]="",this._queueCallback(a,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Ol)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=Ur(n.parent),n}_getDimension(){return this._element.classList.contains(tC)?nC:rC}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Ec);for(const s of n){const a=Le.getElementFromSelector(s);a&&this._addAriaAndCollapsedClass([s],this._isShown(a))}}_getFirstLevelChildren(n){const s=Le.find(eC,this._config.parent);return Le.find(n,this._config.parent).filter(a=>!s.includes(a))}_addAriaAndCollapsedClass(n,s){if(n.length)for(const a of n)a.classList.toggle(J3,!s),a.setAttribute("aria-expanded",s)}static jQueryInterface(n){const s={};return typeof n=="string"&&/show|hide/.test(n)&&(s.toggle=!1),this.each(function(){const a=Xi.getOrCreateInstance(this,s);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n]()}})}}ae.on(document,Q3,Ec,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const n of Le.getMultipleElementsFromSelector(this))Xi.getOrCreateInstance(n,{toggle:!1}).toggle()});Bn(Xi);const v1="dropdown",aC="bs.dropdown",ws=`.${aC}`,gu=".data-api",lC="Escape",T1="Tab",cC="ArrowUp",S1="ArrowDown",uC=2,fC=`hide${ws}`,hC=`hidden${ws}`,dC=`show${ws}`,gC=`shown${ws}`,P0=`click${ws}${gu}`,B0=`keydown${ws}${gu}`,pC=`keyup${ws}${gu}`,ks="show",mC="dropup",xC="dropend",EC="dropstart",_C="dropup-center",wC="dropdown-center",os='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',AC=`${os}.${ks}`,Xo=".dropdown-menu",bC=".navbar",CC=".navbar-nav",yC=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",vC=Ln()?"top-end":"top-start",TC=Ln()?"top-start":"top-end",SC=Ln()?"bottom-end":"bottom-start",IC=Ln()?"bottom-start":"bottom-end",OC=Ln()?"left-start":"right-start",NC=Ln()?"right-start":"left-start",RC="top",DC="bottom",MC={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},LC={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class er extends Gn{constructor(n,s){super(n,s),this._popper=null,this._parent=this._element.parentNode,this._menu=Le.next(this._element,Xo)[0]||Le.prev(this._element,Xo)[0]||Le.findOne(Xo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return MC}static get DefaultType(){return LC}static get NAME(){return v1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Vr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!ae.trigger(this._element,dC,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(CC))for(const a of[].concat(...document.body.children))ae.on(a,"mouseover",oa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ks),this._element.classList.add(ks),ae.trigger(this._element,gC,n)}}hide(){if(Vr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!ae.trigger(this._element,fC,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ae.off(a,"mouseover",oa);this._popper&&this._popper.destroy(),this._menu.classList.remove(ks),this._element.classList.remove(ks),this._element.setAttribute("aria-expanded","false"),cr.removeDataAttribute(this._menu,"popper"),ae.trigger(this._element,hC,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!lr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${v1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof E0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=this._parent:lr(this._config.reference)?n=Ur(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const s=this._getPopperConfig();this._popper=fu(n,this._menu,s)}_isShown(){return this._menu.classList.contains(ks)}_getPlacement(){const n=this._parent;if(n.classList.contains(xC))return OC;if(n.classList.contains(EC))return NC;if(n.classList.contains(_C))return RC;if(n.classList.contains(wC))return DC;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(mC)?s?TC:vC:s?IC:SC}_detectNavbar(){return this._element.closest(bC)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(cr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...hn(this._config.popperConfig,[n])}}_selectMenuItem({key:n,target:s}){const a=Le.find(yC,this._menu).filter(u=>ai(u));a.length&&hu(a,s,n===S1,!a.includes(s)).focus()}static jQueryInterface(n){return this.each(function(){const s=er.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}static clearMenus(n){if(n.button===uC||n.type==="keyup"&&n.key!==T1)return;const s=Le.find(AC);for(const a of s){const u=er.getInstance(a);if(!u||u._config.autoClose===!1)continue;const f=n.composedPath(),g=f.includes(u._menu);if(f.includes(u._element)||u._config.autoClose==="inside"&&!g||u._config.autoClose==="outside"&&g||u._menu.contains(n.target)&&(n.type==="keyup"&&n.key===T1||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const m={relatedTarget:u._element};n.type==="click"&&(m.clickEvent=n),u._completeHide(m)}}static dataApiKeydownHandler(n){const s=/input|textarea/i.test(n.target.tagName),a=n.key===lC,u=[cC,S1].includes(n.key);if(!u&&!a||s&&!a)return;n.preventDefault();const f=this.matches(os)?this:Le.prev(this,os)[0]||Le.next(this,os)[0]||Le.findOne(os,n.delegateTarget.parentNode),g=er.getOrCreateInstance(f);if(u){n.stopPropagation(),g.show(),g._selectMenuItem(n);return}g._isShown()&&(n.stopPropagation(),g.hide(),f.focus())}}ae.on(document,B0,os,er.dataApiKeydownHandler);ae.on(document,B0,Xo,er.dataApiKeydownHandler);ae.on(document,P0,er.clearMenus);ae.on(document,pC,er.clearMenus);ae.on(document,P0,os,function(t){t.preventDefault(),er.getOrCreateInstance(this).toggle()});Bn(er);const k0="backdrop",PC="fade",I1="show",O1=`mousedown.bs.${k0}`,BC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class F0 extends ao{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return BC}static get DefaultType(){return kC}static get NAME(){return k0}show(n){if(!this._config.isVisible){hn(n);return}this._append();const s=this._getElement();this._config.isAnimated&&oo(s),s.classList.add(I1),this._emulateAnimation(()=>{hn(n)})}hide(n){if(!this._config.isVisible){hn(n);return}this._getElement().classList.remove(I1),this._emulateAnimation(()=>{this.dispose(),hn(n)})}dispose(){this._isAppended&&(ae.off(this._element,O1),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(PC),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=Ur(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),ae.on(n,O1,()=>{hn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){C0(n,this._getElement(),this._config.isAnimated)}}const FC="focustrap",UC="bs.focustrap",la=`.${UC}`,VC=`focusin${la}`,HC=`keydown.tab${la}`,WC="Tab",GC="forward",N1="backward",$C={autofocus:!0,trapElement:null},XC={autofocus:"boolean",trapElement:"element"};class U0 extends ao{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return $C}static get DefaultType(){return XC}static get NAME(){return FC}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ae.off(document,la),ae.on(document,VC,n=>this._handleFocusin(n)),ae.on(document,HC,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ae.off(document,la))}_handleFocusin(n){const{trapElement:s}=this._config;if(n.target===document||n.target===s||s.contains(n.target))return;const a=Le.focusableChildren(s);a.length===0?s.focus():this._lastTabNavDirection===N1?a[a.length-1].focus():a[0].focus()}_handleKeydown(n){n.key===WC&&(this._lastTabNavDirection=n.shiftKey?N1:GC)}}const R1=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",D1=".sticky-top",No="padding-right",M1="margin-right";class _c{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,No,s=>s+n),this._setElementAttributes(R1,No,s=>s+n),this._setElementAttributes(D1,M1,s=>s-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,No),this._resetElementAttributes(R1,No),this._resetElementAttributes(D1,M1)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,s,a){const u=this.getWidth(),f=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+u)return;this._saveInitialAttribute(g,s);const m=window.getComputedStyle(g).getPropertyValue(s);g.style.setProperty(s,`${a(Number.parseFloat(m))}px`)};this._applyManipulationCallback(n,f)}_saveInitialAttribute(n,s){const a=n.style.getPropertyValue(s);a&&cr.setDataAttribute(n,s,a)}_resetElementAttributes(n,s){const a=u=>{const f=cr.getDataAttribute(u,s);if(f===null){u.style.removeProperty(s);return}cr.removeDataAttribute(u,s),u.style.setProperty(s,f)};this._applyManipulationCallback(n,a)}_applyManipulationCallback(n,s){if(lr(n)){s(n);return}for(const a of Le.find(n,this._element))s(a)}}const jC="modal",zC="bs.modal",Pn=`.${zC}`,YC=".data-api",KC="Escape",qC=`hide${Pn}`,ZC=`hidePrevented${Pn}`,V0=`hidden${Pn}`,H0=`show${Pn}`,QC=`shown${Pn}`,JC=`resize${Pn}`,ey=`click.dismiss${Pn}`,ty=`mousedown.dismiss${Pn}`,ny=`keydown.dismiss${Pn}`,ry=`click${Pn}${YC}`,L1="modal-open",sy="fade",P1="show",Nl="modal-static",iy=".modal.show",oy=".modal-dialog",ay=".modal-body",ly='[data-bs-toggle="modal"]',cy={backdrop:!0,focus:!0,keyboard:!0},uy={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ei extends Gn{constructor(n,s){super(n,s),this._dialog=Le.findOne(oy,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _c,this._addEventListeners()}static get Default(){return cy}static get DefaultType(){return uy}static get NAME(){return jC}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||ae.trigger(this._element,H0,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(L1),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||ae.trigger(this._element,qC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(P1),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ae.off(window,Pn),ae.off(this._dialog,Pn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new F0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new U0({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=Le.findOne(ay,this._dialog);s&&(s.scrollTop=0),oo(this._element),this._element.classList.add(P1);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ae.trigger(this._element,QC,{relatedTarget:n})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){ae.on(this._element,ny,n=>{if(n.key===KC){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ae.on(window,JC,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ae.on(this._element,ty,n=>{ae.one(this._element,ey,s=>{if(!(this._element!==n.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(L1),this._resetAdjustments(),this._scrollBar.reset(),ae.trigger(this._element,V0)})}_isAnimated(){return this._element.classList.contains(sy)}_triggerBackdropTransition(){if(ae.trigger(this._element,ZC).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(Nl)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(Nl),this._queueCallback(()=>{this._element.classList.remove(Nl),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),a=s>0;if(a&&!n){const u=Ln()?"paddingLeft":"paddingRight";this._element.style[u]=`${s}px`}if(!a&&n){const u=Ln()?"paddingRight":"paddingLeft";this._element.style[u]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,s){return this.each(function(){const a=ei.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n](s)}})}}ae.on(document,ry,ly,function(t){const n=Le.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ae.one(n,H0,u=>{u.defaultPrevented||ae.one(n,V0,()=>{ai(this)&&this.focus()})});const s=Le.findOne(iy);s&&ei.getInstance(s).hide(),ei.getOrCreateInstance(n).toggle(this)});Ba(ei);Bn(ei);const fy="offcanvas",hy="bs.offcanvas",dr=`.${hy}`,W0=".data-api",dy=`load${dr}${W0}`,gy="Escape",B1="show",k1="showing",F1="hiding",py="offcanvas-backdrop",G0=".offcanvas.show",my=`show${dr}`,xy=`shown${dr}`,Ey=`hide${dr}`,U1=`hidePrevented${dr}`,$0=`hidden${dr}`,_y=`resize${dr}`,wy=`click${dr}${W0}`,Ay=`keydown.dismiss${dr}`,by='[data-bs-toggle="offcanvas"]',Cy={backdrop:!0,keyboard:!0,scroll:!1},yy={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hr extends Gn{constructor(n,s){super(n,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Cy}static get DefaultType(){return yy}static get NAME(){return fy}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||ae.trigger(this._element,my,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _c().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(k1);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(B1),this._element.classList.remove(k1),ae.trigger(this._element,xy,{relatedTarget:n})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||ae.trigger(this._element,Ey).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(F1),this._backdrop.hide();const s=()=>{this._element.classList.remove(B1,F1),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _c().reset(),ae.trigger(this._element,$0)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){ae.trigger(this._element,U1);return}this.hide()},s=!!this._config.backdrop;return new F0({className:py,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?n:null})}_initializeFocusTrap(){return new U0({trapElement:this._element})}_addEventListeners(){ae.on(this._element,Ay,n=>{if(n.key===gy){if(this._config.keyboard){this.hide();return}ae.trigger(this._element,U1)}})}static jQueryInterface(n){return this.each(function(){const s=Hr.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}ae.on(document,wy,by,function(t){const n=Le.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Vr(this))return;ae.one(n,$0,()=>{ai(this)&&this.focus()});const s=Le.findOne(G0);s&&s!==n&&Hr.getInstance(s).hide(),Hr.getOrCreateInstance(n).toggle(this)});ae.on(window,dy,()=>{for(const t of Le.find(G0))Hr.getOrCreateInstance(t).show()});ae.on(window,_y,()=>{for(const t of Le.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Hr.getOrCreateInstance(t).hide()});Ba(Hr);Bn(Hr);const vy=/^aria-[\w-]*$/i,X0={"*":["class","dir","id","lang","role",vy],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ty=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Sy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Iy=(t,n)=>{const s=t.nodeName.toLowerCase();return n.includes(s)?Ty.has(s)?!!Sy.test(t.nodeValue):!0:n.filter(a=>a instanceof RegExp).some(a=>a.test(s))};function Oy(t,n,s){if(!t.length)return t;if(s&&typeof s=="function")return s(t);const u=new window.DOMParser().parseFromString(t,"text/html"),f=[].concat(...u.body.querySelectorAll("*"));for(const g of f){const m=g.nodeName.toLowerCase();if(!Object.keys(n).includes(m)){g.remove();continue}const E=[].concat(...g.attributes),x=[].concat(n["*"]||[],n[m]||[]);for(const w of E)Iy(w,x)||g.removeAttribute(w.nodeName)}return u.body.innerHTML}const Ny="TemplateFactory",Ry={allowList:X0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dy={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},My={entry:"(string|element|function|null)",selector:"(string|element)"};class Ly extends ao{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Ry}static get DefaultType(){return Dy}static get NAME(){return Ny}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[u,f]of Object.entries(this._config.content))this._setContent(n,f,u);const s=n.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&s.classList.add(...a.split(" ")),s}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[s,a]of Object.entries(n))super._typeCheckConfig({selector:s,entry:a},My)}_setContent(n,s,a){const u=Le.findOne(a,n);if(u){if(s=this._resolvePossibleFunction(s),!s){u.remove();return}if(lr(s)){this._putElementInTemplate(Ur(s),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(s);return}u.textContent=s}}_maybeSanitize(n){return this._config.sanitize?Oy(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return hn(n,[this])}_putElementInTemplate(n,s){if(this._config.html){s.innerHTML="",s.append(n);return}s.textContent=n.textContent}}const Py="tooltip",By=new Set(["sanitize","allowList","sanitizeFn"]),Rl="fade",ky="modal",Ro="show",Fy=".tooltip-inner",V1=`.${ky}`,H1="hide.bs.modal",yi="hover",Dl="focus",Uy="click",Vy="manual",Hy="hide",Wy="hidden",Gy="show",$y="shown",Xy="inserted",jy="click",zy="focusin",Yy="focusout",Ky="mouseenter",qy="mouseleave",Zy={AUTO:"auto",TOP:"top",RIGHT:Ln()?"left":"right",BOTTOM:"bottom",LEFT:Ln()?"right":"left"},Qy={allowList:X0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jy={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ci extends Gn{constructor(n,s){if(typeof E0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qy}static get DefaultType(){return Jy}static get NAME(){return Py}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ae.off(this._element.closest(V1),H1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=ae.trigger(this._element,this.constructor.eventName(Gy)),a=(A0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!a)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:f}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(u),ae.trigger(this._element,this.constructor.eventName(Xy))),this._popper=this._createPopper(u),u.classList.add(Ro),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))ae.on(m,"mouseover",oa);const g=()=>{ae.trigger(this._element,this.constructor.eventName($y)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ae.trigger(this._element,this.constructor.eventName(Hy)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ro),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))ae.off(u,"mouseover",oa);this._activeTrigger[Uy]=!1,this._activeTrigger[Dl]=!1,this._activeTrigger[yi]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ae.trigger(this._element,this.constructor.eventName(Wy)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const s=this._getTemplateFactory(n).toHtml();if(!s)return null;s.classList.remove(Rl,Ro),s.classList.add(`bs-${this.constructor.NAME}-auto`);const a=Ub(this.constructor.NAME).toString();return s.setAttribute("id",a),this._isAnimated()&&s.classList.add(Rl),s}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Ly({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Fy]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Rl)}_isShown(){return this.tip&&this.tip.classList.contains(Ro)}_createPopper(n){const s=hn(this._config.placement,[this,n,this._element]),a=Zy[s.toUpperCase()];return fu(this._element,n,this._getPopperConfig(a))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_resolvePossibleFunction(n){return hn(n,[this._element])}_getPopperConfig(n){const s={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...s,...hn(this._config.popperConfig,[s])}}_setListeners(){const n=this._config.trigger.split(" ");for(const s of n)if(s==="click")ae.on(this._element,this.constructor.eventName(jy),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(s!==Vy){const a=s===yi?this.constructor.eventName(Ky):this.constructor.eventName(zy),u=s===yi?this.constructor.eventName(qy):this.constructor.eventName(Yy);ae.on(this._element,a,this._config.selector,f=>{const g=this._initializeOnDelegatedTarget(f);g._activeTrigger[f.type==="focusin"?Dl:yi]=!0,g._enter()}),ae.on(this._element,u,this._config.selector,f=>{const g=this._initializeOnDelegatedTarget(f);g._activeTrigger[f.type==="focusout"?Dl:yi]=g._element.contains(f.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ae.on(this._element.closest(V1),H1,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,s){clearTimeout(this._timeout),this._timeout=setTimeout(n,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const s=cr.getDataAttributes(this._element);for(const a of Object.keys(s))By.has(a)&&delete s[a];return n={...s,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:Ur(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[s,a]of Object.entries(this._config))this.constructor.Default[s]!==a&&(n[s]=a);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const s=ci.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Bn(ci);const e8="popover",t8=".popover-header",n8=".popover-body",r8={...ci.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},s8={...ci.DefaultType,content:"(null|string|element|function)"};class pu extends ci{static get Default(){return r8}static get DefaultType(){return s8}static get NAME(){return e8}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[t8]:this._getTitle(),[n8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const s=pu.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Bn(pu);const i8="scrollspy",o8="bs.scrollspy",mu=`.${o8}`,a8=".data-api",l8=`activate${mu}`,W1=`click${mu}`,c8=`load${mu}${a8}`,u8="dropdown-item",Ms="active",f8='[data-bs-spy="scroll"]',Ml="[href]",h8=".nav, .list-group",G1=".nav-link",d8=".nav-item",g8=".list-group-item",p8=`${G1}, ${d8} > ${G1}, ${g8}`,m8=".dropdown",x8=".dropdown-toggle",E8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},_8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ua extends Gn{constructor(n,s){super(n,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return E8}static get DefaultType(){return _8}static get NAME(){return i8}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=Ur(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(s=>Number.parseFloat(s))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ae.off(this._config.target,W1),ae.on(this._config.target,W1,Ml,n=>{const s=this._observableSections.get(n.target.hash);if(s){n.preventDefault();const a=this._rootElement||window,u=s.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:u,behavior:"smooth"});return}a.scrollTop=u}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),n)}_observerCallback(n){const s=g=>this._targetLinks.get(`#${g.target.id}`),a=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(s(g))},u=(this._rootElement||document.documentElement).scrollTop,f=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const g of n){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(g));continue}const m=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(f&&m){if(a(g),!u)return;continue}!f&&!m&&a(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=Le.find(Ml,this._config.target);for(const s of n){if(!s.hash||Vr(s))continue;const a=Le.findOne(decodeURI(s.hash),this._element);ai(a)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,a))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Ms),this._activateParents(n),ae.trigger(this._element,l8,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(u8)){Le.findOne(x8,n.closest(m8)).classList.add(Ms);return}for(const s of Le.parents(n,h8))for(const a of Le.prev(s,p8))a.classList.add(Ms)}_clearActiveClass(n){n.classList.remove(Ms);const s=Le.find(`${Ml}.${Ms}`,n);for(const a of s)a.classList.remove(Ms)}static jQueryInterface(n){return this.each(function(){const s=Ua.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ae.on(window,c8,()=>{for(const t of Le.find(f8))Ua.getOrCreateInstance(t)});Bn(Ua);const w8="tab",A8="bs.tab",As=`.${A8}`,b8=`hide${As}`,C8=`hidden${As}`,y8=`show${As}`,v8=`shown${As}`,T8=`click${As}`,S8=`keydown${As}`,I8=`load${As}`,O8="ArrowLeft",$1="ArrowRight",N8="ArrowUp",X1="ArrowDown",Ll="Home",j1="End",as="active",z1="fade",Pl="show",R8="dropdown",j0=".dropdown-toggle",D8=".dropdown-menu",Bl=`:not(${j0})`,M8='.list-group, .nav, [role="tablist"]',L8=".nav-item, .list-group-item",P8=`.nav-link${Bl}, .list-group-item${Bl}, [role="tab"]${Bl}`,z0='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kl=`${P8}, ${z0}`,B8=`.${as}[data-bs-toggle="tab"], .${as}[data-bs-toggle="pill"], .${as}[data-bs-toggle="list"]`;class ti extends Gn{constructor(n){super(n),this._parent=this._element.closest(M8),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ae.on(this._element,S8,s=>this._keydown(s)))}static get NAME(){return w8}show(){const n=this._element;if(this._elemIsActive(n))return;const s=this._getActiveElem(),a=s?ae.trigger(s,b8,{relatedTarget:n}):null;ae.trigger(n,y8,{relatedTarget:s}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(s,n),this._activate(n,s))}_activate(n,s){if(!n)return;n.classList.add(as),this._activate(Le.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Pl);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),ae.trigger(n,v8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(z1))}_deactivate(n,s){if(!n)return;n.classList.remove(as),n.blur(),this._deactivate(Le.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Pl);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),ae.trigger(n,C8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(z1))}_keydown(n){if(![O8,$1,N8,X1,Ll,j1].includes(n.key))return;n.stopPropagation(),n.preventDefault();const s=this._getChildren().filter(u=>!Vr(u));let a;if([Ll,j1].includes(n.key))a=s[n.key===Ll?0:s.length-1];else{const u=[$1,X1].includes(n.key);a=hu(s,n.target,u,!0)}a&&(a.focus({preventScroll:!0}),ti.getOrCreateInstance(a).show())}_getChildren(){return Le.find(kl,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,s){this._setAttributeIfNotExists(n,"role","tablist");for(const a of s)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const s=this._elemIsActive(n),a=this._getOuterElement(n);n.setAttribute("aria-selected",s),a!==n&&this._setAttributeIfNotExists(a,"role","presentation"),s||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const s=Le.getElementFromSelector(n);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,s){const a=this._getOuterElement(n);if(!a.classList.contains(R8))return;const u=(f,g)=>{const m=Le.findOne(f,a);m&&m.classList.toggle(g,s)};u(j0,as),u(D8,Pl),a.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(n,s,a){n.hasAttribute(s)||n.setAttribute(s,a)}_elemIsActive(n){return n.classList.contains(as)}_getInnerElement(n){return n.matches(kl)?n:Le.findOne(kl,n)}_getOuterElement(n){return n.closest(L8)||n}static jQueryInterface(n){return this.each(function(){const s=ti.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ae.on(document,T8,z0,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Vr(this)&&ti.getOrCreateInstance(this).show()});ae.on(window,I8,()=>{for(const t of Le.find(B8))ti.getOrCreateInstance(t)});Bn(ti);const k8="toast",F8="bs.toast",jr=`.${F8}`,U8=`mouseover${jr}`,V8=`mouseout${jr}`,H8=`focusin${jr}`,W8=`focusout${jr}`,G8=`hide${jr}`,$8=`hidden${jr}`,X8=`show${jr}`,j8=`shown${jr}`,z8="fade",Y1="hide",Do="show",Mo="showing",Y8={animation:"boolean",autohide:"boolean",delay:"number"},K8={animation:!0,autohide:!0,delay:5e3};class Va extends Gn{constructor(n,s){super(n,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return K8}static get DefaultType(){return Y8}static get NAME(){return k8}show(){if(ae.trigger(this._element,X8).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(z8);const s=()=>{this._element.classList.remove(Mo),ae.trigger(this._element,j8),this._maybeScheduleHide()};this._element.classList.remove(Y1),oo(this._element),this._element.classList.add(Do,Mo),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||ae.trigger(this._element,G8).defaultPrevented)return;const s=()=>{this._element.classList.add(Y1),this._element.classList.remove(Mo,Do),ae.trigger(this._element,$8)};this._element.classList.add(Mo),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Do),super.dispose()}isShown(){return this._element.classList.contains(Do)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,s){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const a=n.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){ae.on(this._element,U8,n=>this._onInteraction(n,!0)),ae.on(this._element,V8,n=>this._onInteraction(n,!1)),ae.on(this._element,H8,n=>this._onInteraction(n,!0)),ae.on(this._element,W8,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const s=Va.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ba(Va);Bn(Va);/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2024 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const t=()=>localStorage.getItem("theme"),n=f=>localStorage.setItem("theme",f),s=()=>{const f=t();return f||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},a=f=>{f==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",f)};a(s());const u=(f,g=!1)=>{const m=document.querySelector("#bd-theme");if(!m)return;const E=document.querySelector("#bd-theme-text"),x=document.querySelector(".theme-icon-active use"),w=document.querySelector(`[data-bs-theme-value="${f}"]`),A=w.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(S=>{S.classList.remove("active"),S.setAttribute("aria-pressed","false")}),w.classList.add("active"),w.setAttribute("aria-pressed","true"),x.setAttribute("href",A);const I=`${E.textContent} (${w.dataset.bsThemeValue})`;m.setAttribute("aria-label",I),g&&m.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const f=t();f!=="light"&&f!=="dark"&&a(s())}),window.addEventListener("DOMContentLoaded",()=>{u(s()),document.querySelectorAll("[data-bs-theme-value]").forEach(f=>{f.addEventListener("click",()=>{const g=f.getAttribute("data-bs-theme-value");n(g),a(g),u(g,!0)})})})})();const q8=um(),xu=im(x_);xu.use(KA);xu.use(q8);xu.mount("#app");
