function Wd(n,t){for(var s=0;s<t.length;s++){const l=t[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in n)){const h=Object.getOwnPropertyDescriptor(l,u);h&&Object.defineProperty(n,u,h.get?h:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wl(n,t){const s=new Set(n.split(","));return l=>s.has(l)}const bt={},Ns=[],Tn=()=>{},Gd=()=>!1,Bo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Gl=n=>n.startsWith("onUpdate:"),Zt=Object.assign,Xl=(n,t)=>{const s=n.indexOf(t);s>-1&&n.splice(s,1)},Xd=Object.prototype.hasOwnProperty,Je=(n,t)=>Xd.call(n,t),Me=Array.isArray,Rs=n=>Ri(n)==="[object Map]",ko=n=>Ri(n)==="[object Set]",eu=n=>Ri(n)==="[object Date]",Ve=n=>typeof n=="function",kt=n=>typeof n=="string",Qn=n=>typeof n=="symbol",pt=n=>n!==null&&typeof n=="object",l1=n=>(pt(n)||Ve(n))&&Ve(n.then)&&Ve(n.catch),c1=Object.prototype.toString,Ri=n=>c1.call(n),jd=n=>Ri(n).slice(8,-1),u1=n=>Ri(n)==="[object Object]",jl=n=>kt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,gi=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fo=n=>{const t=Object.create(null);return s=>t[s]||(t[s]=n(s))},$d=/-(\w)/g,kn=Fo(n=>n.replace($d,(t,s)=>s?s.toUpperCase():"")),zd=/\B([A-Z])/g,cs=Fo(n=>n.replace(zd,"-$1").toLowerCase()),Uo=Fo(n=>n.charAt(0).toUpperCase()+n.slice(1)),Da=Fo(n=>n?`on${Uo(n)}`:""),Rr=(n,t)=>!Object.is(n,t),co=(n,...t)=>{for(let s=0;s<n.length;s++)n[s](...t)},f1=(n,t,s,l=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:l,value:s})},ll=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let tu;const h1=()=>tu||(tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $l(n){if(Me(n)){const t={};for(let s=0;s<n.length;s++){const l=n[s],u=kt(l)?Zd(l):$l(l);if(u)for(const h in u)t[h]=u[h]}return t}else if(kt(n)||pt(n))return n}const Yd=/;(?![^(]*\))/g,Kd=/:([^]+)/,qd=/\/\*[^]*?\*\//g;function Zd(n){const t={};return n.replace(qd,"").split(Yd).forEach(s=>{if(s){const l=s.split(Kd);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Vt(n){let t="";if(kt(n))t=n;else if(Me(n))for(let s=0;s<n.length;s++){const l=Vt(n[s]);l&&(t+=l+" ")}else if(pt(n))for(const s in n)n[s]&&(t+=s+" ");return t.trim()}const Qd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jd=Wl(Qd);function d1(n){return!!n||n===""}function eg(n,t){if(n.length!==t.length)return!1;let s=!0;for(let l=0;s&&l<n.length;l++)s=Vo(n[l],t[l]);return s}function Vo(n,t){if(n===t)return!0;let s=eu(n),l=eu(t);if(s||l)return s&&l?n.getTime()===t.getTime():!1;if(s=Qn(n),l=Qn(t),s||l)return n===t;if(s=Me(n),l=Me(t),s||l)return s&&l?eg(n,t):!1;if(s=pt(n),l=pt(t),s||l){if(!s||!l)return!1;const u=Object.keys(n).length,h=Object.keys(t).length;if(u!==h)return!1;for(const g in n){const m=n.hasOwnProperty(g),E=t.hasOwnProperty(g);if(m&&!E||!m&&E||!Vo(n[g],t[g]))return!1}}return String(n)===String(t)}function g1(n,t){return n.findIndex(s=>Vo(s,t))}const p1=n=>!!(n&&n.__v_isRef===!0),Et=n=>kt(n)?n:n==null?"":Me(n)||pt(n)&&(n.toString===c1||!Ve(n.toString))?p1(n)?Et(n.value):JSON.stringify(n,m1,2):String(n),m1=(n,t)=>p1(t)?m1(n,t.value):Rs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[l,u],h)=>(s[Ma(l,h)+" =>"]=u,s),{})}:ko(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ma(s))}:Qn(t)?Ma(t):pt(t)&&!Me(t)&&!u1(t)?String(t):t,Ma=(n,t="")=>{var s;return Qn(n)?`Symbol(${(s=n.description)!=null?s:t})`:n};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pn;class x1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!t&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=pn;try{return pn=this,t()}finally{pn=s}}}on(){pn=this}off(){pn=this.parent}stop(t){if(this._active){let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function E1(n){return new x1(n)}function tg(n,t=pn){t&&t.active&&t.effects.push(n)}function w1(){return pn}function ng(n){pn&&pn.cleanups.push(n)}let Jr;class zl{constructor(t,s,l,u){this.fn=t,this.trigger=s,this.scheduler=l,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,tg(this,u)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Pr();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(rg(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Br()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Or,s=Jr;try{return Or=!0,Jr=this,this._runnings++,nu(this),this.fn()}finally{ru(this),this._runnings--,Jr=s,Or=t}}stop(){this.active&&(nu(this),ru(this),this.onStop&&this.onStop(),this.active=!1)}}function rg(n){return n.value}function nu(n){n._trackId++,n._depsLength=0}function ru(n){if(n.deps.length>n._depsLength){for(let t=n._depsLength;t<n.deps.length;t++)_1(n.deps[t],n);n.deps.length=n._depsLength}}function _1(n,t){const s=n.get(t);s!==void 0&&t._trackId!==s&&(n.delete(t),n.size===0&&n.cleanup())}let Or=!0,cl=0;const A1=[];function Pr(){A1.push(Or),Or=!1}function Br(){const n=A1.pop();Or=n===void 0?!0:n}function Yl(){cl++}function Kl(){for(cl--;!cl&&ul.length;)ul.shift()()}function b1(n,t,s){if(t.get(n)!==n._trackId){t.set(n,n._trackId);const l=n.deps[n._depsLength];l!==t?(l&&_1(l,n),n.deps[n._depsLength++]=t):n._depsLength++}}const ul=[];function C1(n,t,s){Yl();for(const l of n.keys()){let u;l._dirtyLevel<t&&(u??(u=n.get(l)===l._trackId))&&(l._shouldSchedule||(l._shouldSchedule=l._dirtyLevel===0),l._dirtyLevel=t),l._shouldSchedule&&(u??(u=n.get(l)===l._trackId))&&(l.trigger(),(!l._runnings||l.allowRecurse)&&l._dirtyLevel!==2&&(l._shouldSchedule=!1,l.scheduler&&ul.push(l.scheduler)))}Kl()}const y1=(n,t)=>{const s=new Map;return s.cleanup=n,s.computed=t,s},bo=new WeakMap,es=Symbol(""),fl=Symbol("");function hn(n,t,s){if(Or&&Jr){let l=bo.get(n);l||bo.set(n,l=new Map);let u=l.get(s);u||l.set(s,u=y1(()=>l.delete(s))),b1(Jr,u)}}function sr(n,t,s,l,u,h){const g=bo.get(n);if(!g)return;let m=[];if(t==="clear")m=[...g.values()];else if(s==="length"&&Me(n)){const E=Number(l);g.forEach((x,_)=>{(_==="length"||!Qn(_)&&_>=E)&&m.push(x)})}else switch(s!==void 0&&m.push(g.get(s)),t){case"add":Me(n)?jl(s)&&m.push(g.get("length")):(m.push(g.get(es)),Rs(n)&&m.push(g.get(fl)));break;case"delete":Me(n)||(m.push(g.get(es)),Rs(n)&&m.push(g.get(fl)));break;case"set":Rs(n)&&m.push(g.get(es));break}Yl();for(const E of m)E&&C1(E,4);Kl()}function sg(n,t){const s=bo.get(n);return s&&s.get(t)}const ig=Wl("__proto__,__v_isRef,__isVue"),T1=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Qn)),su=og();function og(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...s){const l=et(this);for(let h=0,g=this.length;h<g;h++)hn(l,"get",h+"");const u=l[t](...s);return u===-1||u===!1?l[t](...s.map(et)):u}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...s){Pr(),Yl();const l=et(this)[t].apply(this,s);return Kl(),Br(),l}}),n}function ag(n){Qn(n)||(n=String(n));const t=et(this);return hn(t,"has",n),t.hasOwnProperty(n)}class v1{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,l){const u=this._isReadonly,h=this._isShallow;if(s==="__v_isReactive")return!u;if(s==="__v_isReadonly")return u;if(s==="__v_isShallow")return h;if(s==="__v_raw")return l===(u?h?_g:N1:h?O1:I1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const g=Me(t);if(!u){if(g&&Je(su,s))return Reflect.get(su,s,l);if(s==="hasOwnProperty")return ag}const m=Reflect.get(t,s,l);return(Qn(s)?T1.has(s):ig(s))||(u||hn(t,"get",s),h)?m:gt(m)?g&&jl(s)?m:m.value:pt(m)?u?D1(m):Di(m):m}}class S1 extends v1{constructor(t=!1){super(!1,t)}set(t,s,l,u){let h=t[s];if(!this._isShallow){const E=ss(h);if(!Ps(l)&&!ss(l)&&(h=et(h),l=et(l)),!Me(t)&&gt(h)&&!gt(l))return E?!1:(h.value=l,!0)}const g=Me(t)&&jl(s)?Number(s)<t.length:Je(t,s),m=Reflect.set(t,s,l,u);return t===et(u)&&(g?Rr(l,h)&&sr(t,"set",s,l):sr(t,"add",s,l)),m}deleteProperty(t,s){const l=Je(t,s);t[s];const u=Reflect.deleteProperty(t,s);return u&&l&&sr(t,"delete",s,void 0),u}has(t,s){const l=Reflect.has(t,s);return(!Qn(s)||!T1.has(s))&&hn(t,"has",s),l}ownKeys(t){return hn(t,"iterate",Me(t)?"length":es),Reflect.ownKeys(t)}}class lg extends v1{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const cg=new S1,ug=new lg,fg=new S1(!0);const ql=n=>n,Ho=n=>Reflect.getPrototypeOf(n);function qi(n,t,s=!1,l=!1){n=n.__v_raw;const u=et(n),h=et(t);s||(Rr(t,h)&&hn(u,"get",t),hn(u,"get",h));const{has:g}=Ho(u),m=l?ql:s?ec:Ci;if(g.call(u,t))return m(n.get(t));if(g.call(u,h))return m(n.get(h));n!==u&&n.get(t)}function Zi(n,t=!1){const s=this.__v_raw,l=et(s),u=et(n);return t||(Rr(n,u)&&hn(l,"has",n),hn(l,"has",u)),n===u?s.has(n):s.has(n)||s.has(u)}function Qi(n,t=!1){return n=n.__v_raw,!t&&hn(et(n),"iterate",es),Reflect.get(n,"size",n)}function iu(n,t=!1){!t&&!Ps(n)&&!ss(n)&&(n=et(n));const s=et(this);return Ho(s).has.call(s,n)||(s.add(n),sr(s,"add",n,n)),this}function ou(n,t,s=!1){!s&&!Ps(t)&&!ss(t)&&(t=et(t));const l=et(this),{has:u,get:h}=Ho(l);let g=u.call(l,n);g||(n=et(n),g=u.call(l,n));const m=h.call(l,n);return l.set(n,t),g?Rr(t,m)&&sr(l,"set",n,t):sr(l,"add",n,t),this}function au(n){const t=et(this),{has:s,get:l}=Ho(t);let u=s.call(t,n);u||(n=et(n),u=s.call(t,n)),l&&l.call(t,n);const h=t.delete(n);return u&&sr(t,"delete",n,void 0),h}function lu(){const n=et(this),t=n.size!==0,s=n.clear();return t&&sr(n,"clear",void 0,void 0),s}function Ji(n,t){return function(l,u){const h=this,g=h.__v_raw,m=et(g),E=t?ql:n?ec:Ci;return!n&&hn(m,"iterate",es),g.forEach((x,_)=>l.call(u,E(x),E(_),h))}}function eo(n,t,s){return function(...l){const u=this.__v_raw,h=et(u),g=Rs(h),m=n==="entries"||n===Symbol.iterator&&g,E=n==="keys"&&g,x=u[n](...l),_=s?ql:t?ec:Ci;return!t&&hn(h,"iterate",E?fl:es),{next(){const{value:A,done:O}=x.next();return O?{value:A,done:O}:{value:m?[_(A[0]),_(A[1])]:_(A),done:O}},[Symbol.iterator](){return this}}}}function Er(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function hg(){const n={get(h){return qi(this,h)},get size(){return Qi(this)},has:Zi,add:iu,set:ou,delete:au,clear:lu,forEach:Ji(!1,!1)},t={get(h){return qi(this,h,!1,!0)},get size(){return Qi(this)},has:Zi,add(h){return iu.call(this,h,!0)},set(h,g){return ou.call(this,h,g,!0)},delete:au,clear:lu,forEach:Ji(!1,!0)},s={get(h){return qi(this,h,!0)},get size(){return Qi(this,!0)},has(h){return Zi.call(this,h,!0)},add:Er("add"),set:Er("set"),delete:Er("delete"),clear:Er("clear"),forEach:Ji(!0,!1)},l={get(h){return qi(this,h,!0,!0)},get size(){return Qi(this,!0)},has(h){return Zi.call(this,h,!0)},add:Er("add"),set:Er("set"),delete:Er("delete"),clear:Er("clear"),forEach:Ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{n[h]=eo(h,!1,!1),s[h]=eo(h,!0,!1),t[h]=eo(h,!1,!0),l[h]=eo(h,!0,!0)}),[n,s,t,l]}const[dg,gg,pg,mg]=hg();function Zl(n,t){const s=t?n?mg:pg:n?gg:dg;return(l,u,h)=>u==="__v_isReactive"?!n:u==="__v_isReadonly"?n:u==="__v_raw"?l:Reflect.get(Je(s,u)&&u in l?s:l,u,h)}const xg={get:Zl(!1,!1)},Eg={get:Zl(!1,!0)},wg={get:Zl(!0,!1)};const I1=new WeakMap,O1=new WeakMap,N1=new WeakMap,_g=new WeakMap;function Ag(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bg(n){return n.__v_skip||!Object.isExtensible(n)?0:Ag(jd(n))}function Di(n){return ss(n)?n:Ql(n,!1,cg,xg,I1)}function R1(n){return Ql(n,!1,fg,Eg,O1)}function D1(n){return Ql(n,!0,ug,wg,N1)}function Ql(n,t,s,l,u){if(!pt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const h=u.get(n);if(h)return h;const g=bg(n);if(g===0)return n;const m=new Proxy(n,g===2?l:s);return u.set(n,m),m}function ts(n){return ss(n)?ts(n.__v_raw):!!(n&&n.__v_isReactive)}function ss(n){return!!(n&&n.__v_isReadonly)}function Ps(n){return!!(n&&n.__v_isShallow)}function M1(n){return n?!!n.__v_raw:!1}function et(n){const t=n&&n.__v_raw;return t?et(t):n}function Jl(n){return Object.isExtensible(n)&&f1(n,"__v_skip",!0),n}const Ci=n=>pt(n)?Di(n):n,ec=n=>pt(n)?D1(n):n;class L1{constructor(t,s,l,u){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zl(()=>t(this._value),()=>uo(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=l}get value(){const t=et(this);return(!t._cacheable||t.effect.dirty)&&Rr(t._value,t._value=t.effect.run())&&uo(t,4),P1(t),t.effect._dirtyLevel>=2&&uo(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Cg(n,t,s=!1){let l,u;const h=Ve(n);return h?(l=n,u=Tn):(l=n.get,u=n.set),new L1(l,u,h||!u,s)}function P1(n){var t;Or&&Jr&&(n=et(n),b1(Jr,(t=n.dep)!=null?t:n.dep=y1(()=>n.dep=void 0,n instanceof L1?n:void 0)))}function uo(n,t=4,s,l){n=et(n);const u=n.dep;u&&C1(u,t)}function gt(n){return!!(n&&n.__v_isRef===!0)}function je(n){return B1(n,!1)}function yg(n){return B1(n,!0)}function B1(n,t){return gt(n)?n:new Tg(n,t)}class Tg{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:et(t),this._value=s?t:Ci(t)}get value(){return P1(this),this._value}set value(t){const s=this.__v_isShallow||Ps(t)||ss(t);t=s?t:et(t),Rr(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=s?t:Ci(t),uo(this,4))}}function rt(n){return gt(n)?n.value:n}const vg={get:(n,t,s)=>rt(Reflect.get(n,t,s)),set:(n,t,s,l)=>{const u=n[t];return gt(u)&&!gt(s)?(u.value=s,!0):Reflect.set(n,t,s,l)}};function k1(n){return ts(n)?n:new Proxy(n,vg)}function Sg(n){const t=Me(n)?new Array(n.length):{};for(const s in n)t[s]=Og(n,s);return t}class Ig{constructor(t,s,l){this._object=t,this._key=s,this._defaultValue=l,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sg(et(this._object),this._key)}}function Og(n,t,s){const l=n[t];return gt(l)?l:new Ig(n,t,s)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nr(n,t,s,l){try{return l?n(...l):n()}catch(u){Wo(u,t,s)}}function Mn(n,t,s,l){if(Ve(n)){const u=Nr(n,t,s,l);return u&&l1(u)&&u.catch(h=>{Wo(h,t,s)}),u}if(Me(n)){const u=[];for(let h=0;h<n.length;h++)u.push(Mn(n[h],t,s,l));return u}}function Wo(n,t,s,l=!0){const u=t?t.vnode:null;if(t){let h=t.parent;const g=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;h;){const x=h.ec;if(x){for(let _=0;_<x.length;_++)if(x[_](n,g,m)===!1)return}h=h.parent}const E=t.appContext.config.errorHandler;if(E){Pr(),Nr(E,null,10,[n,g,m]),Br();return}}Ng(n,s,u,l)}function Ng(n,t,s,l=!0){console.error(n)}let yi=!1,hl=!1;const qt=[];let Kn=0;const Ds=[];let yr=null,Yr=0;const F1=Promise.resolve();let tc=null;function nc(n){const t=tc||F1;return n?t.then(this?n.bind(this):n):t}function Rg(n){let t=Kn+1,s=qt.length;for(;t<s;){const l=t+s>>>1,u=qt[l],h=Ti(u);h<n||h===n&&u.pre?t=l+1:s=l}return t}function rc(n){(!qt.length||!qt.includes(n,yi&&n.allowRecurse?Kn+1:Kn))&&(n.id==null?qt.push(n):qt.splice(Rg(n.id),0,n),U1())}function U1(){!yi&&!hl&&(hl=!0,tc=F1.then(H1))}function Dg(n){const t=qt.indexOf(n);t>Kn&&qt.splice(t,1)}function Mg(n){Me(n)?Ds.push(...n):(!yr||!yr.includes(n,n.allowRecurse?Yr+1:Yr))&&Ds.push(n),U1()}function cu(n,t,s=yi?Kn+1:0){for(;s<qt.length;s++){const l=qt[s];if(l&&l.pre){if(n&&l.id!==n.uid)continue;qt.splice(s,1),s--,l()}}}function V1(n){if(Ds.length){const t=[...new Set(Ds)].sort((s,l)=>Ti(s)-Ti(l));if(Ds.length=0,yr){yr.push(...t);return}for(yr=t,Yr=0;Yr<yr.length;Yr++){const s=yr[Yr];s.active!==!1&&s()}yr=null,Yr=0}}const Ti=n=>n.id==null?1/0:n.id,Lg=(n,t)=>{const s=Ti(n)-Ti(t);if(s===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return s};function H1(n){hl=!1,yi=!0,qt.sort(Lg);try{for(Kn=0;Kn<qt.length;Kn++){const t=qt[Kn];t&&t.active!==!1&&Nr(t,t.i,t.i?15:14)}}finally{Kn=0,qt.length=0,V1(),yi=!1,tc=null,(qt.length||Ds.length)&&H1()}}let un=null,Go=null;function Co(n){const t=un;return un=n,Go=n&&n.type.__scopeId||null,t}function W1(n){Go=n}function G1(){Go=null}function br(n,t=un,s){if(!t||n._n)return n;const l=(...u)=>{l._d&&Au(-1);const h=Co(t);let g;try{g=n(...u)}finally{Co(h),l._d&&Au(1)}return g};return l._n=!0,l._c=!0,l._d=!0,l}function Sr(n,t){if(un===null)return n;const s=Yo(un),l=n.dirs||(n.dirs=[]);for(let u=0;u<t.length;u++){let[h,g,m,E=bt]=t[u];h&&(Ve(h)&&(h={mounted:h,updated:h}),h.deep&&Ir(g),l.push({dir:h,instance:s,value:g,oldValue:void 0,arg:m,modifiers:E}))}return n}function $r(n,t,s,l){const u=n.dirs,h=t&&t.dirs;for(let g=0;g<u.length;g++){const m=u[g];h&&(m.oldValue=h[g].value);let E=m.dir[l];E&&(Pr(),Mn(E,s,8,[n.el,m,n,t]),Br())}}function X1(n,t){n.shapeFlag&6&&n.component?X1(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function j1(n,t){return Ve(n)?Zt({name:n.name},t,{setup:n}):n}const fo=n=>!!n.type.__asyncLoader,$1=n=>n.type.__isKeepAlive;function Pg(n,t){z1(n,"a",t)}function Bg(n,t){z1(n,"da",t)}function z1(n,t,s=$t){const l=n.__wdc||(n.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return n()});if(Xo(t,l,s),s){let u=s.parent;for(;u&&u.parent;)$1(u.parent.vnode)&&kg(l,t,s,u),u=u.parent}}function kg(n,t,s,l){const u=Xo(t,n,l,!0);q1(()=>{Xl(l[t],u)},s)}function Xo(n,t,s=$t,l=!1){if(s){const u=s[n]||(s[n]=[]),h=t.__weh||(t.__weh=(...g)=>{Pr();const m=Mi(s),E=Mn(t,s,n,g);return m(),Br(),E});return l?u.unshift(h):u.push(h),h}}const lr=n=>(t,s=$t)=>{(!zo||n==="sp")&&Xo(n,(...l)=>t(...l),s)},Fg=lr("bm"),Y1=lr("m"),Ug=lr("bu"),Vg=lr("u"),K1=lr("bum"),q1=lr("um"),Hg=lr("sp"),Wg=lr("rtg"),Gg=lr("rtc");function Xg(n,t=$t){Xo("ec",n,t)}const jg="components";function dl(n,t){return zg(jg,n,!0,t)||n}const $g=Symbol.for("v-ndc");function zg(n,t,s=!0,l=!1){const u=un||$t;if(u){const h=u.type;{const m=Fp(h,!1);if(m&&(m===t||m===kn(t)||m===Uo(kn(t))))return h}const g=uu(u[n]||h[n],t)||uu(u.appContext[n],t);return!g&&l?h:g}}function uu(n,t){return n&&(n[t]||n[kn(t)]||n[Uo(kn(t))])}function Yg(n,t,s,l){let u;const h=s;if(Me(n)||kt(n)){u=new Array(n.length);for(let g=0,m=n.length;g<m;g++)u[g]=t(n[g],g,void 0,h)}else if(typeof n=="number"){u=new Array(n);for(let g=0;g<n;g++)u[g]=t(g+1,g,void 0,h)}else if(pt(n))if(n[Symbol.iterator])u=Array.from(n,(g,m)=>t(g,m,void 0,h));else{const g=Object.keys(n);u=new Array(g.length);for(let m=0,E=g.length;m<E;m++){const x=g[m];u[m]=t(n[x],x,m,h)}}else u=[];return u}const gl=n=>n?xh(n)?Yo(n):gl(n.parent):null,pi=Zt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>gl(n.parent),$root:n=>gl(n.root),$emit:n=>n.emit,$options:n=>sc(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,rc(n.update)}),$nextTick:n=>n.n||(n.n=nc.bind(n.proxy)),$watch:n=>Ep.bind(n)}),La=(n,t)=>n!==bt&&!n.__isScriptSetup&&Je(n,t),Kg={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:l,data:u,props:h,accessCache:g,type:m,appContext:E}=n;let x;if(t[0]!=="$"){const I=g[t];if(I!==void 0)switch(I){case 1:return l[t];case 2:return u[t];case 4:return s[t];case 3:return h[t]}else{if(La(l,t))return g[t]=1,l[t];if(u!==bt&&Je(u,t))return g[t]=2,u[t];if((x=n.propsOptions[0])&&Je(x,t))return g[t]=3,h[t];if(s!==bt&&Je(s,t))return g[t]=4,s[t];pl&&(g[t]=0)}}const _=pi[t];let A,O;if(_)return t==="$attrs"&&hn(n.attrs,"get",""),_(n);if((A=m.__cssModules)&&(A=A[t]))return A;if(s!==bt&&Je(s,t))return g[t]=4,s[t];if(O=E.config.globalProperties,Je(O,t))return O[t]},set({_:n},t,s){const{data:l,setupState:u,ctx:h}=n;return La(u,t)?(u[t]=s,!0):l!==bt&&Je(l,t)?(l[t]=s,!0):Je(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(h[t]=s,!0)},has({_:{data:n,setupState:t,accessCache:s,ctx:l,appContext:u,propsOptions:h}},g){let m;return!!s[g]||n!==bt&&Je(n,g)||La(t,g)||(m=h[0])&&Je(m,g)||Je(l,g)||Je(pi,g)||Je(u.config.globalProperties,g)},defineProperty(n,t,s){return s.get!=null?n._.accessCache[t]=0:Je(s,"value")&&this.set(n,t,s.value,null),Reflect.defineProperty(n,t,s)}};function fu(n){return Me(n)?n.reduce((t,s)=>(t[s]=null,t),{}):n}let pl=!0;function qg(n){const t=sc(n),s=n.proxy,l=n.ctx;pl=!1,t.beforeCreate&&hu(t.beforeCreate,n,"bc");const{data:u,computed:h,methods:g,watch:m,provide:E,inject:x,created:_,beforeMount:A,mounted:O,beforeUpdate:I,updated:L,activated:D,deactivated:z,beforeDestroy:ee,beforeUnmount:q,destroyed:k,unmounted:J,render:pe,renderTracked:Y,renderTriggered:P,errorCaptured:K,serverPrefetch:V,expose:xe,inheritAttrs:ye,components:de,directives:ve,filters:qe}=t;if(x&&Zg(x,l,null),g)for(const le in g){const He=g[le];Ve(He)&&(l[le]=He.bind(s))}if(u){const le=u.call(s,s);pt(le)&&(n.data=Di(le))}if(pl=!0,h)for(const le in h){const He=h[le],ht=Ve(He)?He.bind(s,s):Ve(He.get)?He.get.bind(s,s):Tn,St=!Ve(He)&&Ve(He.set)?He.set.bind(s):Tn,Ht=Tt({get:ht,set:St});Object.defineProperty(l,le,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:ze=>Ht.value=ze})}if(m)for(const le in m)Z1(m[le],l,s,le);if(E){const le=Ve(E)?E.call(s):E;Reflect.ownKeys(le).forEach(He=>{ho(He,le[He])})}_&&hu(_,n,"c");function Ie(le,He){Me(He)?He.forEach(ht=>le(ht.bind(s))):He&&le(He.bind(s))}if(Ie(Fg,A),Ie(Y1,O),Ie(Ug,I),Ie(Vg,L),Ie(Pg,D),Ie(Bg,z),Ie(Xg,K),Ie(Gg,Y),Ie(Wg,P),Ie(K1,q),Ie(q1,J),Ie(Hg,V),Me(xe))if(xe.length){const le=n.exposed||(n.exposed={});xe.forEach(He=>{Object.defineProperty(le,He,{get:()=>s[He],set:ht=>s[He]=ht})})}else n.exposed||(n.exposed={});pe&&n.render===Tn&&(n.render=pe),ye!=null&&(n.inheritAttrs=ye),de&&(n.components=de),ve&&(n.directives=ve)}function Zg(n,t,s=Tn){Me(n)&&(n=ml(n));for(const l in n){const u=n[l];let h;pt(u)?"default"in u?h=Ln(u.from||l,u.default,!0):h=Ln(u.from||l):h=Ln(u),gt(h)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>h.value,set:g=>h.value=g}):t[l]=h}}function hu(n,t,s){Mn(Me(n)?n.map(l=>l.bind(t.proxy)):n.bind(t.proxy),t,s)}function Z1(n,t,s,l){const u=l.includes(".")?fh(s,l):()=>s[l];if(kt(n)){const h=t[n];Ve(h)&&mi(u,h)}else if(Ve(n))mi(u,n.bind(s));else if(pt(n))if(Me(n))n.forEach(h=>Z1(h,t,s,l));else{const h=Ve(n.handler)?n.handler.bind(s):t[n.handler];Ve(h)&&mi(u,h,n)}}function sc(n){const t=n.type,{mixins:s,extends:l}=t,{mixins:u,optionsCache:h,config:{optionMergeStrategies:g}}=n.appContext,m=h.get(t);let E;return m?E=m:!u.length&&!s&&!l?E=t:(E={},u.length&&u.forEach(x=>yo(E,x,g,!0)),yo(E,t,g)),pt(t)&&h.set(t,E),E}function yo(n,t,s,l=!1){const{mixins:u,extends:h}=t;h&&yo(n,h,s,!0),u&&u.forEach(g=>yo(n,g,s,!0));for(const g in t)if(!(l&&g==="expose")){const m=Qg[g]||s&&s[g];n[g]=m?m(n[g],t[g]):t[g]}return n}const Qg={data:du,props:gu,emits:gu,methods:di,computed:di,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:di,directives:di,watch:ep,provide:du,inject:Jg};function du(n,t){return t?n?function(){return Zt(Ve(n)?n.call(this,this):n,Ve(t)?t.call(this,this):t)}:t:n}function Jg(n,t){return di(ml(n),ml(t))}function ml(n){if(Me(n)){const t={};for(let s=0;s<n.length;s++)t[n[s]]=n[s];return t}return n}function Jt(n,t){return n?[...new Set([].concat(n,t))]:t}function di(n,t){return n?Zt(Object.create(null),n,t):t}function gu(n,t){return n?Me(n)&&Me(t)?[...new Set([...n,...t])]:Zt(Object.create(null),fu(n),fu(t??{})):t}function ep(n,t){if(!n)return t;if(!t)return n;const s=Zt(Object.create(null),n);for(const l in t)s[l]=Jt(n[l],t[l]);return s}function Q1(){return{app:null,config:{isNativeTag:Gd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tp=0;function np(n,t){return function(l,u=null){Ve(l)||(l=Zt({},l)),u!=null&&!pt(u)&&(u=null);const h=Q1(),g=new WeakSet;let m=!1;const E=h.app={_uid:tp++,_component:l,_props:u,_container:null,_context:h,_instance:null,version:Vp,get config(){return h.config},set config(x){},use(x,..._){return g.has(x)||(x&&Ve(x.install)?(g.add(x),x.install(E,..._)):Ve(x)&&(g.add(x),x(E,..._))),E},mixin(x){return h.mixins.includes(x)||h.mixins.push(x),E},component(x,_){return _?(h.components[x]=_,E):h.components[x]},directive(x,_){return _?(h.directives[x]=_,E):h.directives[x]},mount(x,_,A){if(!m){const O=wt(l,u);return O.appContext=h,A===!0?A="svg":A===!1&&(A=void 0),_&&t?t(O,x):n(O,x,A),m=!0,E._container=x,x.__vue_app__=E,Yo(O.component)}},unmount(){m&&(n(null,E._container),delete E._container.__vue_app__)},provide(x,_){return h.provides[x]=_,E},runWithContext(x){const _=Ms;Ms=E;try{return x()}finally{Ms=_}}};return E}}let Ms=null;function ho(n,t){if($t){let s=$t.provides;const l=$t.parent&&$t.parent.provides;l===s&&(s=$t.provides=Object.create(l)),s[n]=t}}function Ln(n,t,s=!1){const l=$t||un;if(l||Ms){const u=l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:Ms._context.provides;if(u&&n in u)return u[n];if(arguments.length>1)return s&&Ve(t)?t.call(l&&l.proxy):t}}function rp(){return!!($t||un||Ms)}const J1={},eh=()=>Object.create(J1),th=n=>Object.getPrototypeOf(n)===J1;function sp(n,t,s,l=!1){const u={},h=eh();n.propsDefaults=Object.create(null),nh(n,t,u,h);for(const g in n.propsOptions[0])g in u||(u[g]=void 0);s?n.props=l?u:R1(u):n.type.props?n.props=u:n.props=h,n.attrs=h}function ip(n,t,s,l){const{props:u,attrs:h,vnode:{patchFlag:g}}=n,m=et(u),[E]=n.propsOptions;let x=!1;if((l||g>0)&&!(g&16)){if(g&8){const _=n.vnode.dynamicProps;for(let A=0;A<_.length;A++){let O=_[A];if(jo(n.emitsOptions,O))continue;const I=t[O];if(E)if(Je(h,O))I!==h[O]&&(h[O]=I,x=!0);else{const L=kn(O);u[L]=xl(E,m,L,I,n,!1)}else I!==h[O]&&(h[O]=I,x=!0)}}}else{nh(n,t,u,h)&&(x=!0);let _;for(const A in m)(!t||!Je(t,A)&&((_=cs(A))===A||!Je(t,_)))&&(E?s&&(s[A]!==void 0||s[_]!==void 0)&&(u[A]=xl(E,m,A,void 0,n,!0)):delete u[A]);if(h!==m)for(const A in h)(!t||!Je(t,A))&&(delete h[A],x=!0)}x&&sr(n.attrs,"set","")}function nh(n,t,s,l){const[u,h]=n.propsOptions;let g=!1,m;if(t)for(let E in t){if(gi(E))continue;const x=t[E];let _;u&&Je(u,_=kn(E))?!h||!h.includes(_)?s[_]=x:(m||(m={}))[_]=x:jo(n.emitsOptions,E)||(!(E in l)||x!==l[E])&&(l[E]=x,g=!0)}if(h){const E=et(s),x=m||bt;for(let _=0;_<h.length;_++){const A=h[_];s[A]=xl(u,E,A,x[A],n,!Je(x,A))}}return g}function xl(n,t,s,l,u,h){const g=n[s];if(g!=null){const m=Je(g,"default");if(m&&l===void 0){const E=g.default;if(g.type!==Function&&!g.skipFactory&&Ve(E)){const{propsDefaults:x}=u;if(s in x)l=x[s];else{const _=Mi(u);l=x[s]=E.call(null,t),_()}}else l=E}g[0]&&(h&&!m?l=!1:g[1]&&(l===""||l===cs(s))&&(l=!0))}return l}const op=new WeakMap;function rh(n,t,s=!1){const l=s?op:t.propsCache,u=l.get(n);if(u)return u;const h=n.props,g={},m=[];let E=!1;if(!Ve(n)){const _=A=>{E=!0;const[O,I]=rh(A,t,!0);Zt(g,O),I&&m.push(...I)};!s&&t.mixins.length&&t.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!h&&!E)return pt(n)&&l.set(n,Ns),Ns;if(Me(h))for(let _=0;_<h.length;_++){const A=kn(h[_]);pu(A)&&(g[A]=bt)}else if(h)for(const _ in h){const A=kn(_);if(pu(A)){const O=h[_],I=g[A]=Me(O)||Ve(O)?{type:O}:Zt({},O);if(I){const L=Eu(Boolean,I.type),D=Eu(String,I.type);I[0]=L>-1,I[1]=D<0||L<D,(L>-1||Je(I,"default"))&&m.push(A)}}}const x=[g,m];return pt(n)&&l.set(n,x),x}function pu(n){return n[0]!=="$"&&!gi(n)}function mu(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function xu(n,t){return mu(n)===mu(t)}function Eu(n,t){return Me(t)?t.findIndex(s=>xu(s,n)):Ve(t)&&xu(t,n)?0:-1}const sh=n=>n[0]==="_"||n==="$stable",ic=n=>Me(n)?n.map(Yn):[Yn(n)],ap=(n,t,s)=>{if(t._n)return t;const l=br((...u)=>ic(t(...u)),s);return l._c=!1,l},ih=(n,t,s)=>{const l=n._ctx;for(const u in n){if(sh(u))continue;const h=n[u];if(Ve(h))t[u]=ap(u,h,l);else if(h!=null){const g=ic(h);t[u]=()=>g}}},oh=(n,t)=>{const s=ic(t);n.slots.default=()=>s},ah=(n,t,s)=>{for(const l in t)(s||l!=="_")&&(n[l]=t[l])},lp=(n,t,s)=>{const l=n.slots=eh();if(n.vnode.shapeFlag&32){const u=t._;u?(ah(l,t,s),s&&f1(l,"_",u,!0)):ih(t,l)}else t&&oh(n,t)},cp=(n,t,s)=>{const{vnode:l,slots:u}=n;let h=!0,g=bt;if(l.shapeFlag&32){const m=t._;m?s&&m===1?h=!1:ah(u,t,s):(h=!t.$stable,ih(t,u)),g=t}else t&&(oh(n,t),g={default:1});if(h)for(const m in u)!sh(m)&&g[m]==null&&delete u[m]};function El(n,t,s,l,u=!1){if(Me(n)){n.forEach((O,I)=>El(O,t&&(Me(t)?t[I]:t),s,l,u));return}if(fo(l)&&!u)return;const h=l.shapeFlag&4?Yo(l.component):l.el,g=u?null:h,{i:m,r:E}=n,x=t&&t.r,_=m.refs===bt?m.refs={}:m.refs,A=m.setupState;if(x!=null&&x!==E&&(kt(x)?(_[x]=null,Je(A,x)&&(A[x]=null)):gt(x)&&(x.value=null)),Ve(E))Nr(E,m,12,[g,_]);else{const O=kt(E),I=gt(E);if(O||I){const L=()=>{if(n.f){const D=O?Je(A,E)?A[E]:_[E]:E.value;u?Me(D)&&Xl(D,h):Me(D)?D.includes(h)||D.push(h):O?(_[E]=[h],Je(A,E)&&(A[E]=_[E])):(E.value=[h],n.k&&(_[n.k]=E.value))}else O?(_[E]=g,Je(A,E)&&(A[E]=g)):I&&(E.value=g,n.k&&(_[n.k]=g))};g?(L.id=-1,ln(L,s)):L()}}}const up=Symbol("_vte"),fp=n=>n.__isTeleport,ln=vp;function hp(n){return dp(n)}function dp(n,t){const s=h1();s.__VUE__=!0;const{insert:l,remove:u,patchProp:h,createElement:g,createText:m,createComment:E,setText:x,setElementText:_,parentNode:A,nextSibling:O,setScopeId:I=Tn,insertStaticContent:L}=n,D=(T,N,U,te=null,j=null,Q=null,ne=void 0,fe=null,H=!!N.dynamicChildren)=>{if(T===N)return;T&&!ai(T,N)&&(te=Z(T),ze(T,j,Q,!0),T=null),N.patchFlag===-2&&(H=!1,N.dynamicChildren=null);const{type:se,ref:Ee,shapeFlag:_e}=N;switch(se){case $o:z(T,N,U,te);break;case is:ee(T,N,U,te);break;case go:T==null&&q(N,U,te,ne);break;case yn:de(T,N,U,te,j,Q,ne,fe,H);break;default:_e&1?pe(T,N,U,te,j,Q,ne,fe,H):_e&6?ve(T,N,U,te,j,Q,ne,fe,H):(_e&64||_e&128)&&se.process(T,N,U,te,j,Q,ne,fe,H,Ce)}Ee!=null&&j&&El(Ee,T&&T.ref,Q,N||T,!N)},z=(T,N,U,te)=>{if(T==null)l(N.el=m(N.children),U,te);else{const j=N.el=T.el;N.children!==T.children&&x(j,N.children)}},ee=(T,N,U,te)=>{T==null?l(N.el=E(N.children||""),U,te):N.el=T.el},q=(T,N,U,te)=>{[T.el,T.anchor]=L(T.children,N,U,te,T.el,T.anchor)},k=({el:T,anchor:N},U,te)=>{let j;for(;T&&T!==N;)j=O(T),l(T,U,te),T=j;l(N,U,te)},J=({el:T,anchor:N})=>{let U;for(;T&&T!==N;)U=O(T),u(T),T=U;u(N)},pe=(T,N,U,te,j,Q,ne,fe,H)=>{N.type==="svg"?ne="svg":N.type==="math"&&(ne="mathml"),T==null?Y(N,U,te,j,Q,ne,fe,H):V(T,N,j,Q,ne,fe,H)},Y=(T,N,U,te,j,Q,ne,fe)=>{let H,se;const{props:Ee,shapeFlag:_e,transition:Te,dirs:Se}=T;if(H=T.el=g(T.type,Q,Ee&&Ee.is,Ee),_e&8?_(H,T.children):_e&16&&K(T.children,H,null,te,j,Pa(T,Q),ne,fe),Se&&$r(T,null,te,"created"),P(H,T,T.scopeId,ne,te),Ee){for(const $e in Ee)$e!=="value"&&!gi($e)&&h(H,$e,null,Ee[$e],Q,te);"value"in Ee&&h(H,"value",null,Ee.value,Q),(se=Ee.onVnodeBeforeMount)&&zn(se,te,T)}Se&&$r(T,null,te,"beforeMount");const ke=gp(j,Te);ke&&Te.beforeEnter(H),l(H,N,U),((se=Ee&&Ee.onVnodeMounted)||ke||Se)&&ln(()=>{se&&zn(se,te,T),ke&&Te.enter(H),Se&&$r(T,null,te,"mounted")},j)},P=(T,N,U,te,j)=>{if(U&&I(T,U),te)for(let Q=0;Q<te.length;Q++)I(T,te[Q]);if(j){let Q=j.subTree;if(N===Q){const ne=j.vnode;P(T,ne,ne.scopeId,ne.slotScopeIds,j.parent)}}},K=(T,N,U,te,j,Q,ne,fe,H=0)=>{for(let se=H;se<T.length;se++){const Ee=T[se]=fe?Tr(T[se]):Yn(T[se]);D(null,Ee,N,U,te,j,Q,ne,fe)}},V=(T,N,U,te,j,Q,ne)=>{const fe=N.el=T.el;let{patchFlag:H,dynamicChildren:se,dirs:Ee}=N;H|=T.patchFlag&16;const _e=T.props||bt,Te=N.props||bt;let Se;if(U&&zr(U,!1),(Se=Te.onVnodeBeforeUpdate)&&zn(Se,U,N,T),Ee&&$r(N,T,U,"beforeUpdate"),U&&zr(U,!0),(_e.innerHTML&&Te.innerHTML==null||_e.textContent&&Te.textContent==null)&&_(fe,""),se?xe(T.dynamicChildren,se,fe,U,te,Pa(N,j),Q):ne||He(T,N,fe,null,U,te,Pa(N,j),Q,!1),H>0){if(H&16)ye(fe,_e,Te,U,j);else if(H&2&&_e.class!==Te.class&&h(fe,"class",null,Te.class,j),H&4&&h(fe,"style",_e.style,Te.style,j),H&8){const ke=N.dynamicProps;for(let $e=0;$e<ke.length;$e++){const Be=ke[$e],Dt=_e[Be],zt=Te[Be];(zt!==Dt||Be==="value")&&h(fe,Be,Dt,zt,j,U)}}H&1&&T.children!==N.children&&_(fe,N.children)}else!ne&&se==null&&ye(fe,_e,Te,U,j);((Se=Te.onVnodeUpdated)||Ee)&&ln(()=>{Se&&zn(Se,U,N,T),Ee&&$r(N,T,U,"updated")},te)},xe=(T,N,U,te,j,Q,ne)=>{for(let fe=0;fe<N.length;fe++){const H=T[fe],se=N[fe],Ee=H.el&&(H.type===yn||!ai(H,se)||H.shapeFlag&70)?A(H.el):U;D(H,se,Ee,null,te,j,Q,ne,!0)}},ye=(T,N,U,te,j)=>{if(N!==U){if(N!==bt)for(const Q in N)!gi(Q)&&!(Q in U)&&h(T,Q,N[Q],null,j,te);for(const Q in U){if(gi(Q))continue;const ne=U[Q],fe=N[Q];ne!==fe&&Q!=="value"&&h(T,Q,fe,ne,j,te)}"value"in U&&h(T,"value",N.value,U.value,j)}},de=(T,N,U,te,j,Q,ne,fe,H)=>{const se=N.el=T?T.el:m(""),Ee=N.anchor=T?T.anchor:m("");let{patchFlag:_e,dynamicChildren:Te,slotScopeIds:Se}=N;Se&&(fe=fe?fe.concat(Se):Se),T==null?(l(se,U,te),l(Ee,U,te),K(N.children||[],U,Ee,j,Q,ne,fe,H)):_e>0&&_e&64&&Te&&T.dynamicChildren?(xe(T.dynamicChildren,Te,U,j,Q,ne,fe),(N.key!=null||j&&N===j.subTree)&&lh(T,N,!0)):He(T,N,U,Ee,j,Q,ne,fe,H)},ve=(T,N,U,te,j,Q,ne,fe,H)=>{N.slotScopeIds=fe,T==null?N.shapeFlag&512?j.ctx.activate(N,U,te,ne,H):qe(N,U,te,j,Q,ne,H):X(T,N,H)},qe=(T,N,U,te,j,Q,ne)=>{const fe=T.component=Mp(T,te,j);if($1(T)&&(fe.ctx.renderer=Ce),Lp(fe,!1,ne),fe.asyncDep){if(j&&j.registerDep(fe,Ie,ne),!T.el){const H=fe.subTree=wt(is);ee(null,H,N,U)}}else Ie(fe,T,N,U,j,Q,ne)},X=(T,N,U)=>{const te=N.component=T.component;if(Cp(T,N,U))if(te.asyncDep&&!te.asyncResolved){le(te,N,U);return}else te.next=N,Dg(te.update),te.effect.dirty=!0,te.update();else N.el=T.el,te.vnode=N},Ie=(T,N,U,te,j,Q,ne)=>{const fe=()=>{if(T.isMounted){let{next:Ee,bu:_e,u:Te,parent:Se,vnode:ke}=T;{const ur=ch(T);if(ur){Ee&&(Ee.el=ke.el,le(T,Ee,ne)),ur.asyncDep.then(()=>{T.isUnmounted||fe()});return}}let $e=Ee,Be;zr(T,!1),Ee?(Ee.el=ke.el,le(T,Ee,ne)):Ee=ke,_e&&co(_e),(Be=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&zn(Be,Se,Ee,ke),zr(T,!0);const Dt=Ba(T),zt=T.subTree;T.subTree=Dt,D(zt,Dt,A(zt.el),Z(zt),T,j,Q),Ee.el=Dt.el,$e===null&&yp(T,Dt.el),Te&&ln(Te,j),(Be=Ee.props&&Ee.props.onVnodeUpdated)&&ln(()=>zn(Be,Se,Ee,ke),j)}else{let Ee;const{el:_e,props:Te}=N,{bm:Se,m:ke,parent:$e}=T,Be=fo(N);if(zr(T,!1),Se&&co(Se),!Be&&(Ee=Te&&Te.onVnodeBeforeMount)&&zn(Ee,$e,N),zr(T,!0),_e&&st){const Dt=()=>{T.subTree=Ba(T),st(_e,T.subTree,T,j,null)};Be?N.type.__asyncLoader().then(()=>!T.isUnmounted&&Dt()):Dt()}else{const Dt=T.subTree=Ba(T);D(null,Dt,U,te,T,j,Q),N.el=Dt.el}if(ke&&ln(ke,j),!Be&&(Ee=Te&&Te.onVnodeMounted)){const Dt=N;ln(()=>zn(Ee,$e,Dt),j)}(N.shapeFlag&256||$e&&fo($e.vnode)&&$e.vnode.shapeFlag&256)&&T.a&&ln(T.a,j),T.isMounted=!0,N=U=te=null}},H=T.effect=new zl(fe,Tn,()=>rc(se),T.scope),se=T.update=()=>{H.dirty&&H.run()};se.i=T,se.id=T.uid,zr(T,!0),se()},le=(T,N,U)=>{N.component=T;const te=T.vnode.props;T.vnode=N,T.next=null,ip(T,N.props,te,U),cp(T,N.children,U),Pr(),cu(T),Br()},He=(T,N,U,te,j,Q,ne,fe,H=!1)=>{const se=T&&T.children,Ee=T?T.shapeFlag:0,_e=N.children,{patchFlag:Te,shapeFlag:Se}=N;if(Te>0){if(Te&128){St(se,_e,U,te,j,Q,ne,fe,H);return}else if(Te&256){ht(se,_e,U,te,j,Q,ne,fe,H);return}}Se&8?(Ee&16&&we(se,j,Q),_e!==se&&_(U,_e)):Ee&16?Se&16?St(se,_e,U,te,j,Q,ne,fe,H):we(se,j,Q,!0):(Ee&8&&_(U,""),Se&16&&K(_e,U,te,j,Q,ne,fe,H))},ht=(T,N,U,te,j,Q,ne,fe,H)=>{T=T||Ns,N=N||Ns;const se=T.length,Ee=N.length,_e=Math.min(se,Ee);let Te;for(Te=0;Te<_e;Te++){const Se=N[Te]=H?Tr(N[Te]):Yn(N[Te]);D(T[Te],Se,U,null,j,Q,ne,fe,H)}se>Ee?we(T,j,Q,!0,!1,_e):K(N,U,te,j,Q,ne,fe,H,_e)},St=(T,N,U,te,j,Q,ne,fe,H)=>{let se=0;const Ee=N.length;let _e=T.length-1,Te=Ee-1;for(;se<=_e&&se<=Te;){const Se=T[se],ke=N[se]=H?Tr(N[se]):Yn(N[se]);if(ai(Se,ke))D(Se,ke,U,null,j,Q,ne,fe,H);else break;se++}for(;se<=_e&&se<=Te;){const Se=T[_e],ke=N[Te]=H?Tr(N[Te]):Yn(N[Te]);if(ai(Se,ke))D(Se,ke,U,null,j,Q,ne,fe,H);else break;_e--,Te--}if(se>_e){if(se<=Te){const Se=Te+1,ke=Se<Ee?N[Se].el:te;for(;se<=Te;)D(null,N[se]=H?Tr(N[se]):Yn(N[se]),U,ke,j,Q,ne,fe,H),se++}}else if(se>Te)for(;se<=_e;)ze(T[se],j,Q,!0),se++;else{const Se=se,ke=se,$e=new Map;for(se=ke;se<=Te;se++){const We=N[se]=H?Tr(N[se]):Yn(N[se]);We.key!=null&&$e.set(We.key,se)}let Be,Dt=0;const zt=Te-ke+1;let ur=!1,Ct=0;const ge=new Array(zt);for(se=0;se<zt;se++)ge[se]=0;for(se=Se;se<=_e;se++){const We=T[se];if(Dt>=zt){ze(We,j,Q,!0);continue}let Ze;if(We.key!=null)Ze=$e.get(We.key);else for(Be=ke;Be<=Te;Be++)if(ge[Be-ke]===0&&ai(We,N[Be])){Ze=Be;break}Ze===void 0?ze(We,j,Q,!0):(ge[Ze-ke]=se+1,Ze>=Ct?Ct=Ze:ur=!0,D(We,N[Ze],U,null,j,Q,ne,fe,H),Dt++)}const It=ur?pp(ge):Ns;for(Be=It.length-1,se=zt-1;se>=0;se--){const We=ke+se,Ze=N[We],fr=We+1<Ee?N[We+1].el:te;ge[se]===0?D(null,Ze,U,fr,j,Q,ne,fe,H):ur&&(Be<0||se!==It[Be]?Ht(Ze,U,fr,2):Be--)}}},Ht=(T,N,U,te,j=null)=>{const{el:Q,type:ne,transition:fe,children:H,shapeFlag:se}=T;if(se&6){Ht(T.component.subTree,N,U,te);return}if(se&128){T.suspense.move(N,U,te);return}if(se&64){ne.move(T,N,U,Ce);return}if(ne===yn){l(Q,N,U);for(let _e=0;_e<H.length;_e++)Ht(H[_e],N,U,te);l(T.anchor,N,U);return}if(ne===go){k(T,N,U);return}if(te!==2&&se&1&&fe)if(te===0)fe.beforeEnter(Q),l(Q,N,U),ln(()=>fe.enter(Q),j);else{const{leave:_e,delayLeave:Te,afterLeave:Se}=fe,ke=()=>l(Q,N,U),$e=()=>{_e(Q,()=>{ke(),Se&&Se()})};Te?Te(Q,ke,$e):$e()}else l(Q,N,U)},ze=(T,N,U,te=!1,j=!1)=>{const{type:Q,props:ne,ref:fe,children:H,dynamicChildren:se,shapeFlag:Ee,patchFlag:_e,dirs:Te,cacheIndex:Se}=T;if(_e===-2&&(j=!1),fe!=null&&El(fe,null,U,T,!0),Se!=null&&(N.renderCache[Se]=void 0),Ee&256){N.ctx.deactivate(T);return}const ke=Ee&1&&Te,$e=!fo(T);let Be;if($e&&(Be=ne&&ne.onVnodeBeforeUnmount)&&zn(Be,N,T),Ee&6)Wt(T.component,U,te);else{if(Ee&128){T.suspense.unmount(U,te);return}ke&&$r(T,null,N,"beforeUnmount"),Ee&64?T.type.remove(T,N,U,Ce,te):se&&!se.hasOnce&&(Q!==yn||_e>0&&_e&64)?we(se,N,U,!1,!0):(Q===yn&&_e&384||!j&&Ee&16)&&we(H,N,U),te&&Lt(T)}($e&&(Be=ne&&ne.onVnodeUnmounted)||ke)&&ln(()=>{Be&&zn(Be,N,T),ke&&$r(T,null,N,"unmounted")},U)},Lt=T=>{const{type:N,el:U,anchor:te,transition:j}=T;if(N===yn){ot(U,te);return}if(N===go){J(T);return}const Q=()=>{u(U),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(T.shapeFlag&1&&j&&!j.persisted){const{leave:ne,delayLeave:fe}=j,H=()=>ne(U,Q);fe?fe(T.el,Q,H):H()}else Q()},ot=(T,N)=>{let U;for(;T!==N;)U=O(T),u(T),T=U;u(N)},Wt=(T,N,U)=>{const{bum:te,scope:j,update:Q,subTree:ne,um:fe,m:H,a:se}=T;wu(H),wu(se),te&&co(te),j.stop(),Q&&(Q.active=!1,ze(ne,T,N,U)),fe&&ln(fe,N),ln(()=>{T.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},we=(T,N,U,te=!1,j=!1,Q=0)=>{for(let ne=Q;ne<T.length;ne++)ze(T[ne],N,U,te,j)},Z=T=>{if(T.shapeFlag&6)return Z(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const N=O(T.anchor||T.el),U=N&&N[up];return U?O(U):N};let ce=!1;const me=(T,N,U)=>{T==null?N._vnode&&ze(N._vnode,null,null,!0):D(N._vnode||null,T,N,null,null,null,U),ce||(ce=!0,cu(),V1(),ce=!1),N._vnode=T},Ce={p:D,um:ze,m:Ht,r:Lt,mt:qe,mc:K,pc:He,pbc:xe,n:Z,o:n};let Pe,st;return{render:me,hydrate:Pe,createApp:np(me,Pe)}}function Pa({type:n,props:t},s){return s==="svg"&&n==="foreignObject"||s==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function zr({effect:n,update:t},s){n.allowRecurse=t.allowRecurse=s}function gp(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function lh(n,t,s=!1){const l=n.children,u=t.children;if(Me(l)&&Me(u))for(let h=0;h<l.length;h++){const g=l[h];let m=u[h];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[h]=Tr(u[h]),m.el=g.el),!s&&m.patchFlag!==-2&&lh(g,m)),m.type===$o&&(m.el=g.el)}}function pp(n){const t=n.slice(),s=[0];let l,u,h,g,m;const E=n.length;for(l=0;l<E;l++){const x=n[l];if(x!==0){if(u=s[s.length-1],n[u]<x){t[l]=u,s.push(l);continue}for(h=0,g=s.length-1;h<g;)m=h+g>>1,n[s[m]]<x?h=m+1:g=m;x<n[s[h]]&&(h>0&&(t[l]=s[h-1]),s[h]=l)}}for(h=s.length,g=s[h-1];h-- >0;)s[h]=g,g=t[g];return s}function ch(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ch(t)}function wu(n){if(n)for(let t=0;t<n.length;t++)n[t].active=!1}const mp=Symbol.for("v-scx"),xp=()=>Ln(mp),to={};function mi(n,t,s){return uh(n,t,s)}function uh(n,t,{immediate:s,deep:l,flush:u,once:h,onTrack:g,onTrigger:m}=bt){if(t&&h){const Y=t;t=(...P)=>{Y(...P),pe()}}const E=$t,x=Y=>l===!0?Y:Ir(Y,l===!1?1:void 0);let _,A=!1,O=!1;if(gt(n)?(_=()=>n.value,A=Ps(n)):ts(n)?(_=()=>x(n),A=!0):Me(n)?(O=!0,A=n.some(Y=>ts(Y)||Ps(Y)),_=()=>n.map(Y=>{if(gt(Y))return Y.value;if(ts(Y))return x(Y);if(Ve(Y))return Nr(Y,E,2)})):Ve(n)?t?_=()=>Nr(n,E,2):_=()=>(I&&I(),Mn(n,E,3,[L])):_=Tn,t&&l){const Y=_;_=()=>Ir(Y())}let I,L=Y=>{I=k.onStop=()=>{Nr(Y,E,4),I=k.onStop=void 0}},D;if(zo)if(L=Tn,t?s&&Mn(t,E,3,[_(),O?[]:void 0,L]):_(),u==="sync"){const Y=xp();D=Y.__watcherHandles||(Y.__watcherHandles=[])}else return Tn;let z=O?new Array(n.length).fill(to):to;const ee=()=>{if(!(!k.active||!k.dirty))if(t){const Y=k.run();(l||A||(O?Y.some((P,K)=>Rr(P,z[K])):Rr(Y,z)))&&(I&&I(),Mn(t,E,3,[Y,z===to?void 0:O&&z[0]===to?[]:z,L]),z=Y)}else k.run()};ee.allowRecurse=!!t;let q;u==="sync"?q=ee:u==="post"?q=()=>ln(ee,E&&E.suspense):(ee.pre=!0,E&&(ee.id=E.uid),q=()=>rc(ee));const k=new zl(_,Tn,q),J=w1(),pe=()=>{k.stop(),J&&Xl(J.effects,k)};return t?s?ee():z=k.run():u==="post"?ln(k.run.bind(k),E&&E.suspense):k.run(),D&&D.push(pe),pe}function Ep(n,t,s){const l=this.proxy,u=kt(n)?n.includes(".")?fh(l,n):()=>l[n]:n.bind(l,l);let h;Ve(t)?h=t:(h=t.handler,s=t);const g=Mi(this),m=uh(u,h.bind(l),s);return g(),m}function fh(n,t){const s=t.split(".");return()=>{let l=n;for(let u=0;u<s.length&&l;u++)l=l[s[u]];return l}}function Ir(n,t=1/0,s){if(t<=0||!pt(n)||n.__v_skip||(s=s||new Set,s.has(n)))return n;if(s.add(n),t--,gt(n))Ir(n.value,t,s);else if(Me(n))for(let l=0;l<n.length;l++)Ir(n[l],t,s);else if(ko(n)||Rs(n))n.forEach(l=>{Ir(l,t,s)});else if(u1(n)){for(const l in n)Ir(n[l],t,s);for(const l of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,l)&&Ir(n[l],t,s)}return n}const wp=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${kn(t)}Modifiers`]||n[`${cs(t)}Modifiers`];function _p(n,t,...s){if(n.isUnmounted)return;const l=n.vnode.props||bt;let u=s;const h=t.startsWith("update:"),g=h&&wp(l,t.slice(7));g&&(g.trim&&(u=s.map(_=>kt(_)?_.trim():_)),g.number&&(u=s.map(ll)));let m,E=l[m=Da(t)]||l[m=Da(kn(t))];!E&&h&&(E=l[m=Da(cs(t))]),E&&Mn(E,n,6,u);const x=l[m+"Once"];if(x){if(!n.emitted)n.emitted={};else if(n.emitted[m])return;n.emitted[m]=!0,Mn(x,n,6,u)}}function hh(n,t,s=!1){const l=t.emitsCache,u=l.get(n);if(u!==void 0)return u;const h=n.emits;let g={},m=!1;if(!Ve(n)){const E=x=>{const _=hh(x,t,!0);_&&(m=!0,Zt(g,_))};!s&&t.mixins.length&&t.mixins.forEach(E),n.extends&&E(n.extends),n.mixins&&n.mixins.forEach(E)}return!h&&!m?(pt(n)&&l.set(n,null),null):(Me(h)?h.forEach(E=>g[E]=null):Zt(g,h),pt(n)&&l.set(n,g),g)}function jo(n,t){return!n||!Bo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(n,t[0].toLowerCase()+t.slice(1))||Je(n,cs(t))||Je(n,t))}function Ba(n){const{type:t,vnode:s,proxy:l,withProxy:u,propsOptions:[h],slots:g,attrs:m,emit:E,render:x,renderCache:_,props:A,data:O,setupState:I,ctx:L,inheritAttrs:D}=n,z=Co(n);let ee,q;try{if(s.shapeFlag&4){const J=u||l,pe=J;ee=Yn(x.call(pe,J,_,A,I,O,L)),q=m}else{const J=t;ee=Yn(J.length>1?J(A,{attrs:m,slots:g,emit:E}):J(A,null)),q=t.props?m:Ap(m)}}catch(J){xi.length=0,Wo(J,n,1),ee=wt(is)}let k=ee;if(q&&D!==!1){const J=Object.keys(q),{shapeFlag:pe}=k;J.length&&pe&7&&(h&&J.some(Gl)&&(q=bp(q,h)),k=Bs(k,q,!1,!0))}return s.dirs&&(k=Bs(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&(k.transition=s.transition),ee=k,Co(z),ee}const Ap=n=>{let t;for(const s in n)(s==="class"||s==="style"||Bo(s))&&((t||(t={}))[s]=n[s]);return t},bp=(n,t)=>{const s={};for(const l in n)(!Gl(l)||!(l.slice(9)in t))&&(s[l]=n[l]);return s};function Cp(n,t,s){const{props:l,children:u,component:h}=n,{props:g,children:m,patchFlag:E}=t,x=h.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&E>=0){if(E&1024)return!0;if(E&16)return l?_u(l,g,x):!!g;if(E&8){const _=t.dynamicProps;for(let A=0;A<_.length;A++){const O=_[A];if(g[O]!==l[O]&&!jo(x,O))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:l===g?!1:l?g?_u(l,g,x):!0:!!g;return!1}function _u(n,t,s){const l=Object.keys(t);if(l.length!==Object.keys(n).length)return!0;for(let u=0;u<l.length;u++){const h=l[u];if(t[h]!==n[h]&&!jo(s,h))return!0}return!1}function yp({vnode:n,parent:t},s){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===n&&(l.el=n.el),l===n)(n=t.vnode).el=s,t=t.parent;else break}}const Tp=n=>n.__isSuspense;function vp(n,t){t&&t.pendingBranch?Me(n)?t.effects.push(...n):t.effects.push(n):Mg(n)}const yn=Symbol.for("v-fgt"),$o=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),go=Symbol.for("v-stc"),xi=[];let mn=null;function ft(n=!1){xi.push(mn=n?null:[])}function Sp(){xi.pop(),mn=xi[xi.length-1]||null}let vi=1;function Au(n){vi+=n,n<0&&mn&&(mn.hasOnce=!0)}function dh(n){return n.dynamicChildren=vi>0?mn||Ns:null,Sp(),vi>0&&mn&&mn.push(n),n}function _t(n,t,s,l,u,h){return dh(ie(n,t,s,l,u,h,!0))}function gh(n,t,s,l,u){return dh(wt(n,t,s,l,u,!0))}function wl(n){return n?n.__v_isVNode===!0:!1}function ai(n,t){return n.type===t.type&&n.key===t.key}const ph=({key:n})=>n??null,po=({ref:n,ref_key:t,ref_for:s})=>(typeof n=="number"&&(n=""+n),n!=null?kt(n)||gt(n)||Ve(n)?{i:un,r:n,k:t,f:!!s}:n:null);function ie(n,t=null,s=null,l=0,u=null,h=n===yn?0:1,g=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&ph(t),ref:t&&po(t),scopeId:Go,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:l,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:un};return m?(oc(E,s),h&128&&n.normalize(E)):s&&(E.shapeFlag|=kt(s)?8:16),vi>0&&!g&&mn&&(E.patchFlag>0||h&6)&&E.patchFlag!==32&&mn.push(E),E}const wt=Ip;function Ip(n,t=null,s=null,l=0,u=null,h=!1){if((!n||n===$g)&&(n=is),wl(n)){const m=Bs(n,t,!0);return s&&oc(m,s),vi>0&&!h&&mn&&(m.shapeFlag&6?mn[mn.indexOf(n)]=m:mn.push(m)),m.patchFlag=-2,m}if(Up(n)&&(n=n.__vccOpts),t){t=Op(t);let{class:m,style:E}=t;m&&!kt(m)&&(t.class=Vt(m)),pt(E)&&(M1(E)&&!Me(E)&&(E=Zt({},E)),t.style=$l(E))}const g=kt(n)?1:Tp(n)?128:fp(n)?64:pt(n)?4:Ve(n)?2:0;return ie(n,t,s,l,u,g,h,!0)}function Op(n){return n?M1(n)||th(n)?Zt({},n):n:null}function Bs(n,t,s=!1,l=!1){const{props:u,ref:h,patchFlag:g,children:m,transition:E}=n,x=t?Np(u||{},t):u,_={__v_isVNode:!0,__v_skip:!0,type:n.type,props:x,key:x&&ph(x),ref:t&&t.ref?s&&h?Me(h)?h.concat(po(t)):[h,po(t)]:po(t):h,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:m,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==yn?g===-1?16:g|16:g,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:E,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Bs(n.ssContent),ssFallback:n.ssFallback&&Bs(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return E&&l&&X1(_,E.clone(_)),_}function rr(n=" ",t=0){return wt($o,null,n,t)}function mh(n,t){const s=wt(go,null,n);return s.staticCount=t,s}function Pn(n="",t=!1){return t?(ft(),gh(is,null,n)):wt(is,null,n)}function Yn(n){return n==null||typeof n=="boolean"?wt(is):Me(n)?wt(yn,null,n.slice()):typeof n=="object"?Tr(n):wt($o,null,String(n))}function Tr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Bs(n)}function oc(n,t){let s=0;const{shapeFlag:l}=n;if(t==null)t=null;else if(Me(t))s=16;else if(typeof t=="object")if(l&65){const u=t.default;u&&(u._c&&(u._d=!1),oc(n,u()),u._c&&(u._d=!0));return}else{s=32;const u=t._;!u&&!th(t)?t._ctx=un:u===3&&un&&(un.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:un},s=32):(t=String(t),l&64?(s=16,t=[rr(t)]):s=8);n.children=t,n.shapeFlag|=s}function Np(...n){const t={};for(let s=0;s<n.length;s++){const l=n[s];for(const u in l)if(u==="class")t.class!==l.class&&(t.class=Vt([t.class,l.class]));else if(u==="style")t.style=$l([t.style,l.style]);else if(Bo(u)){const h=t[u],g=l[u];g&&h!==g&&!(Me(h)&&h.includes(g))&&(t[u]=h?[].concat(h,g):g)}else u!==""&&(t[u]=l[u])}return t}function zn(n,t,s,l=null){Mn(n,t,7,[s,l])}const Rp=Q1();let Dp=0;function Mp(n,t,s){const l=n.type,u=(t?t.appContext:n.appContext)||Rp,h={uid:Dp++,vnode:n,type:l,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new x1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rh(l,u),emitsOptions:hh(l,u),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:l.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=t?t.root:h,h.emit=_p.bind(null,h),n.ce&&n.ce(h),h}let $t=null,To,_l;{const n=h1(),t=(s,l)=>{let u;return(u=n[s])||(u=n[s]=[]),u.push(l),h=>{u.length>1?u.forEach(g=>g(h)):u[0](h)}};To=t("__VUE_INSTANCE_SETTERS__",s=>$t=s),_l=t("__VUE_SSR_SETTERS__",s=>zo=s)}const Mi=n=>{const t=$t;return To(n),n.scope.on(),()=>{n.scope.off(),To(t)}},bu=()=>{$t&&$t.scope.off(),To(null)};function xh(n){return n.vnode.shapeFlag&4}let zo=!1;function Lp(n,t=!1,s=!1){t&&_l(t);const{props:l,children:u}=n.vnode,h=xh(n);sp(n,l,h,t),lp(n,u,s);const g=h?Pp(n,t):void 0;return t&&_l(!1),g}function Pp(n,t){const s=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Kg);const{setup:l}=s;if(l){const u=n.setupContext=l.length>1?kp(n):null,h=Mi(n);Pr();const g=Nr(l,n,0,[n.props,u]);if(Br(),h(),l1(g)){if(g.then(bu,bu),t)return g.then(m=>{Cu(n,m,t)}).catch(m=>{Wo(m,n,0)});n.asyncDep=g}else Cu(n,g,t)}else Eh(n,t)}function Cu(n,t,s){Ve(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:pt(t)&&(n.setupState=k1(t)),Eh(n,s)}let yu;function Eh(n,t,s){const l=n.type;if(!n.render){if(!t&&yu&&!l.render){const u=l.template||sc(n).template;if(u){const{isCustomElement:h,compilerOptions:g}=n.appContext.config,{delimiters:m,compilerOptions:E}=l,x=Zt(Zt({isCustomElement:h,delimiters:m},g),E);l.render=yu(u,x)}}n.render=l.render||Tn}{const u=Mi(n);Pr();try{qg(n)}finally{Br(),u()}}}const Bp={get(n,t){return hn(n,"get",""),n[t]}};function kp(n){const t=s=>{n.exposed=s||{}};return{attrs:new Proxy(n.attrs,Bp),slots:n.slots,emit:n.emit,expose:t}}function Yo(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(k1(Jl(n.exposed)),{get(t,s){if(s in t)return t[s];if(s in pi)return pi[s](n)},has(t,s){return s in t||s in pi}})):n.proxy}function Fp(n,t=!0){return Ve(n)?n.displayName||n.name:n.name||t&&n.__name}function Up(n){return Ve(n)&&"__vccOpts"in n}const Tt=(n,t)=>Cg(n,t,zo);function wh(n,t,s){const l=arguments.length;return l===2?pt(t)&&!Me(t)?wl(t)?wt(n,null,[t]):wt(n,t):wt(n,null,t):(l>3?s=Array.prototype.slice.call(arguments,2):l===3&&wl(s)&&(s=[s]),wt(n,t,s))}const Vp="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hp="http://www.w3.org/2000/svg",Wp="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,Tu=nr&&nr.createElement("template"),Gp={insert:(n,t,s)=>{t.insertBefore(n,s||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,s,l)=>{const u=t==="svg"?nr.createElementNS(Hp,n):t==="mathml"?nr.createElementNS(Wp,n):s?nr.createElement(n,{is:s}):nr.createElement(n);return n==="select"&&l&&l.multiple!=null&&u.setAttribute("multiple",l.multiple),u},createText:n=>nr.createTextNode(n),createComment:n=>nr.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>nr.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,s,l,u,h){const g=s?s.previousSibling:t.lastChild;if(u&&(u===h||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),s),!(u===h||!(u=u.nextSibling)););else{Tu.innerHTML=l==="svg"?`<svg>${n}</svg>`:l==="mathml"?`<math>${n}</math>`:n;const m=Tu.content;if(l==="svg"||l==="mathml"){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}t.insertBefore(m,s)}return[g?g.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Xp=Symbol("_vtc");function jp(n,t,s){const l=n[Xp];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?n.removeAttribute("class"):s?n.setAttribute("class",t):n.className=t}const vu=Symbol("_vod"),$p=Symbol("_vsh"),zp=Symbol(""),Yp=/(^|;)\s*display\s*:/;function Kp(n,t,s){const l=n.style,u=kt(s);let h=!1;if(s&&!u){if(t)if(kt(t))for(const g of t.split(";")){const m=g.slice(0,g.indexOf(":")).trim();s[m]==null&&mo(l,m,"")}else for(const g in t)s[g]==null&&mo(l,g,"");for(const g in s)g==="display"&&(h=!0),mo(l,g,s[g])}else if(u){if(t!==s){const g=l[zp];g&&(s+=";"+g),l.cssText=s,h=Yp.test(s)}}else t&&n.removeAttribute("style");vu in n&&(n[vu]=h?l.display:"",n[$p]&&(l.display="none"))}const Su=/\s*!important$/;function mo(n,t,s){if(Me(s))s.forEach(l=>mo(n,t,l));else if(s==null&&(s=""),t.startsWith("--"))n.setProperty(t,s);else{const l=qp(n,t);Su.test(s)?n.setProperty(cs(l),s.replace(Su,""),"important"):n[l]=s}}const Iu=["Webkit","Moz","ms"],ka={};function qp(n,t){const s=ka[t];if(s)return s;let l=kn(t);if(l!=="filter"&&l in n)return ka[t]=l;l=Uo(l);for(let u=0;u<Iu.length;u++){const h=Iu[u]+l;if(h in n)return ka[t]=h}return t}const Ou="http://www.w3.org/1999/xlink";function Nu(n,t,s,l,u,h=Jd(t)){l&&t.startsWith("xlink:")?s==null?n.removeAttributeNS(Ou,t.slice(6,t.length)):n.setAttributeNS(Ou,t,s):s==null||h&&!d1(s)?n.removeAttribute(t):n.setAttribute(t,h?"":Qn(s)?String(s):s)}function Zp(n,t,s,l){if(t==="innerHTML"||t==="textContent"){if(s==null)return;n[t]=s;return}const u=n.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const g=u==="OPTION"?n.getAttribute("value")||"":n.value,m=s==null?"":String(s);(g!==m||!("_value"in n))&&(n.value=m),s==null&&n.removeAttribute(t),n._value=s;return}let h=!1;if(s===""||s==null){const g=typeof n[t];g==="boolean"?s=d1(s):s==null&&g==="string"?(s="",h=!0):g==="number"&&(s=0,h=!0)}try{n[t]=s}catch{}h&&n.removeAttribute(t)}function Kr(n,t,s,l){n.addEventListener(t,s,l)}function Qp(n,t,s,l){n.removeEventListener(t,s,l)}const Ru=Symbol("_vei");function Jp(n,t,s,l,u=null){const h=n[Ru]||(n[Ru]={}),g=h[t];if(l&&g)g.value=l;else{const[m,E]=e2(t);if(l){const x=h[t]=r2(l,u);Kr(n,m,x,E)}else g&&(Qp(n,m,g,E),h[t]=void 0)}}const Du=/(?:Once|Passive|Capture)$/;function e2(n){let t;if(Du.test(n)){t={};let l;for(;l=n.match(Du);)n=n.slice(0,n.length-l[0].length),t[l[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):cs(n.slice(2)),t]}let Fa=0;const t2=Promise.resolve(),n2=()=>Fa||(t2.then(()=>Fa=0),Fa=Date.now());function r2(n,t){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;Mn(s2(l,s.value),t,5,[l])};return s.value=n,s.attached=n2(),s}function s2(n,t){if(Me(t)){const s=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{s.call(n),n._stopped=!0},t.map(l=>u=>!u._stopped&&l&&l(u))}else return t}const Mu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,i2=(n,t,s,l,u,h)=>{const g=u==="svg";t==="class"?jp(n,l,g):t==="style"?Kp(n,s,l):Bo(t)?Gl(t)||Jp(n,t,s,l,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):o2(n,t,l,g))?(Zp(n,t,l),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nu(n,t,l,g,h,t!=="value")):(t==="true-value"?n._trueValue=l:t==="false-value"&&(n._falseValue=l),Nu(n,t,l,g))};function o2(n,t,s,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in n&&Mu(t)&&Ve(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const u=n.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return Mu(t)&&kt(s)?!1:t in n}const vo=n=>{const t=n.props["onUpdate:modelValue"]||!1;return Me(t)?s=>co(t,s):t};function a2(n){n.target.composing=!0}function Lu(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ls=Symbol("_assign"),qr={created(n,{modifiers:{lazy:t,trim:s,number:l}},u){n[Ls]=vo(u);const h=l||u.props&&u.props.type==="number";Kr(n,t?"change":"input",g=>{if(g.target.composing)return;let m=n.value;s&&(m=m.trim()),h&&(m=ll(m)),n[Ls](m)}),s&&Kr(n,"change",()=>{n.value=n.value.trim()}),t||(Kr(n,"compositionstart",a2),Kr(n,"compositionend",Lu),Kr(n,"change",Lu))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:s,modifiers:{lazy:l,trim:u,number:h}},g){if(n[Ls]=vo(g),n.composing)return;const m=(h||n.type==="number")&&!/^0\d/.test(n.value)?ll(n.value):n.value,E=t??"";m!==E&&(document.activeElement===n&&n.type!=="range"&&(l&&t===s||u&&n.value.trim()===E)||(n.value=E))}},l2={deep:!0,created(n,t,s){n[Ls]=vo(s),Kr(n,"change",()=>{const l=n._modelValue,u=c2(n),h=n.checked,g=n[Ls];if(Me(l)){const m=g1(l,u),E=m!==-1;if(h&&!E)g(l.concat(u));else if(!h&&E){const x=[...l];x.splice(m,1),g(x)}}else if(ko(l)){const m=new Set(l);h?m.add(u):m.delete(u),g(m)}else g(_h(n,h))})},mounted:Pu,beforeUpdate(n,t,s){n[Ls]=vo(s),Pu(n,t,s)}};function Pu(n,{value:t,oldValue:s},l){n._modelValue=t,Me(t)?n.checked=g1(t,l.props.value)>-1:ko(t)?n.checked=t.has(l.props.value):t!==s&&(n.checked=Vo(t,_h(n,!0)))}function c2(n){return"_value"in n?n._value:n.value}function _h(n,t){const s=t?"_trueValue":"_falseValue";return s in n?n[s]:t}const u2=["ctrl","shift","alt","meta"],f2={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>u2.some(s=>n[`${s}Key`]&&!t.includes(s))},Ah=(n,t)=>{const s=n._withMods||(n._withMods={}),l=t.join(".");return s[l]||(s[l]=(u,...h)=>{for(let g=0;g<t.length;g++){const m=f2[t[g]];if(m&&m(u,t))return}return n(u,...h)})},h2=Zt({patchProp:i2},Gp);let Bu;function d2(){return Bu||(Bu=hp(h2))}const g2=(...n)=>{const t=d2().createApp(...n),{mount:s}=t;return t.mount=l=>{const u=m2(l);if(!u)return;const h=t._component;!Ve(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.innerHTML="";const g=s(u,!1,p2(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),g},t};function p2(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function m2(n){return kt(n)?document.querySelector(n):n}const x2="/Earth_Game/SSC_logo.png";var E2=!1;/*!
 * pinia v2.2.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let bh;const Ko=n=>bh=n,Ch=Symbol();function Al(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ei;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ei||(Ei={}));function w2(){const n=E1(!0),t=n.run(()=>je({}));let s=[],l=[];const u=Jl({install(h){Ko(u),u._a=h,h.provide(Ch,u),h.config.globalProperties.$pinia=u,l.forEach(g=>s.push(g)),l=[]},use(h){return!this._a&&!E2?l.push(h):s.push(h),this},_p:s,_a:null,_e:n,_s:new Map,state:t});return u}const yh=()=>{};function ku(n,t,s,l=yh){n.push(t);const u=()=>{const h=n.indexOf(t);h>-1&&(n.splice(h,1),l())};return!s&&w1()&&ng(u),u}function As(n,...t){n.slice().forEach(s=>{s(...t)})}const _2=n=>n(),Fu=Symbol(),Ua=Symbol();function bl(n,t){n instanceof Map&&t instanceof Map?t.forEach((s,l)=>n.set(l,s)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const s in t){if(!t.hasOwnProperty(s))continue;const l=t[s],u=n[s];Al(u)&&Al(l)&&n.hasOwnProperty(s)&&!gt(l)&&!ts(l)?n[s]=bl(u,l):n[s]=l}return n}const A2=Symbol();function b2(n){return!Al(n)||!n.hasOwnProperty(A2)}const{assign:Cr}=Object;function C2(n){return!!(gt(n)&&n.effect)}function y2(n,t,s,l){const{state:u,actions:h,getters:g}=t,m=s.state.value[n];let E;function x(){m||(s.state.value[n]=u?u():{});const _=Sg(s.state.value[n]);return Cr(_,h,Object.keys(g||{}).reduce((A,O)=>(A[O]=Jl(Tt(()=>{Ko(s);const I=s._s.get(n);return g[O].call(I,I)})),A),{}))}return E=Th(n,x,t,s,l,!0),E}function Th(n,t,s={},l,u,h){let g;const m=Cr({actions:{}},s),E={deep:!0};let x,_,A=[],O=[],I;const L=l.state.value[n];!h&&!L&&(l.state.value[n]={}),je({});let D;function z(K){let V;x=_=!1,typeof K=="function"?(K(l.state.value[n]),V={type:Ei.patchFunction,storeId:n,events:I}):(bl(l.state.value[n],K),V={type:Ei.patchObject,payload:K,storeId:n,events:I});const xe=D=Symbol();nc().then(()=>{D===xe&&(x=!0)}),_=!0,As(A,V,l.state.value[n])}const ee=h?function(){const{state:V}=s,xe=V?V():{};this.$patch(ye=>{Cr(ye,xe)})}:yh;function q(){g.stop(),A=[],O=[],l._s.delete(n)}const k=(K,V="")=>{if(Fu in K)return K[Ua]=V,K;const xe=function(){Ko(l);const ye=Array.from(arguments),de=[],ve=[];function qe(le){de.push(le)}function X(le){ve.push(le)}As(O,{args:ye,name:xe[Ua],store:pe,after:qe,onError:X});let Ie;try{Ie=K.apply(this&&this.$id===n?this:pe,ye)}catch(le){throw As(ve,le),le}return Ie instanceof Promise?Ie.then(le=>(As(de,le),le)).catch(le=>(As(ve,le),Promise.reject(le))):(As(de,Ie),Ie)};return xe[Fu]=!0,xe[Ua]=V,xe},J={_p:l,$id:n,$onAction:ku.bind(null,O),$patch:z,$reset:ee,$subscribe(K,V={}){const xe=ku(A,K,V.detached,()=>ye()),ye=g.run(()=>mi(()=>l.state.value[n],de=>{(V.flush==="sync"?_:x)&&K({storeId:n,type:Ei.direct,events:I},de)},Cr({},E,V)));return xe},$dispose:q},pe=Di(J);l._s.set(n,pe);const P=(l._a&&l._a.runWithContext||_2)(()=>l._e.run(()=>(g=E1()).run(()=>t({action:k}))));for(const K in P){const V=P[K];if(gt(V)&&!C2(V)||ts(V))h||(L&&b2(V)&&(gt(V)?V.value=L[K]:bl(V,L[K])),l.state.value[n][K]=V);else if(typeof V=="function"){const xe=k(V,K);P[K]=xe,m.actions[K]=V}}return Cr(pe,P),Cr(et(pe),P),Object.defineProperty(pe,"$state",{get:()=>l.state.value[n],set:K=>{z(V=>{Cr(V,K)})}}),l._p.forEach(K=>{Cr(pe,g.run(()=>K({store:pe,app:l._a,pinia:l,options:m})))}),L&&h&&s.hydrate&&s.hydrate(pe.$state,L),x=!0,_=!0,pe}function qo(n,t,s){let l,u;const h=typeof t=="function";typeof n=="string"?(l=n,u=h?s:t):(u=n,l=n.id);function g(m,E){const x=rp();return m=m||(x?Ln(Ch,null):null),m&&Ko(m),m=bh,m._s.has(l)||(h?Th(l,t,u,m):y2(l,u,m)),m._s.get(l)}return g.$id=l,g}function vh(n,t){return function(){return n.apply(t,arguments)}}const{toString:T2}=Object.prototype,{getPrototypeOf:ac}=Object,Zo=(n=>t=>{const s=T2.call(t);return n[s]||(n[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Un=n=>(n=n.toLowerCase(),t=>Zo(t)===n),Qo=n=>t=>typeof t===n,{isArray:$s}=Array,Si=Qo("undefined");function v2(n){return n!==null&&!Si(n)&&n.constructor!==null&&!Si(n.constructor)&&vn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Sh=Un("ArrayBuffer");function S2(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Sh(n.buffer),t}const I2=Qo("string"),vn=Qo("function"),Ih=Qo("number"),Jo=n=>n!==null&&typeof n=="object",O2=n=>n===!0||n===!1,xo=n=>{if(Zo(n)!=="object")return!1;const t=ac(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},N2=Un("Date"),R2=Un("File"),D2=Un("Blob"),M2=Un("FileList"),L2=n=>Jo(n)&&vn(n.pipe),P2=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||vn(n.append)&&((t=Zo(n))==="formdata"||t==="object"&&vn(n.toString)&&n.toString()==="[object FormData]"))},B2=Un("URLSearchParams"),[k2,F2,U2,V2]=["ReadableStream","Request","Response","Headers"].map(Un),H2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Li(n,t,{allOwnKeys:s=!1}={}){if(n===null||typeof n>"u")return;let l,u;if(typeof n!="object"&&(n=[n]),$s(n))for(l=0,u=n.length;l<u;l++)t.call(null,n[l],l,n);else{const h=s?Object.getOwnPropertyNames(n):Object.keys(n),g=h.length;let m;for(l=0;l<g;l++)m=h[l],t.call(null,n[m],m,n)}}function Oh(n,t){t=t.toLowerCase();const s=Object.keys(n);let l=s.length,u;for(;l-- >0;)if(u=s[l],t===u.toLowerCase())return u;return null}const Nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rh=n=>!Si(n)&&n!==Nh;function Cl(){const{caseless:n}=Rh(this)&&this||{},t={},s=(l,u)=>{const h=n&&Oh(t,u)||u;xo(t[h])&&xo(l)?t[h]=Cl(t[h],l):xo(l)?t[h]=Cl({},l):$s(l)?t[h]=l.slice():t[h]=l};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&Li(arguments[l],s);return t}const W2=(n,t,s,{allOwnKeys:l}={})=>(Li(t,(u,h)=>{s&&vn(u)?n[h]=vh(u,s):n[h]=u},{allOwnKeys:l}),n),G2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),X2=(n,t,s,l)=>{n.prototype=Object.create(t.prototype,l),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),s&&Object.assign(n.prototype,s)},j2=(n,t,s,l)=>{let u,h,g;const m={};if(t=t||{},n==null)return t;do{for(u=Object.getOwnPropertyNames(n),h=u.length;h-- >0;)g=u[h],(!l||l(g,n,t))&&!m[g]&&(t[g]=n[g],m[g]=!0);n=s!==!1&&ac(n)}while(n&&(!s||s(n,t))&&n!==Object.prototype);return t},$2=(n,t,s)=>{n=String(n),(s===void 0||s>n.length)&&(s=n.length),s-=t.length;const l=n.indexOf(t,s);return l!==-1&&l===s},z2=n=>{if(!n)return null;if($s(n))return n;let t=n.length;if(!Ih(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=n[t];return s},Y2=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&ac(Uint8Array)),K2=(n,t)=>{const l=(n&&n[Symbol.iterator]).call(n);let u;for(;(u=l.next())&&!u.done;){const h=u.value;t.call(n,h[0],h[1])}},q2=(n,t)=>{let s;const l=[];for(;(s=n.exec(t))!==null;)l.push(s);return l},Z2=Un("HTMLFormElement"),Q2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,u){return l.toUpperCase()+u}),Uu=(({hasOwnProperty:n})=>(t,s)=>n.call(t,s))(Object.prototype),J2=Un("RegExp"),Dh=(n,t)=>{const s=Object.getOwnPropertyDescriptors(n),l={};Li(s,(u,h)=>{let g;(g=t(u,h,n))!==!1&&(l[h]=g||u)}),Object.defineProperties(n,l)},em=n=>{Dh(n,(t,s)=>{if(vn(n)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=n[s];if(vn(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},tm=(n,t)=>{const s={},l=u=>{u.forEach(h=>{s[h]=!0})};return $s(n)?l(n):l(String(n).split(t)),s},nm=()=>{},rm=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,Va="abcdefghijklmnopqrstuvwxyz",Vu="0123456789",Mh={DIGIT:Vu,ALPHA:Va,ALPHA_DIGIT:Va+Va.toUpperCase()+Vu},sm=(n=16,t=Mh.ALPHA_DIGIT)=>{let s="";const{length:l}=t;for(;n--;)s+=t[Math.random()*l|0];return s};function im(n){return!!(n&&vn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const om=n=>{const t=new Array(10),s=(l,u)=>{if(Jo(l)){if(t.indexOf(l)>=0)return;if(!("toJSON"in l)){t[u]=l;const h=$s(l)?[]:{};return Li(l,(g,m)=>{const E=s(g,u+1);!Si(E)&&(h[m]=E)}),t[u]=void 0,h}}return l};return s(n,0)},am=Un("AsyncFunction"),lm=n=>n&&(Jo(n)||vn(n))&&vn(n.then)&&vn(n.catch),$={isArray:$s,isArrayBuffer:Sh,isBuffer:v2,isFormData:P2,isArrayBufferView:S2,isString:I2,isNumber:Ih,isBoolean:O2,isObject:Jo,isPlainObject:xo,isReadableStream:k2,isRequest:F2,isResponse:U2,isHeaders:V2,isUndefined:Si,isDate:N2,isFile:R2,isBlob:D2,isRegExp:J2,isFunction:vn,isStream:L2,isURLSearchParams:B2,isTypedArray:Y2,isFileList:M2,forEach:Li,merge:Cl,extend:W2,trim:H2,stripBOM:G2,inherits:X2,toFlatObject:j2,kindOf:Zo,kindOfTest:Un,endsWith:$2,toArray:z2,forEachEntry:K2,matchAll:q2,isHTMLForm:Z2,hasOwnProperty:Uu,hasOwnProp:Uu,reduceDescriptors:Dh,freezeMethods:em,toObjectSet:tm,toCamelCase:Q2,noop:nm,toFiniteNumber:rm,findKey:Oh,global:Nh,isContextDefined:Rh,ALPHABET:Mh,generateString:sm,isSpecCompliantForm:im,toJSONObject:om,isAsyncFn:am,isThenable:lm};function Ue(n,t,s,l,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),l&&(this.request=l),u&&(this.response=u)}$.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lh=Ue.prototype,Ph={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ph[n]={value:n}});Object.defineProperties(Ue,Ph);Object.defineProperty(Lh,"isAxiosError",{value:!0});Ue.from=(n,t,s,l,u,h)=>{const g=Object.create(Lh);return $.toFlatObject(n,g,function(E){return E!==Error.prototype},m=>m!=="isAxiosError"),Ue.call(g,n.message,t,s,l,u),g.cause=n,g.name=n.name,h&&Object.assign(g,h),g};const cm=null;function yl(n){return $.isPlainObject(n)||$.isArray(n)}function Bh(n){return $.endsWith(n,"[]")?n.slice(0,-2):n}function Hu(n,t,s){return n?n.concat(t).map(function(u,h){return u=Bh(u),!s&&h?"["+u+"]":u}).join(s?".":""):t}function um(n){return $.isArray(n)&&!n.some(yl)}const fm=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function ea(n,t,s){if(!$.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,s=$.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,z){return!$.isUndefined(z[D])});const l=s.metaTokens,u=s.visitor||_,h=s.dots,g=s.indexes,E=(s.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(u))throw new TypeError("visitor must be a function");function x(L){if(L===null)return"";if($.isDate(L))return L.toISOString();if(!E&&$.isBlob(L))throw new Ue("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(L)||$.isTypedArray(L)?E&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function _(L,D,z){let ee=L;if(L&&!z&&typeof L=="object"){if($.endsWith(D,"{}"))D=l?D:D.slice(0,-2),L=JSON.stringify(L);else if($.isArray(L)&&um(L)||($.isFileList(L)||$.endsWith(D,"[]"))&&(ee=$.toArray(L)))return D=Bh(D),ee.forEach(function(k,J){!($.isUndefined(k)||k===null)&&t.append(g===!0?Hu([D],J,h):g===null?D:D+"[]",x(k))}),!1}return yl(L)?!0:(t.append(Hu(z,D,h),x(L)),!1)}const A=[],O=Object.assign(fm,{defaultVisitor:_,convertValue:x,isVisitable:yl});function I(L,D){if(!$.isUndefined(L)){if(A.indexOf(L)!==-1)throw Error("Circular reference detected in "+D.join("."));A.push(L),$.forEach(L,function(ee,q){(!($.isUndefined(ee)||ee===null)&&u.call(t,ee,$.isString(q)?q.trim():q,D,O))===!0&&I(ee,D?D.concat(q):[q])}),A.pop()}}if(!$.isObject(n))throw new TypeError("data must be an object");return I(n),t}function Wu(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function lc(n,t){this._pairs=[],n&&ea(n,this,t)}const kh=lc.prototype;kh.append=function(t,s){this._pairs.push([t,s])};kh.toString=function(t){const s=t?function(l){return t.call(this,l,Wu)}:Wu;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function hm(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fh(n,t,s){if(!t)return n;const l=s&&s.encode||hm,u=s&&s.serialize;let h;if(u?h=u(t,s):h=$.isURLSearchParams(t)?t.toString():new lc(t,s).toString(l),h){const g=n.indexOf("#");g!==-1&&(n=n.slice(0,g)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class Gu{constructor(){this.handlers=[]}use(t,s,l){return this.handlers.push({fulfilled:t,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(l){l!==null&&t(l)})}}const Uh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dm=typeof URLSearchParams<"u"?URLSearchParams:lc,gm=typeof FormData<"u"?FormData:null,pm=typeof Blob<"u"?Blob:null,mm={isBrowser:!0,classes:{URLSearchParams:dm,FormData:gm,Blob:pm},protocols:["http","https","file","blob","url","data"]},cc=typeof window<"u"&&typeof document<"u",xm=(n=>cc&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),Em=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wm=cc&&window.location.href||"http://localhost",_m=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cc,hasStandardBrowserEnv:xm,hasStandardBrowserWebWorkerEnv:Em,origin:wm},Symbol.toStringTag,{value:"Module"})),Bn={..._m,...mm};function Am(n,t){return ea(n,new Bn.classes.URLSearchParams,Object.assign({visitor:function(s,l,u,h){return Bn.isNode&&$.isBuffer(s)?(this.append(l,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function bm(n){return $.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cm(n){const t={},s=Object.keys(n);let l;const u=s.length;let h;for(l=0;l<u;l++)h=s[l],t[h]=n[h];return t}function Vh(n){function t(s,l,u,h){let g=s[h++];if(g==="__proto__")return!0;const m=Number.isFinite(+g),E=h>=s.length;return g=!g&&$.isArray(u)?u.length:g,E?($.hasOwnProp(u,g)?u[g]=[u[g],l]:u[g]=l,!m):((!u[g]||!$.isObject(u[g]))&&(u[g]=[]),t(s,l,u[g],h)&&$.isArray(u[g])&&(u[g]=Cm(u[g])),!m)}if($.isFormData(n)&&$.isFunction(n.entries)){const s={};return $.forEachEntry(n,(l,u)=>{t(bm(l),u,s,0)}),s}return null}function ym(n,t,s){if($.isString(n))try{return(t||JSON.parse)(n),$.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(n)}const Pi={transitional:Uh,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const l=s.getContentType()||"",u=l.indexOf("application/json")>-1,h=$.isObject(t);if(h&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return u?JSON.stringify(Vh(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(h){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Am(t,this.formSerializer).toString();if((m=$.isFileList(t))||l.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return ea(m?{"files[]":t}:t,E&&new E,this.formSerializer)}}return h||u?(s.setContentType("application/json",!1),ym(t)):t}],transformResponse:[function(t){const s=this.transitional||Pi.transitional,l=s&&s.forcedJSONParsing,u=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(l&&!this.responseType||u)){const g=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(t)}catch(m){if(g)throw m.name==="SyntaxError"?Ue.from(m,Ue.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],n=>{Pi.headers[n]={}});const Tm=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vm=n=>{const t={};let s,l,u;return n&&n.split(`
`).forEach(function(g){u=g.indexOf(":"),s=g.substring(0,u).trim().toLowerCase(),l=g.substring(u+1).trim(),!(!s||t[s]&&Tm[s])&&(s==="set-cookie"?t[s]?t[s].push(l):t[s]=[l]:t[s]=t[s]?t[s]+", "+l:l)}),t},Xu=Symbol("internals");function li(n){return n&&String(n).trim().toLowerCase()}function Eo(n){return n===!1||n==null?n:$.isArray(n)?n.map(Eo):String(n)}function Sm(n){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(n);)t[l[1]]=l[2];return t}const Im=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ha(n,t,s,l,u){if($.isFunction(l))return l.call(this,t,s);if(u&&(t=s),!!$.isString(t)){if($.isString(l))return t.indexOf(l)!==-1;if($.isRegExp(l))return l.test(t)}}function Om(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,l)=>s.toUpperCase()+l)}function Nm(n,t){const s=$.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(n,l+s,{value:function(u,h,g){return this[l].call(this,t,u,h,g)},configurable:!0})})}class fn{constructor(t){t&&this.set(t)}set(t,s,l){const u=this;function h(m,E,x){const _=li(E);if(!_)throw new Error("header name must be a non-empty string");const A=$.findKey(u,_);(!A||u[A]===void 0||x===!0||x===void 0&&u[A]!==!1)&&(u[A||E]=Eo(m))}const g=(m,E)=>$.forEach(m,(x,_)=>h(x,_,E));if($.isPlainObject(t)||t instanceof this.constructor)g(t,s);else if($.isString(t)&&(t=t.trim())&&!Im(t))g(vm(t),s);else if($.isHeaders(t))for(const[m,E]of t.entries())h(E,m,l);else t!=null&&h(s,t,l);return this}get(t,s){if(t=li(t),t){const l=$.findKey(this,t);if(l){const u=this[l];if(!s)return u;if(s===!0)return Sm(u);if($.isFunction(s))return s.call(this,u,l);if($.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=li(t),t){const l=$.findKey(this,t);return!!(l&&this[l]!==void 0&&(!s||Ha(this,this[l],l,s)))}return!1}delete(t,s){const l=this;let u=!1;function h(g){if(g=li(g),g){const m=$.findKey(l,g);m&&(!s||Ha(l,l[m],m,s))&&(delete l[m],u=!0)}}return $.isArray(t)?t.forEach(h):h(t),u}clear(t){const s=Object.keys(this);let l=s.length,u=!1;for(;l--;){const h=s[l];(!t||Ha(this,this[h],h,t,!0))&&(delete this[h],u=!0)}return u}normalize(t){const s=this,l={};return $.forEach(this,(u,h)=>{const g=$.findKey(l,h);if(g){s[g]=Eo(u),delete s[h];return}const m=t?Om(h):String(h).trim();m!==h&&delete s[h],s[m]=Eo(u),l[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return $.forEach(this,(l,u)=>{l!=null&&l!==!1&&(s[u]=t&&$.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const l=new this(t);return s.forEach(u=>l.set(u)),l}static accessor(t){const l=(this[Xu]=this[Xu]={accessors:{}}).accessors,u=this.prototype;function h(g){const m=li(g);l[m]||(Nm(u,g),l[m]=!0)}return $.isArray(t)?t.forEach(h):h(t),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(fn.prototype,({value:n},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(l){this[s]=l}}});$.freezeMethods(fn);function Wa(n,t){const s=this||Pi,l=t||s,u=fn.from(l.headers);let h=l.data;return $.forEach(n,function(m){h=m.call(s,h,u.normalize(),t?t.status:void 0)}),u.normalize(),h}function Hh(n){return!!(n&&n.__CANCEL__)}function zs(n,t,s){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,t,s),this.name="CanceledError"}$.inherits(zs,Ue,{__CANCEL__:!0});function Wh(n,t,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?n(s):t(new Ue("Request failed with status code "+s.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rm(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Dm(n,t){n=n||10;const s=new Array(n),l=new Array(n);let u=0,h=0,g;return t=t!==void 0?t:1e3,function(E){const x=Date.now(),_=l[h];g||(g=x),s[u]=E,l[u]=x;let A=h,O=0;for(;A!==u;)O+=s[A++],A=A%n;if(u=(u+1)%n,u===h&&(h=(h+1)%n),x-g<t)return;const I=_&&x-_;return I?Math.round(O*1e3/I):void 0}}function Mm(n,t){let s=0;const l=1e3/t;let u=null;return function(){const g=this===!0,m=Date.now();if(g||m-s>l)return u&&(clearTimeout(u),u=null),s=m,n.apply(null,arguments);u||(u=setTimeout(()=>(u=null,s=Date.now(),n.apply(null,arguments)),l-(m-s)))}}const So=(n,t,s=3)=>{let l=0;const u=Dm(50,250);return Mm(h=>{const g=h.loaded,m=h.lengthComputable?h.total:void 0,E=g-l,x=u(E),_=g<=m;l=g;const A={loaded:g,total:m,progress:m?g/m:void 0,bytes:E,rate:x||void 0,estimated:x&&m&&_?(m-g)/x:void 0,event:h,lengthComputable:m!=null};A[t?"download":"upload"]=!0,n(A)},s)},Lm=Bn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let l;function u(h){let g=h;return t&&(s.setAttribute("href",g),g=s.href),s.setAttribute("href",g),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=u(window.location.href),function(g){const m=$.isString(g)?u(g):g;return m.protocol===l.protocol&&m.host===l.host}}():function(){return function(){return!0}}(),Pm=Bn.hasStandardBrowserEnv?{write(n,t,s,l,u,h){const g=[n+"="+encodeURIComponent(t)];$.isNumber(s)&&g.push("expires="+new Date(s).toGMTString()),$.isString(l)&&g.push("path="+l),$.isString(u)&&g.push("domain="+u),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bm(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function km(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function Gh(n,t){return n&&!Bm(t)?km(n,t):t}const ju=n=>n instanceof fn?{...n}:n;function os(n,t){t=t||{};const s={};function l(x,_,A){return $.isPlainObject(x)&&$.isPlainObject(_)?$.merge.call({caseless:A},x,_):$.isPlainObject(_)?$.merge({},_):$.isArray(_)?_.slice():_}function u(x,_,A){if($.isUndefined(_)){if(!$.isUndefined(x))return l(void 0,x,A)}else return l(x,_,A)}function h(x,_){if(!$.isUndefined(_))return l(void 0,_)}function g(x,_){if($.isUndefined(_)){if(!$.isUndefined(x))return l(void 0,x)}else return l(void 0,_)}function m(x,_,A){if(A in t)return l(x,_);if(A in n)return l(void 0,x)}const E={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(x,_)=>u(ju(x),ju(_),!0)};return $.forEach(Object.keys(Object.assign({},n,t)),function(_){const A=E[_]||u,O=A(n[_],t[_],_);$.isUndefined(O)&&A!==m||(s[_]=O)}),s}const Xh=n=>{const t=os({},n);let{data:s,withXSRFToken:l,xsrfHeaderName:u,xsrfCookieName:h,headers:g,auth:m}=t;t.headers=g=fn.from(g),t.url=Fh(Gh(t.baseURL,t.url),n.params,n.paramsSerializer),m&&g.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let E;if($.isFormData(s)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((E=g.getContentType())!==!1){const[x,..._]=E?E.split(";").map(A=>A.trim()).filter(Boolean):[];g.setContentType([x||"multipart/form-data",..._].join("; "))}}if(Bn.hasStandardBrowserEnv&&(l&&$.isFunction(l)&&(l=l(t)),l||l!==!1&&Lm(t.url))){const x=u&&h&&Pm.read(h);x&&g.set(u,x)}return t},Fm=typeof XMLHttpRequest<"u",Um=Fm&&function(n){return new Promise(function(s,l){const u=Xh(n);let h=u.data;const g=fn.from(u.headers).normalize();let{responseType:m}=u,E;function x(){u.cancelToken&&u.cancelToken.unsubscribe(E),u.signal&&u.signal.removeEventListener("abort",E)}let _=new XMLHttpRequest;_.open(u.method.toUpperCase(),u.url,!0),_.timeout=u.timeout;function A(){if(!_)return;const I=fn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),D={data:!m||m==="text"||m==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:I,config:n,request:_};Wh(function(ee){s(ee),x()},function(ee){l(ee),x()},D),_=null}"onloadend"in _?_.onloadend=A:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(A)},_.onabort=function(){_&&(l(new Ue("Request aborted",Ue.ECONNABORTED,u,_)),_=null)},_.onerror=function(){l(new Ue("Network Error",Ue.ERR_NETWORK,u,_)),_=null},_.ontimeout=function(){let L=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const D=u.transitional||Uh;u.timeoutErrorMessage&&(L=u.timeoutErrorMessage),l(new Ue(L,D.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,u,_)),_=null},h===void 0&&g.setContentType(null),"setRequestHeader"in _&&$.forEach(g.toJSON(),function(L,D){_.setRequestHeader(D,L)}),$.isUndefined(u.withCredentials)||(_.withCredentials=!!u.withCredentials),m&&m!=="json"&&(_.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&_.addEventListener("progress",So(u.onDownloadProgress,!0)),typeof u.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",So(u.onUploadProgress)),(u.cancelToken||u.signal)&&(E=I=>{_&&(l(!I||I.type?new zs(null,n,_):I),_.abort(),_=null)},u.cancelToken&&u.cancelToken.subscribe(E),u.signal&&(u.signal.aborted?E():u.signal.addEventListener("abort",E)));const O=Rm(u.url);if(O&&Bn.protocols.indexOf(O)===-1){l(new Ue("Unsupported protocol "+O+":",Ue.ERR_BAD_REQUEST,n));return}_.send(h||null)})},Vm=(n,t)=>{let s=new AbortController,l;const u=function(E){if(!l){l=!0,g();const x=E instanceof Error?E:this.reason;s.abort(x instanceof Ue?x:new zs(x instanceof Error?x.message:x))}};let h=t&&setTimeout(()=>{u(new Ue(`timeout ${t} of ms exceeded`,Ue.ETIMEDOUT))},t);const g=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(E=>{E&&(E.removeEventListener?E.removeEventListener("abort",u):E.unsubscribe(u))}),n=null)};n.forEach(E=>E&&E.addEventListener&&E.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=g,[m,()=>{h&&clearTimeout(h),h=null}]},Hm=function*(n,t){let s=n.byteLength;if(!t||s<t){yield n;return}let l=0,u;for(;l<s;)u=l+t,yield n.slice(l,u),l=u},Wm=async function*(n,t,s){for await(const l of n)yield*Hm(ArrayBuffer.isView(l)?l:await s(String(l)),t)},$u=(n,t,s,l,u)=>{const h=Wm(n,t,u);let g=0;return new ReadableStream({type:"bytes",async pull(m){const{done:E,value:x}=await h.next();if(E){m.close(),l();return}let _=x.byteLength;s&&s(g+=_),m.enqueue(new Uint8Array(x))},cancel(m){return l(m),h.return()}},{highWaterMark:2})},zu=(n,t)=>{const s=n!=null;return l=>setTimeout(()=>t({lengthComputable:s,total:n,loaded:l}))},ta=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jh=ta&&typeof ReadableStream=="function",Tl=ta&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Gm=jh&&(()=>{let n=!1;const t=new Request(Bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t})(),Yu=64*1024,vl=jh&&!!(()=>{try{return $.isReadableStream(new Response("").body)}catch{}})(),Io={stream:vl&&(n=>n.body)};ta&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Io[t]&&(Io[t]=$.isFunction(n[t])?s=>s[t]():(s,l)=>{throw new Ue(`Response type '${t}' is not supported`,Ue.ERR_NOT_SUPPORT,l)})})})(new Response);const Xm=async n=>{if(n==null)return 0;if($.isBlob(n))return n.size;if($.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if($.isArrayBufferView(n))return n.byteLength;if($.isURLSearchParams(n)&&(n=n+""),$.isString(n))return(await Tl(n)).byteLength},jm=async(n,t)=>{const s=$.toFiniteNumber(n.getContentLength());return s??Xm(t)},$m=ta&&(async n=>{let{url:t,method:s,data:l,signal:u,cancelToken:h,timeout:g,onDownloadProgress:m,onUploadProgress:E,responseType:x,headers:_,withCredentials:A="same-origin",fetchOptions:O}=Xh(n);x=x?(x+"").toLowerCase():"text";let[I,L]=u||h||g?Vm([u,h],g):[],D,z;const ee=()=>{!D&&setTimeout(()=>{I&&I.unsubscribe()}),D=!0};let q;try{if(E&&Gm&&s!=="get"&&s!=="head"&&(q=await jm(_,l))!==0){let Y=new Request(t,{method:"POST",body:l,duplex:"half"}),P;$.isFormData(l)&&(P=Y.headers.get("content-type"))&&_.setContentType(P),Y.body&&(l=$u(Y.body,Yu,zu(q,So(E)),null,Tl))}$.isString(A)||(A=A?"cors":"omit"),z=new Request(t,{...O,signal:I,method:s.toUpperCase(),headers:_.normalize().toJSON(),body:l,duplex:"half",withCredentials:A});let k=await fetch(z);const J=vl&&(x==="stream"||x==="response");if(vl&&(m||J)){const Y={};["status","statusText","headers"].forEach(K=>{Y[K]=k[K]});const P=$.toFiniteNumber(k.headers.get("content-length"));k=new Response($u(k.body,Yu,m&&zu(P,So(m,!0)),J&&ee,Tl),Y)}x=x||"text";let pe=await Io[$.findKey(Io,x)||"text"](k,n);return!J&&ee(),L&&L(),await new Promise((Y,P)=>{Wh(Y,P,{data:pe,headers:fn.from(k.headers),status:k.status,statusText:k.statusText,config:n,request:z})})}catch(k){throw ee(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,n,z),{cause:k.cause||k}):Ue.from(k,k&&k.code,n,z)}}),Sl={http:cm,xhr:Um,fetch:$m};$.forEach(Sl,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const Ku=n=>`- ${n}`,zm=n=>$.isFunction(n)||n===null||n===!1,$h={getAdapter:n=>{n=$.isArray(n)?n:[n];const{length:t}=n;let s,l;const u={};for(let h=0;h<t;h++){s=n[h];let g;if(l=s,!zm(s)&&(l=Sl[(g=String(s)).toLowerCase()],l===void 0))throw new Ue(`Unknown adapter '${g}'`);if(l)break;u[g||"#"+h]=l}if(!l){const h=Object.entries(u).map(([m,E])=>`adapter ${m} `+(E===!1?"is not supported by the environment":"is not available in the build"));let g=t?h.length>1?`since :
`+h.map(Ku).join(`
`):" "+Ku(h[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return l},adapters:Sl};function Ga(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new zs(null,n)}function qu(n){return Ga(n),n.headers=fn.from(n.headers),n.data=Wa.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),$h.getAdapter(n.adapter||Pi.adapter)(n).then(function(l){return Ga(n),l.data=Wa.call(n,n.transformResponse,l),l.headers=fn.from(l.headers),l},function(l){return Hh(l)||(Ga(n),l&&l.response&&(l.response.data=Wa.call(n,n.transformResponse,l.response),l.response.headers=fn.from(l.response.headers))),Promise.reject(l)})}const zh="1.7.2",uc={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{uc[n]=function(l){return typeof l===n||"a"+(t<1?"n ":" ")+n}});const Zu={};uc.transitional=function(t,s,l){function u(h,g){return"[Axios v"+zh+"] Transitional option '"+h+"'"+g+(l?". "+l:"")}return(h,g,m)=>{if(t===!1)throw new Ue(u(g," has been removed"+(s?" in "+s:"")),Ue.ERR_DEPRECATED);return s&&!Zu[g]&&(Zu[g]=!0,console.warn(u(g," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(h,g,m):!0}};function Ym(n,t,s){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const l=Object.keys(n);let u=l.length;for(;u-- >0;){const h=l[u],g=t[h];if(g){const m=n[h],E=m===void 0||g(m,h,n);if(E!==!0)throw new Ue("option "+h+" must be "+E,Ue.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ue("Unknown option "+h,Ue.ERR_BAD_OPTION)}}const Il={assertOptions:Ym,validators:uc},wr=Il.validators;class ns{constructor(t){this.defaults=t,this.interceptors={request:new Gu,response:new Gu}}async request(t,s){try{return await this._request(t,s)}catch(l){if(l instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{l.stack?h&&!String(l.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+h):l.stack=h}catch{}}throw l}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=os(this.defaults,s);const{transitional:l,paramsSerializer:u,headers:h}=s;l!==void 0&&Il.assertOptions(l,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),u!=null&&($.isFunction(u)?s.paramsSerializer={serialize:u}:Il.assertOptions(u,{encode:wr.function,serialize:wr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let g=h&&$.merge(h.common,h[s.method]);h&&$.forEach(["delete","get","head","post","put","patch","common"],L=>{delete h[L]}),s.headers=fn.concat(g,h);const m=[];let E=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(s)===!1||(E=E&&D.synchronous,m.unshift(D.fulfilled,D.rejected))});const x=[];this.interceptors.response.forEach(function(D){x.push(D.fulfilled,D.rejected)});let _,A=0,O;if(!E){const L=[qu.bind(this),void 0];for(L.unshift.apply(L,m),L.push.apply(L,x),O=L.length,_=Promise.resolve(s);A<O;)_=_.then(L[A++],L[A++]);return _}O=m.length;let I=s;for(A=0;A<O;){const L=m[A++],D=m[A++];try{I=L(I)}catch(z){D.call(this,z);break}}try{_=qu.call(this,I)}catch(L){return Promise.reject(L)}for(A=0,O=x.length;A<O;)_=_.then(x[A++],x[A++]);return _}getUri(t){t=os(this.defaults,t);const s=Gh(t.baseURL,t.url);return Fh(s,t.params,t.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(t){ns.prototype[t]=function(s,l){return this.request(os(l||{},{method:t,url:s,data:(l||{}).data}))}});$.forEach(["post","put","patch"],function(t){function s(l){return function(h,g,m){return this.request(os(m||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}ns.prototype[t]=s(),ns.prototype[t+"Form"]=s(!0)});class fc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const l=this;this.promise.then(u=>{if(!l._listeners)return;let h=l._listeners.length;for(;h-- >0;)l._listeners[h](u);l._listeners=null}),this.promise.then=u=>{let h;const g=new Promise(m=>{l.subscribe(m),h=m}).then(u);return g.cancel=function(){l.unsubscribe(h)},g},t(function(h,g,m){l.reason||(l.reason=new zs(h,g,m),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new fc(function(u){t=u}),cancel:t}}}function Km(n){return function(s){return n.apply(null,s)}}function qm(n){return $.isObject(n)&&n.isAxiosError===!0}const Ol={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ol).forEach(([n,t])=>{Ol[t]=n});function Yh(n){const t=new ns(n),s=vh(ns.prototype.request,t);return $.extend(s,ns.prototype,t,{allOwnKeys:!0}),$.extend(s,t,null,{allOwnKeys:!0}),s.create=function(u){return Yh(os(n,u))},s}const vt=Yh(Pi);vt.Axios=ns;vt.CanceledError=zs;vt.CancelToken=fc;vt.isCancel=Hh;vt.VERSION=zh;vt.toFormData=ea;vt.AxiosError=Ue;vt.Cancel=vt.CanceledError;vt.all=function(t){return Promise.all(t)};vt.spread=Km;vt.isAxiosError=qm;vt.mergeConfig=os;vt.AxiosHeaders=fn;vt.formToJSON=n=>Vh($.isHTMLForm(n)?new FormData(n):n);vt.getAdapter=$h.getAdapter;vt.HttpStatusCode=Ol;vt.default=vt;let Zm="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const hc=qo("users",{state:()=>({data:null}),actions:{async callAPI(){try{const n=await vt.get(Zm,{params:{table:"users"}});this.data=n.data,console.log("useUsersStore:"),console.log(this.data)}catch(n){console.log("call api error: "+n);return}},async get_user_by_email(n){this.data===null&&await this.callAPI();for(let t=0;t<this.data.length;t++)if(this.data[t].email===n)return console.log("user found: "),console.log(this.data[t]),this.data[t];return console.log("user not found."),!1}},getters:{get_data(){return this.data}}});let Qm="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const na=qo("clubs",{state:()=>({data:null}),actions:{async callAPI(){try{const n=await vt.get(Qm,{params:{table:"clubs"}});this.data=n.data,console.log("useClubsStore:"),console.log(this.data)}catch(n){console.log("call api error: "+n);return}},async get_club_by_email(n){this.data===null&&await this.callAPI();const t=this.data.find(s=>s.email===n);return t?(console.log("club found:",t),t):(console.log("club not found."),null)},async get_user_by_email_password(n,t){this.data===null&&await this.callAPI();for(let s=0;s<this.data.length;s++)if(console.log(this.data[s].email+" "+this.data[s].password),this.data[s].email==n&&this.data[s].password==t)return console.log("club found:"),console.log(this.data[s]),this.data[s];return console.log("club not found."),!1}},getters:{}}),ra=qo("auth",{state:()=>({name:null,nick_name:null,email:null,phone:null,stamps:null,is_club:!1,token:null}),actions:{async user_login(n){const s=await hc().get_user_by_email(n);console.log("user:"),console.log(s),s=={}?console.log("login failed :("):(this.token=s.user_id,this.name=s.name,this.nick_name=s.nick_name,this.email=s.email,this.phone=s.phone_number,console.log("user login successed!"))},async club_login(n,t){console.log("email: "+n),console.log("password: "+t);const l=await na().get_user_by_email_password(n,t);if(console.log("club: "+l),l)this.token=l.club_id,this.is_club=!0,this.name=l.name,this.email=l.email,console.log("club login successed!");else{console.log("login failed :(");return}},logout(){}},getters:{isLoggedIn:n=>!!n.token}}),Jm={class:"navbar navbar-expand-md navbar-dark fixed-top bg-danger"},ex={class:"container-fluid"},tx=ie("img",{src:x2,height:"32px"},null,-1),nx=ie("span",{class:"title"},"",-1),rx=ie("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[ie("span",{class:"navbar-toggler-icon"})],-1),sx={class:"collapse navbar-collapse",id:"navbarCollapse"},ix={class:"navbar-nav me-auto mb-2 mb-md-0"},ox={class:"nav-item"},ax={class:"nav-item"},lx={class:"nav-item"},cx={class:"nav-item"},ux={key:0,class:"nav-item"},fx={key:1,class:"nav-item"},hx={__name:"NavBar",setup(n){const t=ra();return(s,l)=>{const u=dl("RouterLink");return ft(),_t("nav",Jm,[ie("div",ex,[wt(u,{to:"/",class:"navbar-brand"},{default:br(()=>[tx,nx]),_:1}),rx,ie("div",sx,[ie("ul",ix,[ie("li",ox,[wt(u,{to:"/",class:"nav-link"},{default:br(()=>[rr("")]),_:1})]),ie("li",ax,[wt(u,{to:"/stamp",class:"nav-link"},{default:br(()=>[rr("")]),_:1})]),ie("li",lx,[wt(u,{to:"/rank",class:"nav-link"},{default:br(()=>[rr("")]),_:1})]),ie("li",cx,[wt(u,{to:"/partner",class:"nav-link"},{default:br(()=>[rr("")]),_:1})]),rt(t).isLoggedIn?Pn("",!0):(ft(),_t("li",ux,[wt(u,{to:"/register",class:"nav-link"},{default:br(()=>[rr("")]),_:1})])),!rt(t).isLoggedIn||rt(t).is_club?(ft(),_t("li",fx,[wt(u,{to:"/scan",class:"nav-link"},{default:br(()=>[rr("")]),_:1})])):Pn("",!0)])])])])}}},Ys=(n,t)=>{const s=n.__vccOpts||n;for(const[l,u]of t)s[l]=u;return s},dx={components:{NavBar:hx}},gx=mh('<svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"><button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg><span class="visually-hidden" id="bd-theme-text">Toggle theme</span></button><ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg> Light <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg> Dark <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg> Auto <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></div>',2),px={class:"flex-shrink-0"},mx={class:"container",style:{"padding-top":"60px"}},xx=ie("footer",{class:"footer mt-auto py-3 bg-body-tertiary"},[ie("div",{class:"container"},[ie("span",{class:"text-body-secondary"},"TTUSSC All Right Reserve")])],-1);function Ex(n,t,s,l,u,h){const g=dl("NavBar"),m=dl("RouterView");return ft(),_t(yn,null,[gx,ie("header",null,[wt(g)]),ie("main",px,[ie("div",mx,[wt(m,{class:"mt-3 mb-3"})])]),xx],64)}const wx=Ys(dx,[["render",Ex]]);/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ys=typeof document<"u";function _x(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const at=Object.assign;function Xa(n,t){const s={};for(const l in t){const u=t[l];s[l]=Fn(u)?u.map(n):n(u)}return s}const wi=()=>{},Fn=Array.isArray,Kh=/#/g,Ax=/&/g,bx=/\//g,Cx=/=/g,yx=/\?/g,qh=/\+/g,Tx=/%5B/g,vx=/%5D/g,Zh=/%5E/g,Sx=/%60/g,Qh=/%7B/g,Ix=/%7C/g,Jh=/%7D/g,Ox=/%20/g;function dc(n){return encodeURI(""+n).replace(Ix,"|").replace(Tx,"[").replace(vx,"]")}function Nx(n){return dc(n).replace(Qh,"{").replace(Jh,"}").replace(Zh,"^")}function Nl(n){return dc(n).replace(qh,"%2B").replace(Ox,"+").replace(Kh,"%23").replace(Ax,"%26").replace(Sx,"`").replace(Qh,"{").replace(Jh,"}").replace(Zh,"^")}function Rx(n){return Nl(n).replace(Cx,"%3D")}function Dx(n){return dc(n).replace(Kh,"%23").replace(yx,"%3F")}function Mx(n){return n==null?"":Dx(n).replace(bx,"%2F")}function Ii(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Lx=/\/$/,Px=n=>n.replace(Lx,"");function ja(n,t,s="/"){let l,u={},h="",g="";const m=t.indexOf("#");let E=t.indexOf("?");return m<E&&m>=0&&(E=-1),E>-1&&(l=t.slice(0,E),h=t.slice(E+1,m>-1?m:t.length),u=n(h)),m>-1&&(l=l||t.slice(0,m),g=t.slice(m,t.length)),l=Ux(l??t,s),{fullPath:l+(h&&"?")+h+g,path:l,query:u,hash:Ii(g)}}function Bx(n,t){const s=t.query?n(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Qu(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function kx(n,t,s){const l=t.matched.length-1,u=s.matched.length-1;return l>-1&&l===u&&ks(t.matched[l],s.matched[u])&&e0(t.params,s.params)&&n(t.query)===n(s.query)&&t.hash===s.hash}function ks(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function e0(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(!Fx(n[s],t[s]))return!1;return!0}function Fx(n,t){return Fn(n)?Ju(n,t):Fn(t)?Ju(t,n):n===t}function Ju(n,t){return Fn(t)?n.length===t.length&&n.every((s,l)=>s===t[l]):n.length===1&&n[0]===t}function Ux(n,t){if(n.startsWith("/"))return n;if(!n)return t;const s=t.split("/"),l=n.split("/"),u=l[l.length-1];(u===".."||u===".")&&l.push("");let h=s.length-1,g,m;for(g=0;g<l.length;g++)if(m=l[g],m!==".")if(m==="..")h>1&&h--;else break;return s.slice(0,h).join("/")+"/"+l.slice(g).join("/")}const _r={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Oi;(function(n){n.pop="pop",n.push="push"})(Oi||(Oi={}));var _i;(function(n){n.back="back",n.forward="forward",n.unknown=""})(_i||(_i={}));function Vx(n){if(!n)if(ys){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Px(n)}const Hx=/^[^#]+#/;function Wx(n,t){return n.replace(Hx,"#")+t}function Gx(n,t){const s=document.documentElement.getBoundingClientRect(),l=n.getBoundingClientRect();return{behavior:t.behavior,left:l.left-s.left-(t.left||0),top:l.top-s.top-(t.top||0)}}const sa=()=>({left:window.scrollX,top:window.scrollY});function Xx(n){let t;if("el"in n){const s=n.el,l=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?l?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;t=Gx(u,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ef(n,t){return(history.state?history.state.position-t:-1)+n}const Rl=new Map;function jx(n,t){Rl.set(n,t)}function $x(n){const t=Rl.get(n);return Rl.delete(n),t}let zx=()=>location.protocol+"//"+location.host;function t0(n,t){const{pathname:s,search:l,hash:u}=t,h=n.indexOf("#");if(h>-1){let m=u.includes(n.slice(h))?n.slice(h).length:1,E=u.slice(m);return E[0]!=="/"&&(E="/"+E),Qu(E,"")}return Qu(s,n)+l+u}function Yx(n,t,s,l){let u=[],h=[],g=null;const m=({state:O})=>{const I=t0(n,location),L=s.value,D=t.value;let z=0;if(O){if(s.value=I,t.value=O,g&&g===L){g=null;return}z=D?O.position-D.position:0}else l(I);u.forEach(ee=>{ee(s.value,L,{delta:z,type:Oi.pop,direction:z?z>0?_i.forward:_i.back:_i.unknown})})};function E(){g=s.value}function x(O){u.push(O);const I=()=>{const L=u.indexOf(O);L>-1&&u.splice(L,1)};return h.push(I),I}function _(){const{history:O}=window;O.state&&O.replaceState(at({},O.state,{scroll:sa()}),"")}function A(){for(const O of h)O();h=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:E,listen:x,destroy:A}}function tf(n,t,s,l=!1,u=!1){return{back:n,current:t,forward:s,replaced:l,position:window.history.length,scroll:u?sa():null}}function Kx(n){const{history:t,location:s}=window,l={value:t0(n,s)},u={value:t.state};u.value||h(l.value,{back:null,current:l.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function h(E,x,_){const A=n.indexOf("#"),O=A>-1?(s.host&&document.querySelector("base")?n:n.slice(A))+E:zx()+n+E;try{t[_?"replaceState":"pushState"](x,"",O),u.value=x}catch(I){console.error(I),s[_?"replace":"assign"](O)}}function g(E,x){const _=at({},t.state,tf(u.value.back,E,u.value.forward,!0),x,{position:u.value.position});h(E,_,!0),l.value=E}function m(E,x){const _=at({},u.value,t.state,{forward:E,scroll:sa()});h(_.current,_,!0);const A=at({},tf(l.value,E,null),{position:_.position+1},x);h(E,A,!1),l.value=E}return{location:l,state:u,push:m,replace:g}}function qx(n){n=Vx(n);const t=Kx(n),s=Yx(n,t.state,t.location,t.replace);function l(h,g=!0){g||s.pauseListeners(),history.go(h)}const u=at({location:"",base:n,go:l,createHref:Wx.bind(null,n)},t,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function Zx(n){return typeof n=="string"||n&&typeof n=="object"}function n0(n){return typeof n=="string"||typeof n=="symbol"}const r0=Symbol("");var nf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(nf||(nf={}));function Fs(n,t){return at(new Error,{type:n,[r0]:!0},t)}function er(n,t){return n instanceof Error&&r0 in n&&(t==null||!!(n.type&t))}const rf="[^/]+?",Qx={sensitive:!1,strict:!1,start:!0,end:!0},Jx=/[.+*?^${}()[\]/\\]/g;function eE(n,t){const s=at({},Qx,t),l=[];let u=s.start?"^":"";const h=[];for(const x of n){const _=x.length?[]:[90];s.strict&&!x.length&&(u+="/");for(let A=0;A<x.length;A++){const O=x[A];let I=40+(s.sensitive?.25:0);if(O.type===0)A||(u+="/"),u+=O.value.replace(Jx,"\\$&"),I+=40;else if(O.type===1){const{value:L,repeatable:D,optional:z,regexp:ee}=O;h.push({name:L,repeatable:D,optional:z});const q=ee||rf;if(q!==rf){I+=10;try{new RegExp(`(${q})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${L}" (${q}): `+J.message)}}let k=D?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;A||(k=z&&x.length<2?`(?:/${k})`:"/"+k),z&&(k+="?"),u+=k,I+=20,z&&(I+=-8),D&&(I+=-20),q===".*"&&(I+=-50)}_.push(I)}l.push(_)}if(s.strict&&s.end){const x=l.length-1;l[x][l[x].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const g=new RegExp(u,s.sensitive?"":"i");function m(x){const _=x.match(g),A={};if(!_)return null;for(let O=1;O<_.length;O++){const I=_[O]||"",L=h[O-1];A[L.name]=I&&L.repeatable?I.split("/"):I}return A}function E(x){let _="",A=!1;for(const O of n){(!A||!_.endsWith("/"))&&(_+="/"),A=!1;for(const I of O)if(I.type===0)_+=I.value;else if(I.type===1){const{value:L,repeatable:D,optional:z}=I,ee=L in x?x[L]:"";if(Fn(ee)&&!D)throw new Error(`Provided param "${L}" is an array but it is not repeatable (* or + modifiers)`);const q=Fn(ee)?ee.join("/"):ee;if(!q)if(z)O.length<2&&(_.endsWith("/")?_=_.slice(0,-1):A=!0);else throw new Error(`Missing required param "${L}"`);_+=q}}return _||"/"}return{re:g,score:l,keys:h,parse:m,stringify:E}}function tE(n,t){let s=0;for(;s<n.length&&s<t.length;){const l=t[s]-n[s];if(l)return l;s++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function s0(n,t){let s=0;const l=n.score,u=t.score;for(;s<l.length&&s<u.length;){const h=tE(l[s],u[s]);if(h)return h;s++}if(Math.abs(u.length-l.length)===1){if(sf(l))return 1;if(sf(u))return-1}return u.length-l.length}function sf(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const nE={type:0,value:""},rE=/[a-zA-Z0-9_]/;function sE(n){if(!n)return[[]];if(n==="/")return[[nE]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(I){throw new Error(`ERR (${s})/"${x}": ${I}`)}let s=0,l=s;const u=[];let h;function g(){h&&u.push(h),h=[]}let m=0,E,x="",_="";function A(){x&&(s===0?h.push({type:0,value:x}):s===1||s===2||s===3?(h.length>1&&(E==="*"||E==="+")&&t(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:x,regexp:_,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):t("Invalid state to consume buffer"),x="")}function O(){x+=E}for(;m<n.length;){if(E=n[m++],E==="\\"&&s!==2){l=s,s=4;continue}switch(s){case 0:E==="/"?(x&&A(),g()):E===":"?(A(),s=1):O();break;case 4:O(),s=l;break;case 1:E==="("?s=2:rE.test(E)?O():(A(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&m--);break;case 2:E===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+E:s=3:_+=E;break;case 3:A(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&m--,_="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${x}"`),A(),g(),u}function iE(n,t,s){const l=eE(sE(n.path),s),u=at(l,{record:n,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function oE(n,t){const s=[],l=new Map;t=lf({strict:!1,end:!0,sensitive:!1},t);function u(A){return l.get(A)}function h(A,O,I){const L=!I,D=aE(A);D.aliasOf=I&&I.record;const z=lf(t,A),ee=[D];if("alias"in A){const J=typeof A.alias=="string"?[A.alias]:A.alias;for(const pe of J)ee.push(at({},D,{components:I?I.record.components:D.components,path:pe,aliasOf:I?I.record:D}))}let q,k;for(const J of ee){const{path:pe}=J;if(O&&pe[0]!=="/"){const Y=O.record.path,P=Y[Y.length-1]==="/"?"":"/";J.path=O.record.path+(pe&&P+pe)}if(q=iE(J,O,z),I?I.alias.push(q):(k=k||q,k!==q&&k.alias.push(q),L&&A.name&&!af(q)&&g(A.name)),i0(q)&&E(q),D.children){const Y=D.children;for(let P=0;P<Y.length;P++)h(Y[P],q,I&&I.children[P])}I=I||q}return k?()=>{g(k)}:wi}function g(A){if(n0(A)){const O=l.get(A);O&&(l.delete(A),s.splice(s.indexOf(O),1),O.children.forEach(g),O.alias.forEach(g))}else{const O=s.indexOf(A);O>-1&&(s.splice(O,1),A.record.name&&l.delete(A.record.name),A.children.forEach(g),A.alias.forEach(g))}}function m(){return s}function E(A){const O=uE(A,s);s.splice(O,0,A),A.record.name&&!af(A)&&l.set(A.record.name,A)}function x(A,O){let I,L={},D,z;if("name"in A&&A.name){if(I=l.get(A.name),!I)throw Fs(1,{location:A});z=I.record.name,L=at(of(O.params,I.keys.filter(k=>!k.optional).concat(I.parent?I.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),A.params&&of(A.params,I.keys.map(k=>k.name))),D=I.stringify(L)}else if(A.path!=null)D=A.path,I=s.find(k=>k.re.test(D)),I&&(L=I.parse(D),z=I.record.name);else{if(I=O.name?l.get(O.name):s.find(k=>k.re.test(O.path)),!I)throw Fs(1,{location:A,currentLocation:O});z=I.record.name,L=at({},O.params,A.params),D=I.stringify(L)}const ee=[];let q=I;for(;q;)ee.unshift(q.record),q=q.parent;return{name:z,path:D,params:L,matched:ee,meta:cE(ee)}}n.forEach(A=>h(A));function _(){s.length=0,l.clear()}return{addRoute:h,resolve:x,removeRoute:g,clearRoutes:_,getRoutes:m,getRecordMatcher:u}}function of(n,t){const s={};for(const l of t)l in n&&(s[l]=n[l]);return s}function aE(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:lE(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function lE(n){const t={},s=n.props||!1;if("component"in n)t.default=s;else for(const l in n.components)t[l]=typeof s=="object"?s[l]:s;return t}function af(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function cE(n){return n.reduce((t,s)=>at(t,s.meta),{})}function lf(n,t){const s={};for(const l in n)s[l]=l in t?t[l]:n[l];return s}function uE(n,t){let s=0,l=t.length;for(;s!==l;){const h=s+l>>1;s0(n,t[h])<0?l=h:s=h+1}const u=fE(n);return u&&(l=t.lastIndexOf(u,l-1)),l}function fE(n){let t=n;for(;t=t.parent;)if(i0(t)&&s0(n,t)===0)return t}function i0({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function hE(n){const t={};if(n===""||n==="?")return t;const l=(n[0]==="?"?n.slice(1):n).split("&");for(let u=0;u<l.length;++u){const h=l[u].replace(qh," "),g=h.indexOf("="),m=Ii(g<0?h:h.slice(0,g)),E=g<0?null:Ii(h.slice(g+1));if(m in t){let x=t[m];Fn(x)||(x=t[m]=[x]),x.push(E)}else t[m]=E}return t}function cf(n){let t="";for(let s in n){const l=n[s];if(s=Rx(s),l==null){l!==void 0&&(t+=(t.length?"&":"")+s);continue}(Fn(l)?l.map(h=>h&&Nl(h)):[l&&Nl(l)]).forEach(h=>{h!==void 0&&(t+=(t.length?"&":"")+s,h!=null&&(t+="="+h))})}return t}function dE(n){const t={};for(const s in n){const l=n[s];l!==void 0&&(t[s]=Fn(l)?l.map(u=>u==null?null:""+u):l==null?l:""+l)}return t}const gE=Symbol(""),uf=Symbol(""),gc=Symbol(""),pc=Symbol(""),Dl=Symbol("");function ci(){let n=[];function t(l){return n.push(l),()=>{const u=n.indexOf(l);u>-1&&n.splice(u,1)}}function s(){n=[]}return{add:t,list:()=>n.slice(),reset:s}}function vr(n,t,s,l,u,h=g=>g()){const g=l&&(l.enterCallbacks[u]=l.enterCallbacks[u]||[]);return()=>new Promise((m,E)=>{const x=O=>{O===!1?E(Fs(4,{from:s,to:t})):O instanceof Error?E(O):Zx(O)?E(Fs(2,{from:t,to:O})):(g&&l.enterCallbacks[u]===g&&typeof O=="function"&&g.push(O),m())},_=h(()=>n.call(l&&l.instances[u],t,s,x));let A=Promise.resolve(_);n.length<3&&(A=A.then(x)),A.catch(O=>E(O))})}function $a(n,t,s,l,u=h=>h()){const h=[];for(const g of n)for(const m in g.components){let E=g.components[m];if(!(t!=="beforeRouteEnter"&&!g.instances[m]))if(pE(E)){const _=(E.__vccOpts||E)[t];_&&h.push(vr(_,s,l,g,m,u))}else{let x=E();h.push(()=>x.then(_=>{if(!_)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${g.path}"`));const A=_x(_)?_.default:_;g.components[m]=A;const I=(A.__vccOpts||A)[t];return I&&vr(I,s,l,g,m,u)()}))}}return h}function pE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function ff(n){const t=Ln(gc),s=Ln(pc),l=Tt(()=>{const E=rt(n.to);return t.resolve(E)}),u=Tt(()=>{const{matched:E}=l.value,{length:x}=E,_=E[x-1],A=s.matched;if(!_||!A.length)return-1;const O=A.findIndex(ks.bind(null,_));if(O>-1)return O;const I=hf(E[x-2]);return x>1&&hf(_)===I&&A[A.length-1].path!==I?A.findIndex(ks.bind(null,E[x-2])):O}),h=Tt(()=>u.value>-1&&wE(s.params,l.value.params)),g=Tt(()=>u.value>-1&&u.value===s.matched.length-1&&e0(s.params,l.value.params));function m(E={}){return EE(E)?t[rt(n.replace)?"replace":"push"](rt(n.to)).catch(wi):Promise.resolve()}return{route:l,href:Tt(()=>l.value.href),isActive:h,isExactActive:g,navigate:m}}const mE=j1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ff,setup(n,{slots:t}){const s=Di(ff(n)),{options:l}=Ln(gc),u=Tt(()=>({[df(n.activeClass,l.linkActiveClass,"router-link-active")]:s.isActive,[df(n.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const h=t.default&&t.default(s);return n.custom?h:wh("a",{"aria-current":s.isExactActive?n.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},h)}}}),xE=mE;function EE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function wE(n,t){for(const s in t){const l=t[s],u=n[s];if(typeof l=="string"){if(l!==u)return!1}else if(!Fn(u)||u.length!==l.length||l.some((h,g)=>h!==u[g]))return!1}return!0}function hf(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const df=(n,t,s)=>n??t??s,_E=j1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:s}){const l=Ln(Dl),u=Tt(()=>n.route||l.value),h=Ln(uf,0),g=Tt(()=>{let x=rt(h);const{matched:_}=u.value;let A;for(;(A=_[x])&&!A.components;)x++;return x}),m=Tt(()=>u.value.matched[g.value]);ho(uf,Tt(()=>g.value+1)),ho(gE,m),ho(Dl,u);const E=je();return mi(()=>[E.value,m.value,n.name],([x,_,A],[O,I,L])=>{_&&(_.instances[A]=x,I&&I!==_&&x&&x===O&&(_.leaveGuards.size||(_.leaveGuards=I.leaveGuards),_.updateGuards.size||(_.updateGuards=I.updateGuards))),x&&_&&(!I||!ks(_,I)||!O)&&(_.enterCallbacks[A]||[]).forEach(D=>D(x))},{flush:"post"}),()=>{const x=u.value,_=n.name,A=m.value,O=A&&A.components[_];if(!O)return gf(s.default,{Component:O,route:x});const I=A.props[_],L=I?I===!0?x.params:typeof I=="function"?I(x):I:null,z=wh(O,at({},L,t,{onVnodeUnmounted:ee=>{ee.component.isUnmounted&&(A.instances[_]=null)},ref:E}));return gf(s.default,{Component:z,route:x})||z}}});function gf(n,t){if(!n)return null;const s=n(t);return s.length===1?s[0]:s}const AE=_E;function bE(n){const t=oE(n.routes,n),s=n.parseQuery||hE,l=n.stringifyQuery||cf,u=n.history,h=ci(),g=ci(),m=ci(),E=yg(_r);let x=_r;ys&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Xa.bind(null,Z=>""+Z),A=Xa.bind(null,Mx),O=Xa.bind(null,Ii);function I(Z,ce){let me,Ce;return n0(Z)?(me=t.getRecordMatcher(Z),Ce=ce):Ce=Z,t.addRoute(Ce,me)}function L(Z){const ce=t.getRecordMatcher(Z);ce&&t.removeRoute(ce)}function D(){return t.getRoutes().map(Z=>Z.record)}function z(Z){return!!t.getRecordMatcher(Z)}function ee(Z,ce){if(ce=at({},ce||E.value),typeof Z=="string"){const N=ja(s,Z,ce.path),U=t.resolve({path:N.path},ce),te=u.createHref(N.fullPath);return at(N,U,{params:O(U.params),hash:Ii(N.hash),redirectedFrom:void 0,href:te})}let me;if(Z.path!=null)me=at({},Z,{path:ja(s,Z.path,ce.path).path});else{const N=at({},Z.params);for(const U in N)N[U]==null&&delete N[U];me=at({},Z,{params:A(N)}),ce.params=A(ce.params)}const Ce=t.resolve(me,ce),Pe=Z.hash||"";Ce.params=_(O(Ce.params));const st=Bx(l,at({},Z,{hash:Nx(Pe),path:Ce.path})),T=u.createHref(st);return at({fullPath:st,hash:Pe,query:l===cf?dE(Z.query):Z.query||{}},Ce,{redirectedFrom:void 0,href:T})}function q(Z){return typeof Z=="string"?ja(s,Z,E.value.path):at({},Z)}function k(Z,ce){if(x!==Z)return Fs(8,{from:ce,to:Z})}function J(Z){return P(Z)}function pe(Z){return J(at(q(Z),{replace:!0}))}function Y(Z){const ce=Z.matched[Z.matched.length-1];if(ce&&ce.redirect){const{redirect:me}=ce;let Ce=typeof me=="function"?me(Z):me;return typeof Ce=="string"&&(Ce=Ce.includes("?")||Ce.includes("#")?Ce=q(Ce):{path:Ce},Ce.params={}),at({query:Z.query,hash:Z.hash,params:Ce.path!=null?{}:Z.params},Ce)}}function P(Z,ce){const me=x=ee(Z),Ce=E.value,Pe=Z.state,st=Z.force,T=Z.replace===!0,N=Y(me);if(N)return P(at(q(N),{state:typeof N=="object"?at({},Pe,N.state):Pe,force:st,replace:T}),ce||me);const U=me;U.redirectedFrom=ce;let te;return!st&&kx(l,Ce,me)&&(te=Fs(16,{to:U,from:Ce}),Ht(Ce,Ce,!0,!1)),(te?Promise.resolve(te):xe(U,Ce)).catch(j=>er(j)?er(j,2)?j:St(j):He(j,U,Ce)).then(j=>{if(j){if(er(j,2))return P(at({replace:T},q(j.to),{state:typeof j.to=="object"?at({},Pe,j.to.state):Pe,force:st}),ce||U)}else j=de(U,Ce,!0,T,Pe);return ye(U,Ce,j),j})}function K(Z,ce){const me=k(Z,ce);return me?Promise.reject(me):Promise.resolve()}function V(Z){const ce=ot.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(Z):Z()}function xe(Z,ce){let me;const[Ce,Pe,st]=CE(Z,ce);me=$a(Ce.reverse(),"beforeRouteLeave",Z,ce);for(const N of Ce)N.leaveGuards.forEach(U=>{me.push(vr(U,Z,ce))});const T=K.bind(null,Z,ce);return me.push(T),we(me).then(()=>{me=[];for(const N of h.list())me.push(vr(N,Z,ce));return me.push(T),we(me)}).then(()=>{me=$a(Pe,"beforeRouteUpdate",Z,ce);for(const N of Pe)N.updateGuards.forEach(U=>{me.push(vr(U,Z,ce))});return me.push(T),we(me)}).then(()=>{me=[];for(const N of st)if(N.beforeEnter)if(Fn(N.beforeEnter))for(const U of N.beforeEnter)me.push(vr(U,Z,ce));else me.push(vr(N.beforeEnter,Z,ce));return me.push(T),we(me)}).then(()=>(Z.matched.forEach(N=>N.enterCallbacks={}),me=$a(st,"beforeRouteEnter",Z,ce,V),me.push(T),we(me))).then(()=>{me=[];for(const N of g.list())me.push(vr(N,Z,ce));return me.push(T),we(me)}).catch(N=>er(N,8)?N:Promise.reject(N))}function ye(Z,ce,me){m.list().forEach(Ce=>V(()=>Ce(Z,ce,me)))}function de(Z,ce,me,Ce,Pe){const st=k(Z,ce);if(st)return st;const T=ce===_r,N=ys?history.state:{};me&&(Ce||T?u.replace(Z.fullPath,at({scroll:T&&N&&N.scroll},Pe)):u.push(Z.fullPath,Pe)),E.value=Z,Ht(Z,ce,me,T),St()}let ve;function qe(){ve||(ve=u.listen((Z,ce,me)=>{if(!Wt.listening)return;const Ce=ee(Z),Pe=Y(Ce);if(Pe){P(at(Pe,{replace:!0}),Ce).catch(wi);return}x=Ce;const st=E.value;ys&&jx(ef(st.fullPath,me.delta),sa()),xe(Ce,st).catch(T=>er(T,12)?T:er(T,2)?(P(T.to,Ce).then(N=>{er(N,20)&&!me.delta&&me.type===Oi.pop&&u.go(-1,!1)}).catch(wi),Promise.reject()):(me.delta&&u.go(-me.delta,!1),He(T,Ce,st))).then(T=>{T=T||de(Ce,st,!1),T&&(me.delta&&!er(T,8)?u.go(-me.delta,!1):me.type===Oi.pop&&er(T,20)&&u.go(-1,!1)),ye(Ce,st,T)}).catch(wi)}))}let X=ci(),Ie=ci(),le;function He(Z,ce,me){St(Z);const Ce=Ie.list();return Ce.length?Ce.forEach(Pe=>Pe(Z,ce,me)):console.error(Z),Promise.reject(Z)}function ht(){return le&&E.value!==_r?Promise.resolve():new Promise((Z,ce)=>{X.add([Z,ce])})}function St(Z){return le||(le=!Z,qe(),X.list().forEach(([ce,me])=>Z?me(Z):ce()),X.reset()),Z}function Ht(Z,ce,me,Ce){const{scrollBehavior:Pe}=n;if(!ys||!Pe)return Promise.resolve();const st=!me&&$x(ef(Z.fullPath,0))||(Ce||!me)&&history.state&&history.state.scroll||null;return nc().then(()=>Pe(Z,ce,st)).then(T=>T&&Xx(T)).catch(T=>He(T,Z,ce))}const ze=Z=>u.go(Z);let Lt;const ot=new Set,Wt={currentRoute:E,listening:!0,addRoute:I,removeRoute:L,clearRoutes:t.clearRoutes,hasRoute:z,getRoutes:D,resolve:ee,options:n,push:J,replace:pe,go:ze,back:()=>ze(-1),forward:()=>ze(1),beforeEach:h.add,beforeResolve:g.add,afterEach:m.add,onError:Ie.add,isReady:ht,install(Z){const ce=this;Z.component("RouterLink",xE),Z.component("RouterView",AE),Z.config.globalProperties.$router=ce,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>rt(E)}),ys&&!Lt&&E.value===_r&&(Lt=!0,J(u.location).catch(Pe=>{}));const me={};for(const Pe in _r)Object.defineProperty(me,Pe,{get:()=>E.value[Pe],enumerable:!0});Z.provide(gc,ce),Z.provide(pc,R1(me)),Z.provide(Dl,E);const Ce=Z.unmount;ot.add(Z),Z.unmount=function(){ot.delete(Z),ot.size<1&&(x=_r,ve&&ve(),ve=null,E.value=_r,Lt=!1,le=!1),Ce()}}};function we(Z){return Z.reduce((ce,me)=>ce.then(()=>V(me)),Promise.resolve())}return Wt}function CE(n,t){const s=[],l=[],u=[],h=Math.max(t.matched.length,n.matched.length);for(let g=0;g<h;g++){const m=t.matched[g];m&&(n.matched.find(x=>ks(x,m))?l.push(m):s.push(m));const E=n.matched[g];E&&(t.matched.find(x=>ks(x,E))||u.push(E))}return[s,l,u]}function yE(n){return Ln(pc)}const TE=["src"],o0={__name:"createQRcode",props:{url:String},setup(n){const t=n;var s="https://quickchart.io/qr?size=1080&margin=2&text=";return console.log(s+t.url),(l,u)=>(ft(),_t("img",{class:"qrcode img-fluid rounded",src:rt(s)+t.url,alt:""},null,8,TE))}},vE=ie("h1",null,"",-1),SE=ie("button",{class:"btn btn-primary my-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"  ",-1),IE={class:"collapse mb-3 mx-auto",id:"collapseExample"},OE={class:"card card-body"},NE={__name:"HomeView",setup(n){return(t,s)=>(ft(),_t("div",null,[vE,SE,ie("div",IE,[ie("div",OE,[wt(o0,{url:"https://ttussc.github.io/Earth_Game"})])])]))}},RE={},DE=ie("h1",null,"",-1),ME=[DE];function LE(n,t){return ft(),_t("div",null,ME)}const PE=Ys(RE,[["render",LE]]);var BE=function n(t){function s(V,xe){return V>>>xe|V<<32-xe}for(var l=Math.pow,u=l(2,32),h="length",g,m,E="",x=[],_=t[h]*8,A=n.h=n.h||[],O=n.k=n.k||[],I=O[h],L={},D=2;I<64;D++)if(!L[D]){for(g=0;g<313;g+=D)L[g]=D;A[I]=l(D,.5)*u|0,O[I++]=l(D,1/3)*u|0}for(t+="";t[h]%64-56;)t+="\0";for(g=0;g<t[h];g++){if(m=t.charCodeAt(g),m>>8)return;x[g>>2]|=m<<(3-g)%4*8}for(x[x[h]]=_/u|0,x[x[h]]=_,m=0;m<x[h];){var z=x.slice(m,m+=16),ee=A;for(A=A.slice(0,8),g=0;g<64;g++){var q=z[g-15],k=z[g-2],J=A[0],pe=A[4],Y=A[7]+(s(pe,6)^s(pe,11)^s(pe,25))+(pe&A[5]^~pe&A[6])+O[g]+(z[g]=g<16?z[g]:z[g-16]+(s(q,7)^s(q,18)^q>>>3)+z[g-7]+(s(k,17)^s(k,19)^k>>>10)|0),P=(s(J,2)^s(J,13)^s(J,22))+(J&A[1]^J&A[2]^A[1]&A[2]);A=[Y+P|0].concat(A),A[4]=A[4]+Y|0}for(g=0;g<8;g++)A[g]=A[g]+ee[g]|0}for(g=0;g<8;g++)for(m=3;m+1;m--){var K=A[g]>>m*8&255;E+=(K<16?0:"")+K.toString(16)}return E};let kE="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const a0=qo("records",{state:()=>({data:null}),actions:{async callAPI(){const n=await vt.get(kE,{params:{table:"records"}});this.data=n.data,console.log("useRecordsStore:"),console.log(this.data)},async query_record(n,t){console.log("query_record("+n+", "+t+")"),await this.callAPI();for(let s=0;s<this.data.length;s++)if(console.log(this.data[s].club_email+" "+this.data[s].user_email),this.data[s].club_email==n&&this.data[s].user_email==t)return console.log("record found:"),console.log(this.data[s]),this.data[s];return console.log("record not found."),!1},async query_by_user(n){const t=na();await this.callAPI();let s=[];const l=je();for(let u=0;u<this.data.length;u++)if(this.data[u].user_email===n){l.value=await t.get_club_by_email(this.data[u].club_email);let h=l.value.name;s.push({user_email:this.data[u].user_email,club_name:h,club_email:this.data[u].club_email,created_time:this.data[u].created_time})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s},async query_by_club(n){await this.callAPI();for(let t=0;t<this.data.length;t++)if(this.data.club_email===n)return console.log("record found:"),console.log(this.data[t]),this.data[t];return console.log("record not found."),!1}},getters:{}}),FE=ie("h1",{class:"title"},"",-1),UE={class:"row align-items-center needs-validation my-3"},VE={class:"col mb-3"},HE=["disabled"],WE=ie("div",{class:"valid-feedback"},"Looks good!",-1),GE=ie("div",{class:"invalid-feedback"},"Looks bad!",-1),XE={class:"col-3 mb-3"},jE=ie("li",{class:"nav-item",role:"presentation"},[ie("button",{class:"nav-link active",id:"qrcode-tab","data-bs-toggle":"tab","data-bs-target":"#qrcode-tab-pane",type:"button",role:"tab","aria-controls":"qrcode-tab-pane","aria-selected":"true"}," QR code ")],-1),$E=ie("li",{class:"nav-item",role:"presentation"},[ie("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"},"  ")],-1),zE={class:"tab-content",id:"myTabContent"},YE={class:"tab-pane fade show active",id:"qrcode-tab-pane",role:"tabpanel","aria-labelledby":"qrcode-tab",tabindex:"0"},KE={class:"tab-pane fade",id:"card-tab-pane",role:"tabpanel","aria-labelledby":"card-tab",tabindex:"0"},qE={class:"mb-2"},ZE={class:"card-body"},QE=ie("br",null,null,-1),JE={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},ew={key:0},tw={class:"card"},nw={class:"card-body"},rw={class:"card-text"},sw=ie("br",null,null,-1),iw=ie("br",null,null,-1),ow=ie("br",null,null,-1),aw={__name:"StampView",setup(n){const t=hc(),s=a0(),l=na();t.callAPI(),s.callAPI(),l.callAPI();const u=ra(),h=je(""),g=je(!1),m=je(""),E=Tt(()=>{let D=m.value.trim();return D==""?"":BE(D)});let x=je(!1),_=je("btn btn-primary"),A=je("");u.isLoggedIn&&(m.value=u.email,x.value||(x.value=!0,_.value="btn btn-danger",A.value=""));const O=async()=>{console.log("lock btn pushed."),x.value=!x.value,x.value?(_.value="btn btn-danger",A.value=""):(_.value="btn btn-primary",A.value=""),await u.user_login(m.value),u.isLoggedIn?(g.value=!1,h.value="",await L()):(g.value=!0,h.value="",x.value=!1,_.value="btn btn-primary",A.value="")},I=je([]),L=async()=>{I.value=await s.query_by_user(u.email),console.log("email: "+u.email,I)};return Tt(()=>I.value.reduce((D,z)=>{const ee=l.get_club_by_email(z.club_email);return D[z.club_email]=ee?ee.name:"",D},{})),(D,z)=>(ft(),_t("div",null,[FE,h.value?(ft(),_t("div",{key:0,class:Vt(["mt-3 text-break",["alert",g.value?"alert-danger":"alert-success"]]),role:"alert"},Et(h.value),3)):Pn("",!0),ie("div",UE,[ie("div",VE,[Sr(ie("input",{type:"text",class:"form-control",id:"account","onUpdate:modelValue":z[0]||(z[0]=ee=>m.value=ee),placeholder:" Email",required:"",disabled:rt(x)},null,8,HE),[[qr,m.value]]),WE,GE]),ie("div",XE,[ie("button",{type:"submit",class:Vt(["btn",rt(_)]),onClick:O},Et(rt(A)),3)])]),ie("ul",{class:"nav nav-tabs mb-2",id:"myTab",role:"tablist"},[jE,ie("li",{class:"nav-item",role:"presentation"},[ie("button",{class:"nav-link",id:"card-tab","data-bs-toggle":"tab","data-bs-target":"#card-tab-pane",type:"button",role:"tab","aria-controls":"card-tab-pane","aria-selected":"false",onClick:L},"  ")]),$E]),ie("div",zE,[ie("div",YE,[E.value!=""&&rt(u).isLoggedIn?(ft(),gh(o0,{key:0,url:m.value.trim()},null,8,["url"])):Pn("",!0)]),ie("div",KE,[ie("div",qE,""+Et(I.value.length),1),(ft(!0),_t(yn,null,Yg(I.value,ee=>(ft(),_t("div",{class:"card",key:ee.created_time},[ie("div",ZE,[rr(" "+Et(ee.club_name),1),QE,rr(" "+Et(ee.created_time),1)])]))),128))]),ie("div",JE,[rt(u).isLoggedIn?(ft(),_t("div",ew,[ie("div",tw,[ie("div",nw,[ie("p",rw,[ie("span",null,": "+Et(rt(u).name),1),sw,ie("span",null,": "+Et(rt(u).nick_name),1),iw,ie("span",null,": "+Et(rt(u).email),1),ow,ie("span",null,": "+Et(rt(u).phone),1)])])])])):Pn("",!0)])])]))}},lw=ie("h1",null,"Profile",-1),cw={__name:"ProfileView",setup(n){const t=yE();return(s,l)=>(ft(),_t("div",null,[lw,ie("span",null,Et(rt(t).params.id),1)]))}},uw="/Earth_Game/ssc_full_name.png",fw={},hw=mh('<h1 class="my-3"></h1><div class="text-center"><h2></h2></div><img class="img-fluid mt-2 mb-4" src="'+uw+'" alt=""><p> TTUSSC  SITCONCOSCUP  </p><h1 class="mb-4"></h1><div class="text-center"><h2></h2><p></p></div><div class="text-center"><h2></h2><p></p></div><div class="text-center"><h2></h2><p></p></div><div class="text-center"><h2></h2><p></p></div>',9),dw=[hw];function gw(n,t){return ft(),_t("div",null,dw)}const pw=Ys(fw,[["render",gw]]),mw={},xw=ie("h1",null,"404 Not Found",-1),Ew=ie("p",null,"",-1),ww=[xw,Ew];function _w(n,t){return ft(),_t("div",null,ww)}const pf=Ys(mw,[["render",_w]]),mc=n=>(W1("data-v-a9c151d5"),n=n(),G1(),n),Aw=mc(()=>ie("h1",null,"",-1)),bw={class:"col-md-6"},Cw={class:"invalid-feedback"},yw={class:"col-md-4"},Tw={class:"invalid-feedback"},vw={class:"col-md-6"},Sw={class:"invalid-feedback"},Iw={class:"col-md-6"},Ow={class:"invalid-feedback"},Nw={class:"col-12"},Rw={class:"form-check"},Dw=mc(()=>ie("label",{class:"form-check-label",for:"gridCheck"},"  ",-1)),Mw={class:"invalid-feedback"},Lw={class:"col-6 d-grid mx-auto"},Pw=["disabled"],Bw={key:1,class:"loading-overlay"},kw=mc(()=>ie("div",{class:"spinner-border text-primary",role:"status"},[ie("span",{class:"visually-hidden"},"Loading...")],-1)),Fw=[kw],Uw={__name:"RegisterView",setup(n){let t=je(""),s=je(""),l=je(""),u=je(""),h=je(""),g=je(!1);const m=je(!1),E=je(""),x=je(!1),_=je({name:"",nick_name:"",email:"",phone:"",password:"",check:""});var A=je("row g-3 my-3 needs-validation");const O=async()=>{m.value=!0;try{if(await J()){const P=new FormData;P.append("entry.1936143612",t.value),P.append("entry.1883933211",s.value),P.append("entry.2093473455",l.value),P.append("entry.1241463021",u.value),await fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfijitS0keu4OKn0P6PdaVg_R9QGPwsP5jl7Wa7RIOnNeNYbA/formResponse",{method:"POST",mode:"no-cors",body:P}),console.log("Form submitted successfully"),x.value=!1,E.value="",pe()}else console.log("")}catch(Y){x.value=!0,E.value=""+Y,console.error("Error submitting form:",Y)}finally{m.value=!1}},I=(Y,P,K)=>K.required&&!P?(_.value[Y]="",!1):K.minLength&&P.length<K.minLength?(_.value[Y]=` ${K.minLength} `,!1):K.pattern&&!K.pattern.test(P)?(_.value[Y]="",!1):(_.value[Y]="",A.value="row g-3 my-3 needs-validation was-validated",!0),L=Tt(()=>I("name",t.value,{required:!0})),D=Tt(()=>I("nick_name",s.value,{required:!0})),z=Tt(()=>I("email",l.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),ee=Tt(()=>I("phone",u.value,{required:!0,pattern:/^\d{10}$/})),q=Tt(()=>I("check",g.value,{required:!0})),k=Tt(()=>L.value&&D.value&&z.value&&ee.value&&q.value);async function J(){let Y="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";var P=!0;if(!k.value)return A.value="row g-3 my-3 needs-validation was-validated",!1;try{const V=await vt.get(Y,{params:{table:"users"}});console.log("get users data:"),console.log(V.data);const xe=V.data;for(var K=0;K<xe.length;K++)if(xe[K].email===l.value||xe[K].phone_number===u.value)return console.log("data conflict."),x.value=!0,E.value="",!1;return console.log("data valid passed."),P}catch(V){return console.error("Error validating form:",V),!1}}const pe=()=>{t.value="",s.value="",l.value="",u.value="",h.value="",g.value=!1};return(Y,P)=>(ft(),_t("div",null,[Aw,E.value?(ft(),_t("div",{key:0,class:Vt(["mt-3",["alert",x.value?"alert-danger":"alert-success"]]),role:"alert"},Et(E.value),3)):Pn("",!0),ie("form",{class:Vt(rt(A)),onSubmit:Ah(O,["prevent"]),novalidate:""},[ie("div",bw,[Sr(ie("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=K=>gt(t)?t.value=K:t=K),class:Vt(["form-control",{"is-invalid":!L.value}]),name:"name",id:"name",placeholder:"",required:""},null,2),[[qr,rt(t)]]),ie("div",Cw,Et(_.value.name),1)]),ie("div",yw,[Sr(ie("input",{type:"text","onUpdate:modelValue":P[1]||(P[1]=K=>gt(s)?s.value=K:s=K),class:Vt(["form-control",{"is-invalid":!D.value}]),name:"nick_name",id:"nick_name",placeholder:"",required:""},null,2),[[qr,rt(s)]]),ie("div",Tw,Et(_.value.nick_name),1)]),ie("div",vw,[Sr(ie("input",{type:"email","onUpdate:modelValue":P[2]||(P[2]=K=>gt(l)?l.value=K:l=K),class:Vt(["form-control",{"is-invalid":!z.value}]),name:"email",id:"email",placeholder:"",required:""},null,2),[[qr,rt(l)]]),ie("div",Sw,Et(_.value.email),1)]),ie("div",Iw,[Sr(ie("input",{type:"tel","onUpdate:modelValue":P[3]||(P[3]=K=>gt(u)?u.value=K:u=K),class:Vt(["form-control",{"is-invalid":!ee.value}]),name:"phone",id:"phone",placeholder:"",required:""},null,2),[[qr,rt(u)]]),ie("div",Ow,Et(_.value.phone),1)]),ie("div",Nw,[ie("div",Rw,[Sr(ie("input",{type:"checkbox",class:Vt(["form-check-input",{"is-invalid":!q.value}]),"onUpdate:modelValue":P[4]||(P[4]=K=>gt(g)?g.value=K:g=K),id:"gridCheck",required:""},null,2),[[l2,rt(g)]]),Dw,ie("div",Mw,Et(_.value.check),1)])]),ie("div",Lw,[ie("button",{type:"submit",class:"btn btn-primary",disabled:!k.value||m.value},Et(m.value?"...":""),9,Pw)])],34),m.value?(ft(),_t("div",Bw,Fw)):Pn("",!0)]))}},Vw=Ys(Uw,[["__scopeId","data-v-a9c151d5"]]);var be;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var mf=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),xf;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(xf||(xf={}));function Hw(n){return Object.values(be).includes(n)}var Oo;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Oo||(Oo={}));var Ww=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Oo.SCAN_TYPE_CAMERA,Oo.SCAN_TYPE_FILE],n}(),l0=function(){function n(t,s){this.format=t,this.formatName=s}return n.prototype.toString=function(){return this.formatName},n.create=function(t){if(!mf.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new n(t,mf.get(t))},n}(),Ef=function(){function n(){}return n.createFromText=function(t){var s={text:t};return{decodedText:t,result:s}},n.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},n}(),Ml;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ml||(Ml={}));var Gw=function(){function n(){}return n.createFrom=function(t){return{errorMessage:t,type:Ml.UNKWOWN_ERROR}},n}(),Xw=function(){function n(t){this.verbose=t}return n.prototype.log=function(t){this.verbose&&console.log(t)},n.prototype.warn=function(t){this.verbose&&console.warn(t)},n.prototype.logError=function(t,s){(this.verbose||s===!0)&&console.error(t)},n.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},n}();function tr(n){return typeof n>"u"||n===null}var Is=function(){function n(){}return n.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},n.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),c0=function(){function n(){}return n.isMediaStreamConstraintsValid=function(t,s){if(typeof t!="object"){var l=typeof t;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),g=Object.keys(t),m=0,E=g;m<E.length;m++){var x=E[m];if(h.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},n}(),ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ll={exports:{}};(function(n,t){(function(s,l){l(t)})(ui,function(s){function l(b){return b==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,e){b.__proto__=e}||function(b,e){for(var r in e)e.hasOwnProperty(r)&&(b[r]=e[r])};function h(b,e){u(b,e);function r(){this.constructor=b}b.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g(b,e){var r=Object.setPrototypeOf;r?r(b,e):b.__proto__=e}function m(b,e){e===void 0&&(e=b.constructor);var r=Error.captureStackTrace;r&&r(b,e)}var E=function(b){h(e,b);function e(r){var i=this.constructor,o=b.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),g(o,i.prototype),m(o),o}return e}(Error);class x extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class _ extends x{}_.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class O{constructor(e){if(this.binarizer=e,e===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,i,o){const a=this.binarizer.getLuminanceSource().crop(e,r,i,o);return new O(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends x{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(e,r,i,o,a){for(;a--;)i[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class z extends x{}z.kind="IndexOutOfBoundsException";class ee extends z{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}ee.kind="ArrayIndexOutOfBoundsException";class q{static fill(e,r){for(let i=0,o=e.length;i<o;i++)e[i]=r}static fillWithin(e,r,i,o){q.rangeCheck(e.length,r,i);for(let a=r;a<i;a++)e[a]=o}static rangeCheck(e,r,i){if(r>i)throw new A("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new ee(r);if(i>e)throw new ee(i)}static asList(...e){return e}static create(e,r,i){return Array.from({length:e}).map(a=>Array.from({length:r}).fill(i))}static createInt32Array(e,r,i){return Array.from({length:e}).map(a=>Int32Array.from({length:r}).fill(i))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==r[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const i of e)r=31*r+i;return r}static fillUint8Array(e,r){for(let i=0;i!==e.length;i++)e[i]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const i=new Uint8Array(r);return i.set(e),i}return e.slice(0,r)}static copyOfRange(e,r,i){const o=i-r,a=new Int32Array(o);return D.arraycopy(e,r,a,0,o),a}static binarySearch(e,r,i){i===void 0&&(i=q.numberComparator);let o=0,a=e.length-1;for(;o<=a;){const c=a+o>>1,f=i(r,e[c]);if(f>0)o=c+1;else if(f<0)a=c-1;else return c}return-o-1}static numberComparator(e,r){return e-r}}class k{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let i=31;return r=e<<16,r!==0&&(i-=16,e=r),r=e<<8,r!==0&&(i-=8,e=r),r=e<<4,r!==0&&(i-=4,e=r),r=e<<2,r!==0&&(i-=2,e=r),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=J.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=J.makeArray(e);D.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),a=i[o];a&=~((1<<(e&31))-1);const c=i.length;for(;a===0;){if(++o===c)return r;a=i[o]}const f=o*32+k.numberOfTrailingZeros(a);return f>r?r:f}getNextUnset(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),a=~i[o];a&=~((1<<(e&31))-1);const c=i.length;for(;a===0;){if(++o===c)return r;a=~i[o]}const f=o*32+k.numberOfTrailingZeros(a);return f>r?r:f}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new A;if(r===e)return;r--;const i=Math.floor(e/32),o=Math.floor(r/32),a=this.bits;for(let c=i;c<=o;c++){const f=c>i?0:e&31,p=(2<<(c<o?31:r&31))-(1<<f);a[c]|=p}}clear(){const e=this.bits.length,r=this.bits;for(let i=0;i<e;i++)r[i]=0}isRange(e,r,i){if(r<e||e<0||r>this.size)throw new A;if(r===e)return!0;r--;const o=Math.floor(e/32),a=Math.floor(r/32),c=this.bits;for(let f=o;f<=a;f++){const d=f>o?0:e&31,w=(2<<(f<a?31:r&31))-(1<<d)&4294967295;if((c[f]&w)!==(i?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=e.bits[i]}toBytes(e,r,i,o){for(let a=0;a<o;a++){let c=0;for(let f=0;f<8;f++)this.get(e)&&(c|=1<<7-f),e++;r[i+a]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let a=0;a<i;a++){let c=o[a];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[r-a]=c}if(this.size!==i*32){const a=i*32-this.size;let c=e[0]>>>a;for(let f=1;f<i;f++){const d=e[f];c|=d<<32-a,e[f-1]=c,c=d>>>a}e[i-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof J))return!1;const r=e;return this.size===r.size&&q.equals(this.bits,r.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let e="";for(let r=0,i=this.size;r<i;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new J(this.size,this.bits.slice())}}var pe;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(pe||(pe={}));var Y=pe;class P extends x{static getFormatInstance(){return new P}}P.kind="FormatException";var K;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(K||(K={}));class V{constructor(e,r,i,...o){this.valueIdentifier=e,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,V.VALUE_IDENTIFIER_TO_ECI.set(e,this),V.NAME_TO_ECI.set(i,this);const a=this.values;for(let c=0,f=a.length;c!==f;c++){const d=a[c];V.VALUES_TO_ECI.set(d,this)}for(const c of o)V.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new P("incorect value");const r=V.VALUES_TO_ECI.get(e);if(r===void 0)throw new P("incorect value");return r}static getCharacterSetECIByName(e){const r=V.NAME_TO_ECI.get(e);if(r===void 0)throw new P("incorect value");return r}equals(e){if(!(e instanceof V))return!1;const r=e;return this.getName()===r.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(K.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(K.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(K.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(K.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(K.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(K.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(K.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(K.Big5,28,"Big5"),V.GB18030=new V(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(K.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends x{}xe.kind="UnsupportedOperationException";class ye{static decode(e,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!ye.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof V?e:V.getCharacterSetECIByName(e)}static decodeFallback(e,r){const i=this.encodingCharacterSet(r);if(ye.isDecodeFallbackSupported(i)){let o="";for(let a=0,c=e.length;a<c;a++){let f=e[a].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(V.UTF8)||e.equals(V.ISO8859_1)||e.equals(V.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let a=0;a<i.length;a++)o.push(i[a].charCodeAt(0));return new Uint8Array(o)}}class de{static castAsNonUtf8Char(e,r=null){const i=r?r.getName():this.ISO88591;return ye.decode(new Uint8Array([e]),i)}static guessEncoding(e,r){if(r!=null&&r.get(Y.CHARACTER_SET)!==void 0)return r.get(Y.CHARACTER_SET).toString();const i=e.length;let o=!0,a=!0,c=!0,f=0,d=0,p=0,w=0,C=0,y=0,S=0,R=0,M=0,B=0,G=0;const ue=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let he=0;he<i&&(o||a||c);he++){const ae=e[he]&255;c&&(f>0?ae&128?f--:c=!1:ae&128&&(ae&64?(f++,ae&32?(f++,ae&16?(f++,ae&8?c=!1:w++):p++):d++):c=!1)),o&&(ae>127&&ae<160?o=!1:ae>159&&(ae<192||ae===215||ae===247)&&G++),a&&(C>0?ae<64||ae===127||ae>252?a=!1:C--:ae===128||ae===160||ae>239?a=!1:ae>160&&ae<224?(y++,R=0,S++,S>M&&(M=S)):ae>127?(C++,S=0,R++,R>B&&(B=R)):(S=0,R=0))}return c&&f>0&&(c=!1),a&&C>0&&(a=!1),c&&(ue||d+p+w>0)?de.UTF8:a&&(de.ASSUME_SHIFT_JIS||M>=3||B>=3)?de.SHIFT_JIS:o&&a?M===2&&y===2||G*10>=i?de.SHIFT_JIS:de.ISO88591:o?de.ISO88591:a?de.SHIFT_JIS:c?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let i=-1;function o(c,f,d,p,w,C){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=w?parseInt(w.substr(1)):void 0,S;switch(C){case"s":S=r[i];break;case"c":S=r[i][0];break;case"f":S=parseFloat(r[i]).toFixed(c);break;case"p":S=parseFloat(r[i]).toPrecision(c);break;case"e":S=parseFloat(r[i]).toExponential(c);break;case"x":S=parseInt(r[i]).toString(y||16);break;case"d":S=parseFloat(parseInt(r[i],y||10).toPrecision(c)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;S.length<R;)S=f!==void 0?S+M:M+S;return S}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}static getBytes(e,r){return ye.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}de.SHIFT_JIS=V.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=V.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=V.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class ve{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=de.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,i){for(let o=r;r<r+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class qe{constructor(e,r,i,o){if(this.width=e,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new A("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,i=e[0].length,o=new qe(i,r);for(let a=0;a<r;a++){const c=e[a];for(let f=0;f<i;f++)c[f]&&o.set(f,a)}return o}static parseFromString(e,r,i){if(e===null)throw new A("stringRepresentation cannot be null");const o=new Array(e.length);let a=0,c=0,f=-1,d=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new A("row lengths do not match");c=a,d++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,o[a]=!0,a++;else if(e.substring(p,p+i.length)===i)p+=i.length,o[a]=!1,a++;else throw new A("illegal character encountered: "+e.substring(p));if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new A("row lengths do not match");d++}const w=new qe(f,d);for(let C=0;C<a;C++)o[C]&&w.set(Math.floor(C%f),Math.floor(C/f));return w}get(e,r){const i=r*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const r=new J(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let a=0,c=this.height;a<c;a++){const f=a*i,d=e.getRow(a,r).getBitArray();for(let p=0;p<i;p++)o[f+p]^=d[p]}}clear(){const e=this.bits,r=e.length;for(let i=0;i<r;i++)e[i]=0}setRegion(e,r,i,o){if(r<0||e<0)throw new A("Left and top must be nonnegative");if(o<1||i<1)throw new A("Height and width must be at least 1");const a=e+i,c=r+o;if(c>this.height||a>this.width)throw new A("The region must fit inside the matrix");const f=this.rowSize,d=this.bits;for(let p=r;p<c;p++){const w=p*f;for(let C=e;C<a;C++)d[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new J(this.width):r.clear();const i=this.rowSize,o=this.bits,a=e*i;for(let c=0;c<i;c++)r.setBulk(c*32,o[a+c]);return r}setRow(e,r){D.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let i=new J(e),o=new J(e);for(let a=0,c=Math.floor((r+1)/2);a<c;a++)i=this.getRow(a,i),o=this.getRow(r-1-a,o),i.reverse(),o.reverse(),this.setRow(a,o),this.setRow(r-1-a,i)}getEnclosingRectangle(){const e=this.width,r=this.height,i=this.rowSize,o=this.bits;let a=e,c=r,f=-1,d=-1;for(let p=0;p<r;p++)for(let w=0;w<i;w++){const C=o[p*i+w];if(C!==0){if(p<c&&(c=p),p>d&&(d=p),w*32<a){let y=0;for(;!(C<<31-y&4294967295);)y++;w*32+y<a&&(a=w*32+y)}if(w*32+31>f){let y=31;for(;!(C>>>y);)y--;w*32+y>f&&(f=w*32+y)}}}return f<a||d<c?null:Int32Array.from([a,c,f-a+1,d-c+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/e;let a=i%e*32;const c=r[i];let f=0;for(;!(c<<31-f&4294967295);)f++;return a+=f,Int32Array.from([a,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let a=Math.floor(i%e)*32;const c=r[i];let f=31;for(;!(c>>>f);)f--;return a+=f,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof qe))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&q.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+q.hashCode(this.bits),e}toString(e="X ",r="  ",i=`
`){return this.buildToString(e,r,i)}buildToString(e,r,i){let o=new ve;for(let a=0,c=this.height;a<c;a++){for(let f=0,d=this.width;f<d;f++)o.append(this.get(f,a)?e:r);o.append(i)}return o.toString()}clone(){return new qe(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends x{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class Ie extends L{constructor(e){super(e),this.luminances=Ie.EMPTY,this.buckets=new Int32Array(Ie.LUMINANCE_BUCKETS)}getBlackRow(e,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new J(o):r.clear(),this.initArrays(o);const a=i.getRow(e,this.luminances),c=this.buckets;for(let d=0;d<o;d++)c[(a[d]&255)>>Ie.LUMINANCE_SHIFT]++;const f=Ie.estimateBlackPoint(c);if(o<3)for(let d=0;d<o;d++)(a[d]&255)<f&&r.set(d);else{let d=a[0]&255,p=a[1]&255;for(let w=1;w<o-1;w++){const C=a[w+1]&255;(p*4-d-C)/2<f&&r.set(w),d=p,p=C}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new qe(r,i);this.initArrays(r);const a=this.buckets;for(let d=1;d<5;d++){const p=Math.floor(i*d/5),w=e.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let y=Math.floor(r/5);y<C;y++){const S=w[y]&255;a[S>>Ie.LUMINANCE_SHIFT]++}}const c=Ie.estimateBlackPoint(a),f=e.getMatrix();for(let d=0;d<i;d++){const p=d*r;for(let w=0;w<r;w++)(f[p+w]&255)<c&&o.set(w,d)}return o}createBinarizer(e){return new Ie(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let i=0;i<Ie.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(e){const r=e.length;let i=0,o=0,a=0;for(let w=0;w<r;w++)e[w]>a&&(o=w,a=e[w]),e[w]>i&&(i=e[w]);let c=0,f=0;for(let w=0;w<r;w++){const C=w-o,y=e[w]*C*C;y>f&&(c=w,f=y)}if(o>c){const w=o;o=c,c=w}if(c-o<=r/16)throw new X;let d=c-1,p=-1;for(let w=c-1;w>o;w--){const C=w-o,y=C*C*(c-w)*(i-e[w]);y>p&&(d=w,p=y)}return d<<Ie.LUMINANCE_SHIFT}}Ie.LUMINANCE_BITS=5,Ie.LUMINANCE_SHIFT=8-Ie.LUMINANCE_BITS,Ie.LUMINANCE_BUCKETS=1<<Ie.LUMINANCE_BITS,Ie.EMPTY=Uint8ClampedArray.from([0]);class le extends Ie{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=le.MINIMUM_DIMENSION&&i>=le.MINIMUM_DIMENSION){const o=e.getMatrix();let a=r>>le.BLOCK_SIZE_POWER;r&le.BLOCK_SIZE_MASK&&a++;let c=i>>le.BLOCK_SIZE_POWER;i&le.BLOCK_SIZE_MASK&&c++;const f=le.calculateBlackPoints(o,a,c,r,i),d=new qe(r,i);le.calculateThresholdForBlock(o,a,c,r,i,f,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new le(e)}static calculateThresholdForBlock(e,r,i,o,a,c,f){const d=a-le.BLOCK_SIZE,p=o-le.BLOCK_SIZE;for(let w=0;w<i;w++){let C=w<<le.BLOCK_SIZE_POWER;C>d&&(C=d);const y=le.cap(w,2,i-3);for(let S=0;S<r;S++){let R=S<<le.BLOCK_SIZE_POWER;R>p&&(R=p);const M=le.cap(S,2,r-3);let B=0;for(let ue=-2;ue<=2;ue++){const he=c[y+ue];B+=he[M-2]+he[M-1]+he[M]+he[M+1]+he[M+2]}const G=B/25;le.thresholdBlock(e,R,C,G,o,f)}}}static cap(e,r,i){return e<r?r:e>i?i:e}static thresholdBlock(e,r,i,o,a,c){for(let f=0,d=i*a+r;f<le.BLOCK_SIZE;f++,d+=a)for(let p=0;p<le.BLOCK_SIZE;p++)(e[d+p]&255)<=o&&c.set(r+p,i+f)}static calculateBlackPoints(e,r,i,o,a){const c=a-le.BLOCK_SIZE,f=o-le.BLOCK_SIZE,d=new Array(i);for(let p=0;p<i;p++){d[p]=new Int32Array(r);let w=p<<le.BLOCK_SIZE_POWER;w>c&&(w=c);for(let C=0;C<r;C++){let y=C<<le.BLOCK_SIZE_POWER;y>f&&(y=f);let S=0,R=255,M=0;for(let G=0,ue=w*o+y;G<le.BLOCK_SIZE;G++,ue+=o){for(let he=0;he<le.BLOCK_SIZE;he++){const ae=e[ue+he]&255;S+=ae,ae<R&&(R=ae),ae>M&&(M=ae)}if(M-R>le.MIN_DYNAMIC_RANGE)for(G++,ue+=o;G<le.BLOCK_SIZE;G++,ue+=o)for(let he=0;he<le.BLOCK_SIZE;he++)S+=e[ue+he]&255}let B=S>>le.BLOCK_SIZE_POWER*2;if(M-R<=le.MIN_DYNAMIC_RANGE&&(B=R/2,p>0&&C>0)){const G=(d[p-1][C]+2*d[p][C-1]+d[p-1][C-1])/4;R<G&&(B=G)}d[p][C]=B}}return d}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class He{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,i,o){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new ve;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let a=0;a<this.width;a++){const c=o[a]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class ht extends He{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const i=this.delegate.getRow(e,r),o=this.getWidth();for(let a=0;a<o;a++)i[a]=255-(i[a]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,i,o){return new ht(this.delegate.crop(e,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ht(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ht(this.delegate.rotateCounterClockwise45())}}class St extends He{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=St.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return St.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,i){const o=new Uint8ClampedArray(r*i);for(let a=0,c=0,f=e.length;a<f;a+=4,c++){let d;if(e[a+3]===0)d=255;else{const w=e[a],C=e[a+1],y=e[a+2];d=306*w+601*C+117*y+512>>10}o[c]=d}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,i,o){return super.crop(e,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*St.DEGREE_TO_RADIANS,a=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*c),d=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*c);return r.width=f,r.height=d,i.translate(f/2,d/2),i.rotate(o),i.drawImage(this.canvas,a/-2,c/-2),this.buffer=St.makeBufferFromCanvasImageData(r),this}invert(){return new ht(this)}}St.DEGREE_TO_RADIANS=Math.PI/180;class Ht{constructor(e,r,i){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ze=(globalThis||ui||self||window||void 0)&&(globalThis||ui||self||window||void 0).__awaiter||function(b,e,r,i){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(w){try{p(i.next(w))}catch(C){c(C)}}function d(w){try{p(i.throw(w))}catch(C){c(C)}}function p(w){w.done?a(w.value):o(w.value).then(f,d)}p((i=i.apply(b,e||[])).next())})};class Lt{constructor(e,r=500,i){this.reader=e,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const a=i.deviceId||i.id,c=i.label||`Video device ${r.length+1}`,f=i.groupId,d={deviceId:a,label:c,kind:o,groupId:f};r.push(d)}return r})}getVideoInputDevices(){return ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ht(r.deviceId,r.label))})}findDeviceById(e){return ze(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return ze(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return ze(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(e,r){return ze(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,r,i){return ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,i)})}decodeFromVideoDevice(e,r,i){return ze(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,r,i)})}decodeFromConstraints(e,r,i){return ze(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(e,r,i){return ze(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return ze(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((r,i)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const i=document.getElementById(e);if(!i)throw new _(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new _(`element with id '${e}' must be an ${r} element`);return i}decodeFromImage(e,r){if(!e&&!r)throw new _("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,i){if(e===void 0&&r===void 0)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new _("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(e){if(!e)throw new _("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=e,i}decodeFromVideoUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=e,i}decodeFromVideoUrlContinuously(e,r){if(!e)throw new _("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(a,c)=>{if(this._stopAsyncDecode){c(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(e);a(f)}catch(f){const d=r&&f instanceof X,w=(f instanceof I||f instanceof P)&&i;if(d||w)return setTimeout(o,this._timeBetweenDecodingAttempts,a,c);c(f)}};return new Promise((a,c)=>o(a,c))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const a=o instanceof I||o instanceof P,c=o instanceof X;(a||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,i){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),i=new St(r),o=new le(i);return new O(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ot{constructor(e,r,i=r==null?0:8*r.length,o,a,c=D.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=a,this.timestamp=c,this.text=e,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=a,this.resultMetadata=null,c==null?this.timestamp=D.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(r.length+e.length);D.arraycopy(r,0,i,0,r.length),D.arraycopy(e,0,i,r.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Wt;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wt||(Wt={}));var we=Wt,Z;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Z||(Z={}));var ce=Z;class me{constructor(e,r,i,o,a=-1,c=-1){this.rawBytes=e,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ce{exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class Pe{constructor(e,r){if(r.length===0)throw new A;this.field=e;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(e===1){i=0;for(let c=0,f=r.length;c!==f;c++){const d=r[c];i=Ce.addOrSubtract(i,d)}return i}i=r[0];const o=r.length,a=this.field;for(let c=1;c<o;c++)i=Ce.addOrSubtract(a.multiply(e,i),r[c]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){const c=r;r=i,i=c}let o=new Int32Array(i.length);const a=i.length-r.length;D.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=Ce.addOrSubtract(r[c-a],i[c]);return new Pe(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=e.coefficients,a=o.length,c=new Int32Array(i+a-1),f=this.field;for(let d=0;d<i;d++){const p=r[d];for(let w=0;w<a;w++)c[d+w]=Ce.addOrSubtract(c[d+w],f.multiply(p,o[w]))}return new Pe(f,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),a=this.coefficients;for(let c=0;c<r;c++)o[c]=i.multiply(a[c],e);return new Pe(i,o)}multiplyByMonomial(e,r){if(e<0)throw new A;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,a=new Int32Array(o+e),c=this.field;for(let f=0;f<o;f++)a[f]=c.multiply(i[f],r);return new Pe(c,a)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const a=e.getCoefficient(e.getDegree()),c=r.inverse(a);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const f=o.getDegree()-e.getDegree(),d=r.multiply(o.getCoefficient(o.getDegree()),c),p=e.multiplyByMonomial(f,d),w=r.buildMonomial(f,d);i=i.addOrSubtract(w),o=o.addOrSubtract(p)}return[i,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class st extends x{}st.kind="ArithmeticException";class T extends Ce{constructor(e,r,i){super(),this.primitive=e,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let a=1;for(let f=0;f<r;f++)o[f]=a,a*=2,a>=r&&(a^=e,a&=r-1);this.expTable=o;const c=new Int32Array(r);for(let f=0;f<r-1;f++)c[o[f]]=f;this.logTable=c,this.zero=new Pe(this,Int32Array.from([0])),this.one=new Pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(r===0)return this.zero;const i=new Int32Array(e+1);return i[0]=r,new Pe(this,i)}inverse(e){if(e===0)throw new st;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}T.AZTEC_DATA_12=new T(4201,4096,1),T.AZTEC_DATA_10=new T(1033,1024,1),T.AZTEC_DATA_6=new T(67,64,1),T.AZTEC_PARAM=new T(19,16,1),T.QR_CODE_FIELD_256=new T(285,256,0),T.DATA_MATRIX_FIELD_256=new T(301,256,1),T.AZTEC_DATA_8=T.DATA_MATRIX_FIELD_256,T.MAXICODE_FIELD_64=T.AZTEC_DATA_6;class N extends x{}N.kind="ReedSolomonException";class U extends x{}U.kind="IllegalStateException";class te{constructor(e){this.field=e}decode(e,r){const i=this.field,o=new Pe(i,e),a=new Int32Array(r);let c=!0;for(let S=0;S<r;S++){const R=o.evaluateAt(i.exp(S+i.getGeneratorBase()));a[a.length-1-S]=R,R!==0&&(c=!1)}if(c)return;const f=new Pe(i,a),d=this.runEuclideanAlgorithm(i.buildMonomial(r,1),f,r),p=d[0],w=d[1],C=this.findErrorLocations(p),y=this.findErrorMagnitudes(w,C);for(let S=0;S<C.length;S++){const R=e.length-1-i.log(C[S]);if(R<0)throw new N("Bad error location");e[R]=T.addOrSubtract(e[R],y[S])}}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){const S=e;e=r,r=S}const o=this.field;let a=e,c=r,f=o.getZero(),d=o.getOne();for(;c.getDegree()>=(i/2|0);){let S=a,R=f;if(a=c,f=d,a.isZero())throw new N("r_{i-1} was zero");c=S;let M=o.getZero();const B=a.getCoefficient(a.getDegree()),G=o.inverse(B);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){const ue=c.getDegree()-a.getDegree(),he=o.multiply(c.getCoefficient(c.getDegree()),G);M=M.addOrSubtract(o.buildMonomial(ue,he)),c=c.addOrSubtract(a.multiplyByMonomial(ue,he))}if(d=M.multiply(f).addOrSubtract(R),c.getDegree()>=a.getDegree())throw new U("Division algorithm failed to reduce polynomial?")}const p=d.getCoefficient(0);if(p===0)throw new N("sigmaTilde(0) was zero");const w=o.inverse(p),C=d.multiplyScalar(w),y=c.multiplyScalar(w);return[C,y]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const a=this.field;for(let c=1;c<a.getSize()&&o<r;c++)e.evaluateAt(c)===0&&(i[o]=a.inverse(c),o++);if(o!==r)throw new N("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,r){const i=r.length,o=new Int32Array(i),a=this.field;for(let c=0;c<i;c++){const f=a.inverse(r[c]);let d=1;for(let p=0;p<i;p++)if(c!==p){const w=a.multiply(r[p],f),C=w&1?w&-2:w|1;d=a.multiply(d,C)}o[c]=a.multiply(e.evaluateAt(f),a.inverse(d)),a.getGeneratorBase()!==0&&(o[c]=a.multiply(o[c],f))}return o}}var j;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(j||(j={}));class Q{decode(e){this.ddata=e;let r=e.getBits(),i=this.extractBits(r),o=this.correctBits(i),a=Q.convertBoolArrayToByteArray(o),c=Q.getEncodedData(o),f=new me(a,c,null,null);return f.setNumBits(o.length),f}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,i=j.UPPER,o=j.UPPER,a="",c=0;for(;c<r;)if(o===j.BINARY){if(r-c<5)break;let f=Q.readCode(e,c,5);if(c+=5,f===0){if(r-c<11)break;f=Q.readCode(e,c,11)+31,c+=11}for(let d=0;d<f;d++){if(r-c<8){c=r;break}const p=Q.readCode(e,c,8);a+=de.castAsNonUtf8Char(p),c+=8}o=i}else{let f=o===j.DIGIT?4:5;if(r-c<f)break;let d=Q.readCode(e,c,f);c+=f;let p=Q.getCharacter(o,d);p.startsWith("CTRL_")?(i=o,o=Q.getTable(p.charAt(5)),p.charAt(6)==="L"&&(i=o)):(a+=p,o=i)}return a}static getTable(e){switch(e){case"L":return j.LOWER;case"P":return j.PUNCT;case"M":return j.MIXED;case"D":return j.DIGIT;case"B":return j.BINARY;case"U":default:return j.UPPER}}static getCharacter(e,r){switch(e){case j.UPPER:return Q.UPPER_TABLE[r];case j.LOWER:return Q.LOWER_TABLE[r];case j.MIXED:return Q.MIXED_TABLE[r];case j.PUNCT:return Q.PUNCT_TABLE[r];case j.DIGIT:return Q.DIGIT_TABLE[r];default:throw new U("Bad table")}}correctBits(e){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=T.AZTEC_DATA_10):(i=12,r=T.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=e.length/i;if(a<o)throw new P;let c=e.length%i,f=new Int32Array(a);for(let y=0;y<a;y++,c+=i)f[y]=Q.readCode(e,c,i);try{new te(r).decode(f,a-o)}catch(y){throw new P(y)}let d=(1<<i)-1,p=0;for(let y=0;y<o;y++){let S=f[y];if(S===0||S===d)throw new P;(S===1||S===d-1)&&p++}let w=new Array(o*i-p),C=0;for(let y=0;y<o;y++){let S=f[y];if(S===1||S===d-1)w.fill(S>1,C,C+i-1),C+=i-1;else for(let R=i-1;R>=0;--R)w[C++]=(S&1<<R)!==0}return w}extractBits(e){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,a=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,r));if(r)for(let f=0;f<a.length;f++)a[f]=f;else{let f=o+1+2*k.truncDivision(k.truncDivision(o,2)-1,15),d=o/2,p=k.truncDivision(f,2);for(let w=0;w<d;w++){let C=w+k.truncDivision(w,15);a[d-w-1]=p-C-1,a[d+w]=p+C+1}}for(let f=0,d=0;f<i;f++){let p=(i-f)*4+(r?9:12),w=f*2,C=o-1-w;for(let y=0;y<p;y++){let S=y*2;for(let R=0;R<2;R++)c[d+S+R]=e.get(a[w+R],a[w+y]),c[d+2*p+S+R]=e.get(a[w+y],a[C-R]),c[d+4*p+S+R]=e.get(a[C-R],a[C-y]),c[d+6*p+S+R]=e.get(a[C-y],a[w+R])}d+=p*8}return c}static readCode(e,r,i){let o=0;for(let a=r;a<r+i;a++)o<<=1,e[a]&&(o|=1);return o}static readByte(e,r){let i=e.length-r;return i>=8?Q.readCode(e,r,8):Q.readCode(e,r,i)<<8-i}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Q.readByte(e,8*i);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}Q.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Q.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Q.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Q.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Q.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ne{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,i,o){const a=e-i,c=r-o;return Math.sqrt(a*a+c*c)}static sum(e){let r=0;for(let i=0,o=e.length;i!==o;i++){const a=e[i];r+=a}return r}}class fe{static floatToIntBits(e){return e}}fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class H{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof H){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*fe.floatToIntBits(this.x)+fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let a,c,f;if(i>=r&&i>=o?(c=e[0],a=e[1],f=e[2]):o>=i&&o>=r?(c=e[1],a=e[0],f=e[2]):(c=e[2],a=e[0],f=e[1]),this.crossProductZ(a,c,f)<0){const d=a;a=f,f=d}e[0]=a,e[1]=c,e[2]=f}static distance(e,r){return ne.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,i){const o=r.x,a=r.y;return(i.x-o)*(e.y-a)-(i.y-a)*(e.x-o)}}class se{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ee extends se{constructor(e,r,i,o,a){super(e,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _e{constructor(e,r,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=_e.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const a=r/2|0;if(this.leftInit=i-a,this.rightInit=i+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let e=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,a=!1,c=!0,f=!1,d=!1,p=!1,w=!1,C=!1;const y=this.width,S=this.height;for(;c;){c=!1;let R=!0;for(;(R||!d)&&r<y;)R=this.containsBlackPoint(i,o,r,!1),R?(r++,c=!0,d=!0):d||r++;if(r>=y){a=!0;break}let M=!0;for(;(M||!p)&&o<S;)M=this.containsBlackPoint(e,r,o,!0),M?(o++,c=!0,p=!0):p||o++;if(o>=S){a=!0;break}let B=!0;for(;(B||!w)&&e>=0;)B=this.containsBlackPoint(i,o,e,!1),B?(e--,c=!0,w=!0):w||e--;if(e<0){a=!0;break}let G=!0;for(;(G||!C)&&i>=0;)G=this.containsBlackPoint(e,r,i,!0),G?(i--,c=!0,C=!0):C||i--;if(i<0){a=!0;break}c&&(f=!0)}if(!a&&f){const R=r-e;let M=null;for(let he=1;M===null&&he<R;he++)M=this.getBlackPointOnSegment(e,o-he,e+he,o);if(M==null)throw new X;let B=null;for(let he=1;B===null&&he<R;he++)B=this.getBlackPointOnSegment(e,i+he,e+he,i);if(B==null)throw new X;let G=null;for(let he=1;G===null&&he<R;he++)G=this.getBlackPointOnSegment(r,i+he,r-he,i);if(G==null)throw new X;let ue=null;for(let he=1;ue===null&&he<R;he++)ue=this.getBlackPointOnSegment(r,o-he,r-he,o);if(ue==null)throw new X;return this.centerEdges(ue,M,G,B)}else throw new X}getBlackPointOnSegment(e,r,i,o){const a=ne.round(ne.distance(e,r,i,o)),c=(i-e)/a,f=(o-r)/a,d=this.image;for(let p=0;p<a;p++){const w=ne.round(e+p*c),C=ne.round(r+p*f);if(d.get(w,C))return new H(w,C)}return null}centerEdges(e,r,i,o){const a=e.getX(),c=e.getY(),f=r.getX(),d=r.getY(),p=i.getX(),w=i.getY(),C=o.getX(),y=o.getY(),S=_e.CORR;return a<this.width/2?[new H(C-S,y+S),new H(f+S,d+S),new H(p-S,w-S),new H(a+S,c-S)]:[new H(C+S,y+S),new H(f+S,d-S),new H(p-S,w+S),new H(a-S,c-S)]}containsBlackPoint(e,r,i,o){const a=this.image;if(o){for(let c=e;c<=r;c++)if(a.get(c,i))return!0}else for(let c=e;c<=r;c++)if(a.get(i,c))return!0;return!1}}_e.INIT_SIZE=10,_e.CORR=1;class Te{static checkAndNudgePoints(e,r){const i=e.getWidth(),o=e.getHeight();let a=!0;for(let c=0;c<r.length&&a;c+=2){const f=Math.floor(r[c]),d=Math.floor(r[c+1]);if(f<-1||f>i||d<-1||d>o)throw new X;a=!1,f===-1?(r[c]=0,a=!0):f===i&&(r[c]=i-1,a=!0),d===-1?(r[c+1]=0,a=!0):d===o&&(r[c+1]=o-1,a=!0)}a=!0;for(let c=r.length-2;c>=0&&a;c-=2){const f=Math.floor(r[c]),d=Math.floor(r[c+1]);if(f<-1||f>i||d<-1||d>o)throw new X;a=!1,f===-1?(r[c]=0,a=!0):f===i&&(r[c]=i-1,a=!0),d===-1?(r[c+1]=0,a=!0):d===o&&(r[c+1]=o-1,a=!0)}}}class Se{constructor(e,r,i,o,a,c,f,d,p){this.a11=e,this.a21=r,this.a31=i,this.a12=o,this.a22=a,this.a32=c,this.a13=f,this.a23=d,this.a33=p}static quadrilateralToQuadrilateral(e,r,i,o,a,c,f,d,p,w,C,y,S,R,M,B){const G=Se.quadrilateralToSquare(e,r,i,o,a,c,f,d);return Se.squareToQuadrilateral(p,w,C,y,S,R,M,B).times(G)}transformPoints(e){const r=e.length,i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,p=this.a31,w=this.a32,C=this.a33;for(let y=0;y<r;y+=2){const S=e[y],R=e[y+1],M=a*S+d*R+C;e[y]=(i*S+c*R+p)/M,e[y+1]=(o*S+f*R+w)/M}}transformPointsWithValues(e,r){const i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,p=this.a31,w=this.a32,C=this.a33,y=e.length;for(let S=0;S<y;S++){const R=e[S],M=r[S],B=a*R+d*M+C;e[S]=(i*R+c*M+p)/B,r[S]=(o*R+f*M+w)/B}}static squareToQuadrilateral(e,r,i,o,a,c,f,d){const p=e-i+a-f,w=r-o+c-d;if(p===0&&w===0)return new Se(i-e,a-i,e,o-r,c-o,r,0,0,1);{const C=i-a,y=f-a,S=o-c,R=d-c,M=C*R-y*S,B=(p*R-y*w)/M,G=(C*w-p*S)/M;return new Se(i-e+B*i,f-e+G*f,e,o-r+B*o,d-r+G*d,r,B,G,1)}}static quadrilateralToSquare(e,r,i,o,a,c,f,d){return Se.squareToQuadrilateral(e,r,i,o,a,c,f,d).buildAdjoint()}buildAdjoint(){return new Se(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Se(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ke extends Te{sampleGrid(e,r,i,o,a,c,f,d,p,w,C,y,S,R,M,B,G,ue,he){const ae=Se.quadrilateralToQuadrilateral(o,a,c,f,d,p,w,C,y,S,R,M,B,G,ue,he);return this.sampleGridWithTransform(e,r,i,ae)}sampleGridWithTransform(e,r,i,o){if(r<=0||i<=0)throw new X;const a=new qe(r,i),c=new Float32Array(2*r);for(let f=0;f<i;f++){const d=c.length,p=f+.5;for(let w=0;w<d;w+=2)c[w]=w/2+.5,c[w+1]=p;o.transformPoints(c),Te.checkAndNudgePoints(e,c);try{for(let w=0;w<d;w+=2)e.get(Math.floor(c[w]),Math.floor(c[w+1]))&&a.set(w/2,f)}catch{throw new X}}return a}}class $e{static setGridSampler(e){$e.gridSampler=e}static getInstance(){return $e.gridSampler}}$e.gridSampler=new ke;class Be{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new H(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Dt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(e){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),a=this.getMatrixCornerPoints(i);return new Ee(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new X;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let c=0;c<4;c++){let f=i[(this.shift+c)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(e,r){let i=0;e.forEach((o,a,c)=>{let f=(o>>r-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(k.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new X}getCorrectedParameterData(e,r){let i,o;r?(i=7,o=2):(i=10,o=4);let a=i-o,c=new Int32Array(i);for(let d=i-1;d>=0;--d)c[d]=e&15,e>>=4;try{new te(T.AZTEC_PARAM).decode(c,a)}catch{throw new X}let f=0;for(let d=0;d<o;d++)f=(f<<4)+c[d];return f}getBullsEyeCorners(e){let r=e,i=e,o=e,a=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,c,1,-1),y=this.getFirstDifferent(i,c,1,1),S=this.getFirstDifferent(o,c,-1,1),R=this.getFirstDifferent(a,c,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(R,C)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(C,y,S,R))break}r=C,i=y,o=S,a=R,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let f=new H(r.getX()+.5,r.getY()-.5),d=new H(i.getX()+.5,i.getY()+.5),p=new H(o.getX()-.5,o.getY()+.5),w=new H(a.getX()-.5,a.getY()-.5);return this.expandSquare([f,d,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,i,o;try{let f=new _e(this.image).detect();e=f[0],r=f[1],i=f[2],o=f[3]}catch{let d=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new Be(d+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Be(d+7,p+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Be(d-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(d-7,p-7),!1,-1,-1).toResultPoint()}let a=ne.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=ne.round((e.getY()+o.getY()+r.getY()+i.getY())/4);try{let f=new _e(this.image,15,a,c).detect();e=f[0],r=f[1],i=f[2],o=f[3]}catch{e=this.getFirstDifferent(new Be(a+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Be(a+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Be(a-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(a-7,c-7),!1,-1,-1).toResultPoint()}return a=ne.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=ne.round((e.getY()+o.getY()+r.getY()+i.getY())/4),new Be(a,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,i,o,a){let c=$e.getInstance(),f=this.getDimension(),d=f/2-this.nbCenterLayers,p=f/2+this.nbCenterLayers;return c.sampleGrid(e,f,f,d,d,p,d,p,p,d,p,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(e,r,i){let o=0,a=this.distanceResultPoint(e,r),c=a/i,f=e.getX(),d=e.getY(),p=c*(r.getX()-e.getX())/a,w=c*(r.getY()-e.getY())/a;for(let C=0;C<i;C++)this.image.get(ne.round(f+C*p),ne.round(d+C*w))&&(o|=1<<i-C-1);return o}isWhiteOrBlackRectangle(e,r,i,o){let a=3;e=new Be(e.getX()-a,e.getY()+a),r=new Be(r.getX()-a,r.getY()-a),i=new Be(i.getX()+a,i.getY()-a),o=new Be(o.getX()+a,o.getY()+a);let c=this.getColor(o,e);if(c===0)return!1;let f=this.getColor(e,r);return f!==c||(f=this.getColor(r,i),f!==c)?!1:(f=this.getColor(i,o),f===c)}getColor(e,r){let i=this.distancePoint(e,r),o=(r.getX()-e.getX())/i,a=(r.getY()-e.getY())/i,c=0,f=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),w=Math.ceil(i);for(let y=0;y<w;y++)f+=o,d+=a,this.image.get(ne.round(f),ne.round(d))!==p&&c++;let C=c/i;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(e,r,i,o){let a=e.getX()+i,c=e.getY()+o;for(;this.isValid(a,c)&&this.image.get(a,c)===r;)a+=i,c+=o;for(a-=i,c-=o;this.isValid(a,c)&&this.image.get(a,c)===r;)a+=i;for(a-=i;this.isValid(a,c)&&this.image.get(a,c)===r;)c+=o;return c-=o,new Be(a,c)}expandSquare(e,r,i){let o=i/(2*r),a=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),f=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new H(f+o*a,d+o*c),w=new H(f-o*a,d-o*c);a=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),f=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let C=new H(f+o*a,d+o*c),y=new H(f-o*a,d-o*c);return[p,C,w,y]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=ne.round(e.getX()),i=ne.round(e.getY());return this.isValid(r,i)}distancePoint(e,r){return ne.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return ne.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(e,r=null){let i=null,o=new Dt(e.getBlackMatrix()),a=null,c=null;try{let w=o.detectMirror(!1);a=w.getPoints(),this.reportFoundResultPoints(r,a),c=new Q().decode(w)}catch(w){i=w}if(c==null)try{let w=o.detectMirror(!0);a=w.getPoints(),this.reportFoundResultPoints(r,a),c=new Q().decode(w)}catch(w){throw i??w}let f=new ot(c.getText(),c.getRawBytes(),c.getNumBits(),a,we.AZTEC,D.currentTimeMillis()),d=c.getByteSegments();d!=null&&f.putMetadata(ce.BYTE_SEGMENTS,d);let p=c.getECLevel();return p!=null&&f.putMetadata(ce.ERROR_CORRECTION_LEVEL,p),f}reportFoundResultPoints(e,r){if(e!=null){let i=e.get(Y.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,a,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class ur extends Lt{constructor(e=500){super(new zt,e)}}class Ct{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(Y.TRY_HARDER)===!0&&e.isRotateSupported()){const a=e.rotateCounterClockwise(),c=this.doDecode(a,r),f=c.getResultMetadata();let d=270;f!==null&&f.get(ce.ORIENTATION)===!0&&(d=d+f.get(ce.ORIENTATION)%360),c.putMetadata(ce.ORIENTATION,d);const p=c.getResultPoints();if(p!==null){const w=a.getHeight();for(let C=0;C<p.length;C++)p[C]=new H(w-p[C].getY()-1,p[C].getX())}return c}else throw new X}}reset(){}doDecode(e,r){const i=e.getWidth(),o=e.getHeight();let a=new J(i);const c=r&&r.get(Y.TRY_HARDER)===!0,f=Math.max(1,o>>(c?8:5));let d;c?d=o:d=15;const p=Math.trunc(o/2);for(let w=0;w<d;w++){const C=Math.trunc((w+1)/2),y=(w&1)===0,S=p+f*(y?C:-C);if(S<0||S>=o)break;try{a=e.getBlackRow(S,a)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(a.reverse(),r&&r.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;r.forEach((B,G)=>M.set(G,B)),M.delete(Y.NEED_RESULT_POINT_CALLBACK),r=M}try{const M=this.decodeRow(S,a,r);if(R===1){M.putMetadata(ce.ORIENTATION,180);const B=M.getResultPoints();B!==null&&(B[0]=new H(i-B[0].getX()-1,B[0].getY()),B[1]=new H(i-B[1].getX()-1,B[1].getY()))}return M}catch{}}}throw new X}static recordPattern(e,r,i){const o=i.length;for(let p=0;p<o;p++)i[p]=0;const a=e.getSize();if(r>=a)throw new X;let c=!e.get(r),f=0,d=r;for(;d<a;){if(e.get(d)!==c)i[f]++;else{if(++f===o)break;i[f]=1,c=!c}d++}if(!(f===o||f===o-1&&d===a))throw new X}static recordPatternInReverse(e,r,i){let o=i.length,a=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==a&&(o--,a=!a);if(o>=0)throw new X;Ct.recordPattern(e,r+1,i)}static patternMatchVariance(e,r,i){const o=e.length;let a=0,c=0;for(let p=0;p<o;p++)a+=e[p],c+=r[p];if(a<c)return Number.POSITIVE_INFINITY;const f=a/c;i*=f;let d=0;for(let p=0;p<o;p++){const w=e[p],C=r[p]*f,y=w>C?w-C:C-w;if(y>i)return Number.POSITIVE_INFINITY;d+=y}return d/a}}class ge extends Ct{static findStartPattern(e){const r=e.getSize(),i=e.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),c=i,f=!1;const d=6;for(let p=i;p<r;p++)if(e.get(p)!==f)a[o]++;else{if(o===d-1){let w=ge.MAX_AVG_VARIANCE,C=-1;for(let y=ge.CODE_START_A;y<=ge.CODE_START_C;y++){const S=Ct.patternMatchVariance(a,ge.CODE_PATTERNS[y],ge.MAX_INDIVIDUAL_VARIANCE);S<w&&(w=S,C=y)}if(C>=0&&e.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,C]);c+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new X}static decodeCode(e,r,i){Ct.recordPattern(e,i,r);let o=ge.MAX_AVG_VARIANCE,a=-1;for(let c=0;c<ge.CODE_PATTERNS.length;c++){const f=ge.CODE_PATTERNS[c],d=this.patternMatchVariance(r,f,ge.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,a=c)}if(a>=0)return a;throw new X}decodeRow(e,r,i){const o=i&&i.get(Y.ASSUME_GS1)===!0,a=ge.findStartPattern(r),c=a[2];let f=0;const d=new Uint8Array(20);d[f++]=c;let p;switch(c){case ge.CODE_START_A:p=ge.CODE_CODE_A;break;case ge.CODE_START_B:p=ge.CODE_CODE_B;break;case ge.CODE_START_C:p=ge.CODE_CODE_C;break;default:throw new P}let w=!1,C=!1,y="",S=a[0],R=a[1];const M=Int32Array.from([0,0,0,0,0,0]);let B=0,G=0,ue=c,he=0,ae=!0,Ye=!1,Fe=!1;for(;!w;){const _s=C;switch(C=!1,B=G,G=ge.decodeCode(r,M,R),d[f++]=G,G!==ge.CODE_STOP&&(ae=!0),G!==ge.CODE_STOP&&(he++,ue+=he*G),S=R,R+=M.reduce((Vd,Hd)=>Vd+Hd,0),G){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new P}switch(p){case ge.CODE_CODE_A:if(G<64)Fe===Ye?y+=String.fromCharCode(32+G):y+=String.fromCharCode(32+G+128),Fe=!1;else if(G<96)Fe===Ye?y+=String.fromCharCode(G-64):y+=String.fromCharCode(G+64),Fe=!1;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ye&&Fe?(Ye=!0,Fe=!1):Ye&&Fe?(Ye=!1,Fe=!1):Fe=!0;break;case ge.CODE_SHIFT:C=!0,p=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:p=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:p=ge.CODE_CODE_C;break;case ge.CODE_STOP:w=!0;break}break;case ge.CODE_CODE_B:if(G<96)Fe===Ye?y+=String.fromCharCode(32+G):y+=String.fromCharCode(32+G+128),Fe=!1;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ye&&Fe?(Ye=!0,Fe=!1):Ye&&Fe?(Ye=!1,Fe=!1):Fe=!0;break;case ge.CODE_SHIFT:C=!0,p=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:p=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:p=ge.CODE_CODE_C;break;case ge.CODE_STOP:w=!0;break}break;case ge.CODE_CODE_C:if(G<100)G<10&&(y+="0"),y+=G;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_CODE_A:p=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:p=ge.CODE_CODE_B;break;case ge.CODE_STOP:w=!0;break}break}_s&&(p=p===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const on=R-S;if(R=r.getNextUnset(R),!r.isRange(R,Math.min(r.getSize(),R+(R-S)/2),!1))throw new X;if(ue-=he*B,ue%103!==B)throw new I;const Dn=y.length;if(Dn===0)throw new X;Dn>0&&ae&&(p===ge.CODE_CODE_C?y=y.substring(0,Dn-2):y=y.substring(0,Dn-1));const an=(a[1]+a[0])/2,ut=S+on/2,jt=d.length,dn=new Uint8Array(jt);for(let _s=0;_s<jt;_s++)dn[_s]=d[_s];const ws=[new H(an,e),new H(ut,e)];return new ot(y,dn,0,ws,we.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class It extends Ct{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=It.findAsteriskPattern(r,o),c=r.getNextSet(a[1]),f=r.getSize(),d,p;do{It.recordPattern(r,c,o);let M=It.toNarrowWidePattern(o);if(M<0)throw new X;d=It.patternToChar(M),this.decodeRowResult+=d,p=c;for(let B of o)c+=B;c=r.getNextSet(c)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let M of o)w+=M;let C=c-p-w;if(c!==f&&C*2<w)throw new X;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,B=0;for(let G=0;G<M;G++)B+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(M)!==It.ALPHABET_STRING.charAt(B%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new X;let y;this.extendedMode?y=It.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let S=(a[1]+a[0])/2,R=p+w/2;return new ot(y,null,0,[new H(S,e),new H(R,e)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let i=e.getSize(),o=e.getNextSet(0),a=0,c=o,f=!1,d=r.length;for(let p=o;p<i;p++)if(e.get(p)!==f)r[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(r)===It.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,f=!f}throw new X}static toNarrowWidePattern(e){let r=e.length,i=0,o;do{let a=2147483647;for(let d of e)d<a&&d>i&&(a=d);i=a,o=0;let c=0,f=0;for(let d=0;d<r;d++){let p=e[d];p>i&&(f|=1<<r-1-d,o++,c+=p)}if(o===3){for(let d=0;d<r&&o>0;d++){let p=e[d];if(p>i&&(o--,p*2>=c))return-1}return f}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<It.CHARACTER_ENCODINGS.length;r++)if(It.CHARACTER_ENCODINGS[r]===e)return It.ALPHABET_STRING.charAt(r);if(e===It.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(e){let r=e.length,i="";for(let o=0;o<r;o++){let a=e.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let c=e.charAt(o+1),f="\0";switch(a){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new P;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new P;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new P;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new P;break}i+=f,o++}else i+=a}return i}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class We extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,i){let o=this.decodeStart(r),a=this.decodeEnd(r),c=new ve;We.decodeMiddle(r,o[1],a[0],c);let f=c.toString(),d=null;i!=null&&(d=i.get(Y.ALLOWED_LENGTHS)),d==null&&(d=We.DEFAULT_ALLOWED_LENGTHS);let p=f.length,w=!1,C=0;for(let R of d){if(p===R){w=!0;break}R>C&&(C=R)}if(!w&&p>C&&(w=!0),!w)throw new P;const y=[new H(o[1],e),new H(a[0],e)];return new ot(f,null,0,y,we.ITF,new Date().getTime())}static decodeMiddle(e,r,i,o){let a=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(a.fill(0),c.fill(0),f.fill(0);r<i;){Ct.recordPattern(e,r,a);for(let p=0;p<5;p++){let w=2*p;c[p]=a[w],f[p]=a[w+1]}let d=We.decodeDigit(c);o.append(d.toString()),d=this.decodeDigit(f),o.append(d.toString()),a.forEach(function(p){r+=p})}}decodeStart(e){let r=We.skipWhiteSpace(e),i=We.findGuardPattern(e,r,We.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new X}static skipWhiteSpace(e){const r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new X;return i}decodeEnd(e){e.reverse();try{let r=We.skipWhiteSpace(e),i;try{i=We.findGuardPattern(e,r,We.END_PATTERN_REVERSED[0])}catch(a){a instanceof X&&(i=We.findGuardPattern(e,r,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,r,i){let o=i.length,a=new Int32Array(o),c=e.getSize(),f=!1,d=0,p=r;a.fill(0);for(let w=r;w<c;w++)if(e.get(w)!==f)a[d]++;else{if(d===o-1){if(Ct.patternMatchVariance(a,i,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[p,w];p+=a[0]+a[1],D.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,f=!f}throw new X}static decodeDigit(e){let r=We.MAX_AVG_VARIANCE,i=-1,o=We.PATTERNS.length;for(let a=0;a<o;a++){let c=We.PATTERNS[a],f=Ct.patternMatchVariance(e,c,We.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=a):f===r&&(i=-1)}if(i>=0)return i%10;throw new X}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ze extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,i,o=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),i=Ze.findGuardPattern(e,o,!1,this.START_END_PATTERN,a);let c=i[0];o=i[1];let f=c-(o-c);f>=0&&(r=e.isRange(f,c,!1))}return i}static checkChecksum(e){return Ze.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return Ze.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;i+=a}i*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;i+=a}return(1e3-i)%10}static decodeEnd(e,r){return Ze.findGuardPattern(e,r,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))}static findGuardPattern(e,r,i,o,a){let c=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);let f=0,d=r,p=o.length,w=i;for(let C=r;C<c;C++)if(e.get(C)!==w)a[f]++;else{if(f===p-1){if(Ct.patternMatchVariance(a,o,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return Int32Array.from([d,C]);d+=a[0]+a[1];let y=a.slice(2,a.length-1);for(let S=0;S<f-1;S++)a[S]=y[S];a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,w=!w}throw new X}static decodeDigit(e,r,i,o){this.recordPattern(e,i,r);let a=this.MAX_AVG_VARIANCE,c=-1,f=o.length;for(let d=0;d<f;d++){let p=o[d],w=Ct.patternMatchVariance(r,p,Ze.MAX_INDIVIDUAL_VARIANCE);w<a&&(a=w,c=d)}if(c>=0)return c;throw new X}}Ze.MAX_AVG_VARIANCE=.48,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.START_END_PATTERN=Int32Array.from([1,1,1]),Ze.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ze.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ze.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class fr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,i,o),c=o.toString(),f=fr.parseExtensionString(c),d=[new H((i[0]+i[1])/2,e),new H(a,e)],p=new ot(c,null,0,d,we.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let p=0;p<5&&c<a;p++){let w=Ze.decodeDigit(e,o,c,Ze.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)c+=C;w>=10&&(f|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==5)throw new X;let d=this.determineCheckDigit(f);if(fr.extensionChecksum(i.toString())!==d)throw new X;return c}static extensionChecksum(e){let r=e.length,i=0;for(let o=r-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new X}static parseExtensionString(e){if(e.length!==5)return null;let r=fr.parseExtension5String(e);return r==null?null:new Map([[ce.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),a=i%100,c=a<10?"0"+a:a.toString();return r+o+"."+c}}class da{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,i,o),c=o.toString(),f=da.parseExtensionString(c),d=[new H((i[0]+i[1])/2,e),new H(a,e)],p=new ot(c,null,0,d,we.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let d=0;d<2&&c<a;d++){let p=Ze.decodeDigit(e,o,c,Ze.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of o)c+=w;p>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==2)throw new X;if(parseInt(i.toString())%4!==f)throw new X;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[ce.ISSUE_NUMBER,parseInt(e)]])}}class kc{static decodeRow(e,r,i){let o=Ze.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new fr().decodeRow(e,r,o)}catch{return new da().decodeRow(e,r,o)}}}kc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends Ze{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=tt.L_PATTERNS[e-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];tt.L_AND_G_PATTERNS[e]=i}}decodeRow(e,r,i){let o=tt.findStartGuardPattern(r),a=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);if(a!=null){const ae=new H((o[0]+o[1])/2,e);a.foundPossibleResultPoint(ae)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(a!=null){const ae=new H(f,e);a.foundPossibleResultPoint(ae)}let p=this.decodeEnd(r,f);if(a!=null){const ae=new H((p[0]+p[1])/2,e);a.foundPossibleResultPoint(ae)}let w=p[1],C=w+(w-p[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new X;let y=d.toString();if(y.length<8)throw new P;if(!tt.checkChecksum(y))throw new I;let S=(o[1]+o[0])/2,R=(p[1]+p[0])/2,M=this.getBarcodeFormat(),B=[new H(S,e),new H(R,e)],G=new ot(y,null,0,B,M,new Date().getTime()),ue=0;try{let ae=kc.decodeRow(e,r,p[1]);G.putMetadata(ce.UPC_EAN_EXTENSION,ae.getText()),G.putAllMetadata(ae.getResultMetadata()),G.addResultPoints(ae.getResultPoints()),ue=ae.getText().length}catch{}let he=i==null?null:i.get(Y.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let Ye in he)if(ue.toString()===Ye){ae=!0;break}if(!ae)throw new X}return G}decodeEnd(e,r){return tt.findGuardPattern(e,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return tt.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;i+=a}i*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;i+=a}return(1e3-i)%10}}class Vr extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let p=0;p<6&&c<a;p++){let w=tt.decodeDigit(e,o,c,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)c+=C;w>=10&&(f|=1<<5-p)}i=Vr.determineFirstDigit(i,f),c=tt.findGuardPattern(e,c,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<a;p++){let w=tt.decodeDigit(e,o,c,tt.L_PATTERNS);i+=String.fromCharCode(48+w);for(let C of o)c+=C}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(e,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new X}}Vr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fc extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1];for(let d=0;d<4&&c<a;d++){let p=tt.decodeDigit(e,o,c,tt.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}c=tt.findGuardPattern(e,c,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&c<a;d++){let p=tt.decodeDigit(e,o,c,tt.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return we.EAN_8}}class Uc extends tt{constructor(){super(...arguments),this.ean13Reader=new Vr}getBarcodeFormat(){return we.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))}decodeMiddle(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let i=new ot(r.substring(1),null,null,e.getResultPoints(),we.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new X}reset(){this.ean13Reader.reset()}}class Rn extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=e.getSize();let c=r[1],f=0;for(let p=0;p<6&&c<a;p++){const w=Rn.decodeDigit(e,o,c,Rn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)c+=C;w>=10&&(f|=1<<5-p)}let d=Rn.determineNumSysAndCheckDigit(i,f);return{rowOffset:c,resultString:d}}decodeEnd(e,r){return Rn.findGuardPatternWithoutCounters(e,r,!0,Rn.MIDDLE_END_PATTERN)}checkChecksum(e){return tt.checkChecksum(Rn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let a=String.fromCharCode(48+i),c=String.fromCharCode(48+o);return a+e+c}throw X.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(a=>a.charCodeAt(0)),i=new ve;i.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Rn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ga extends Ct{constructor(e){super();let r=e==null?null:e.get(Y.POSSIBLE_FORMATS),i=[];l(r)?(i.push(new Vr),i.push(new Uc),i.push(new Fc),i.push(new Rn)):(r.indexOf(we.EAN_13)>-1&&i.push(new Vr),r.indexOf(we.UPC_A)>-1&&i.push(new Uc),r.indexOf(we.EAN_8)>-1&&i.push(new Fc),r.indexOf(we.UPC_E)>-1&&i.push(new Rn)),this.readers=i}decodeRow(e,r,i){for(let o of this.readers)try{const a=o.decodeRow(e,r,i),c=a.getBarcodeFormat()===we.EAN_13&&a.getText().charAt(0)==="0",f=i==null?null:i.get(Y.POSSIBLE_FORMATS),d=f==null||f.includes(we.UPC_A);if(c&&d){const p=a.getRawBytes(),w=new ot(a.getText().substring(1),p,p?p.length:null,a.getResultPoints(),we.UPC_A);return w.putAllMetadata(a.getResultMetadata()),w}return a}catch{}throw new X}reset(){for(let e of this.readers)e.reset()}}class Yt extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let i=0;i<r.length;i++)if(Ct.patternMatchVariance(e,r[i],Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return i;throw new X}static count(e){return ne.sum(new Int32Array(e))}static increment(e,r){let i=0,o=r[0];for(let a=1;a<e.length;a++)r[a]>o&&(o=r[a],i=a);e[i]++}static decrement(e,r){let i=0,o=r[0];for(let a=1;a<e.length;a++)r[a]<o&&(o=r[a],i=a);e[i]--}static isFinderPattern(e){let r=e[0]+e[1],i=r+e[2]+e[3],o=r/i;if(o>=Yt.MIN_FINDER_PATTERN_RATIO&&o<=Yt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of e)f>c&&(c=f),f<a&&(a=f);return c<10*a}return!1}}Yt.MAX_AVG_VARIANCE=.2,Yt.MAX_INDIVIDUAL_VARIANCE=.45,Yt.MIN_FINDER_PATTERN_RATIO=9.5/12,Yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class hs{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof hs))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Hi{constructor(e,r,i,o,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new H(i,a)),this.resultPoints.push(new H(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Hi))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class Hn{constructor(){}static getRSSvalue(e,r,i){let o=0;for(let d of e)o+=d;let a=0,c=0,f=e.length;for(let d=0;d<f-1;d++){let p;for(p=1,c|=1<<d;p<e[d];p++,c&=~(1<<d)){let w=Hn.combins(o-p-1,f-d-2);if(i&&c===0&&o-p-(f-d-1)>=f-d-1&&(w-=Hn.combins(o-p-(f-d),f-d-2)),f-d-1>1){let C=0;for(let y=o-p-(f-d-2);y>r;y--)C+=Hn.combins(o-p-y-1,f-d-3);w-=C*(f-1-d)}else o-p>r&&w--;a+=w}o-=p}return a}static combins(e,r){let i,o;e-r>r?(o=r,i=e-r):(o=e-r,i=r);let a=1,c=1;for(let f=e;f>i;f--)a*=f,c<=o&&(a/=c,c++);for(;c<=o;)a/=c,c++;return a}}class hd{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new J(i),a=0,f=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)f&1<<d&&o.set(a),a++;for(let d=1;d<e.length;++d){let p=e[d],w=p.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&o.set(a),a++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let y=11;y>=0;--y)C&1<<y&&o.set(a),a++}}return o}}class Hr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class pa{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class nn extends pa{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===nn.FNC1}}nn.FNC1="$";class Wr extends pa{constructor(e,r,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _n extends pa{constructor(e,r,i){if(super(e),r<0||r>10||i<0||i>10)throw new P;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_n.FNC1}isSecondDigitFNC1(){return this.secondDigit===_n.FNC1}isAnyFNC1(){return this.firstDigit===_n.FNC1||this.secondDigit===_n.FNC1}}_n.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new X;let r=e.substring(0,2);for(let a of Ae.TWO_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,a[2],e):Ae.processFixedAI(2,a[1],e);if(e.length<3)throw new X;let i=e.substring(0,3);for(let a of Ae.THREE_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,a[2],e):Ae.processFixedAI(3,a[1],e);for(let a of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,a[2],e):Ae.processFixedAI(4,a[1],e);if(e.length<4)throw new X;let o=e.substring(0,4);for(let a of Ae.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,a[2],e):Ae.processFixedAI(4,a[1],e);throw new X}static processFixedAI(e,r,i){if(i.length<e)throw new X;let o=i.substring(0,e);if(i.length<e+r)throw new X;let a=i.substring(e,e+r),c=i.substring(e+r),f="("+o+")"+a,d=Ae.parseFieldsInGeneralPurpose(c);return d==null?f:f+d}static processVariableAI(e,r,i){let o=i.substring(0,e),a;i.length<e+r?a=i.length:a=e+r;let c=i.substring(e,a),f=i.substring(a),d="("+o+")"+c,p=Ae.parseFieldsInGeneralPurpose(f);return p==null?d:d+p}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class ds{constructor(e){this.buffer=new ve,this.information=e}decodeAllCodes(e,r){let i=r,o=null;do{let a=this.decodeGeneralPurposeField(i,o),c=Ae.parseFieldsInGeneralPurpose(a.getNewString());if(c!=null&&e.append(c),a.isRemaining()?o=""+a.getRemainingValue():o=null,i===a.getNewPosition())break;i=a.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(e,4);return a===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),a-1,_n.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new _n(e+7,i,o)}extractNumericValueFromBitArray(e,r){return ds.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,i){let o=0;for(let a=0;a<i;++a)e.get(r+a)&&(o|=1<<i-a-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Wr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Wr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new Wr(this.current.getPosition(),this.buffer.toString()):r=new Wr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Hr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Wr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new nn(e+5,nn.FNC1);if(r>=5&&r<15)return new nn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new nn(e+7,""+(i+1));if(i>=90&&i<116)return new nn(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new P}return new nn(e+8,a)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new nn(e+5,nn.FNC1);if(r>=5&&r<15)return new nn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new nn(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new U("Decoding invalid alphanumeric value: "+i)}return new nn(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class ma{constructor(e){this.information=e,this.generalDecoder=new ds(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends ma{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)}encodeCompressedGtinWithoutAI(e,r,i){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100===0&&e.append("0"),a/10===0&&e.append("0"),e.append(a)}rn.appendCheckDigit(e,i)}static appendCheckDigit(e,r){let i=0;for(let o=0;o<13;o++){let a=e.charAt(o+r).charCodeAt(0)-48;i+=o&1?a:3*a}i=10-i%10,i===10&&(i=0),e.append(i)}}rn.GTIN_SIZE=40;class gs extends rn{constructor(e){super(e)}parseInformation(){let e=new ve;e.append("(01)");let r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(gs.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,gs.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,gs.HEADER_SIZE+44)}}gs.HEADER_SIZE=4;class Wi extends ma{constructor(e){super(e)}parseInformation(){let e=new ve;return this.getGeneralDecoder().decodeAllCodes(e,Wi.HEADER_SIZE)}}Wi.HEADER_SIZE=5;class Gi extends rn{constructor(e){super(e)}encodeCompressedWeight(e,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);let a=this.checkWeight(o),c=1e5;for(let f=0;f<5;++f)a/c===0&&e.append("0"),c/=10;e.append(a)}}class Wn extends Gi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Wn.HEADER_SIZE+Gi.GTIN_SIZE+Wn.WEIGHT_SIZE)throw new X;let e=new ve;return this.encodeCompressedGtin(e,Wn.HEADER_SIZE),this.encodeCompressedWeight(e,Wn.HEADER_SIZE+Gi.GTIN_SIZE,Wn.WEIGHT_SIZE),e.toString()}}Wn.HEADER_SIZE=5,Wn.WEIGHT_SIZE=15;class dd extends Wn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class gd extends Wn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Gn extends rn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+rn.GTIN_SIZE)throw new X;let e=new ve;this.encodeCompressedGtin(e,Gn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+rn.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+rn.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class Qt extends rn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+rn.GTIN_SIZE)throw new X;let e=new ve;this.encodeCompressedGtin(e,Qt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class At extends Gi{constructor(e,r,i){super(e),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new X;let e=new ve;return this.encodeCompressedGtin(e,At.HEADER_SIZE),this.encodeCompressedWeight(e,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(e,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,At.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let a=i%12+1;i/=12;let c=i;c/10==0&&e.append("0"),e.append(c),a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function Vc(b){try{if(b.get(1))return new gs(b);if(!b.get(2))return new Wi(b);switch(ds.extractNumericValueFromBitArray(b,1,4)){case 4:return new dd(b);case 5:return new gd(b)}switch(ds.extractNumericValueFromBitArray(b,1,5)){case 12:return new Gn(b);case 13:return new Qt(b)}switch(ds.extractNumericValueFromBitArray(b,1,7)){case 56:return new At(b,"310","11");case 57:return new At(b,"320","11");case 58:return new At(b,"310","13");case 59:return new At(b,"320","13");case 60:return new At(b,"310","15");case 61:return new At(b,"320","15");case 62:return new At(b,"310","17");case 63:return new At(b,"320","17")}}catch(e){throw console.log(e),new U("unknown decoder: "+b)}}class hr{constructor(e,r,i,o){this.leftchar=e,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof hr?hr.equalsOrNull(e.leftchar,r.leftchar)&&hr.equalsOrNull(e.rightchar,r.rightchar)&&hr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:hr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xa{constructor(e,r,i){this.pairs=e,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof xa?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let i;return e.forEach((o,a)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class re extends Yt{constructor(e){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(a){if(a instanceof X){if(!this.pairs.length)throw new X;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new X}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(o);try{return this.checkRows(a,i+1)}catch(c){this.verbose&&console.log(c)}}throw new X}static isValidSequence(e){for(let r of re.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,r){let i=0,o=!1,a=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>e){a=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}a||o||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new xa(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let i of r)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let a of e)if(hr.equals(o,a))break}}static isPartialRow(e,r){for(let i of r){let o=!0;for(let a of e){let c=!1;for(let f of i.getPairs())if(a.equals(f)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=hd.buildBitArray(e),o=Vc(r).parseInformation(),a=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),f=[a[0],a[1],c[0],c[1]];return new ot(o,null,null,f,we.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),a=2;for(let f=1;f<this.pairs.size();++f){let d=this.pairs.get(f);o+=d.getLeftChar().getChecksumPortion(),a++;let p=d.getRightChar();p!=null&&(o+=p.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==r.getValue()}static getNextSecondBar(e,r){let i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i}retrieveNextPair(e,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let a,c=!0,f=-1;do this.findNextPair(e,r,f),a=this.parseFoundFinderPattern(e,i,o),a==null?f=re.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let d=this.decodeDataCharacter(e,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new X;let p;try{p=this.decodeDataCharacter(e,a,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new hr(d,p,a,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c;i>=0?c=i:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let d=!1;for(;c<a&&(d=!e.get(c),!!d);)c++;let p=0,w=c;for(let C=c;C<a;C++)if(e.get(C)!=d)o[p]++;else{if(p==3){if(f&&re.reverseCounters(o),re.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=C;return}f&&re.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,d=!d}throw new X}static reverseCounters(e){let r=e.length;for(let i=0;i<r/2;++i){let o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}}parseFoundFinderPattern(e,r,i){let o,a,c;if(i){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,a=p,c=this.startEnd[1]}else a=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let f=this.getDecodeFinderCounters();D.arraycopy(f,0,f,1,f.length-1),f[0]=o;let d;try{d=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new Hi(d,[a,c],a,c,r)}decodeDataCharacter(e,r,i,o){let a=this.getDataCharacterCounters();for(let ut=0;ut<a.length;ut++)a[ut]=0;if(o)re.recordPatternInReverse(e,r.getStartEnd()[0],a);else{re.recordPattern(e,r.getStartEnd()[1],a);for(let ut=0,jt=a.length-1;ut<jt;ut++,jt--){let dn=a[ut];a[ut]=a[jt],a[jt]=dn}}let c=17,f=ne.sum(new Int32Array(a))/c,d=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-d)/d>.3)throw new X;let p=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let ut=0;ut<a.length;ut++){let jt=1*a[ut]/f,dn=jt+.5;if(dn<1){if(jt<.3)throw new X;dn=1}else if(dn>8){if(jt>8.7)throw new X;dn=8}let ws=ut/2;ut&1?(w[ws]=dn,y[ws]=jt-dn):(p[ws]=dn,C[ws]=jt-dn)}this.adjustOddEvenCounts(c);let S=4*r.getValue()+(i?0:2)+(o?0:1)-1,R=0,M=0;for(let ut=p.length-1;ut>=0;ut--){if(re.isNotA1left(r,i,o)){let jt=re.WEIGHTS[S][2*ut];M+=p[ut]*jt}R+=p[ut]}let B=0;for(let ut=w.length-1;ut>=0;ut--)if(re.isNotA1left(r,i,o)){let jt=re.WEIGHTS[S][2*ut+1];B+=w[ut]*jt}let G=M+B;if(R&1||R>13||R<4)throw new X;let ue=(13-R)/2,he=re.SYMBOL_WIDEST[ue],ae=9-he,Ye=Hn.getRSSvalue(p,he,!0),Fe=Hn.getRSSvalue(w,ae,!1),on=re.EVEN_TOTAL_SUBSET[ue],Dn=re.GSUM[ue],an=Ye*on+Fe+Dn;return new hs(an,G)}static isNotA1left(e,r,i){return!(e.getValue()==0&&r&&i)}adjustOddEvenCounts(e){let r=ne.sum(new Int32Array(this.getOddCounts())),i=ne.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);let c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);let d=r+i-e,p=(r&1)==1,w=(i&1)==0;if(d==1)if(p){if(w)throw new X;a=!0}else{if(!w)throw new X;f=!0}else if(d==-1)if(p){if(w)throw new X;o=!0}else{if(!w)throw new X;c=!0}else if(d==0){if(p){if(!w)throw new X;r<i?(o=!0,f=!0):(a=!0,c=!0)}else if(w)throw new X}else throw new X;if(o){if(a)throw new X;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new X;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class pd extends hs{constructor(e,r,i){super(e,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ot extends Yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,i){const o=this.decodePair(r,!1,e,i);Ot.addOrTally(this.possibleLeftPairs,o),r.reverse();let a=this.decodePair(r,!0,e,i);Ot.addOrTally(this.possibleRightPairs,a),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Ot.checkChecksum(c,f))return Ot.constructResult(c,f)}throw new X}static addOrTally(e,r){if(r==null)return;let i=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),a=new ve;for(let p=13-o.length;p>0;p--)a.append("0");a.append(o);let c=0;for(let p=0;p<13;p++){let w=a.charAt(p).charCodeAt(0)-48;c+=p&1?w:3*w}c=10-c%10,c===10&&(c=0),a.append(c.toString());let f=e.getFinderPattern().getResultPoints(),d=r.getFinderPattern().getResultPoints();return new ot(a.toString(),null,0,[f[0],f[1],d[0],d[1]],we.RSS_14,new Date().getTime())}static checkChecksum(e,r){let i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,r,i,o){try{let a=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,i,r,a),f=o==null?null:o.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(a[0]+a[1])/2;r&&(w=e.getSize()-1-w),f.foundPossibleResultPoint(new H(w,i))}let d=this.decodeDataCharacter(e,c,!0),p=this.decodeDataCharacter(e,c,!1);return new pd(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,r,i){let o=this.getDataCharacterCounters();for(let B=0;B<o.length;B++)o[B]=0;if(i)Ct.recordPatternInReverse(e,r.getStartEnd()[0],o);else{Ct.recordPattern(e,r.getStartEnd()[1]+1,o);for(let B=0,G=o.length-1;B<G;B++,G--){let ue=o[B];o[B]=o[G],o[G]=ue}}let a=i?16:15,c=ne.sum(new Int32Array(o))/a,f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let B=0;B<o.length;B++){let G=o[B]/c,ue=Math.floor(G+.5);ue<1?ue=1:ue>8&&(ue=8);let he=Math.floor(B/2);B&1?(d[he]=ue,w[he]=G-ue):(f[he]=ue,p[he]=G-ue)}this.adjustOddEvenCounts(i,a);let C=0,y=0;for(let B=f.length-1;B>=0;B--)y*=9,y+=f[B],C+=f[B];let S=0,R=0;for(let B=d.length-1;B>=0;B--)S*=9,S+=d[B],R+=d[B];let M=y+3*S;if(i){if(C&1||C>12||C<4)throw new X;let B=(12-C)/2,G=Ot.OUTSIDE_ODD_WIDEST[B],ue=9-G,he=Hn.getRSSvalue(f,G,!1),ae=Hn.getRSSvalue(d,ue,!0),Ye=Ot.OUTSIDE_EVEN_TOTAL_SUBSET[B],Fe=Ot.OUTSIDE_GSUM[B];return new hs(he*Ye+ae+Fe,M)}else{if(R&1||R>10||R<4)throw new X;let B=(10-R)/2,G=Ot.INSIDE_ODD_WIDEST[B],ue=9-G,he=Hn.getRSSvalue(f,G,!0),ae=Hn.getRSSvalue(d,ue,!1),Ye=Ot.INSIDE_ODD_TOTAL_SUBSET[B],Fe=Ot.INSIDE_GSUM[B];return new hs(ae*Ye+he+Fe,M)}}findFinderPattern(e,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=!1,c=0;for(;c<o&&(a=!e.get(c),r!==a);)c++;let f=0,d=c;for(let p=c;p<o;p++)if(e.get(p)!==a)i[f]++;else{if(f===3){if(Yt.isFinderPattern(i))return[d,p];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,a=!a}throw new X}parseFoundFinderPattern(e,r,i,o){let a=e.get(o[0]),c=o[0]-1;for(;c>=0&&a!==e.get(c);)c--;c++;const f=o[0]-c,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);D.arraycopy(d,0,p,1,d.length-1),p[0]=f;const w=this.parseFinderValue(p,Ot.FINDER_PATTERNS);let C=c,y=o[1];return i&&(C=e.getSize()-1-C,y=e.getSize()-1-y),new Hi(w,[c,o[1]],C,y,r)}adjustOddEvenCounts(e,r){let i=ne.sum(new Int32Array(this.getOddCounts())),o=ne.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1,f=!1,d=!1;e?(i>12?c=!0:i<4&&(a=!0),o>12?d=!0:o<4&&(f=!0)):(i>11?c=!0:i<5&&(a=!0),o>10?d=!0:o<4&&(f=!0));let p=i+o-r,w=(i&1)===(e?1:0),C=(o&1)===1;if(p===1)if(w){if(C)throw new X;c=!0}else{if(!C)throw new X;d=!0}else if(p===-1)if(w){if(C)throw new X;a=!0}else{if(!C)throw new X;f=!0}else if(p===0){if(w){if(!C)throw new X;i<o?(a=!0,d=!0):(c=!0,f=!0)}else if(C)throw new X}else throw new X;if(a){if(c)throw new X;Yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new X;Yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ot.OUTSIDE_GSUM=[0,161,961,2015,2715],Ot.INSIDE_GSUM=[0,336,1036,1516],Ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ot.INSIDE_ODD_WIDEST=[2,4,6,8],Ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ps extends Ct{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const i=e?e.get(Y.POSSIBLE_FORMATS):null,o=e&&e.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(we.EAN_13)||i.includes(we.UPC_A)||i.includes(we.EAN_8)||i.includes(we.UPC_E))&&this.readers.push(new ga(e)),i.includes(we.CODE_39)&&this.readers.push(new It(o)),i.includes(we.CODE_128)&&this.readers.push(new ge),i.includes(we.ITF)&&this.readers.push(new We),i.includes(we.RSS_14)&&this.readers.push(new Ot),i.includes(we.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new ga(e)),this.readers.push(new It),this.readers.push(new ga(e)),this.readers.push(new ge),this.readers.push(new We),this.readers.push(new Ot),this.readers.push(new re(this.verbose)))}decodeRow(e,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new X}reset(){this.readers.forEach(e=>e.reset())}}class md extends Lt{constructor(e=500,r){super(new ps(r),e,r)}}class it{constructor(e,r,i){this.ecCodewords=e,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(e,r,i,o,a,c){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=c;let f=0;const d=c.getECCodewords(),p=c.getECBlocks();for(let w of p)f+=w.getCount()*(w.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new P;for(let i of Ke.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===r)return i;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new it(5,new nt(1,3))),new Ke(2,12,12,10,10,new it(7,new nt(1,5))),new Ke(3,14,14,12,12,new it(10,new nt(1,8))),new Ke(4,16,16,14,14,new it(12,new nt(1,12))),new Ke(5,18,18,16,16,new it(14,new nt(1,18))),new Ke(6,20,20,18,18,new it(18,new nt(1,22))),new Ke(7,22,22,20,20,new it(20,new nt(1,30))),new Ke(8,24,24,22,22,new it(24,new nt(1,36))),new Ke(9,26,26,24,24,new it(28,new nt(1,44))),new Ke(10,32,32,14,14,new it(36,new nt(1,62))),new Ke(11,36,36,16,16,new it(42,new nt(1,86))),new Ke(12,40,40,18,18,new it(48,new nt(1,114))),new Ke(13,44,44,20,20,new it(56,new nt(1,144))),new Ke(14,48,48,22,22,new it(68,new nt(1,174))),new Ke(15,52,52,24,24,new it(42,new nt(2,102))),new Ke(16,64,64,14,14,new it(56,new nt(2,140))),new Ke(17,72,72,16,16,new it(36,new nt(4,92))),new Ke(18,80,80,18,18,new it(48,new nt(4,114))),new Ke(19,88,88,20,20,new it(56,new nt(4,144))),new Ke(20,96,96,22,22,new it(68,new nt(4,174))),new Ke(21,104,104,24,24,new it(56,new nt(6,136))),new Ke(22,120,120,18,18,new it(68,new nt(6,175))),new Ke(23,132,132,20,20,new it(62,new nt(8,163))),new Ke(24,144,144,22,22,new it(62,new nt(8,156),new nt(2,155))),new Ke(25,8,18,6,16,new it(7,new nt(1,5))),new Ke(26,8,32,6,14,new it(11,new nt(1,10))),new Ke(27,12,26,10,24,new it(14,new nt(1,16))),new Ke(28,12,36,10,16,new it(18,new nt(1,22))),new Ke(29,16,36,14,16,new it(24,new nt(1,32))),new Ke(30,16,48,14,22,new it(28,new nt(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class Ea{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new P;this.version=Ea.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new qe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),i=e.getWidth();return Ke.getVersionForDimensions(r,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const a=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,d=!1,p=!1,w=!1;do if(i===a&&o===0&&!f)e[r++]=this.readCorner1(a,c)&255,i-=2,o+=2,f=!0;else if(i===a-2&&o===0&&c&3&&!d)e[r++]=this.readCorner2(a,c)&255,i-=2,o+=2,d=!0;else if(i===a+4&&o===2&&!(c&7)&&!p)e[r++]=this.readCorner3(a,c)&255,i-=2,o+=2,p=!0;else if(i===a-2&&o===0&&(c&7)===4&&!w)e[r++]=this.readCorner4(a,c)&255,i-=2,o+=2,w=!0;else{do i<a&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,a,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,a,c)&255),i+=2,o-=2;while(i<a&&o>=0);i+=3,o+=1}while(i<a||o<c);if(r!==this.version.getTotalCodewords())throw new P;return e}readModule(e,r,i,o){return e<0&&(e+=i,r+=4-(i+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,i,o){let a=0;return this.readModule(e-2,r-2,i,o)&&(a|=1),a<<=1,this.readModule(e-2,r-1,i,o)&&(a|=1),a<<=1,this.readModule(e-1,r-2,i,o)&&(a|=1),a<<=1,this.readModule(e-1,r-1,i,o)&&(a|=1),a<<=1,this.readModule(e-1,r,i,o)&&(a|=1),a<<=1,this.readModule(e,r-2,i,o)&&(a|=1),a<<=1,this.readModule(e,r-1,i,o)&&(a|=1),a<<=1,this.readModule(e,r,i,o)&&(a|=1),a}readCorner1(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,1,e,r)&&(i|=1),i<<=1,this.readModule(e-1,2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}readCorner2(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-4,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner3(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-3,e,r)&&(i|=1),i<<=1,this.readModule(1,r-2,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner4(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),c=r/o|0,f=i/a|0,d=c*o,p=f*a,w=new qe(p,d);for(let C=0;C<c;++C){const y=C*o;for(let S=0;S<f;++S){const R=S*a;for(let M=0;M<o;++M){const B=C*(o+2)+1+M,G=y+M;for(let ue=0;ue<a;++ue){const he=S*(a+2)+1+ue;if(e.get(he,B)){const ae=R+ue;w.set(ae,G)}}}}}return w}}class wa{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const i=r.getECBlocks();let o=0;const a=i.getECBlocks();for(let M of a)o+=M.getCount();const c=new Array(o);let f=0;for(let M of a)for(let B=0;B<M.getCount();B++){const G=M.getDataCodewords(),ue=i.getECCodewords()+G;c[f++]=new wa(G,new Uint8Array(ue))}const p=c[0].codewords.length-i.getECCodewords(),w=p-1;let C=0;for(let M=0;M<w;M++)for(let B=0;B<f;B++)c[B].codewords[M]=e[C++];const y=r.getVersionNumber()===24,S=y?8:f;for(let M=0;M<S;M++)c[M].codewords[p-1]=e[C++];const R=c[0].codewords.length;for(let M=p;M<R;M++)for(let B=0;B<f;B++){const G=y?(B+8)%f:B,ue=y&&G>7?M-1:M;c[G].codewords[ue]=e[C++]}if(C!==e.length)throw new A;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _a{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let r=0,i=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(i>0){const c=8-i,f=e<c?e:c,d=c-f,p=255>>8-f<<d;r=(a[o]&p)>>d,e-=f,i+=f,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)r=r<<8|a[o]&255,o++,e-=8;if(e>0){const c=8-e,f=255>>c<<c;r=r<<e|(a[o]&f)>>c,i+=e}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class dr{static decode(e){const r=new _a(e),i=new ve,o=new ve,a=new Array;let c=Pt.ASCII_ENCODE;do if(c===Pt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,i,o);else{switch(c){case Pt.C40_ENCODE:this.decodeC40Segment(r,i);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(r,i,a);break;default:throw new P}c=Pt.ASCII_ENCODE}while(c!==Pt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new me(e,i.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(e,r,i){let o=!1;do{let a=e.readBits(8);if(a===0)throw new P;if(a<=128)return o&&(a+=128),r.append(String.fromCharCode(a-1)),Pt.ASCII_ENCODE;if(a===129)return Pt.PAD_ENCODE;if(a<=229){const c=a-130;c<10&&r.append("0"),r.append(""+c)}else switch(a){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new P;break}}while(e.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(e,r){let i=!1;const o=[];let a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new P;break;case 1:i?(r.append(String.fromCharCode(d+128)),i=!1):r.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:i=!0;break;default:throw new P}a=0;break;case 3:i?(r.append(String.fromCharCode(d+224)),i=!1):r.append(String.fromCharCode(d+96)),a=0;break;default:throw new P}}}while(e.available()>0)}static decodeTextSegment(e,r){let i=!1,o=[],a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new P;break;case 1:i?(r.append(String.fromCharCode(d+128)),i=!1):r.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:i=!0;break;default:throw new P}a=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[d];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p),a=0}else throw new P;break;default:throw new P}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let a=0;a<3;a++){const c=i[a];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new P;break}}}while(e.available()>0)}static parseTwoBytes(e,r,i){let o=(e<<8)+r-1,a=Math.floor(o/1600);i[0]=a,o-=a*1600,a=Math.floor(o/40),i[1]=a,i[2]=o-a*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const a=8-e.getBitOffset();a!==8&&e.readBits(a);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,i){let o=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),o++);let c;if(a===0?c=e.available()/8|0:a<250?c=a:c=250*(a-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new P;const f=new Uint8Array(c);for(let d=0;d<c;d++){if(e.available()<8)throw new P;f[d]=this.unrandomize255State(e.readBits(8),o++)}i.push(f);try{r.append(ye.decode(f,de.ISO88591))}catch(d){throw new U("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,r){const i=149*r%255+1,o=e-i;return o>=0?o:o+256}}dr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],dr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],dr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],dr.TEXT_SHIFT2_SET_CHARS=dr.C40_SHIFT2_SET_CHARS,dr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xd{constructor(){this.rsDecoder=new te(T.DATA_MATRIX_FIELD_256)}decode(e){const r=new Ea(e),i=r.getVersion(),o=r.readCodewords(),a=wa.getDataBlocks(o,i);let c=0;for(let p of a)c+=p.getNumDataCodewords();const f=new Uint8Array(c),d=a.length;for(let p=0;p<d;p++){const w=a[p],C=w.getCodewords(),y=w.getNumDataCodewords();this.correctErrors(C,y);for(let S=0;S<y;S++)f[S*d+p]=C[S]}return dr.decode(f)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=i[o]}}class Mt{constructor(e){this.image=e,this.rectangleDetector=new _e(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new X;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],a=r[2],c=r[3];let f=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(a,c)+1;(f&1)===1&&(f+=1),(d&1)===1&&(d+=1),4*f<7*d&&4*d<7*f&&(f=d=Math.max(f,d));let p=Mt.sampleGrid(this.image,i,o,a,c,f,d);return new se(p,[i,o,a,c])}static shiftPoint(e,r,i){let o=(r.getX()-e.getX())/(i+1),a=(r.getY()-e.getY())/(i+1);return new H(e.getX()+o,e.getY()+a)}static moveAway(e,r,i){let o=e.getX(),a=e.getY();return o<r?o-=1:o+=1,a<i?a-=1:a+=1,new H(o,a)}detectSolid1(e){let r=e[0],i=e[1],o=e[3],a=e[2],c=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),p=this.transitionsBetween(a,r),w=c,C=[a,r,i,o];return w>f&&(w=f,C[0]=r,C[1]=i,C[2]=o,C[3]=a),w>d&&(w=d,C[0]=i,C[1]=o,C[2]=a,C[3]=r),w>p&&(C[0]=o,C[1]=a,C[2]=r,C[3]=i),C}detectSolid2(e){let r=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a),f=Mt.shiftPoint(i,o,(c+1)*4),d=Mt.shiftPoint(o,i,(c+1)*4),p=this.transitionsBetween(f,r),w=this.transitionsBetween(d,a);return p<w?(e[0]=r,e[1]=i,e[2]=o,e[3]=a):(e[0]=i,e[1]=o,e[2]=a,e[3]=r),e}correctTopRight(e){let r=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a),f=this.transitionsBetween(i,a),d=Mt.shiftPoint(r,i,(f+1)*4),p=Mt.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(d,a),f=this.transitionsBetween(p,a);let w=new H(a.getX()+(o.getX()-i.getX())/(c+1),a.getY()+(o.getY()-i.getY())/(c+1)),C=new H(a.getX()+(r.getX()-i.getX())/(f+1),a.getY()+(r.getY()-i.getY())/(f+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let y=this.transitionsBetween(d,w)+this.transitionsBetween(p,w),S=this.transitionsBetween(d,C)+this.transitionsBetween(p,C);return y>S?w:C}shiftToModuleCenter(e){let r=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a)+1,f=this.transitionsBetween(o,a)+1,d=Mt.shiftPoint(r,i,f*4),p=Mt.shiftPoint(o,i,c*4);c=this.transitionsBetween(d,a)+1,f=this.transitionsBetween(p,a)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let w=(r.getX()+i.getX()+o.getX()+a.getX())/4,C=(r.getY()+i.getY()+o.getY()+a.getY())/4;r=Mt.moveAway(r,w,C),i=Mt.moveAway(i,w,C),o=Mt.moveAway(o,w,C),a=Mt.moveAway(a,w,C);let y,S;return d=Mt.shiftPoint(r,i,f*4),d=Mt.shiftPoint(d,a,c*4),y=Mt.shiftPoint(i,r,f*4),y=Mt.shiftPoint(y,o,c*4),p=Mt.shiftPoint(o,a,f*4),p=Mt.shiftPoint(p,i,c*4),S=Mt.shiftPoint(a,o,f*4),S=Mt.shiftPoint(S,r,c*4),[d,y,p,S]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,i,o,a,c,f){return $e.getInstance().sampleGrid(e,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,r){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.trunc(r.getX()),c=Math.trunc(r.getY()),f=Math.abs(c-o)>Math.abs(a-i);if(f){let M=i;i=o,o=M,M=a,a=c,c=M}let d=Math.abs(a-i),p=Math.abs(c-o),w=-d/2,C=o<c?1:-1,y=i<a?1:-1,S=0,R=this.image.get(f?o:i,f?i:o);for(let M=i,B=o;M!==a;M+=y){let G=this.image.get(f?B:M,f?M:B);if(G!==R&&(S++,R=G),w+=p,w>0){if(B===c)break;B+=C,w-=d}}return S}}class gr{constructor(){this.decoder=new xd}decode(e,r=null){let i,o;if(r!=null&&r.has(Y.PURE_BARCODE)){const p=gr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(p),o=gr.NO_POINTS}else{const p=new Mt(e.getBlackMatrix()).detect();i=this.decoder.decode(p.getBits()),o=p.getPoints()}const a=i.getRawBytes(),c=new ot(i.getText(),a,8*a.length,o,we.DATA_MATRIX,D.currentTimeMillis()),f=i.getByteSegments();f!=null&&c.putMetadata(ce.BYTE_SEGMENTS,f);const d=i.getECLevel();return d!=null&&c.putMetadata(ce.ERROR_CORRECTION_LEVEL,d),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r==null||i==null)throw new X;const o=this.moduleSize(r,e);let a=r[1];const c=i[1];let f=r[0];const p=(i[0]-f+1)/o,w=(c-a+1)/o;if(p<=0||w<=0)throw new X;const C=o/2;a+=C,f+=C;const y=new qe(p,w);for(let S=0;S<w;S++){const R=a+S*o;for(let M=0;M<p;M++)e.get(f+M*o,R)&&y.set(M,S)}return y}static moduleSize(e,r){const i=r.getWidth();let o=e[0];const a=e[1];for(;o<i&&r.get(o,a);)o++;if(o===i)throw new X;const c=o-e[0];if(c===0)throw new X;return c}}gr.NO_POINTS=[];class Ed extends Lt{constructor(e=500){super(new gr,e)}}var ms;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(ms||(ms={}));class dt{constructor(e,r,i){this.value=e,this.stringValue=r,this.bits=i,dt.FOR_BITS.set(i,this),dt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new _(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof dt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=dt.FOR_BITS.size)throw new A;return dt.FOR_BITS.get(e)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(ms.L,"L",1),dt.M=new dt(ms.M,"M",0),dt.Q=new dt(ms.Q,"Q",3),dt.H=new dt(ms.H,"H",2);class Kt{constructor(e){this.errorCorrectionLevel=dt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return k.bitCount(e^r)}static decodeFormatInformation(e,r){const i=Kt.doDecodeFormatInformation(e,r);return i!==null?i:Kt.doDecodeFormatInformation(e^Kt.FORMAT_INFO_MASK_QR,r^Kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const a of Kt.FORMAT_INFO_DECODE_LOOKUP){const c=a[0];if(c===e||c===r)return new Kt(a[1]);let f=Kt.numBitsDiffering(e,c);f<i&&(o=a[1],i=f),e!==r&&(f=Kt.numBitsDiffering(r,c),f<i&&(o=a[1],i=f))}return i<=3?new Kt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Kt))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Kt.FORMAT_INFO_MASK_QR=21522,Kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const i of r)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class v{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(e,r,...i){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const a=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const f of c)o+=f.getCount()*(f.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new P;try{return this.getVersionForNumber((e-17)/4)}catch{throw new P}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return Oe.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<Oe.VERSION_DECODE_INFO.length;o++){const a=Oe.VERSION_DECODE_INFO[o];if(a===e)return Oe.getVersionForNumber(o+7);const c=Kt.numBitsDiffering(e,a);c<r&&(i=o+7,r=c)}return r<=3?Oe.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new qe(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const a=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,a,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new F(7,new v(1,19)),new F(10,new v(1,16)),new F(13,new v(1,13)),new F(17,new v(1,9))),new Oe(2,Int32Array.from([6,18]),new F(10,new v(1,34)),new F(16,new v(1,28)),new F(22,new v(1,22)),new F(28,new v(1,16))),new Oe(3,Int32Array.from([6,22]),new F(15,new v(1,55)),new F(26,new v(1,44)),new F(18,new v(2,17)),new F(22,new v(2,13))),new Oe(4,Int32Array.from([6,26]),new F(20,new v(1,80)),new F(18,new v(2,32)),new F(26,new v(2,24)),new F(16,new v(4,9))),new Oe(5,Int32Array.from([6,30]),new F(26,new v(1,108)),new F(24,new v(2,43)),new F(18,new v(2,15),new v(2,16)),new F(22,new v(2,11),new v(2,12))),new Oe(6,Int32Array.from([6,34]),new F(18,new v(2,68)),new F(16,new v(4,27)),new F(24,new v(4,19)),new F(28,new v(4,15))),new Oe(7,Int32Array.from([6,22,38]),new F(20,new v(2,78)),new F(18,new v(4,31)),new F(18,new v(2,14),new v(4,15)),new F(26,new v(4,13),new v(1,14))),new Oe(8,Int32Array.from([6,24,42]),new F(24,new v(2,97)),new F(22,new v(2,38),new v(2,39)),new F(22,new v(4,18),new v(2,19)),new F(26,new v(4,14),new v(2,15))),new Oe(9,Int32Array.from([6,26,46]),new F(30,new v(2,116)),new F(22,new v(3,36),new v(2,37)),new F(20,new v(4,16),new v(4,17)),new F(24,new v(4,12),new v(4,13))),new Oe(10,Int32Array.from([6,28,50]),new F(18,new v(2,68),new v(2,69)),new F(26,new v(4,43),new v(1,44)),new F(24,new v(6,19),new v(2,20)),new F(28,new v(6,15),new v(2,16))),new Oe(11,Int32Array.from([6,30,54]),new F(20,new v(4,81)),new F(30,new v(1,50),new v(4,51)),new F(28,new v(4,22),new v(4,23)),new F(24,new v(3,12),new v(8,13))),new Oe(12,Int32Array.from([6,32,58]),new F(24,new v(2,92),new v(2,93)),new F(22,new v(6,36),new v(2,37)),new F(26,new v(4,20),new v(6,21)),new F(28,new v(7,14),new v(4,15))),new Oe(13,Int32Array.from([6,34,62]),new F(26,new v(4,107)),new F(22,new v(8,37),new v(1,38)),new F(24,new v(8,20),new v(4,21)),new F(22,new v(12,11),new v(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new F(30,new v(3,115),new v(1,116)),new F(24,new v(4,40),new v(5,41)),new F(20,new v(11,16),new v(5,17)),new F(24,new v(11,12),new v(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new F(22,new v(5,87),new v(1,88)),new F(24,new v(5,41),new v(5,42)),new F(30,new v(5,24),new v(7,25)),new F(24,new v(11,12),new v(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new F(24,new v(5,98),new v(1,99)),new F(28,new v(7,45),new v(3,46)),new F(24,new v(15,19),new v(2,20)),new F(30,new v(3,15),new v(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new F(28,new v(1,107),new v(5,108)),new F(28,new v(10,46),new v(1,47)),new F(28,new v(1,22),new v(15,23)),new F(28,new v(2,14),new v(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new F(30,new v(5,120),new v(1,121)),new F(26,new v(9,43),new v(4,44)),new F(28,new v(17,22),new v(1,23)),new F(28,new v(2,14),new v(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new F(28,new v(3,113),new v(4,114)),new F(26,new v(3,44),new v(11,45)),new F(26,new v(17,21),new v(4,22)),new F(26,new v(9,13),new v(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new F(28,new v(3,107),new v(5,108)),new F(26,new v(3,41),new v(13,42)),new F(30,new v(15,24),new v(5,25)),new F(28,new v(15,15),new v(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new F(28,new v(4,116),new v(4,117)),new F(26,new v(17,42)),new F(28,new v(17,22),new v(6,23)),new F(30,new v(19,16),new v(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new F(28,new v(2,111),new v(7,112)),new F(28,new v(17,46)),new F(30,new v(7,24),new v(16,25)),new F(24,new v(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new F(30,new v(4,121),new v(5,122)),new F(28,new v(4,47),new v(14,48)),new F(30,new v(11,24),new v(14,25)),new F(30,new v(16,15),new v(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new F(30,new v(6,117),new v(4,118)),new F(28,new v(6,45),new v(14,46)),new F(30,new v(11,24),new v(16,25)),new F(30,new v(30,16),new v(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new F(26,new v(8,106),new v(4,107)),new F(28,new v(8,47),new v(13,48)),new F(30,new v(7,24),new v(22,25)),new F(30,new v(22,15),new v(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new F(28,new v(10,114),new v(2,115)),new F(28,new v(19,46),new v(4,47)),new F(28,new v(28,22),new v(6,23)),new F(30,new v(33,16),new v(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new F(30,new v(8,122),new v(4,123)),new F(28,new v(22,45),new v(3,46)),new F(30,new v(8,23),new v(26,24)),new F(30,new v(12,15),new v(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new v(3,117),new v(10,118)),new F(28,new v(3,45),new v(23,46)),new F(30,new v(4,24),new v(31,25)),new F(30,new v(11,15),new v(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new v(7,116),new v(7,117)),new F(28,new v(21,45),new v(7,46)),new F(30,new v(1,23),new v(37,24)),new F(30,new v(19,15),new v(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new v(5,115),new v(10,116)),new F(28,new v(19,47),new v(10,48)),new F(30,new v(15,24),new v(25,25)),new F(30,new v(23,15),new v(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new v(13,115),new v(3,116)),new F(28,new v(2,46),new v(29,47)),new F(30,new v(42,24),new v(1,25)),new F(30,new v(23,15),new v(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new v(17,115)),new F(28,new v(10,46),new v(23,47)),new F(30,new v(10,24),new v(35,25)),new F(30,new v(19,15),new v(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new v(17,115),new v(1,116)),new F(28,new v(14,46),new v(21,47)),new F(30,new v(29,24),new v(19,25)),new F(30,new v(11,15),new v(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new v(13,115),new v(6,116)),new F(28,new v(14,46),new v(23,47)),new F(30,new v(44,24),new v(7,25)),new F(30,new v(59,16),new v(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new v(12,121),new v(7,122)),new F(28,new v(12,47),new v(26,48)),new F(30,new v(39,24),new v(14,25)),new F(30,new v(22,15),new v(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new v(6,121),new v(14,122)),new F(28,new v(6,47),new v(34,48)),new F(30,new v(46,24),new v(10,25)),new F(30,new v(2,15),new v(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new v(17,122),new v(4,123)),new F(28,new v(29,46),new v(14,47)),new F(30,new v(49,24),new v(10,25)),new F(30,new v(24,15),new v(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new v(4,122),new v(18,123)),new F(28,new v(13,46),new v(32,47)),new F(30,new v(48,24),new v(14,25)),new F(30,new v(42,15),new v(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new v(20,117),new v(4,118)),new F(28,new v(40,47),new v(7,48)),new F(30,new v(43,24),new v(22,25)),new F(30,new v(10,15),new v(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new v(19,118),new v(6,119)),new F(28,new v(18,47),new v(31,48)),new F(30,new v(34,24),new v(34,25)),new F(30,new v(20,15),new v(61,16)))];var Ft;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(Ft||(Ft={}));class An{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&e.flip(o,i)}}An.values=new Map([[Ft.DATA_MASK_000,new An(Ft.DATA_MASK_000,(b,e)=>(b+e&1)===0)],[Ft.DATA_MASK_001,new An(Ft.DATA_MASK_001,(b,e)=>(b&1)===0)],[Ft.DATA_MASK_010,new An(Ft.DATA_MASK_010,(b,e)=>e%3===0)],[Ft.DATA_MASK_011,new An(Ft.DATA_MASK_011,(b,e)=>(b+e)%3===0)],[Ft.DATA_MASK_100,new An(Ft.DATA_MASK_100,(b,e)=>(Math.floor(b/2)+Math.floor(e/3)&1)===0)],[Ft.DATA_MASK_101,new An(Ft.DATA_MASK_101,(b,e)=>b*e%6===0)],[Ft.DATA_MASK_110,new An(Ft.DATA_MASK_110,(b,e)=>b*e%6<3)],[Ft.DATA_MASK_111,new An(Ft.DATA_MASK_111,(b,e)=>(b+e+b*e%3&1)===0)]]);class wd{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new P;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let a=r-1;a>=o;a--)i=this.copyBit(8,a,i);for(let a=r-8;a<r;a++)i=this.copyBit(a,8,i);if(this.parsedFormatInfo=Kt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Oe.getVersionForNumber(r);let i=0;const o=e-11;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)i=this.copyBit(f,c,i);let a=Oe.decodeVersionInformation(i);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;i=0;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)i=this.copyBit(c,f,i);if(a=Oe.decodeVersionInformation(i),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new P}copyBit(e,r,i){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),i=An.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const a=r.buildFunctionPattern();let c=!0;const f=new Uint8Array(r.getTotalCodewords());let d=0,p=0,w=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let y=0;y<o;y++){const S=c?o-1-y:y;for(let R=0;R<2;R++)a.get(C-R,S)||(w++,p<<=1,this.bitMatrix.get(C-R,S)&&(p|=1),w===8&&(f[d++]=p,w=0,p=0))}c=!c}if(d!==r.getTotalCodewords())throw new P;return f}remask(){if(this.parsedFormatInfo===null)return;const e=An.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,i=e.getWidth();r<i;r++)for(let o=r+1,a=e.getHeight();o<a;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class Aa{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,i){if(e.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(i);let a=0;const c=o.getECBlocks();for(const R of c)a+=R.getCount();const f=new Array(a);let d=0;for(const R of c)for(let M=0;M<R.getCount();M++){const B=R.getDataCodewords(),G=o.getECCodewordsPerBlock()+B;f[d++]=new Aa(B,new Uint8Array(G))}const p=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==p;)w--;w++;const C=p-o.getECCodewordsPerBlock();let y=0;for(let R=0;R<C;R++)for(let M=0;M<d;M++)f[M].codewords[R]=e[y++];for(let R=w;R<d;R++)f[R].codewords[C]=e[y++];const S=f[0].codewords.length;for(let R=C;R<S;R++)for(let M=0;M<d;M++){const B=M<w?R:R+1;f[M].codewords[B]=e[y++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(bn||(bn={}));class Ne{constructor(e,r,i,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,Ne.FOR_BITS.set(o,this),Ne.FOR_VALUE.set(e,this)}static forBits(e){const r=Ne.FOR_BITS.get(e);if(r===void 0)throw new A;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ne))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class yt{static decode(e,r,i,o){const a=new _a(e);let c=new ve;const f=new Array;let d=-1,p=-1;try{let w=null,C=!1,y;do{if(a.available()<4)y=Ne.TERMINATOR;else{const S=a.readBits(4);y=Ne.forBits(S)}switch(y){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:C=!0;break;case Ne.STRUCTURED_APPEND:if(a.available()<16)throw new P;d=a.readBits(8),p=a.readBits(8);break;case Ne.ECI:const S=yt.parseECIValue(a);if(w=V.getCharacterSetECIByValue(S),w===null)throw new P;break;case Ne.HANZI:const R=a.readBits(4),M=a.readBits(y.getCharacterCountBits(r));R===yt.GB2312_SUBSET&&yt.decodeHanziSegment(a,c,M);break;default:const B=a.readBits(y.getCharacterCountBits(r));switch(y){case Ne.NUMERIC:yt.decodeNumericSegment(a,c,B);break;case Ne.ALPHANUMERIC:yt.decodeAlphanumericSegment(a,c,B,C);break;case Ne.BYTE:yt.decodeByteSegment(a,c,B,w,f,o);break;case Ne.KANJI:yt.decodeKanjiSegment(a,c,B);break;default:throw new P}break}}while(y!==Ne.TERMINATOR)}catch{throw new P}return new me(e,c.toString(),f.length===0?null:f,i===null?null:i.toString(),d,p)}static decodeHanziSegment(e,r,i){if(i*13>e.available())throw new P;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=e.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,o[a]=f>>8&255,o[a+1]=f&255,a+=2,i--}try{r.append(ye.decode(o,de.GB2312))}catch(c){throw new P(c)}}static decodeKanjiSegment(e,r,i){if(i*13>e.available())throw new P;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=e.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,o[a]=f>>8,o[a+1]=f,a+=2,i--}try{r.append(ye.decode(o,de.SHIFT_JIS))}catch(c){throw new P(c)}}static decodeByteSegment(e,r,i,o,a,c){if(8*i>e.available())throw new P;const f=new Uint8Array(i);for(let p=0;p<i;p++)f[p]=e.readBits(8);let d;o===null?d=de.guessEncoding(f,c):d=o.getName();try{r.append(ye.decode(f,d))}catch(p){throw new P(p)}a.push(f)}static toAlphaNumericChar(e){if(e>=yt.ALPHANUMERIC_CHARS.length)throw new P;return yt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,i,o){const a=r.length();for(;i>1;){if(e.available()<11)throw new P;const c=e.readBits(11);r.append(yt.toAlphaNumericChar(Math.floor(c/45))),r.append(yt.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(e.available()<6)throw new P;r.append(yt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=a;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(e,r,i){for(;i>=3;){if(e.available()<10)throw new P;const o=e.readBits(10);if(o>=1e3)throw new P;r.append(yt.toAlphaNumericChar(Math.floor(o/100))),r.append(yt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(yt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new P;const o=e.readBits(7);if(o>=100)throw new P;r.append(yt.toAlphaNumericChar(Math.floor(o/10))),r.append(yt.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new P;const o=e.readBits(4);if(o>=10)throw new P;r.append(yt.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=e.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new P}}yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",yt.GB2312_SUBSET=1;class Hc{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class _d{constructor(){this.rsDecoder=new te(T.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(qe.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const i=new wd(e);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(a){o=a}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const a=this.decodeBitMatrixParser(i,r);return a.setOther(new Hc(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(e,r){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),c=Aa.getDataBlocks(a,i,o);let f=0;for(const w of c)f+=w.getNumDataCodewords();const d=new Uint8Array(f);let p=0;for(const w of c){const C=w.getCodewords(),y=w.getNumDataCodewords();this.correctErrors(C,y);for(let S=0;S<y;S++)d[p++]=C[S]}return yt.decode(d,i,o,r)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=i[o]}}class ba extends H{constructor(e,r,i){super(e,r),this.estimatedModuleSize=i}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=(this.getX()+r)/2,a=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new ba(o,a,c)}}class Xi{constructor(e,r,i,o,a,c,f){this.image=e,this.startX=r,this.startY=i,this.width=o,this.height=a,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,i=this.width,o=e+i,a=this.startY+r/2,c=new Int32Array(3),f=this.image;for(let d=0;d<r;d++){const p=a+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=e;for(;w<o&&!f.get(w,p);)w++;let C=0;for(;w<o;){if(f.get(w,p))if(C===1)c[1]++;else if(C===2){if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,w);if(y!==null)return y}c[0]=c[2],c[1]=1,c[2]=0,C=1}else c[++C]++;else C===1&&C++,c[C]++;w++}if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,o);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=i)return!1;return!0}crossCheckVertical(e,r,i,o){const a=this.image,c=a.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let d=e;for(;d>=0&&a.get(r,d)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&!a.get(r,d)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(r,d)&&f[1]<=i;)f[1]++,d++;if(d===c||f[1]>i)return NaN;for(;d<c&&!a.get(r,d)&&f[2]<=i;)f[2]++,d++;if(f[2]>i)return NaN;const p=f[0]+f[1]+f[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(f)?Xi.centerFromEnd(f,d):NaN}handlePossibleCenter(e,r,i){const o=e[0]+e[1]+e[2],a=Xi.centerFromEnd(e,i),c=this.crossCheckVertical(r,a,2*e[1],o);if(!isNaN(c)){const f=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(f,c,a))return p.combineEstimate(c,a,f);const d=new ba(a,c,f);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Ca extends H{constructor(e,r,i,o){super(e,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=this.count+1,a=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Ca(a,c,f,o)}}class Ad{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(Y.TRY_HARDER)!==void 0,i=e!=null&&e.get(Y.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),c=o.getWidth();let f=Math.floor(3*a/(4*Ut.MAX_MODULES));(f<Ut.MIN_SKIP||r)&&(f=Ut.MIN_SKIP);let d=!1;const p=new Int32Array(5);for(let C=f-1;C<a&&!d;C+=f){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let y=0;for(let S=0;S<c;S++)if(o.get(S,C))(y&1)===1&&y++,p[y]++;else if(y&1)p[y]++;else if(y===4)if(Ut.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,S,i)===!0)if(f=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>p[2]&&(C+=M-p[2]-f,S=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;continue}y=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;else p[++y]++;Ut.foundPatternCross(p)&&this.handlePossibleCenter(p,C,c,i)===!0&&(f=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return H.orderBestPatterns(w),new Ad(w)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let a=0;a<5;a++){const c=e[a];if(c===0)return!1;r+=c}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,i,o){const a=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;e>=c&&r>=c&&f.get(r-c,e-c);)a[2]++,c++;if(e<c||r<c)return!1;for(;e>=c&&r>=c&&!f.get(r-c,e-c)&&a[1]<=i;)a[1]++,c++;if(e<c||r<c||a[1]>i)return!1;for(;e>=c&&r>=c&&f.get(r-c,e-c)&&a[0]<=i;)a[0]++,c++;if(a[0]>i)return!1;const d=f.getHeight(),p=f.getWidth();for(c=1;e+c<d&&r+c<p&&f.get(r+c,e+c);)a[2]++,c++;if(e+c>=d||r+c>=p)return!1;for(;e+c<d&&r+c<p&&!f.get(r+c,e+c)&&a[3]<i;)a[3]++,c++;if(e+c>=d||r+c>=p||a[3]>=i)return!1;for(;e+c<d&&r+c<p&&f.get(r+c,e+c)&&a[4]<i;)a[4]++,c++;if(a[4]>=i)return!1;const w=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(w-o)<2*o&&Ut.foundPatternCross(a)}crossCheckVertical(e,r,i,o){const a=this.image,c=a.getHeight(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(r,d);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(r,d)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&a.get(r,d)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(r,d);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(r,d)&&f[3]<i;)f[3]++,d++;if(d===c||f[3]>=i)return NaN;for(;d<c&&a.get(r,d)&&f[4]<i;)f[4]++,d++;if(f[4]>=i)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-o)>=2*o?NaN:Ut.foundPatternCross(f)?Ut.centerFromEnd(f,d):NaN}crossCheckHorizontal(e,r,i,o){const a=this.image,c=a.getWidth(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(d,r);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(d,r)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&a.get(d,r)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(d,r);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(d,r)&&f[3]<i;)f[3]++,d++;if(d===c||f[3]>=i)return NaN;for(;d<c&&a.get(d,r)&&f[4]<i;)f[4]++,d++;if(f[4]>=i)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-o)>=o?NaN:Ut.foundPatternCross(f)?Ut.centerFromEnd(f,d):NaN}handlePossibleCenter(e,r,i,o){const a=e[0]+e[1]+e[2]+e[3]+e[4];let c=Ut.centerFromEnd(e,i),f=this.crossCheckVertical(r,Math.floor(c),e[2],a);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),e[2],a),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),e[2],a)))){const d=a/7;let p=!1;const w=this.possibleCenters;for(let C=0,y=w.length;C<y;C++){const S=w[C];if(S.aboutEquals(d,f,c)){w[C]=S.combineEstimate(f,c,d),p=!0;break}}if(!p){const C=new Ca(c,f,d);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Ut.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Ut.CENTER_QUORUM&&(e++,r+=c.getEstimatedModuleSize());if(e<3)return!1;const o=r/i;let a=0;for(const c of this.possibleCenters)a+=Math.abs(c.getEstimatedModuleSize()-o);return a<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new X;const r=this.possibleCenters;let i;if(e>3){let o=0,a=0;for(const d of this.possibleCenters){const p=d.getEstimatedModuleSize();o+=p,a+=p*p}i=o/e;let c=Math.sqrt(a/e-i*i);r.sort((d,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-i),C=Math.abs(d.getEstimatedModuleSize()-i);return w<C?-1:w>C?1:0});const f=Math.max(.2*i,c);for(let d=0;d<r.length&&r.length>3;d++){const p=r[d];Math.abs(p.getEstimatedModuleSize()-i)>f&&(r.splice(d,1),d--)}}if(r.length>3){let o=0;for(const a of r)o+=a.getEstimatedModuleSize();i=o/r.length,r.sort((a,c)=>{if(c.getCount()===a.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-i),d=Math.abs(a.getEstimatedModuleSize()-i);return f<d?1:f>d?-1:0}else return c.getCount()-a.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class Js{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Y.NEED_RESULT_POINT_CALLBACK);const i=new Ut(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const r=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),a=this.calculateModuleSize(r,i,o);if(a<1)throw new X("No pattern found in proccess finder.");const c=Js.computeDimension(r,i,o,a),f=Oe.getProvisionalVersionForDimension(c),d=f.getDimensionForVersion()-7;let p=null;if(f.getAlignmentPatternCenters().length>0){const S=i.getX()-r.getX()+o.getX(),R=i.getY()-r.getY()+o.getY(),M=1-3/d,B=Math.floor(r.getX()+M*(S-r.getX())),G=Math.floor(r.getY()+M*(R-r.getY()));for(let ue=4;ue<=16;ue<<=1)try{p=this.findAlignmentInRegion(a,B,G,ue);break}catch(he){if(!(he instanceof X))throw he}}const w=Js.createTransform(r,i,o,p,c),C=Js.sampleGrid(this.image,w,c);let y;return p===null?y=[o,r,i]:y=[o,r,i,p],new se(C,y)}static createTransform(e,r,i,o,a){const c=a-3.5;let f,d,p,w;return o!==null?(f=o.getX(),d=o.getY(),p=c-3,w=p):(f=r.getX()-e.getX()+i.getX(),d=r.getY()-e.getY()+i.getY(),p=c,w=c),Se.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,w,3.5,c,e.getX(),e.getY(),r.getX(),r.getY(),f,d,i.getX(),i.getY())}static sampleGrid(e,r,i){return $e.getInstance().sampleGridWithTransform(e,i,i,r)}static computeDimension(e,r,i,o){const a=ne.round(H.distance(e,r)/o),c=ne.round(H.distance(e,i)/o);let f=Math.floor((a+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new X("Dimensions could be not found.")}return f}calculateModuleSize(e,r,i){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,i,o){let a=this.sizeOfBlackWhiteBlackRun(e,r,i,o),c=1,f=e-(i-e);f<0?(c=e/(e-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(f-e),f=this.image.getWidth()-1);let d=Math.floor(r-(o-r)*c);return c=1,d<0?(c=r/(r-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),f=Math.floor(e+(f-e)*c),a+=this.sizeOfBlackWhiteBlackRun(e,r,f,d),a-1}sizeOfBlackWhiteBlackRun(e,r,i,o){const a=Math.abs(o-r)>Math.abs(i-e);if(a){let S=e;e=r,r=S,S=i,i=o,o=S}const c=Math.abs(i-e),f=Math.abs(o-r);let d=-c/2;const p=e<i?1:-1,w=r<o?1:-1;let C=0;const y=i+p;for(let S=e,R=r;S!==y;S+=p){const M=a?R:S,B=a?S:R;if(C===1===this.image.get(M,B)){if(C===2)return ne.distance(S,R,e,r);C++}if(d+=f,d>0){if(R===o)break;R+=w,d-=c}}return C===2?ne.distance(i+p,o,e,r):NaN}findAlignmentInRegion(e,r,i,o){const a=Math.floor(o*e),c=Math.max(0,r-a),f=Math.min(this.image.getWidth()-1,r+a);if(f-c<e*3)throw new X("Alignment top exceeds estimated module size.");const d=Math.max(0,i-a),p=Math.min(this.image.getHeight()-1,i+a);if(p-d<e*3)throw new X("Alignment bottom exceeds estimated module size.");return new Xi(this.image,c,d,f-c,p-d,e,this.resultPointCallback).find()}}class pr{constructor(){this.decoder=new _d}getDecoder(){return this.decoder}decode(e,r){let i,o;if(r!=null&&r.get(Y.PURE_BARCODE)!==void 0){const d=pr.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(d,r),o=pr.NO_POINTS}else{const d=new Js(e.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(d.getBits(),r),o=d.getPoints()}i.getOther()instanceof Hc&&i.getOther().applyMirroredCorrection(o);const a=new ot(i.getText(),i.getRawBytes(),void 0,o,we.QR_CODE,void 0),c=i.getByteSegments();c!==null&&a.putMetadata(ce.BYTE_SEGMENTS,c);const f=i.getECLevel();return f!==null&&a.putMetadata(ce.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(a.putMetadata(ce.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),a.putMetadata(ce.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r===null||i===null)throw new X;const o=this.moduleSize(r,e);let a=r[1],c=i[1],f=r[0],d=i[0];if(f>=d||a>=c)throw new X;if(c-a!==d-f&&(d=f+(c-a),d>=e.getWidth()))throw new X;const p=Math.round((d-f+1)/o),w=Math.round((c-a+1)/o);if(p<=0||w<=0)throw new X;if(w!==p)throw new X;const C=Math.floor(o/2);a+=C,f+=C;const y=f+Math.floor((p-1)*o)-d;if(y>0){if(y>C)throw new X;f-=y}const S=a+Math.floor((w-1)*o)-c;if(S>0){if(S>C)throw new X;a-=S}const R=new qe(p,w);for(let M=0;M<w;M++){const B=a+Math.floor(M*o);for(let G=0;G<p;G++)e.get(f+Math.floor(G*o),B)&&R.set(G,M)}return R}static moduleSize(e,r){const i=r.getHeight(),o=r.getWidth();let a=e[0],c=e[1],f=!0,d=0;for(;a<o&&c<i;){if(f!==r.get(a,c)){if(++d===5)break;f=!f}a++,c++}if(a===o||c===i)throw new X;return(a-e[0])/7}}pr.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(e){return ne.sum(e)}static toIntArray(e){if(e==null||!e.length)return Le.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let i=0;for(const o of e)r[i++]=o;return r}static getCodeword(e){const r=q.binarySearch(Le.SYMBOL_TABLE,e&262143);return r<0?-1:(Le.CODEWORD_TABLE[r]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bd{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ge{static detectMultiple(e,r,i){let o=e.getBlackMatrix(),a=Ge.detect(i,o);return a.length||(o=o.clone(),o.rotate180(),a=Ge.detect(i,o)),new bd(o,a)}static detect(e,r){const i=new Array;let o=0,a=0,c=!1;for(;o<r.getHeight();){const f=Ge.findVertices(r,o,a);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,a=0;for(const d of i)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=Ge.ROW_STEP;continue}if(c=!0,i.push(f),!e)break;f[2]!=null?(a=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(e,r,i){const o=e.getHeight(),a=e.getWidth(),c=new Array(8);return Ge.copyToResult(c,Ge.findRowsWithPattern(e,o,a,r,i,Ge.START_PATTERN),Ge.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ge.copyToResult(c,Ge.findRowsWithPattern(e,o,a,r,i,Ge.STOP_PATTERN),Ge.INDEXES_STOP_PATTERN),c}static copyToResult(e,r,i){for(let o=0;o<i.length;o++)e[i[o]]=r[o]}static findRowsWithPattern(e,r,i,o,a,c){const f=new Array(4);let d=!1;const p=new Int32Array(c.length);for(;o<r;o+=Ge.ROW_STEP){let C=Ge.findGuardPattern(e,a,o,i,!1,c,p);if(C!=null){for(;o>0;){const y=Ge.findGuardPattern(e,a,--o,i,!1,c,p);if(y!=null)C=y;else{o++;break}}f[0]=new H(C[0],o),f[1]=new H(C[1],o),d=!0;break}}let w=o+1;if(d){let C=0,y=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<r;w++){const S=Ge.findGuardPattern(e,y[0],w,i,!1,c,p);if(S!=null&&Math.abs(y[0]-S[0])<Ge.MAX_PATTERN_DRIFT&&Math.abs(y[1]-S[1])<Ge.MAX_PATTERN_DRIFT)y=S,C=0;else{if(C>Ge.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,f[2]=new H(y[0],w),f[3]=new H(y[1],w)}return w-o<Ge.BARCODE_MIN_HEIGHT&&q.fill(f,null),f}static findGuardPattern(e,r,i,o,a,c,f){q.fillWithin(f,0,f.length,0);let d=r,p=0;for(;e.get(d,i)&&d>0&&p++<Ge.MAX_PIXEL_DRIFT;)d--;let w=d,C=0,y=c.length;for(let S=a;w<o;w++)if(e.get(w,i)!==S)f[C]++;else{if(C===y-1){if(Ge.patternMatchVariance(f,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return new Int32Array([d,w]);d+=f[0]+f[1],D.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,S=!S}return C===y-1&&Ge.patternMatchVariance(f,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE?new Int32Array([d,w-1]):null}static patternMatchVariance(e,r,i){let o=e.length,a=0,c=0;for(let p=0;p<o;p++)a+=e[p],c+=r[p];if(a<c)return 1/0;let f=a/c;i*=f;let d=0;for(let p=0;p<o;p++){let w=e[p],C=r[p]*f,y=w>C?w-C:C-w;if(y>i)return 1/0;d+=y}return d/a}}Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;class Gt{constructor(e,r){if(r.length===0)throw new A;this.field=e;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){let c=r;r=i,i=c}let o=new Int32Array(i.length),a=i.length-r.length;D.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=this.field.add(r[c-a],i[c]);return new Gt(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Gt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Gt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=e.coefficients,a=o.length,c=new Int32Array(i+a-1);for(let f=0;f<i;f++){let d=r[f];for(let p=0;p<a;p++)c[f+p]=this.field.add(c[f+p],this.field.multiply(d,o[p]))}return new Gt(this.field,c)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let i=0;i<e;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Gt(this.field,r)}multiplyScalar(e){if(e===0)return new Gt(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new Gt(this.field,i)}multiplyByMonomial(e,r){if(e<0)throw new A;if(r===0)return new Gt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],r);return new Gt(this.field,o)}toString(){let e=new ve;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(r===0||i!==1)&&e.append(i),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class Cd{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}inverse(e){if(e===0)throw new st;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ya extends Cd{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(r===0)return this.zero;let i=new Int32Array(e+1);return i[0]=r,new Gt(this,i)}}ya.PDF417_GF=new ya(Le.NUMBER_OF_CODEWORDS,3);class Wc{constructor(){this.field=ya.PDF417_GF}decode(e,r,i){let o=new Gt(this.field,e),a=new Int32Array(r),c=!1;for(let R=r;R>0;R--){let M=o.evaluateAt(this.field.exp(R));a[r-R]=M,M!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(i!=null)for(const R of i){let M=this.field.exp(e.length-1-R),B=new Gt(this.field,new Int32Array([this.field.subtract(0,M),1]));f=f.multiply(B)}let d=new Gt(this.field,a),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),d,r),w=p[0],C=p[1],y=this.findErrorLocations(w),S=this.findErrorMagnitudes(C,w,y);for(let R=0;R<y.length;R++){let M=e.length-1-this.field.log(y[R]);if(M<0)throw I.getChecksumInstance();e[M]=this.field.subtract(e[M],S[R])}return y.length}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){let y=e;e=r,r=y}let o=e,a=r,c=this.field.getZero(),f=this.field.getOne();for(;a.getDegree()>=Math.round(i/2);){let y=o,S=c;if(o=a,c=f,o.isZero())throw I.getChecksumInstance();a=y;let R=this.field.getZero(),M=o.getCoefficient(o.getDegree()),B=this.field.inverse(M);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let G=a.getDegree()-o.getDegree(),ue=this.field.multiply(a.getCoefficient(a.getDegree()),B);R=R.add(this.field.buildMonomial(G,ue)),a=a.subtract(o.multiplyByMonomial(G,ue))}f=R.multiply(c).subtract(S).negative()}let d=f.getCoefficient(0);if(d===0)throw I.getChecksumInstance();let p=this.field.inverse(d),w=f.multiply(p),C=a.multiply(p);return[w,C]}findErrorLocations(e){let r=e.getDegree(),i=new Int32Array(r),o=0;for(let a=1;a<this.field.getSize()&&o<r;a++)e.evaluateAt(a)===0&&(i[o]=this.field.inverse(a),o++);if(o!==r)throw I.getChecksumInstance();return i}findErrorMagnitudes(e,r,i){let o=r.getDegree(),a=new Int32Array(o);for(let p=1;p<=o;p++)a[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new Gt(this.field,a),f=i.length,d=new Int32Array(f);for(let p=0;p<f;p++){let w=this.field.inverse(i[p]),C=this.field.subtract(0,e.evaluateAt(w)),y=this.field.inverse(c.evaluateAt(w));d[p]=this.field.multiply(C,y)}return d}}class Gr{constructor(e,r,i,o,a){e instanceof Gr?this.constructor_2(e):this.constructor_1(e,r,i,o,a)}constructor_1(e,r,i,o,a){const c=r==null||i==null,f=o==null||a==null;if(c&&f)throw new X;c?(r=new H(0,o.getY()),i=new H(0,a.getY())):f&&(o=new H(e.getWidth()-1,r.getY()),a=new H(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Gr(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,i){let o=this.topLeft,a=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(e>0){let d=i?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);let w=new H(d.getX(),p);i?o=w:c=w}if(r>0){let d=i?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new H(d.getX(),p);i?a=w:f=w}return new Gr(this.image,o,a,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yd{constructor(e,r,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ei{constructor(){this.buffer=""}static form(e,r){let i=-1;function o(c,f,d,p,w,C){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=w?parseInt(w.substr(1)):void 0,S;switch(C){case"s":S=r[i];break;case"c":S=r[i][0];break;case"f":S=parseFloat(r[i]).toFixed(c);break;case"p":S=parseFloat(r[i]).toPrecision(c);break;case"e":S=parseFloat(r[i]).toExponential(c);break;case"x":S=parseInt(r[i]).toString(y||16);break;case"d":S=parseFloat(parseInt(r[i],y||10).toPrecision(c)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;S.length<R;)S=f!==void 0?S+M:M+S;return S}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}format(e,...r){this.buffer+=ei.form(e,r)}toString(){return this.buffer}}class ti{constructor(e){this.boundingBox=new Gr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let i=1;i<ti.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ei;let r=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return e.toString()}}ti.MAX_NEARBY_DISTANCE=5;class ni{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[i,o]of this.values.entries()){const a={getKey:()=>i,getValue:()=>o};a.getValue()>e?(e=a.getValue(),r=[],r.push(a.getKey())):a.getValue()===e&&r.push(a.getKey())}return Le.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Gc extends ti{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,p=1,w=0;for(let C=c;C<f;C++){if(r[C]==null)continue;let y=r[C],S=y.getRowNumber()-d;if(S===0)w++;else if(S===1)p=Math.max(p,w),w=1,d=y.getRowNumber();else if(S<0||y.getRowNumber()>=e.getRowCount()||S>C)r[C]=null;else{let R;p>2?R=(p-2)*S:R=S;let M=R>=C;for(let B=1;B<=R&&!M;B++)M=r[C-B]!=null;M?r[C]=null:(d=y.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),d=-1;for(let p=a;p<c;p++){if(f[p]==null)continue;let w=f[p];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-d;C===0||(C===1?d=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?f[p]=null:d=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new ni,i=new ni,o=new ni,a=new ni;for(let f of e){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let d=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:i.setValue(d*3+1);break;case 1:a.setValue(d/3),o.setValue(d%3);break;case 2:r.setValue(d+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let c=new yd(r.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,r){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let a=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:a+1!==r.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ri{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Le.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&r[i]!=null&&e[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[i];a!=null&&(a.setRowNumber(e[i].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),a=0;for(let c=this.barcodeColumnCount+1;c>0&&a<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=ri.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),a=0;for(let c=1;c<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=ri.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,i){if(!this.detectionResultColumns[e-1])return;let o=i[r],a=this.detectionResultColumns[e-1].getCodewords(),c=a;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let f=new Array(14);f[2]=a[r],f[3]=c[r],r>0&&(f[0]=i[r-1],f[4]=a[r-1],f[5]=c[r-1]),r>1&&(f[8]=i[r-2],f[10]=a[r-2],f[11]=c[r-2]),r<i.length-1&&(f[1]=i[r+1],f[6]=a[r+1],f[7]=c[r+1]),r<i.length-2&&(f[9]=i[r+2],f[12]=a[r+2],f[13]=c[r+2]);for(let d of f)if(ri.adjustRowNumber(o,d))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ei;for(let i=0;i<e.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[i];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()}}class si{constructor(e,r,i,o){this.rowNumber=si.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==si.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}si.BARCODE_ROW_UNKNOWN=-1;class sn{static initialize(){for(let e=0;e<Le.SYMBOL_TABLE.length;e++){let r=Le.SYMBOL_TABLE[e],i=r&1;for(let o=0;o<Le.BARS_IN_MODULE;o++){let a=0;for(;(r&1)===i;)a+=1,r>>=1;i=r&1,sn.RATIOS_TABLE[e]||(sn.RATIOS_TABLE[e]=new Array(Le.BARS_IN_MODULE)),sn.RATIOS_TABLE[e][Le.BARS_IN_MODULE-o-1]=Math.fround(a/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=sn.getDecodedCodewordValue(sn.sampleBitCounts(e));return r!==-1?r:sn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=ne.sum(e),i=new Int32Array(Le.BARS_IN_MODULE),o=0,a=0;for(let c=0;c<Le.MODULES_IN_CODEWORD;c++){let f=r/(2*Le.MODULES_IN_CODEWORD)+c*r/Le.MODULES_IN_CODEWORD;a+e[o]<=f&&(a+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let r=sn.getBitValue(e);return Le.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=ne.sum(e),i=new Array(Le.BARS_IN_MODULE);if(r>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(e[c]/r);let o=fe.MAX_VALUE,a=-1;this.bSymbolTableReady||sn.initialize();for(let c=0;c<sn.RATIOS_TABLE.length;c++){let f=0,d=sn.RATIOS_TABLE[c];for(let p=0;p<Le.BARS_IN_MODULE;p++){let w=Math.fround(d[p]-i[p]);if(f+=Math.fround(w*w),f>=o)break}f<o&&(o=f,a=Le.SYMBOL_TABLE[c])}return a}}sn.bSymbolTableReady=!1,sn.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(b=>new Array(Le.BARS_IN_MODULE));class Xc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class jc{static parseLong(e,r=void 0){return parseInt(e,r)}}class $c extends x{}$c.kind="NullPointerException";class Td{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,i){if(e==null)throw new $c;if(r<0||r>e.length||i<0||r+i>e.length||r+i<0)throw new z;if(i===0)return;for(let o=0;o<i;o++)this.write(e[r+o])}flush(){}close(){}}class vd extends x{}class Sd extends Td{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new vd;i=k.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new z;this.ensureCapacity(this.count+i),D.arraycopy(e,r,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var lt;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function zc(){if(typeof window<"u")return window.BigInt||null;if(typeof ui<"u")return ui.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ji;function mr(b){if(typeof ji>"u"&&(ji=zc()),ji===null)throw new Error("BigInt is not supported!");return ji(b)}function Id(){let b=[];b[0]=mr(1);let e=mr(900);b[1]=e;for(let r=2;r<16;r++)b[r]=b[r-1]*e;return b}class W{static decode(e,r){let i=new ve(""),o=V.ISO8859_1;i.enableDecoding(o);let a=1,c=e[a++],f=new Xc;for(;a<e[0];){switch(c){case W.TEXT_COMPACTION_MODE_LATCH:a=W.textCompaction(e,a,i);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:a=W.byteCompaction(c,e,o,a,i);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:a=W.numericCompaction(e,a,i);break;case W.ECI_CHARSET:V.getCharacterSetECIByValue(e[a++]);break;case W.ECI_GENERAL_PURPOSE:a+=2;break;case W.ECI_USER_DEFINED:a++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=W.decodeMacroBlock(e,a,f);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new P;default:a--,a=W.textCompaction(e,a,i);break}if(a<e.length)c=e[a++];else throw P.getFormatInstance()}if(i.length()===0)throw P.getFormatInstance();let d=new me(null,i.toString(),null,r);return d.setOther(f),d}static decodeMacroBlock(e,r,i){if(r+W.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw P.getFormatInstance();let o=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<W.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=e[r];i.setSegmentIndex(k.parseInt(W.decodeBase900toBase10(o,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new ve;r=W.textCompaction(e,r,a),i.setFileId(a.toString());let c=-1;for(e[r]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ve;r=W.textCompaction(e,r+1,f),i.setFileName(f.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new ve;r=W.textCompaction(e,r+1,d),i.setSender(d.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ve;r=W.textCompaction(e,r+1,p),i.setAddressee(p.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ve;r=W.numericCompaction(e,r+1,w),i.setSegmentCount(k.parseInt(w.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ve;r=W.numericCompaction(e,r+1,C),i.setTimestamp(jc.parseLong(C.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new ve;r=W.numericCompaction(e,r+1,y),i.setChecksum(k.parseInt(y.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new ve;r=W.numericCompaction(e,r+1,S),i.setFileSize(jc.parseLong(S.toString()));break;default:throw P.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(c!==-1){let f=r-c;i.isLastSegment()&&f--,i.setOptionalData(q.copyOfRange(e,c,c+f))}return r}static textCompaction(e,r,i){let o=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),c=0,f=!1;for(;r<e[0]&&!f;){let d=e[r++];if(d<W.TEXT_COMPACTION_MODE_LATCH)o[c]=d/30,o[c+1]=d%30,c+=2;else switch(d){case W.TEXT_COMPACTION_MODE_LATCH:o[c++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[r++],a[c]=d,c++;break}}return W.decodeTextCompaction(o,a,c,i),r}static decodeTextCompaction(e,r,i,o){let a=lt.ALPHA,c=lt.ALPHA,f=0;for(;f<i;){let d=e[f],p="";switch(a){case lt.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case W.LL:a=lt.LOWER;break;case W.ML:a=lt.MIXED;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case W.AS:c=a,a=lt.ALPHA_SHIFT;break;case W.ML:a=lt.MIXED;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.MIXED:if(d<W.PL)p=W.MIXED_CHARS[d];else switch(d){case W.PL:a=lt.PUNCT;break;case 26:p=" ";break;case W.LL:a=lt.LOWER;break;case W.AL:a=lt.ALPHA;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.PUNCT:if(d<W.PAL)p=W.PUNCT_CHARS[d];else switch(d){case W.PAL:a=lt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(a=c,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(a=c,d<W.PAL)p=W.PUNCT_CHARS[d];else switch(d){case W.PAL:a=lt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break}p!==""&&o.append(p),f++}}static byteCompaction(e,r,i,o,a){let c=new Sd,f=0,d=0,p=!1;switch(e){case W.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=r[o++];for(;o<r[0]&&!p;)switch(w[f++]=C,d=900*d+C,C=r[o++],C){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(f%5===0&&f>0){for(let y=0;y<6;++y)c.write(Number(mr(d)>>mr(8*(5-y))));d=0,f=0}break}o===r[0]&&C<W.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=C);for(let y=0;y<f;y++)c.write(w[y]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let y=r[o++];if(y<W.TEXT_COMPACTION_MODE_LATCH)f++,d=900*d+y;else switch(y){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(f%5===0&&f>0){for(let S=0;S<6;++S)c.write(Number(mr(d)>>mr(8*(5-S))));d=0,f=0}}break}return a.append(ye.decode(c.toByteArray(),i)),o}static numericCompaction(e,r,i){let o=0,a=!1,c=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!a;){let f=e[r++];if(r===e[0]&&(a=!0),f<W.TEXT_COMPACTION_MODE_LATCH)c[o]=f,o++;else switch(f){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(o%W.MAX_NUMERIC_CODEWORDS===0||f===W.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(i.append(W.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(e,r){let i=mr(0);for(let a=0;a<r;a++)i+=W.EXP900[r-a-1]*mr(e[a]);let o=i.toString();if(o.charAt(0)!=="1")throw new P;return o.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=zc()?Id():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xe{constructor(){}static decode(e,r,i,o,a,c,f){let d=new Gr(e,r,i,o,a),p=null,w=null,C;for(let R=!0;;R=!1){if(r!=null&&(p=Xe.getRowIndicatorColumn(e,d,r,!0,c,f)),o!=null&&(w=Xe.getRowIndicatorColumn(e,d,o,!1,c,f)),C=Xe.merge(p,w),C==null)throw X.getNotFoundInstance();let M=C.getBoundingBox();if(R&&M!=null&&(M.getMinY()<d.getMinY()||M.getMaxY()>d.getMaxY()))d=M;else break}C.setBoundingBox(d);let y=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(y,w);let S=p!=null;for(let R=1;R<=y;R++){let M=S?R:y-R;if(C.getDetectionResultColumn(M)!==void 0)continue;let B;M===0||M===y?B=new Gc(d,M===0):B=new ti(d),C.setDetectionResultColumn(M,B);let G=-1,ue=G;for(let he=d.getMinY();he<=d.getMaxY();he++){if(G=Xe.getStartColumn(C,M,he,S),G<0||G>d.getMaxX()){if(ue===-1)continue;G=ue}let ae=Xe.detectCodeword(e,d.getMinX(),d.getMaxX(),S,G,he,c,f);ae!=null&&(B.setCodeword(he,ae),ue=G,c=Math.min(c,ae.getWidth()),f=Math.max(f,ae.getWidth()))}}return Xe.createDecoderResult(C)}static merge(e,r){if(e==null&&r==null)return null;let i=Xe.getBarcodeMetadata(e,r);if(i==null)return null;let o=Gr.merge(Xe.adjustBoundingBox(e),Xe.adjustBoundingBox(r));return new ri(i,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let i=Xe.getMax(r),o=0;for(let f of r)if(o+=i-f,f>0)break;let a=e.getCodewords();for(let f=0;o>0&&a[f]==null;f++)o--;let c=0;for(let f=r.length-1;f>=0&&(c+=i-r[f],!(r[f]>0));f--);for(let f=a.length-1;c>0&&a[f]==null;f--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let r=-1;for(let i of e)r=Math.max(r,i);return r}static getBarcodeMetadata(e,r){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,r,i,o,a,c){let f=new Gc(r,o);for(let d=0;d<2;d++){let p=d===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let C=Math.trunc(Math.trunc(i.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let y=Xe.detectCodeword(e,0,e.getWidth(),o,w,C,a,c);y!=null&&(f.setCodeword(C,y),o?w=y.getStartX():w=y.getEndX())}}return f}static adjustCodewordCount(e,r){let i=r[0][1],o=i.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Xe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(a<1||a>Le.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();i.setValue(a)}else o[0]!==a&&i.setValue(a)}static createDecoderResult(e){let r=Xe.createBarcodeMatrix(e);Xe.adjustCodewordCount(e,r);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],c=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let p=0;p<e.getBarcodeColumnCount();p++){let w=r[d][p+1].getValue(),C=d*e.getBarcodeColumnCount()+p;w.length===0?i.push(C):w.length===1?o[C]=w[0]:(c.push(C),a.push(w))}let f=new Array(a.length);for(let d=0;d<f.length;d++)f[d]=a[d];return Xe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Le.toIntArray(i),Le.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(e,r,i,o,a){let c=new Int32Array(o.length),f=100;for(;f-- >0;){for(let d=0;d<c.length;d++)r[o[d]]=a[d][c[d]];try{return Xe.decodeCodewords(r,e,i)}catch(d){if(!(d instanceof I))throw d}if(c.length===0)throw I.getChecksumInstance();for(let d=0;d<c.length;d++)if(c[d]<a[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let a=0;a<r[o].length;a++)r[o][a]=new ni;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][i].setValue(a.getValue())}}}i++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,i,o){let a=o?1:-1,c=null;if(Xe.isValidBarcodeColumn(e,r-a)&&(c=e.getDetectionResultColumn(r-a).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(Xe.isValidBarcodeColumn(e,r-a)&&(c=e.getDetectionResultColumn(r-a).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let f=0;for(;Xe.isValidBarcodeColumn(e,r-a);){r-=a;for(let d of e.getDetectionResultColumn(r).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+a*f*(d.getEndX()-d.getStartX());f++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,i,o,a,c,f,d){a=Xe.adjustCodewordStartColumn(e,r,i,o,a,c);let p=Xe.getModuleBitCount(e,r,i,o,a,c);if(p==null)return null;let w,C=ne.sum(p);if(o)w=a+C;else{for(let R=0;R<p.length/2;R++){let M=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=M}w=a,a=w-C}if(!Xe.checkCodewordSkew(C,f,d))return null;let y=sn.getDecodedValue(p),S=Le.getCodeword(y);return S===-1?null:new si(a,w,Xe.getCodewordBucketNumber(y),S)}static getModuleBitCount(e,r,i,o,a,c){let f=a,d=new Int32Array(8),p=0,w=o?1:-1,C=o;for(;(o?f<i:f>=r)&&p<d.length;)e.get(f,c)===C?(d[p]++,f+=w):(p++,C=!C);return p===d.length||f===(o?i:r)&&p===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,i,o,a,c){let f=a,d=o?-1:1;for(let p=0;p<2;p++){for(;(o?f>=r:f<i)&&o===e.get(f,c);){if(Math.abs(a-f)>Xe.CODEWORD_SKEW_SIZE)return a;f+=d}d=-d,o=!o}return f}static checkCodewordSkew(e,r,i){return r-Xe.CODEWORD_SKEW_SIZE<=e&&e<=i+Xe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,i){if(e.length===0)throw P.getFormatInstance();let o=1<<r+1,a=Xe.correctErrors(e,i,o);Xe.verifyCodewordCount(e,o);let c=W.decode(e,""+r);return c.setErrorsCorrected(a),c.setErasures(i.length),c}static correctErrors(e,r,i){if(r!=null&&r.length>i/2+Xe.MAX_ERRORS||i<0||i>Xe.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Xe.errorCorrection.decode(e,i,r)}static verifyCodewordCount(e,r){if(e.length<4)throw P.getFormatInstance();let i=e[0];if(i>e.length)throw P.getFormatInstance();if(i===0)if(r<e.length)e[0]=e.length-r;else throw P.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Xe.getCodewordBucketNumber(Xe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new ei;for(let i=0;i<e.length;i++){r.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let a=e[i][o];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()}}Xe.CODEWORD_SKEW_SIZE=2,Xe.MAX_ERRORS=3,Xe.MAX_EC_CODEWORDS=512,Xe.errorCorrection=new Wc;class Xt{decode(e,r=null){let i=Xt.decode(e,r,!1);if(i==null||i.length===0||i[0]==null)throw X.getNotFoundInstance();return i[0]}decodeMultiple(e,r=null){try{return Xt.decode(e,r,!0)}catch(i){throw i instanceof P||i instanceof I?X.getNotFoundInstance():i}}static decode(e,r,i){const o=new Array,a=Ge.detectMultiple(e,r,i);for(const c of a.getPoints()){const f=Xe.decode(a.getBits(),c[4],c[5],c[6],c[7],Xt.getMinCodewordWidth(c),Xt.getMaxCodewordWidth(c)),d=new ot(f.getText(),f.getRawBytes(),void 0,c,we.PDF_417);d.putMetadata(ce.ERROR_CORRECTION_LEVEL,f.getECLevel());const p=f.getOther();p!=null&&d.putMetadata(ce.PDF417_EXTRA_METADATA,p),o.push(d)}return o.map(c=>c)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?k.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(e[0],e[4]),Xt.getMaxWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(e[1],e[5]),Xt.getMaxWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Xt.getMinWidth(e[0],e[4]),Xt.getMinWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(e[1],e[5]),Xt.getMinWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class $i extends x{}$i.kind="ReaderException";class Yc{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!l(e)&&e.get(Y.TRY_HARDER)===!0,i=l(e)?null:e.get(Y.POSSIBLE_FORMATS),o=new Array;if(!l(i)){const a=i.some(c=>c===we.UPC_A||c===we.UPC_E||c===we.EAN_13||c===we.EAN_8||c===we.CODABAR||c===we.CODE_39||c===we.CODE_93||c===we.CODE_128||c===we.ITF||c===we.RSS_14||c===we.RSS_EXPANDED);a&&!r&&o.push(new ps(e,this.verbose)),i.includes(we.QR_CODE)&&o.push(new pr),i.includes(we.DATA_MATRIX)&&o.push(new gr),i.includes(we.AZTEC)&&o.push(new zt),i.includes(we.PDF_417)&&o.push(new Xt),a&&r&&o.push(new ps(e,this.verbose))}o.length===0&&(r||o.push(new ps(e,this.verbose)),o.push(new pr),o.push(new gr),o.push(new zt),o.push(new Xt),r&&o.push(new ps(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new $i("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(i){if(i instanceof $i)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Od extends Lt{constructor(e=null,r=500){const i=new Yc;i.setHints(e),super(i,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Nd extends Lt{constructor(e=500){super(new Xt,e)}}class Rd extends Lt{constructor(e=500){super(new pr,e)}}var Ta;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Ta||(Ta={}));var Bt=Ta;class va{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Pe(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let i=r[r.length-1];const o=this.field;for(let a=r.length;a<=e;a++){const c=i.multiply(new Pe(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));r.push(c),i=c}}return r[e]}encode(e,r){if(r===0)throw new A("No error correction bytes");const i=e.length-r;if(i<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),a=new Int32Array(i);D.arraycopy(e,0,a,0,i);let c=new Pe(this.field,a);c=c.multiplyByMonomial(r,1);const d=c.divide(o)[1].getCoefficients(),p=r-d.length;for(let w=0;w<p;w++)e[i+w]=0;D.arraycopy(d,0,e,i+p,d.length)}}class Nt{constructor(){}static applyMaskPenaltyRule1(e){return Nt.applyMaskPenaltyRule1Internal(e,!0)+Nt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a-1;c++){const f=i[c];for(let d=0;d<o-1;d++){const p=f[d];p===f[d+1]&&p===i[c+1][d]&&p===i[c+1][d+1]&&r++}}return Nt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a;c++)for(let f=0;f<o;f++){const d=i[c];f+6<o&&d[f]===1&&d[f+1]===0&&d[f+2]===1&&d[f+3]===1&&d[f+4]===1&&d[f+5]===0&&d[f+6]===1&&(Nt.isWhiteHorizontal(d,f-4,f)||Nt.isWhiteHorizontal(d,f+7,f+11))&&r++,c+6<a&&i[c][f]===1&&i[c+1][f]===0&&i[c+2][f]===1&&i[c+3][f]===1&&i[c+4][f]===1&&i[c+5][f]===0&&i[c+6][f]===1&&(Nt.isWhiteVertical(i,f,c-4,c)||Nt.isWhiteVertical(i,f,c+7,c+11))&&r++}return r*Nt.N3}static isWhiteHorizontal(e,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let a=i;a<o;a++)if(e[a][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let d=0;d<a;d++){const p=i[d];for(let w=0;w<o;w++)p[w]===1&&r++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*Nt.N4}static getDataMaskBit(e,r,i){let o,a;switch(e){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:a=i*r,o=(a&1)+a%3;break;case 6:a=i*r,o=(a&1)+a%3&1;break;case 7:a=i*r,o=a%3+(i+r&1)&1;break;default:throw new A("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let i=0;const o=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),c=e.getArray();for(let f=0;f<o;f++){let d=0,p=-1;for(let w=0;w<a;w++){const C=r?c[f][w]:c[w][f];C===p?d++:(d>=5&&(i+=Nt.N1+(d-5)),d=1,p=C)}d>=5&&(i+=Nt.N1+(d-5))}return i}}Nt.N1=3,Nt.N2=3,Nt.N3=40,Nt.N4=10;class zi{constructor(e,r){this.width=e,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,i){this.bytes[r][e]=i}setBoolean(e,r,i){this.bytes[r][e]=i?1:0}clear(e){for(const r of this.bytes)q.fill(r,e)}equals(e){if(!(e instanceof zi))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i],c=r.bytes[i];for(let f=0,d=this.width;f<d;++f)if(a[f]!==c[f])return!1}return!0}toString(){const e=new ve;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let a=0,c=this.width;a<c;++a)switch(o[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Xr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ve;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Xr.NUM_MASK_PATTERNS}}Xr.NUM_MASK_PATTERNS=8;class ct extends x{}ct.kind="WriterException";class De{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,i,o,a){De.clearMatrix(a),De.embedBasicPatterns(i,a),De.embedTypeInfo(r,o,a),De.maybeEmbedVersionInfo(i,a),De.embedDataBits(e,o,a)}static embedBasicPatterns(e,r){De.embedPositionDetectionPatternsAndSeparators(r),De.embedDarkDotAtLeftBottomCorner(r),De.maybeEmbedPositionAdjustmentPatterns(e,r),De.embedTimingPatterns(r)}static embedTypeInfo(e,r,i){const o=new J;De.makeTypeInfoBits(e,r,o);for(let a=0,c=o.getSize();a<c;++a){const f=o.get(o.getSize()-1-a),d=De.TYPE_INFO_COORDINATES[a],p=d[0],w=d[1];if(i.setBoolean(p,w,f),a<8){const C=i.getWidth()-a-1;i.setBoolean(C,8,f)}else{const y=i.getHeight()-7+(a-8);i.setBoolean(8,y,f)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const i=new J;De.makeVersionInfoBits(e,i);let o=6*3-1;for(let a=0;a<6;++a)for(let c=0;c<3;++c){const f=i.get(o);o--,r.setBoolean(a,r.getHeight()-11+c,f),r.setBoolean(r.getHeight()-11+c,a,f)}}static embedDataBits(e,r,i){let o=0,a=-1,c=i.getWidth()-1,f=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<i.getHeight();){for(let d=0;d<2;++d){const p=c-d;if(!De.isEmpty(i.get(p,f)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,r!==255&&Nt.getDataMaskBit(r,p,f)&&(w=!w),i.setBoolean(p,f,w)}f+=a}a=-a,f+=a,c-=2}if(o!==e.getSize())throw new ct("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-k.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new A("0 polynomial");const i=De.findMSBSet(r);for(e<<=i-1;De.findMSBSet(e)>=i;)e^=r<<De.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,r,i){if(!Xr.isValidMaskPattern(r))throw new ct("Invalid mask pattern");const o=e.getBits()<<3|r;i.appendBits(o,5);const a=De.calculateBCHCode(o,De.TYPE_INFO_POLY);i.appendBits(a,10);const c=new J;if(c.appendBits(De.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new ct("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const i=De.calculateBCHCode(e.getVersionNumber(),De.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new ct("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const i=(r+1)%2;De.isEmpty(e.get(r,6))&&e.setNumber(r,6,i),De.isEmpty(e.get(6,r))&&e.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new ct;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,i){for(let o=0;o<8;++o){if(!De.isEmpty(i.get(e+o,r)))throw new ct;i.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,i){for(let o=0;o<7;++o){if(!De.isEmpty(i.get(e,r+o)))throw new ct;i.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,i){for(let o=0;o<5;++o){const a=De.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(e+c,r+o,a[c])}}static embedPositionDetectionPattern(e,r,i){for(let o=0;o<7;++o){const a=De.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(e+c,r+o,a[c])}}static embedPositionDetectionPatternsAndSeparators(e){const r=De.POSITION_DETECTION_PATTERN[0].length;De.embedPositionDetectionPattern(0,0,e),De.embedPositionDetectionPattern(e.getWidth()-r,0,e),De.embedPositionDetectionPattern(0,e.getWidth()-r,e);const i=8;De.embedHorizontalSeparationPattern(0,i-1,e),De.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),De.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;De.embedVerticalSeparationPattern(o,0,e),De.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),De.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let a=0,c=o.length;a!==c;a++){const f=o[a];if(f>=0)for(let d=0;d!==c;d++){const p=o[d];p>=0&&De.isEmpty(r.get(p,f))&&De.embedPositionAdjustmentPattern(p-2,f-2,r)}}}}De.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),De.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),De.VERSION_INFO_POLY=7973,De.TYPE_INFO_POLY=1335,De.TYPE_INFO_MASK_PATTERN=21522;class Dd{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class mt{constructor(){}static calculateMaskPenalty(e){return Nt.applyMaskPenaltyRule1(e)+Nt.applyMaskPenaltyRule2(e)+Nt.applyMaskPenaltyRule3(e)+Nt.applyMaskPenaltyRule4(e)}static encode(e,r,i=null){let o=mt.DEFAULT_BYTE_MODE_ENCODING;const a=i!==null&&i.get(Bt.CHARACTER_SET)!==void 0;a&&(o=i.get(Bt.CHARACTER_SET).toString());const c=this.chooseMode(e,o),f=new J;if(c===Ne.BYTE&&(a||mt.DEFAULT_BYTE_MODE_ENCODING!==o)){const he=V.getCharacterSetECIByName(o);he!==void 0&&this.appendECI(he,f)}this.appendModeInfo(c,f);const d=new J;this.appendBytes(e,c,d,o);let p;if(i!==null&&i.get(Bt.QR_VERSION)!==void 0){const he=Number.parseInt(i.get(Bt.QR_VERSION).toString(),10);p=Oe.getVersionForNumber(he);const ae=this.calculateBitsNeeded(c,f,d,p);if(!this.willFit(ae,p,r))throw new ct("Data too big for requested version")}else p=this.recommendVersion(r,c,f,d);const w=new J;w.appendBitArray(f);const C=c===Ne.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(C,p,c,w),w.appendBitArray(d);const y=p.getECBlocksForLevel(r),S=p.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(S,w);const R=this.interleaveWithECBytes(w,p.getTotalCodewords(),S,y.getNumBlocks()),M=new Xr;M.setECLevel(r),M.setMode(c),M.setVersion(p);const B=p.getDimensionForVersion(),G=new zi(B,B),ue=this.chooseMaskPattern(R,r,p,G);return M.setMaskPattern(ue),De.buildMatrix(R,r,p,ue,G),M.setMatrix(G),M}static recommendVersion(e,r,i,o){const a=this.calculateBitsNeeded(r,i,o,Oe.getVersionForNumber(1)),c=this.chooseVersion(a,e),f=this.calculateBitsNeeded(r,i,o,c);return this.chooseVersion(f,e)}static calculateBitsNeeded(e,r,i,o){return r.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<mt.ALPHANUMERIC_TABLE.length?mt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(V.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ne.KANJI;let i=!1,o=!1;for(let a=0,c=e.length;a<c;++a){const f=e.charAt(a);if(mt.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return Ne.BYTE}return o?Ne.ALPHANUMERIC:i?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=ye.encode(e,V.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const a=r[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(e,r,i,o){let a=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<Xr.NUM_MASK_PATTERNS;f++){De.buildMatrix(e,r,i,f,o);let d=this.calculateMaskPenalty(o);d<a&&(a=d,c=f)}return c}static chooseVersion(e,r){for(let i=1;i<=40;i++){const o=Oe.getVersionForNumber(i);if(mt.willFit(e,o,r))return o}throw new ct("Data too big")}static willFit(e,r,i){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(i).getTotalECCodewords(),f=o-c,d=(e+7)/8;return f>=d}static terminateBits(e,r){const i=e*8;if(r.getSize()>i)throw new ct("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let c=0;c<4&&r.getSize()<i;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const a=e-r.getSizeInBytes();for(let c=0;c<a;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==i)throw new ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,i,o,a,c){if(o>=i)throw new ct("Block ID too large");const f=e%i,d=i-f,p=Math.floor(e/i),w=p+1,C=Math.floor(r/i),y=C+1,S=p-C,R=w-y;if(S!==R)throw new ct("EC bytes mismatch");if(i!==d+f)throw new ct("RS blocks mismatch");if(e!==(C+S)*d+(y+R)*f)throw new ct("Total bytes mismatch");o<d?(a[0]=C,c[0]=S):(a[0]=y,c[0]=R)}static interleaveWithECBytes(e,r,i,o){if(e.getSizeInBytes()!==i)throw new ct("Number of bits and data bytes does not match");let a=0,c=0,f=0;const d=new Array;for(let w=0;w<o;++w){const C=new Int32Array(1),y=new Int32Array(1);mt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,w,C,y);const S=C[0],R=new Uint8Array(S);e.toBytes(8*a,R,0,S);const M=mt.generateECBytes(R,y[0]);d.push(new Dd(R,M)),c=Math.max(c,S),f=Math.max(f,M.length),a+=C[0]}if(i!==a)throw new ct("Data bytes does not match offset");const p=new J;for(let w=0;w<c;++w)for(const C of d){const y=C.getDataBytes();w<y.length&&p.appendBits(y[w],8)}for(let w=0;w<f;++w)for(const C of d){const y=C.getErrorCorrectionBytes();w<y.length&&p.appendBits(y[w],8)}if(r!==p.getSizeInBytes())throw new ct("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,r){const i=e.length,o=new Int32Array(i+r);for(let c=0;c<i;c++)o[c]=e[c]&255;new va(T.QR_CODE_FIELD_256).encode(o,r);const a=new Uint8Array(r);for(let c=0;c<r;c++)a[c]=o[i+c];return a}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,i,o){const a=i.getCharacterCountBits(r);if(e>=1<<a)throw new ct(e+" is bigger than "+((1<<a)-1));o.appendBits(e,a)}static appendBytes(e,r,i,o){switch(r){case Ne.NUMERIC:mt.appendNumericBytes(e,i);break;case Ne.ALPHANUMERIC:mt.appendAlphanumericBytes(e,i);break;case Ne.BYTE:mt.append8BitBytes(e,i,o);break;case Ne.KANJI:mt.appendKanjiBytes(e,i);break;default:throw new ct("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=mt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const a=mt.getDigit(e.charAt(o));if(o+2<i){const c=mt.getDigit(e.charAt(o+1)),f=mt.getDigit(e.charAt(o+2));r.appendBits(a*100+c*10+f,10),o+=3}else if(o+1<i){const c=mt.getDigit(e.charAt(o+1));r.appendBits(a*10+c,7),o+=2}else r.appendBits(a,4),o++}}static appendAlphanumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const a=mt.getAlphanumericCode(e.charCodeAt(o));if(a===-1)throw new ct;if(o+1<i){const c=mt.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new ct;r.appendBits(a*45+c,11),o+=2}else r.appendBits(a,6),o++}}static append8BitBytes(e,r,i){let o;try{o=ye.encode(e,i)}catch(a){throw new ct(a)}for(let a=0,c=o.length;a!==c;a++){const f=o[a];r.appendBits(f,8)}}static appendKanjiBytes(e,r){let i;try{i=ye.encode(e,V.SJIS)}catch(a){throw new ct(a)}const o=i.length;for(let a=0;a<o;a+=2){const c=i[a]&255,f=i[a+1]&255,d=c<<8&4294967295|f;let p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new ct("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(e,r){r.appendBits(Ne.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),mt.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class jr{write(e,r,i,o=null){if(e.length===0)throw new A("Found empty contents");if(r<0||i<0)throw new A("Requested dimensions are too small: "+r+"x"+i);let a=dt.L,c=jr.QUIET_ZONE_SIZE;o!==null&&(o.get(Bt.ERROR_CORRECTION)!==void 0&&(a=dt.fromString(o.get(Bt.ERROR_CORRECTION).toString())),o.get(Bt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Bt.MARGIN).toString(),10)));const f=mt.encode(e,a,o);return this.renderResult(f,r,i,c)}writeToDom(e,r,i,o,a=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(r,i,o,a);e&&e.appendChild(c)}renderResult(e,r,i,o){const a=e.getMatrix();if(a===null)throw new U;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,p=f+o*2,w=Math.max(r,d),C=Math.max(i,p),y=Math.min(Math.floor(w/d),Math.floor(C/p)),S=Math.floor((w-c*y)/2),R=Math.floor((C-f*y)/2),M=this.createSVGElement(w,C);for(let B=0,G=R;B<f;B++,G+=y)for(let ue=0,he=S;ue<c;ue++,he+=y)if(a.get(ue,B)===1){const ae=this.createSvgRectElement(he,G,y,y);M.appendChild(ae)}return M}createSVGElement(e,r){const i=document.createElementNS(jr.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(e,r,i,o){const a=document.createElementNS(jr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}jr.QUIET_ZONE_SIZE=4,jr.SVG_NS="http://www.w3.org/2000/svg";class xs{encode(e,r,i,o,a){if(e.length===0)throw new A("Found empty contents");if(r!==we.QR_CODE)throw new A("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new A(`Requested dimensions are too small: ${i}x${o}`);let c=dt.L,f=xs.QUIET_ZONE_SIZE;a!==null&&(a.get(Bt.ERROR_CORRECTION)!==void 0&&(c=dt.fromString(a.get(Bt.ERROR_CORRECTION).toString())),a.get(Bt.MARGIN)!==void 0&&(f=Number.parseInt(a.get(Bt.MARGIN).toString(),10)));const d=mt.encode(e,c,a);return xs.renderResult(d,i,o,f)}static renderResult(e,r,i,o){const a=e.getMatrix();if(a===null)throw new U;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,p=f+o*2,w=Math.max(r,d),C=Math.max(i,p),y=Math.min(Math.floor(w/d),Math.floor(C/p)),S=Math.floor((w-c*y)/2),R=Math.floor((C-f*y)/2),M=new qe(w,C);for(let B=0,G=R;B<f;B++,G+=y)for(let ue=0,he=S;ue<c;ue++,he+=y)a.get(ue,B)===1&&M.setRegion(he,G,y,y);return M}}xs.QUIET_ZONE_SIZE=4;class Md{encode(e,r,i,o,a){let c;switch(r){case we.QR_CODE:c=new xs;break;default:throw new A("No encoder available for format "+r)}return c.encode(e,r,i,o,a)}}class Xn extends He{constructor(e,r,i,o,a,c,f,d){if(super(c,f),this.yuvData=e,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=a,o+c>r||a+f>i)throw new A("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(c,f)}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=e*r,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.yuvData,a,o,0,i),o;for(let c=0;c<r;c++){const f=c*e;D.arraycopy(this.yuvData,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new Xn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)}renderThumbnail(){const e=this.getWidth()/Xn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Xn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const f=c*e;for(let d=0;d<e;d++){const p=o[a+d*Xn.THUMBNAIL_SCALE_FACTOR]&255;i[f+d]=4278190080|p*65793}a+=this.dataWidth*Xn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Xn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Xn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const i=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth){const c=a+e/2;for(let f=a,d=a+e-1;f<c;f++,d--){const p=i[f];i[f]=i[d],i[d]=p}}}invert(){return new ht(this)}}Xn.THUMBNAIL_SCALE_FACTOR=2;class Sa extends He{constructor(e,r,i,o,a,c,f){if(super(r,i),this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=f,e.BYTES_PER_ELEMENT===4){const d=r*i,p=new Uint8ClampedArray(d);for(let w=0;w<d;w++){const C=e[w],y=C>>16&255,S=C>>7&510,R=C&255;p[w]=(y+S+R)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),a===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=e*r,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.luminances,a,o,0,i),o;for(let c=0;c<r;c++){const f=c*e;D.arraycopy(this.luminances,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new Sa(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new ht(this)}}class Kc extends V{static forName(e){return this.getCharacterSetECIByName(e)}}class Ia{}Ia.ISO_8859_1=V.ISO8859_1;class qc{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Zc{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Ld{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Es extends Ld{constructor(e,r,i){super(e),this.value=r,this.bitCount=i}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Es(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Es(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+k.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Oa extends Es{constructor(e,r,i){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(e,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(e,r){return new Oa(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Pd(b,e,r){return new Oa(b,e,r)}function ii(b,e,r){return new Es(b,e,r)}const Bd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xr=0,Yi=1,Cn=2,Qc=3,jn=4,kd=new Es(null,0,0),Na=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Fd(b){for(let e of b)q.fill(e,-1);return b[xr][jn]=0,b[Yi][jn]=0,b[Yi][xr]=28,b[Qc][jn]=0,b[Cn][jn]=0,b[Cn][xr]=15,b}const Jc=Fd(q.createInt32Array(6,6));class $n{constructor(e,r,i,o){this.token=e,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let i=this.bitCount,o=this.token;if(e!==this.mode){let c=Na[this.mode][e];o=ii(o,c&65535,c>>16),i+=c>>16}let a=e===Cn?4:5;return o=ii(o,r,a),new $n(o,e,0,i+a)}shiftAndAppend(e,r){let i=this.token,o=this.mode===Cn?4:5;return i=ii(i,Jc[this.mode][e],o),i=ii(i,r,5),new $n(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===jn||this.mode===Cn){let f=Na[i][xr];r=ii(r,f&65535,f>>16),o+=f>>16,i=xr}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new $n(r,i,this.binaryShiftByteCount+1,o+a);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Pd(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(Na[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=$n.calculateBinaryShiftCost(e)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new J;for(const o of r)o.appendTo(i,e);return i}toString(){return de.format("%s bits=%d bytes=%d",Bd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(kd,xr,0,0);function Ud(b){const e=de.getCharCode(" "),r=de.getCharCode("."),i=de.getCharCode(",");b[xr][e]=1;const o=de.getCharCode("Z"),a=de.getCharCode("A");for(let y=a;y<=o;y++)b[xr][y]=y-a+2;b[Yi][e]=1;const c=de.getCharCode("z"),f=de.getCharCode("a");for(let y=f;y<=c;y++)b[Yi][y]=y-f+2;b[Cn][e]=1;const d=de.getCharCode("9"),p=de.getCharCode("0");for(let y=p;y<=d;y++)b[Cn][y]=y-p+2;b[Cn][i]=12,b[Cn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<w.length;y++)b[Qc][de.getCharCode(w[y])]=y;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<C.length;y++)de.getCharCode(C[y])>0&&(b[jn][de.getCharCode(C[y])]=y);return b}const Ra=Ud(q.createInt32Array(5,256));class oi{constructor(e){this.text=e}encode(){const e=de.getCharCode(" "),r=de.getCharCode(`
`);let i=Zc.singletonList($n.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let c,f=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case de.getCharCode("\r"):c=f===r?2:0;break;case de.getCharCode("."):c=f===e?3:0;break;case de.getCharCode(","):c=f===e?4:0;break;case de.getCharCode(":"):c=f===e?5:0;break;default:c=0}c>0?(i=oi.updateStateListForPair(i,a,c),a++):i=this.updateStateListForChar(i,a)}return Zc.min(i,(a,c)=>a.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const i=[];for(let o of e)this.updateStateForChar(o,r,i);return oi.simplifyStates(i)}updateStateForChar(e,r,i){let o=this.text[r]&255,a=Ra[e.getMode()][o]>0,c=null;for(let f=0;f<=jn;f++){let d=Ra[f][o];if(d>0){if(c==null&&(c=e.endBinaryShift(r)),!a||f===e.getMode()||f===Cn){const p=c.latchAndAppend(f,d);i.push(p)}if(!a&&Jc[e.getMode()][f]>=0){const p=c.shiftAndAppend(f,d);i.push(p)}}}if(e.getBinaryShiftByteCount()>0||Ra[e.getMode()][o]===0){let f=e.addBinaryShiftChar(r);i.push(f)}}static updateStateListForPair(e,r,i){const o=[];for(let a of e)this.updateStateForPair(a,r,i,o);return this.simplifyStates(o)}static updateStateForPair(e,r,i,o){let a=e.endBinaryShift(r);if(o.push(a.latchAndAppend(jn,i)),e.getMode()!==jn&&o.push(a.shiftAndAppend(jn,i)),i===3||i===4){let c=a.latchAndAppend(Cn,16-i).latchAndAppend(Cn,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(e){let r=[];for(const i of e){let o=!0;for(const a of r){if(a.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(a)&&(r=r.filter(c=>c!==a))}o&&r.push(i)}return r}}class Qe{constructor(){}static encodeBytes(e){return Qe.encode(e,Qe.DEFAULT_EC_PERCENT,Qe.DEFAULT_AZTEC_LAYERS)}static encode(e,r,i){let o=new oi(e).encode(),a=k.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+a,f,d,p,w,C;if(i!==Qe.DEFAULT_AZTEC_LAYERS){if(f=i<0,d=Math.abs(i),d>(f?Qe.MAX_NB_BITS_COMPACT:Qe.MAX_NB_BITS))throw new A(de.format("Illegal value %s for layers",i));p=Qe.totalBitsInLayer(d,f),w=Qe.WORD_SIZE[d];let ae=p-p%w;if(C=Qe.stuffBits(o,w),C.getSize()+a>ae)throw new A("Data to large for user specified layer");if(f&&C.getSize()>w*64)throw new A("Data to large for user specified layer")}else{w=0,C=null;for(let ae=0;;ae++){if(ae>Qe.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(f=ae<=3,d=f?ae+1:ae,p=Qe.totalBitsInLayer(d,f),c>p)continue;(C==null||w!==Qe.WORD_SIZE[d])&&(w=Qe.WORD_SIZE[d],C=Qe.stuffBits(o,w));let Ye=p-p%w;if(!(f&&C.getSize()>w*64)&&C.getSize()+a<=Ye)break}}let y=Qe.generateCheckWords(C,p,w),S=C.getSize()/w,R=Qe.generateModeMessage(f,d,S),M=(f?11:14)+d*4,B=new Int32Array(M),G;if(f){G=M;for(let ae=0;ae<B.length;ae++)B[ae]=ae}else{G=M+1+2*k.truncDivision(k.truncDivision(M,2)-1,15);let ae=k.truncDivision(M,2),Ye=k.truncDivision(G,2);for(let Fe=0;Fe<ae;Fe++){let on=Fe+k.truncDivision(Fe,15);B[ae-Fe-1]=Ye-on-1,B[ae+Fe]=Ye+on+1}}let ue=new qe(G);for(let ae=0,Ye=0;ae<d;ae++){let Fe=(d-ae)*4+(f?9:12);for(let on=0;on<Fe;on++){let Dn=on*2;for(let an=0;an<2;an++)y.get(Ye+Dn+an)&&ue.set(B[ae*2+an],B[ae*2+on]),y.get(Ye+Fe*2+Dn+an)&&ue.set(B[ae*2+on],B[M-1-ae*2-an]),y.get(Ye+Fe*4+Dn+an)&&ue.set(B[M-1-ae*2-an],B[M-1-ae*2-on]),y.get(Ye+Fe*6+Dn+an)&&ue.set(B[M-1-ae*2-on],B[ae*2+an])}Ye+=Fe*8}if(Qe.drawModeMessage(ue,f,G,R),f)Qe.drawBullsEye(ue,k.truncDivision(G,2),5);else{Qe.drawBullsEye(ue,k.truncDivision(G,2),7);for(let ae=0,Ye=0;ae<k.truncDivision(M,2)-1;ae+=15,Ye+=16)for(let Fe=k.truncDivision(G,2)&1;Fe<G;Fe+=2)ue.set(k.truncDivision(G,2)-Ye,Fe),ue.set(k.truncDivision(G,2)+Ye,Fe),ue.set(Fe,k.truncDivision(G,2)-Ye),ue.set(Fe,k.truncDivision(G,2)+Ye)}let he=new qc;return he.setCompact(f),he.setSize(G),he.setLayers(d),he.setCodeWords(S),he.setMatrix(ue),he}static drawBullsEye(e,r,i){for(let o=0;o<i;o+=2)for(let a=r-o;a<=r+o;a++)e.set(a,r-o),e.set(a,r+o),e.set(r-o,a),e.set(r+o,a);e.set(r-i,r-i),e.set(r-i+1,r-i),e.set(r-i,r-i+1),e.set(r+i,r-i),e.set(r+i,r-i+1),e.set(r+i,r+i-1)}static generateModeMessage(e,r,i){let o=new J;return e?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=Qe.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=Qe.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,i,o){let a=k.truncDivision(i,2);if(r)for(let c=0;c<7;c++){let f=a-3+c;o.get(c)&&e.set(f,a-5),o.get(c+7)&&e.set(a+5,f),o.get(20-c)&&e.set(f,a+5),o.get(27-c)&&e.set(a-5,f)}else for(let c=0;c<10;c++){let f=a-5+c+k.truncDivision(c,5);o.get(c)&&e.set(f,a-7),o.get(c+10)&&e.set(a+7,f),o.get(29-c)&&e.set(f,a+7),o.get(39-c)&&e.set(a-7,f)}}static generateCheckWords(e,r,i){let o=e.getSize()/i,a=new va(Qe.getGF(i)),c=k.truncDivision(r,i),f=Qe.bitsToWords(e,i,c);a.encode(f,c-o);let d=r%i,p=new J;p.appendBits(0,d);for(const w of Array.from(f))p.appendBits(w,i);return p}static bitsToWords(e,r,i){let o=new Int32Array(i),a,c;for(a=0,c=e.getSize()/r;a<c;a++){let f=0;for(let d=0;d<r;d++)f|=e.get(a*r+d)?1<<r-d-1:0;o[a]=f}return o}static getGF(e){switch(e){case 4:return T.AZTEC_PARAM;case 6:return T.AZTEC_DATA_6;case 8:return T.AZTEC_DATA_8;case 10:return T.AZTEC_DATA_10;case 12:return T.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,r){let i=new J,o=e.getSize(),a=(1<<r)-2;for(let c=0;c<o;c+=r){let f=0;for(let d=0;d<r;d++)(c+d>=o||e.get(c+d))&&(f|=1<<r-1-d);(f&a)===a?(i.appendBits(f&a,r),c--):f&a?i.appendBits(f,r):(i.appendBits(f|1,r),c--)}return i}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}Qe.DEFAULT_EC_PERCENT=33,Qe.DEFAULT_AZTEC_LAYERS=0,Qe.MAX_NB_BITS=32,Qe.MAX_NB_BITS_COMPACT=4,Qe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ki{encode(e,r,i,o){return this.encodeWithHints(e,r,i,o,null)}encodeWithHints(e,r,i,o,a){let c=Ia.ISO_8859_1,f=Qe.DEFAULT_EC_PERCENT,d=Qe.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Bt.CHARACTER_SET)&&(c=Kc.forName(a.get(Bt.CHARACTER_SET).toString())),a.has(Bt.ERROR_CORRECTION)&&(f=k.parseInt(a.get(Bt.ERROR_CORRECTION).toString())),a.has(Bt.AZTEC_LAYERS)&&(d=k.parseInt(a.get(Bt.AZTEC_LAYERS).toString()))),Ki.encodeLayers(e,r,i,o,c,f,d)}static encodeLayers(e,r,i,o,a,c,f){if(r!==we.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let d=Qe.encode(de.getBytes(e,a),c,f);return Ki.renderResult(d,i,o)}static renderResult(e,r,i){let o=e.getMatrix();if(o==null)throw new U;let a=o.getWidth(),c=o.getHeight(),f=Math.max(r,a),d=Math.max(i,c),p=Math.min(f/a,d/c),w=(f-a*p)/2,C=(d-c*p)/2,y=new qe(f,d);for(let S=0,R=C;S<c;S++,R+=p)for(let M=0,B=w;M<a;M++,B+=p)o.get(M,S)&&y.setRegion(B,R,p,p);return y}}s.AbstractExpandedDecoder=ma,s.ArgumentException=_,s.ArithmeticException=st,s.AztecCode=qc,s.AztecCodeReader=zt,s.AztecCodeWriter=Ki,s.AztecDecoder=Q,s.AztecDetector=Dt,s.AztecDetectorResult=Ee,s.AztecEncoder=Qe,s.AztecHighLevelEncoder=oi,s.AztecPoint=Be,s.BarcodeFormat=we,s.Binarizer=L,s.BinaryBitmap=O,s.BitArray=J,s.BitMatrix=qe,s.BitSource=_a,s.BrowserAztecCodeReader=ur,s.BrowserBarcodeReader=md,s.BrowserCodeReader=Lt,s.BrowserDatamatrixCodeReader=Ed,s.BrowserMultiFormatReader=Od,s.BrowserPDF417Reader=Nd,s.BrowserQRCodeReader=Rd,s.BrowserQRCodeSvgWriter=jr,s.CharacterSetECI=V,s.ChecksumException=I,s.Code128Reader=ge,s.Code39Reader=It,s.DataMatrixDecodedBitStreamParser=dr,s.DataMatrixReader=gr,s.DecodeHintType=Y,s.DecoderResult=me,s.DefaultGridSampler=ke,s.DetectorResult=se,s.EAN13Reader=Vr,s.EncodeHintType=Bt,s.Exception=x,s.FormatException=P,s.GenericGF=T,s.GenericGFPoly=Pe,s.GlobalHistogramBinarizer=Ie,s.GridSampler=Te,s.GridSamplerInstance=$e,s.HTMLCanvasElementLuminanceSource=St,s.HybridBinarizer=le,s.ITFReader=We,s.IllegalArgumentException=A,s.IllegalStateException=U,s.InvertedLuminanceSource=ht,s.LuminanceSource=He,s.MathUtils=ne,s.MultiFormatOneDReader=ps,s.MultiFormatReader=Yc,s.MultiFormatWriter=Md,s.NotFoundException=X,s.OneDReader=Ct,s.PDF417DecodedBitStreamParser=W,s.PDF417DecoderErrorCorrection=Wc,s.PDF417Reader=Xt,s.PDF417ResultMetadata=Xc,s.PerspectiveTransform=Se,s.PlanarYUVLuminanceSource=Xn,s.QRCodeByteMatrix=zi,s.QRCodeDataMask=An,s.QRCodeDecodedBitStreamParser=yt,s.QRCodeDecoderErrorCorrectionLevel=dt,s.QRCodeDecoderFormatInformation=Kt,s.QRCodeEncoder=mt,s.QRCodeEncoderQRCode=Xr,s.QRCodeMaskUtil=Nt,s.QRCodeMatrixUtil=De,s.QRCodeMode=Ne,s.QRCodeReader=pr,s.QRCodeVersion=Oe,s.QRCodeWriter=xs,s.RGBLuminanceSource=Sa,s.RSS14Reader=Ot,s.RSSExpandedReader=re,s.ReaderException=$i,s.ReedSolomonDecoder=te,s.ReedSolomonEncoder=va,s.ReedSolomonException=N,s.Result=ot,s.ResultMetadataType=ce,s.ResultPoint=H,s.StringUtils=de,s.UnsupportedOperationException=xe,s.VideoInputDevice=Ht,s.WhiteRectangleDetector=_e,s.WriterException=ct,s.ZXingArrays=q,s.ZXingCharset=Kc,s.ZXingInteger=k,s.ZXingStandardCharsets=Ia,s.ZXingStringBuilder=ve,s.ZXingStringEncoding=ye,s.ZXingSystem=D,s.createAbstractExpandedDecoder=Vc,Object.defineProperty(s,"__esModule",{value:!0})})})(Ll,Ll.exports);var xt=Ll.exports;const $w=jw(xt),zw=Wd({__proto__:null,default:$w},[xt]);var wf=function(){function n(t,s,l){if(this.formatMap=new Map([[be.QR_CODE,xt.BarcodeFormat.QR_CODE],[be.AZTEC,xt.BarcodeFormat.AZTEC],[be.CODABAR,xt.BarcodeFormat.CODABAR],[be.CODE_39,xt.BarcodeFormat.CODE_39],[be.CODE_93,xt.BarcodeFormat.CODE_93],[be.CODE_128,xt.BarcodeFormat.CODE_128],[be.DATA_MATRIX,xt.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,xt.BarcodeFormat.MAXICODE],[be.ITF,xt.BarcodeFormat.ITF],[be.EAN_13,xt.BarcodeFormat.EAN_13],[be.EAN_8,xt.BarcodeFormat.EAN_8],[be.PDF_417,xt.BarcodeFormat.PDF_417],[be.RSS_14,xt.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,xt.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,xt.BarcodeFormat.UPC_A],[be.UPC_E,xt.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!zw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=l;var u=this.createZXingFormats(t),h=new Map;h.set(xt.DecodeHintType.POSSIBLE_FORMATS,u),h.set(xt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return n.prototype.decodeAsync=function(t){var s=this;return new Promise(function(l,u){try{l(s.decode(t))}catch(h){u(h)}})},n.prototype.decode=function(t){var s=new xt.MultiFormatReader(this.verbose,this.hints),l=new xt.HTMLCanvasElementLuminanceSource(t),u=new xt.BinaryBitmap(new xt.HybridBinarizer(l)),h=s.decode(u);return{text:h.text,format:l0.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,l,u){t.set(s,l)}),t},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createZXingFormats=function(t){for(var s=[],l=0,u=t;l<u.length;l++){var h=u[l];this.formatMap.has(h)?s.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return s},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),Yw=function(n,t,s,l){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(A){g(A)}}function E(_){try{x(l.throw(_))}catch(A){g(A)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Kw=function(n,t){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){s.label=x[1];break}if(x[0]===6&&s.label<h[1]){s.label=h[1],h=x;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(x);break}h[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(n,s)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_f=function(){function n(t,s,l){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=l;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},n.prototype.decodeAsync=function(t){return Yw(this,void 0,void 0,function(){var s,l;return Kw(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(s),[2,{text:l.rawValue,format:l0.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(t){for(var s=null,l=0,u=0,h=t;u<h.length;u++){var g=h[u],m=g.boundingBox.width*g.boundingBox.height;m>l&&(l=m,s=g)}if(!s)throw"No largest barcode found";return s},n.prototype.createBarcodeDetectorFormats=function(t){for(var s=[],l=0,u=t;l<u.length;l++){var h=u[l];this.formatMap.has(h)?s.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,l,u){t.set(s,l)}),t},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),Af=function(n,t,s,l){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(A){g(A)}}function E(_){try{x(l.throw(_))}catch(A){g(A)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},bf=function(n,t){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){s.label=x[1];break}if(x[0]===6&&s.label<h[1]){s.label=h[1],h=x;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(x);break}h[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(n,s)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},qw=function(){function n(t,s,l,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,s&&_f.isSupported()?(this.primaryDecoder=new _f(t,l,u),this.secondaryDecoder=new wf(t,l,u)):this.primaryDecoder=new wf(t,l,u)}return n.prototype.decodeAsync=function(t){return Af(this,void 0,void 0,function(){var s;return bf(this,function(l){switch(l.label){case 0:s=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(t){return Af(this,void 0,void 0,function(){var s,l;return bf(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(l=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw l;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(t){if(this.verbose){var s=performance.now()-t;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,s=0,l=this.executionResults;s<l.length;s++){var u=l[s];t+=u}var h=t/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),xc=function(){var n=function(t,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(t,s);function l(){this.constructor=t}t.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),No=function(n,t,s,l){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(A){g(A)}}function E(_){try{x(l.throw(_))}catch(A){g(A)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Ro=function(n,t){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){s.label=x[1];break}if(x[0]===6&&s.label<h[1]){s.label=h[1],h=x;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(x);break}h[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(n,s)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},u0=function(){function n(t,s){this.name=t,this.track=s}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(t){var s={};s[this.name]=t;var l={advanced:[s]};return this.track.applyConstraints(l)},n.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var s=t[this.name];return s}return null},n}(),Zw=function(n){xc(t,n);function t(s,l){return n.call(this,s,l)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(s){var l={};l[this.name]=s;var u={advanced:[l]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),l=s[this.name];return{min:l.min,max:l.max,step:l.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(u0),Qw=function(n){xc(t,n);function t(s){return n.call(this,"zoom",s)||this}return t}(Zw),Jw=function(n){xc(t,n);function t(s){return n.call(this,"torch",s)||this}return t}(u0),e_=function(){function n(t){this.track=t}return n.prototype.zoomFeature=function(){return new Qw(this.track)},n.prototype.torchFeature=function(){return new Jw(this.track)},n}(),t_=function(){function n(t,s,l){this.isClosed=!1,this.parentElement=t,this.mediaStream=s,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return n.prototype.createVideoElement=function(t){var s=document.createElement("video");return s.style.width="".concat(t,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},n.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var l=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(l,u),t.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(t,s,l,u){return No(this,void 0,void 0,function(){var h,g;return Ro(this,function(m){switch(m.label){case 0:return h=new n(t,s,u),l.aspectRatio?(g={aspectRatio:l.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return h.setupSurface(),[2,h]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(t){this.failIfClosed();var s=this,l=function(){setTimeout(t,200),s.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(t){return No(this,void 0,void 0,function(){return Ro(this,function(s){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(s,l){var u=t.mediaStream.getVideoTracks(),h=u.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=h&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),s())})})},n.prototype.getCapabilities=function(){return new e_(this.getFirstTrackOrFail())},n}(),n_=function(){function n(t){this.mediaStream=t}return n.prototype.render=function(t,s,l){return No(this,void 0,void 0,function(){return Ro(this,function(u){return[2,t_.create(t,this.mediaStream,s,l)]})})},n.create=function(t){return No(this,void 0,void 0,function(){var s,l;return Ro(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return l=u.sent(),[2,new n(l)]}})})},n}(),Cf=function(n,t,s,l){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(A){g(A)}}function E(_){try{x(l.throw(_))}catch(A){g(A)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},yf=function(n,t){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){s.label=x[1];break}if(x[0]===6&&s.label<h[1]){s.label=h[1],h=x;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(x);break}h[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(n,s)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},r_=function(){function n(){}return n.failIfNotSupported=function(){return Cf(this,void 0,void 0,function(){return yf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(t){return Cf(this,void 0,void 0,function(){return yf(this,function(s){return[2,n_.create(t)]})})},n}(),s_=function(n,t,s,l){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(A){g(A)}}function E(_){try{x(l.throw(_))}catch(A){g(A)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},i_=function(n,t){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(s=0)),s;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){s.label=x[1];break}if(x[0]===6&&s.label<h[1]){s.label=h[1],h=x;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(x);break}h[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(n,s)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},o_=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var t=Is.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(t=Is.insecureContextCameraQueryError()),Promise.reject(t)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},n.getCamerasFromMediaDevices=function(){return s_(this,void 0,void 0,function(){var t,s,l,u,h,g,m;return i_(this,function(E){switch(E.label){case 0:return t=function(x){for(var _=x.getVideoTracks(),A=0,O=_;A<O.length;A++){var I=O[A];I.enabled=!1,I.stop(),x.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=E.sent(),u=[],h=0,g=l;h<g.length;h++)m=g[h],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return t(s),[2,u]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,s){var l=function(h){for(var g=[],m=0,E=h;m<E.length;m++){var x=E[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},u=MediaStreamTrack;u.getSources(l)})},n}(),Rt;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Rt||(Rt={}));var a_=function(){function n(){this.state=Rt.NOT_STARTED,this.onGoingTransactionNewState=Rt.UNKNOWN}return n.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},n.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rt.UNKNOWN,this.directTransition(t)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rt.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(t){switch(this.state){case Rt.UNKNOWN:throw"Transition from unknown is not allowed";case Rt.NOT_STARTED:this.failIfNewStateIs(t,[Rt.PAUSED]);break;case Rt.SCANNING:break;case Rt.PAUSED:break}},n.prototype.failIfNewStateIs=function(t,s){for(var l=0,u=s;l<u.length;l++){var h=u[l];if(t===h)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},n}(),l_=function(){function n(t){this.stateManager=t}return n.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},n.prototype.directTransition=function(t){this.stateManager.directTransition(t)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Rt.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Rt.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rt.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Rt.PAUSED},n}(),c_=function(){function n(){}return n.create=function(){return new l_(new a_)},n}(),u_=function(){var n=function(t,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(t,s);function l(){this.constructor=t}t.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),gn=function(n){u_(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ww),f_=function(){function n(t,s){this.logger=s,this.fps=gn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gn.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?c0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!tr(this.qrbox)},n.create=function(t,s){return new n(t,s)},n}(),h_=function(){function n(t,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var l;typeof s=="boolean"?this.verbose=s===!0:s&&(l=s,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new Xw(this.verbose),this.qrcode=new qw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=c_.create()}return n.prototype.start=function(t,s,l,u){var h=this;if(!t)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var m=f_.create(s,this.logger);this.clearElement();var E=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=E,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:gn.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var A=this,O=this.stateManagerProxy.startTransition(Rt.SCANNING);return new Promise(function(I,L){var D=x?m.videoConstraints:A.createVideoConstraints(t);if(!D){O.cancel(),L("videoConstraints should be defined");return}var z={};(!x||m.aspectRatio)&&(z.aspectRatio=m.aspectRatio);var ee={onRenderSurfaceReady:function(q,k){A.setupUi(q,k,m),A.isScanning=!0,A.foreverScan(m,l,g)}};r_.failIfNotSupported().then(function(q){q.create(D).then(function(k){return k.render(h.element,z,ee).then(function(J){A.renderedCamera=J,O.execute(),I(null)}).catch(function(J){O.cancel(),L(J)})}).catch(function(k){O.cancel(),L(Is.errorGettingUserMedia(k))})}).catch(function(q){O.cancel(),L(Is.cameraStreamingNotSupported())})})},n.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rt.PAUSED),this.showPausedState(),(tr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,s=function(){t.stateManagerProxy.directTransition(Rt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(t.element){var h=document.getElementById(gn.SHADED_REGION_ELEMENT_ID);h&&t.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),l(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),s.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(t,s){return this.scanFileV2(t,s).then(function(l){return l.decodedText})},n.prototype.scanFileV2=function(t,s){var l=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,E=g.height,x=document.getElementById(l.elementId),_=x.clientWidth?x.clientWidth:gn.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:E,gn.FILE_SCAN_MIN_HEIGHT),O=l.computeCanvasDrawConfig(m,E,_,A);if(s){var I=l.createCanvasElement(_,A,"qr-canvas-visible");I.style.display="inline-block",x.appendChild(I);var L=I.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=_,L.canvas.height=A,L.drawImage(g,0,0,m,E,O.x,O.y,O.width,O.height)}var D=gn.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(g.width,O.width),ee=Math.max(g.height,O.height),q=z+2*D,k=ee+2*D,J=l.createCanvasElement(q,k);x.appendChild(J);var pe=J.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=q,pe.canvas.height=k,pe.drawImage(g,0,0,m,E,D,D,z,ee);try{l.qrcode.decodeRobustlyAsync(J).then(function(Y){u(Ef.createFromQrcodeResult(Y))}).catch(h)}catch(Y){h("QR code parse error, error = ".concat(Y))}},g.onerror=h,g.onabort=h,g.onstalled=h,g.onsuspend=h,g.src=URL.createObjectURL(t)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return o_.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(t){if(t){if(!c0.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(t){var s=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return s;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],u=0,h=t.formatsToSupport;u<h.length;u++){var g=h[u];Hw(g)?l.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},n.prototype.getUseBarCodeDetectorIfSupported=function(t){if(tr(t))return!0;if(!tr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(tr(t.experimentalFeatures))return!0;var s=t.experimentalFeatures;return tr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(t,s,l){var u=this,h=l.qrbox;this.validateQrboxConfig(h);var g=this.toQrdimensions(t,s,h),m=function(x){if(x<gn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gn.MIN_QR_BOX_SIZE,"px.")},E=function(x){return x>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=E(g.width)},n.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(t,s,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(t,s)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return l},n.prototype.setupUi=function(t,s,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(t,s,l);var u=tr(l.qrbox)?{width:t,height:s}:l.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,s,u);h.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=l.isShadedBoxEnabled()&&h.height<=s,m={x:0,y:0,width:t,height:s},E=g?this.getShadedRegionBounds(t,s,h):m,x=this.createCanvasElement(E.width,E.height),_={willReadFrequently:!0},A=x.getContext("2d",_);A.canvas.width=E.width,A.canvas.height=E.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,s,h),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=A,this.canvasElement=x},n.prototype.createScannerPausedUiElement=function(t){var s=document.createElement("div");s.innerText=Is.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",t.appendChild(s),this.scannerPausedUiElement=s},n.prototype.scanContext=function(t,s){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,Ef.createFromQrcodeResult(u)),l.possiblyUpdateShaders(!0),!0}).catch(function(u){l.possiblyUpdateShaders(!1);var h=Is.codeParseError(u);return s(h,Gw.createFrom(h)),!1})},n.prototype.foreverScan=function(t,s,l){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),g=h.videoWidth/h.clientWidth,m=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*g,x=this.qrRegion.height*m,_=this.qrRegion.x*g,A=this.qrRegion.y*m;this.context.drawImage(h,_,A,E,x,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,s,l)},u.getTimeoutFps(t.fps))};this.scanContext(s,l).then(function(I){!I&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,l).finally(function(){O()})):O()}).catch(function(I){u.logger.logError("Error happend while scanning context",I),O()})}},n.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var s="facingMode",l="deviceId",u={user:!0,environment:!0},h="exact",g=function(L){if(L in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var E=Object.keys(t)[0];if(E!==s&&E!==l)throw"Only '".concat(s,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(E===s){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(h in x){if(g(x["".concat(h)]))return{facingMode:{exact:x["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var _=typeof x;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(h in A)return{deviceId:{exact:A["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var O=typeof A;throw"Invalid type of 'deviceId' = ".concat(O)}}}var I=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},n.prototype.computeCanvasDrawConfig=function(t,s,l,u){if(t<=l&&s<=u){var h=(l-t)/2,g=(u-s)/2;return{x:h,y:g,width:t,height:s}}else{var m=t,E=s;return t>l&&(s=l/t*s,t=l),s>u&&(t=u/s*t,s=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(E)+" to ".concat(t,"X").concat(s,".")),this.computeCanvasDrawConfig(t,s,l,u)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},n.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=t?gn.BORDER_SHADER_MATCH_COLOR:gn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(t,s,l){var u=t,h=s,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(h,"px"),g.style.display="none",g.id=tr(l)?"qr-canvas":l,g},n.prototype.getShadedRegionBounds=function(t,s,l){if(l.width>t||l.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-l.width)/2,y:(s-l.height)/2,width:l.width,height:l.height}},n.prototype.possiblyInsertShadingElement=function(t,s,l,u){if(!(s-u.width<1||l-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var g=(s-u.width)/2,m=(l-u.height)/2;if(h.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(gn.SHADED_REGION_ELEMENT_ID),s-u.width<11||l-u.height<11)this.hasBorderShaders=!1;else{var E=5,x=40;this.insertShaderBorders(h,x,E,-E,null,0,!0),this.insertShaderBorders(h,x,E,-E,null,0,!1),this.insertShaderBorders(h,x,E,null,-E,0,!0),this.insertShaderBorders(h,x,E,null,-E,0,!1),this.insertShaderBorders(h,E,x+E,-E,null,-E,!0),this.insertShaderBorders(h,E,x+E,null,-E,-E,!0),this.insertShaderBorders(h,E,x+E,-E,null,-E,!1),this.insertShaderBorders(h,E,x+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(h)}},n.prototype.insertShaderBorders=function(t,s,l,u,h,g,m){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=gn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(s,"px"),E.style.height="".concat(l,"px"),u!==null&&(E.style.top="".concat(u,"px")),h!==null&&(E.style.bottom="".concat(h,"px")),m?E.style.left="".concat(g,"px"):E.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(t){return 1e3/t},n}(),Tf;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Tf||(Tf={}));const d_={class:"card",style:{overflow:"hidden"}},g_={class:"card-body p-0",style:{overflow:"hidden"}},p_={key:0,class:"ratio ratio-1x1",id:"qr-reader"},m_={class:"d-grid col-6 mx-auto my-4"},x_={__name:"QRcodeReader",emits:["scan-success"],setup(n,{emit:t}){const s=ra(),l=je(!1),u=je("");let h=null;const g=t,m=()=>{if(!(!s.isLoggedIn||!s.is_club))try{h=new h_("qr-reader");const D=document.getElementById("qr-reader").offsetWidth,z=document.getElementById("qr-reader").offsetHeight,ee={fps:10,qrbox:{width:250,height:250},aspectRatio:1,width:D*.7,height:z*.7};h.start({facingMode:"environment"},ee,E,x)}catch(D){console.log("init scanner failed: "+D),O.value="btn btn-primary",I.value="",A.value=!A.value}},E=D=>{u.value=D,g("scan-success",D)},x=D=>{};Y1(()=>{L()}),K1(()=>{_()});const _=async()=>{if(h)try{await h.stop()}catch(D){console.error("Failed to stop scanner:",D)}},A=je(!1),O=je("btn btn-primary"),I=je(""),L=async()=>{A.value=!A.value,A.value?(m(),O.value="btn btn-danger",I.value=""):(_(),O.value="btn btn-primary",I.value="")};return(D,z)=>(ft(),_t(yn,null,[ie("div",d_,[ie("div",g_,[l.value?Pn("",!0):(ft(),_t("div",p_))])]),ie("div",m_,[ie("button",{class:Vt(O.value),type:"button",onClick:L},Et(I.value),3)])],64))}},f0=n=>(W1("data-v-5806eb4a"),n=n(),G1(),n),E_={key:0},w_={class:"mb-4"},__={key:1},A_=f0(()=>ie("h1",{class:"mb-4"},"",-1)),b_={class:"col-md-6"},C_={class:"invalid-feedback"},y_={class:"col-md-6"},T_={class:"invalid-feedback"},v_={class:"col-6 d-grid mx-auto"},S_=["disabled"],I_={key:1,class:"loading-overlay"},O_=f0(()=>ie("div",{class:"spinner-border text-primary",role:"status"},[ie("span",{class:"visually-hidden"},"Loading...")],-1)),N_=[O_],R_={__name:"ScanView",setup(n){const t=hc(),s=na(),l=a0(),u=ra();s.callAPI(),t.callAPI(),l.callAPI();const h=je(!1),g=async()=>{if(z.value=!0,!await m(u.email,E.value))try{const xe=new FormData;xe.append("entry.1180634340",u.email),xe.append("entry.1788223982",E.value),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLScMibiJl3amUlq6x91EwApaW7XqnRTl51ZQagvWz3vNftR3tw/formResponse",{method:"POST",mode:"no-cors",body:xe}),console.log("Form submitted successfully"),O.value=!1,A.value=" "+x.value+" "}catch(xe){O.value=!0,A.value=""+xe,console.error("Error submitting form:",xe)}finally{z.value=!1}},m=async(xe,ye)=>await l.query_record(xe,ye)?(O.value=!0,A.value="",!0):(O.value=!1,A.value="",!1),E=je(""),x=je(""),_=async xe=>{if(h.value)return;h.value=!0,E.value=xe;let ye=await t.get_user_by_email(xe);if(console.log(ye),ye)ye.nick_name!=""?x.value=ye.nick_name:x.value=ye.name,O.value=!1,A.value=""+x.value;else{O.value=!0,A.value=" email: "+xe+" ";return}await g(),h.value=!1},A=je(""),O=je(!1),I=je("");u.isLoggedIn&&u.is_club&&(I.value=u.name);let L=je(""),D=je("");const z=je(!1),ee=je({email:"",password:""});var q=je("row g-3 my-3 needs-validation");const k=async()=>{z.value=!0;try{const xe=await K();await u.club_login(L.value,D.value),xe&&u.isLoggedIn&&u.is_club?(console.log("Club login successfully"),O.value=!1,A.value="",console.log(u.name,u.email,u.is_club),I.value=u.name,V()):(O.value=!0,A.value="",console.log(""))}catch(xe){O.value=!0,A.value=""+xe,console.error("Error submitting form:",xe)}finally{z.value=!1}},J=(xe,ye,de)=>de.required&&!ye?(ee.value[xe]="",!1):de.minLength&&ye.length<de.minLength?(ee.value[xe]=` ${de.minLength} `,!1):de.pattern&&!de.pattern.test(ye)?(ee.value[xe]="",!1):(ee.value[xe]="",q.value="row g-3 my-3 needs-validation was-validated",!0),pe=Tt(()=>J("email",L.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),Y=Tt(()=>J("password",D.value,{required:!0,minLength:6})),P=Tt(()=>pe.value&&Y.value);async function K(){return P.value?!0:(q.value="row g-3 my-3 needs-validation was-validated",!1)}const V=()=>{L.value="",D.value=""};return(xe,ye)=>rt(u).isLoggedIn&&rt(u).is_club?(ft(),_t("div",E_,[ie("h1",w_,Et(I.value)+"",1),A.value?(ft(),_t("div",{key:0,class:Vt(["mt-3 text-break",["alert",O.value?"alert-danger":"alert-success"]]),role:"alert"},Et(A.value),3)):Pn("",!0),wt(x_,{onScanSuccess:_})])):(ft(),_t("div",__,[A_,A.value?(ft(),_t("div",{key:0,class:Vt(["mt-3 text-break",["alert",O.value?"alert-danger":"alert-success"]]),role:"alert"},Et(A.value),3)):Pn("",!0),ie("form",{class:Vt(rt(q)),onSubmit:Ah(k,["prevent"]),novalidate:""},[ie("div",b_,[Sr(ie("input",{type:"email","onUpdate:modelValue":ye[0]||(ye[0]=de=>gt(L)?L.value=de:L=de),class:Vt(["form-control",{"is-invalid":!pe.value}]),name:"email",id:"email",placeholder:"",required:""},null,2),[[qr,rt(L)]]),ie("div",C_,Et(ee.value.email),1)]),ie("div",y_,[Sr(ie("input",{type:"password","onUpdate:modelValue":ye[1]||(ye[1]=de=>gt(D)?D.value=de:D=de),class:Vt(["form-control",{"is-invalid":!Y.value}]),name:"password",id:"password",placeholder:"",required:""},null,2),[[qr,rt(D)]]),ie("div",T_,Et(ee.value.password),1)]),ie("div",v_,[ie("button",{type:"submit",class:"btn btn-primary",disabled:!P.value||z.value},Et(z.value?"...":""),9,S_)])],34),z.value?(ft(),_t("div",I_,N_)):Pn("",!0)]))}},D_=Ys(R_,[["__scopeId","data-v-5806eb4a"]]),M_=bE({linkActiveClass:"active",linkExactActiveClass:"",history:qx("/Earth_Game/"),routes:[{path:"/",name:"home",component:NE},{path:"/stamp",name:"stamp",component:aw},{path:"/rank",name:"rank",component:PE},{path:"/partner",component:pw},{path:"/register",component:Vw},{path:"/scan",component:D_},{path:"/user/:id",component:cw},{path:"/404",name:"NotFound",component:pf},{path:"/:pathMatch(.*)*",name:"NotFound",component:pf}]});var en="top",xn="bottom",En="right",tn="left",ia="auto",Ks=[en,xn,En,tn],as="start",Us="end",h0="clippingParents",Ec="viewport",Ts="popper",d0="reference",Pl=Ks.reduce(function(n,t){return n.concat([t+"-"+as,t+"-"+Us])},[]),wc=[].concat(Ks,[ia]).reduce(function(n,t){return n.concat([t,t+"-"+as,t+"-"+Us])},[]),g0="beforeRead",p0="read",m0="afterRead",x0="beforeMain",E0="main",w0="afterMain",_0="beforeWrite",A0="write",b0="afterWrite",C0=[g0,p0,m0,x0,E0,w0,_0,A0,b0];function Jn(n){return n?(n.nodeName||"").toLowerCase():null}function wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function ls(n){var t=wn(n).Element;return n instanceof t||n instanceof Element}function Sn(n){var t=wn(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function _c(n){if(typeof ShadowRoot>"u")return!1;var t=wn(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function L_(n){var t=n.state;Object.keys(t.elements).forEach(function(s){var l=t.styles[s]||{},u=t.attributes[s]||{},h=t.elements[s];!Sn(h)||!Jn(h)||(Object.assign(h.style,l),Object.keys(u).forEach(function(g){var m=u[g];m===!1?h.removeAttribute(g):h.setAttribute(g,m===!0?"":m)}))})}function P_(n){var t=n.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(l){var u=t.elements[l],h=t.attributes[l]||{},g=Object.keys(t.styles.hasOwnProperty(l)?t.styles[l]:s[l]),m=g.reduce(function(E,x){return E[x]="",E},{});!Sn(u)||!Jn(u)||(Object.assign(u.style,m),Object.keys(h).forEach(function(E){u.removeAttribute(E)}))})}}const Ac={name:"applyStyles",enabled:!0,phase:"write",fn:L_,effect:P_,requires:["computeStyles"]};function qn(n){return n.split("-")[0]}var rs=Math.max,Do=Math.min,Vs=Math.round;function Bl(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function y0(){return!/^((?!chrome|android).)*safari/i.test(Bl())}function Hs(n,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var l=n.getBoundingClientRect(),u=1,h=1;t&&Sn(n)&&(u=n.offsetWidth>0&&Vs(l.width)/n.offsetWidth||1,h=n.offsetHeight>0&&Vs(l.height)/n.offsetHeight||1);var g=ls(n)?wn(n):window,m=g.visualViewport,E=!y0()&&s,x=(l.left+(E&&m?m.offsetLeft:0))/u,_=(l.top+(E&&m?m.offsetTop:0))/h,A=l.width/u,O=l.height/h;return{width:A,height:O,top:_,right:x+A,bottom:_+O,left:x,x,y:_}}function bc(n){var t=Hs(n),s=n.offsetWidth,l=n.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-l)<=1&&(l=t.height),{x:n.offsetLeft,y:n.offsetTop,width:s,height:l}}function T0(n,t){var s=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(s&&_c(s)){var l=t;do{if(l&&n.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function ar(n){return wn(n).getComputedStyle(n)}function B_(n){return["table","td","th"].indexOf(Jn(n))>=0}function kr(n){return((ls(n)?n.ownerDocument:n.document)||window.document).documentElement}function oa(n){return Jn(n)==="html"?n:n.assignedSlot||n.parentNode||(_c(n)?n.host:null)||kr(n)}function vf(n){return!Sn(n)||ar(n).position==="fixed"?null:n.offsetParent}function k_(n){var t=/firefox/i.test(Bl()),s=/Trident/i.test(Bl());if(s&&Sn(n)){var l=ar(n);if(l.position==="fixed")return null}var u=oa(n);for(_c(u)&&(u=u.host);Sn(u)&&["html","body"].indexOf(Jn(u))<0;){var h=ar(u);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return u;u=u.parentNode}return null}function Bi(n){for(var t=wn(n),s=vf(n);s&&B_(s)&&ar(s).position==="static";)s=vf(s);return s&&(Jn(s)==="html"||Jn(s)==="body"&&ar(s).position==="static")?t:s||k_(n)||t}function Cc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ai(n,t,s){return rs(n,Do(t,s))}function F_(n,t,s){var l=Ai(n,t,s);return l>s?s:l}function v0(){return{top:0,right:0,bottom:0,left:0}}function S0(n){return Object.assign({},v0(),n)}function I0(n,t){return t.reduce(function(s,l){return s[l]=n,s},{})}var U_=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,S0(typeof t!="number"?t:I0(t,Ks))};function V_(n){var t,s=n.state,l=n.name,u=n.options,h=s.elements.arrow,g=s.modifiersData.popperOffsets,m=qn(s.placement),E=Cc(m),x=[tn,En].indexOf(m)>=0,_=x?"height":"width";if(!(!h||!g)){var A=U_(u.padding,s),O=bc(h),I=E==="y"?en:tn,L=E==="y"?xn:En,D=s.rects.reference[_]+s.rects.reference[E]-g[E]-s.rects.popper[_],z=g[E]-s.rects.reference[E],ee=Bi(h),q=ee?E==="y"?ee.clientHeight||0:ee.clientWidth||0:0,k=D/2-z/2,J=A[I],pe=q-O[_]-A[L],Y=q/2-O[_]/2+k,P=Ai(J,Y,pe),K=E;s.modifiersData[l]=(t={},t[K]=P,t.centerOffset=P-Y,t)}}function H_(n){var t=n.state,s=n.options,l=s.element,u=l===void 0?"[data-popper-arrow]":l;u!=null&&(typeof u=="string"&&(u=t.elements.popper.querySelector(u),!u)||T0(t.elements.popper,u)&&(t.elements.arrow=u))}const O0={name:"arrow",enabled:!0,phase:"main",fn:V_,effect:H_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ws(n){return n.split("-")[1]}var W_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G_(n,t){var s=n.x,l=n.y,u=t.devicePixelRatio||1;return{x:Vs(s*u)/u||0,y:Vs(l*u)/u||0}}function Sf(n){var t,s=n.popper,l=n.popperRect,u=n.placement,h=n.variation,g=n.offsets,m=n.position,E=n.gpuAcceleration,x=n.adaptive,_=n.roundOffsets,A=n.isFixed,O=g.x,I=O===void 0?0:O,L=g.y,D=L===void 0?0:L,z=typeof _=="function"?_({x:I,y:D}):{x:I,y:D};I=z.x,D=z.y;var ee=g.hasOwnProperty("x"),q=g.hasOwnProperty("y"),k=tn,J=en,pe=window;if(x){var Y=Bi(s),P="clientHeight",K="clientWidth";if(Y===wn(s)&&(Y=kr(s),ar(Y).position!=="static"&&m==="absolute"&&(P="scrollHeight",K="scrollWidth")),Y=Y,u===en||(u===tn||u===En)&&h===Us){J=xn;var V=A&&Y===pe&&pe.visualViewport?pe.visualViewport.height:Y[P];D-=V-l.height,D*=E?1:-1}if(u===tn||(u===en||u===xn)&&h===Us){k=En;var xe=A&&Y===pe&&pe.visualViewport?pe.visualViewport.width:Y[K];I-=xe-l.width,I*=E?1:-1}}var ye=Object.assign({position:m},x&&W_),de=_===!0?G_({x:I,y:D},wn(s)):{x:I,y:D};if(I=de.x,D=de.y,E){var ve;return Object.assign({},ye,(ve={},ve[J]=q?"0":"",ve[k]=ee?"0":"",ve.transform=(pe.devicePixelRatio||1)<=1?"translate("+I+"px, "+D+"px)":"translate3d("+I+"px, "+D+"px, 0)",ve))}return Object.assign({},ye,(t={},t[J]=q?D+"px":"",t[k]=ee?I+"px":"",t.transform="",t))}function X_(n){var t=n.state,s=n.options,l=s.gpuAcceleration,u=l===void 0?!0:l,h=s.adaptive,g=h===void 0?!0:h,m=s.roundOffsets,E=m===void 0?!0:m,x={placement:qn(t.placement),variation:Ws(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:u,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Sf(Object.assign({},x,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:g,roundOffsets:E})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sf(Object.assign({},x,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:E})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const yc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:X_,data:{}};var no={passive:!0};function j_(n){var t=n.state,s=n.instance,l=n.options,u=l.scroll,h=u===void 0?!0:u,g=l.resize,m=g===void 0?!0:g,E=wn(t.elements.popper),x=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&x.forEach(function(_){_.addEventListener("scroll",s.update,no)}),m&&E.addEventListener("resize",s.update,no),function(){h&&x.forEach(function(_){_.removeEventListener("scroll",s.update,no)}),m&&E.removeEventListener("resize",s.update,no)}}const Tc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j_,data:{}};var $_={left:"right",right:"left",bottom:"top",top:"bottom"};function wo(n){return n.replace(/left|right|bottom|top/g,function(t){return $_[t]})}var z_={start:"end",end:"start"};function If(n){return n.replace(/start|end/g,function(t){return z_[t]})}function vc(n){var t=wn(n),s=t.pageXOffset,l=t.pageYOffset;return{scrollLeft:s,scrollTop:l}}function Sc(n){return Hs(kr(n)).left+vc(n).scrollLeft}function Y_(n,t){var s=wn(n),l=kr(n),u=s.visualViewport,h=l.clientWidth,g=l.clientHeight,m=0,E=0;if(u){h=u.width,g=u.height;var x=y0();(x||!x&&t==="fixed")&&(m=u.offsetLeft,E=u.offsetTop)}return{width:h,height:g,x:m+Sc(n),y:E}}function K_(n){var t,s=kr(n),l=vc(n),u=(t=n.ownerDocument)==null?void 0:t.body,h=rs(s.scrollWidth,s.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),g=rs(s.scrollHeight,s.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),m=-l.scrollLeft+Sc(n),E=-l.scrollTop;return ar(u||s).direction==="rtl"&&(m+=rs(s.clientWidth,u?u.clientWidth:0)-h),{width:h,height:g,x:m,y:E}}function Ic(n){var t=ar(n),s=t.overflow,l=t.overflowX,u=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+u+l)}function N0(n){return["html","body","#document"].indexOf(Jn(n))>=0?n.ownerDocument.body:Sn(n)&&Ic(n)?n:N0(oa(n))}function bi(n,t){var s;t===void 0&&(t=[]);var l=N0(n),u=l===((s=n.ownerDocument)==null?void 0:s.body),h=wn(l),g=u?[h].concat(h.visualViewport||[],Ic(l)?l:[]):l,m=t.concat(g);return u?m:m.concat(bi(oa(g)))}function kl(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function q_(n,t){var s=Hs(n,!1,t==="fixed");return s.top=s.top+n.clientTop,s.left=s.left+n.clientLeft,s.bottom=s.top+n.clientHeight,s.right=s.left+n.clientWidth,s.width=n.clientWidth,s.height=n.clientHeight,s.x=s.left,s.y=s.top,s}function Of(n,t,s){return t===Ec?kl(Y_(n,s)):ls(t)?q_(t,s):kl(K_(kr(n)))}function Z_(n){var t=bi(oa(n)),s=["absolute","fixed"].indexOf(ar(n).position)>=0,l=s&&Sn(n)?Bi(n):n;return ls(l)?t.filter(function(u){return ls(u)&&T0(u,l)&&Jn(u)!=="body"}):[]}function Q_(n,t,s,l){var u=t==="clippingParents"?Z_(n):[].concat(t),h=[].concat(u,[s]),g=h[0],m=h.reduce(function(E,x){var _=Of(n,x,l);return E.top=rs(_.top,E.top),E.right=Do(_.right,E.right),E.bottom=Do(_.bottom,E.bottom),E.left=rs(_.left,E.left),E},Of(n,g,l));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function R0(n){var t=n.reference,s=n.element,l=n.placement,u=l?qn(l):null,h=l?Ws(l):null,g=t.x+t.width/2-s.width/2,m=t.y+t.height/2-s.height/2,E;switch(u){case en:E={x:g,y:t.y-s.height};break;case xn:E={x:g,y:t.y+t.height};break;case En:E={x:t.x+t.width,y:m};break;case tn:E={x:t.x-s.width,y:m};break;default:E={x:t.x,y:t.y}}var x=u?Cc(u):null;if(x!=null){var _=x==="y"?"height":"width";switch(h){case as:E[x]=E[x]-(t[_]/2-s[_]/2);break;case Us:E[x]=E[x]+(t[_]/2-s[_]/2);break}}return E}function Gs(n,t){t===void 0&&(t={});var s=t,l=s.placement,u=l===void 0?n.placement:l,h=s.strategy,g=h===void 0?n.strategy:h,m=s.boundary,E=m===void 0?h0:m,x=s.rootBoundary,_=x===void 0?Ec:x,A=s.elementContext,O=A===void 0?Ts:A,I=s.altBoundary,L=I===void 0?!1:I,D=s.padding,z=D===void 0?0:D,ee=S0(typeof z!="number"?z:I0(z,Ks)),q=O===Ts?d0:Ts,k=n.rects.popper,J=n.elements[L?q:O],pe=Q_(ls(J)?J:J.contextElement||kr(n.elements.popper),E,_,g),Y=Hs(n.elements.reference),P=R0({reference:Y,element:k,strategy:"absolute",placement:u}),K=kl(Object.assign({},k,P)),V=O===Ts?K:Y,xe={top:pe.top-V.top+ee.top,bottom:V.bottom-pe.bottom+ee.bottom,left:pe.left-V.left+ee.left,right:V.right-pe.right+ee.right},ye=n.modifiersData.offset;if(O===Ts&&ye){var de=ye[u];Object.keys(xe).forEach(function(ve){var qe=[En,xn].indexOf(ve)>=0?1:-1,X=[en,xn].indexOf(ve)>=0?"y":"x";xe[ve]+=de[X]*qe})}return xe}function J_(n,t){t===void 0&&(t={});var s=t,l=s.placement,u=s.boundary,h=s.rootBoundary,g=s.padding,m=s.flipVariations,E=s.allowedAutoPlacements,x=E===void 0?wc:E,_=Ws(l),A=_?m?Pl:Pl.filter(function(L){return Ws(L)===_}):Ks,O=A.filter(function(L){return x.indexOf(L)>=0});O.length===0&&(O=A);var I=O.reduce(function(L,D){return L[D]=Gs(n,{placement:D,boundary:u,rootBoundary:h,padding:g})[qn(D)],L},{});return Object.keys(I).sort(function(L,D){return I[L]-I[D]})}function eA(n){if(qn(n)===ia)return[];var t=wo(n);return[If(n),t,If(t)]}function tA(n){var t=n.state,s=n.options,l=n.name;if(!t.modifiersData[l]._skip){for(var u=s.mainAxis,h=u===void 0?!0:u,g=s.altAxis,m=g===void 0?!0:g,E=s.fallbackPlacements,x=s.padding,_=s.boundary,A=s.rootBoundary,O=s.altBoundary,I=s.flipVariations,L=I===void 0?!0:I,D=s.allowedAutoPlacements,z=t.options.placement,ee=qn(z),q=ee===z,k=E||(q||!L?[wo(z)]:eA(z)),J=[z].concat(k).reduce(function(ot,Wt){return ot.concat(qn(Wt)===ia?J_(t,{placement:Wt,boundary:_,rootBoundary:A,padding:x,flipVariations:L,allowedAutoPlacements:D}):Wt)},[]),pe=t.rects.reference,Y=t.rects.popper,P=new Map,K=!0,V=J[0],xe=0;xe<J.length;xe++){var ye=J[xe],de=qn(ye),ve=Ws(ye)===as,qe=[en,xn].indexOf(de)>=0,X=qe?"width":"height",Ie=Gs(t,{placement:ye,boundary:_,rootBoundary:A,altBoundary:O,padding:x}),le=qe?ve?En:tn:ve?xn:en;pe[X]>Y[X]&&(le=wo(le));var He=wo(le),ht=[];if(h&&ht.push(Ie[de]<=0),m&&ht.push(Ie[le]<=0,Ie[He]<=0),ht.every(function(ot){return ot})){V=ye,K=!1;break}P.set(ye,ht)}if(K)for(var St=L?3:1,Ht=function(Wt){var we=J.find(function(Z){var ce=P.get(Z);if(ce)return ce.slice(0,Wt).every(function(me){return me})});if(we)return V=we,"break"},ze=St;ze>0;ze--){var Lt=Ht(ze);if(Lt==="break")break}t.placement!==V&&(t.modifiersData[l]._skip=!0,t.placement=V,t.reset=!0)}}const D0={name:"flip",enabled:!0,phase:"main",fn:tA,requiresIfExists:["offset"],data:{_skip:!1}};function Nf(n,t,s){return s===void 0&&(s={x:0,y:0}),{top:n.top-t.height-s.y,right:n.right-t.width+s.x,bottom:n.bottom-t.height+s.y,left:n.left-t.width-s.x}}function Rf(n){return[en,En,xn,tn].some(function(t){return n[t]>=0})}function nA(n){var t=n.state,s=n.name,l=t.rects.reference,u=t.rects.popper,h=t.modifiersData.preventOverflow,g=Gs(t,{elementContext:"reference"}),m=Gs(t,{altBoundary:!0}),E=Nf(g,l),x=Nf(m,u,h),_=Rf(E),A=Rf(x);t.modifiersData[s]={referenceClippingOffsets:E,popperEscapeOffsets:x,isReferenceHidden:_,hasPopperEscaped:A},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":A})}const M0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nA};function rA(n,t,s){var l=qn(n),u=[tn,en].indexOf(l)>=0?-1:1,h=typeof s=="function"?s(Object.assign({},t,{placement:n})):s,g=h[0],m=h[1];return g=g||0,m=(m||0)*u,[tn,En].indexOf(l)>=0?{x:m,y:g}:{x:g,y:m}}function sA(n){var t=n.state,s=n.options,l=n.name,u=s.offset,h=u===void 0?[0,0]:u,g=wc.reduce(function(_,A){return _[A]=rA(A,t.rects,h),_},{}),m=g[t.placement],E=m.x,x=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=E,t.modifiersData.popperOffsets.y+=x),t.modifiersData[l]=g}const L0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sA};function iA(n){var t=n.state,s=n.name;t.modifiersData[s]=R0({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Oc={name:"popperOffsets",enabled:!0,phase:"read",fn:iA,data:{}};function oA(n){return n==="x"?"y":"x"}function aA(n){var t=n.state,s=n.options,l=n.name,u=s.mainAxis,h=u===void 0?!0:u,g=s.altAxis,m=g===void 0?!1:g,E=s.boundary,x=s.rootBoundary,_=s.altBoundary,A=s.padding,O=s.tether,I=O===void 0?!0:O,L=s.tetherOffset,D=L===void 0?0:L,z=Gs(t,{boundary:E,rootBoundary:x,padding:A,altBoundary:_}),ee=qn(t.placement),q=Ws(t.placement),k=!q,J=Cc(ee),pe=oA(J),Y=t.modifiersData.popperOffsets,P=t.rects.reference,K=t.rects.popper,V=typeof D=="function"?D(Object.assign({},t.rects,{placement:t.placement})):D,xe=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),ye=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(Y){if(h){var ve,qe=J==="y"?en:tn,X=J==="y"?xn:En,Ie=J==="y"?"height":"width",le=Y[J],He=le+z[qe],ht=le-z[X],St=I?-K[Ie]/2:0,Ht=q===as?P[Ie]:K[Ie],ze=q===as?-K[Ie]:-P[Ie],Lt=t.elements.arrow,ot=I&&Lt?bc(Lt):{width:0,height:0},Wt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:v0(),we=Wt[qe],Z=Wt[X],ce=Ai(0,P[Ie],ot[Ie]),me=k?P[Ie]/2-St-ce-we-xe.mainAxis:Ht-ce-we-xe.mainAxis,Ce=k?-P[Ie]/2+St+ce+Z+xe.mainAxis:ze+ce+Z+xe.mainAxis,Pe=t.elements.arrow&&Bi(t.elements.arrow),st=Pe?J==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,T=(ve=ye==null?void 0:ye[J])!=null?ve:0,N=le+me-T-st,U=le+Ce-T,te=Ai(I?Do(He,N):He,le,I?rs(ht,U):ht);Y[J]=te,de[J]=te-le}if(m){var j,Q=J==="x"?en:tn,ne=J==="x"?xn:En,fe=Y[pe],H=pe==="y"?"height":"width",se=fe+z[Q],Ee=fe-z[ne],_e=[en,tn].indexOf(ee)!==-1,Te=(j=ye==null?void 0:ye[pe])!=null?j:0,Se=_e?se:fe-P[H]-K[H]-Te+xe.altAxis,ke=_e?fe+P[H]+K[H]-Te-xe.altAxis:Ee,$e=I&&_e?F_(Se,fe,ke):Ai(I?Se:se,fe,I?ke:Ee);Y[pe]=$e,de[pe]=$e-fe}t.modifiersData[l]=de}}const P0={name:"preventOverflow",enabled:!0,phase:"main",fn:aA,requiresIfExists:["offset"]};function lA(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function cA(n){return n===wn(n)||!Sn(n)?vc(n):lA(n)}function uA(n){var t=n.getBoundingClientRect(),s=Vs(t.width)/n.offsetWidth||1,l=Vs(t.height)/n.offsetHeight||1;return s!==1||l!==1}function fA(n,t,s){s===void 0&&(s=!1);var l=Sn(t),u=Sn(t)&&uA(t),h=kr(t),g=Hs(n,u,s),m={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(l||!l&&!s)&&((Jn(t)!=="body"||Ic(h))&&(m=cA(t)),Sn(t)?(E=Hs(t,!0),E.x+=t.clientLeft,E.y+=t.clientTop):h&&(E.x=Sc(h))),{x:g.left+m.scrollLeft-E.x,y:g.top+m.scrollTop-E.y,width:g.width,height:g.height}}function hA(n){var t=new Map,s=new Set,l=[];n.forEach(function(h){t.set(h.name,h)});function u(h){s.add(h.name);var g=[].concat(h.requires||[],h.requiresIfExists||[]);g.forEach(function(m){if(!s.has(m)){var E=t.get(m);E&&u(E)}}),l.push(h)}return n.forEach(function(h){s.has(h.name)||u(h)}),l}function dA(n){var t=hA(n);return C0.reduce(function(s,l){return s.concat(t.filter(function(u){return u.phase===l}))},[])}function gA(n){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(n())})})),t}}function pA(n){var t=n.reduce(function(s,l){var u=s[l.name];return s[l.name]=u?Object.assign({},u,l,{options:Object.assign({},u.options,l.options),data:Object.assign({},u.data,l.data)}):l,s},{});return Object.keys(t).map(function(s){return t[s]})}var Df={placement:"bottom",modifiers:[],strategy:"absolute"};function Mf(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return!t.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function aa(n){n===void 0&&(n={});var t=n,s=t.defaultModifiers,l=s===void 0?[]:s,u=t.defaultOptions,h=u===void 0?Df:u;return function(m,E,x){x===void 0&&(x=h);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},Df,h),modifiersData:{},elements:{reference:m,popper:E},attributes:{},styles:{}},A=[],O=!1,I={state:_,setOptions:function(ee){var q=typeof ee=="function"?ee(_.options):ee;D(),_.options=Object.assign({},h,_.options,q),_.scrollParents={reference:ls(m)?bi(m):m.contextElement?bi(m.contextElement):[],popper:bi(E)};var k=dA(pA([].concat(l,_.options.modifiers)));return _.orderedModifiers=k.filter(function(J){return J.enabled}),L(),I.update()},forceUpdate:function(){if(!O){var ee=_.elements,q=ee.reference,k=ee.popper;if(Mf(q,k)){_.rects={reference:fA(q,Bi(k),_.options.strategy==="fixed"),popper:bc(k)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(xe){return _.modifiersData[xe.name]=Object.assign({},xe.data)});for(var J=0;J<_.orderedModifiers.length;J++){if(_.reset===!0){_.reset=!1,J=-1;continue}var pe=_.orderedModifiers[J],Y=pe.fn,P=pe.options,K=P===void 0?{}:P,V=pe.name;typeof Y=="function"&&(_=Y({state:_,options:K,name:V,instance:I})||_)}}}},update:gA(function(){return new Promise(function(z){I.forceUpdate(),z(_)})}),destroy:function(){D(),O=!0}};if(!Mf(m,E))return I;I.setOptions(x).then(function(z){!O&&x.onFirstUpdate&&x.onFirstUpdate(z)});function L(){_.orderedModifiers.forEach(function(z){var ee=z.name,q=z.options,k=q===void 0?{}:q,J=z.effect;if(typeof J=="function"){var pe=J({state:_,name:ee,instance:I,options:k}),Y=function(){};A.push(pe||Y)}})}function D(){A.forEach(function(z){return z()}),A=[]}return I}}var mA=aa(),xA=[Tc,Oc,yc,Ac],EA=aa({defaultModifiers:xA}),wA=[Tc,Oc,yc,Ac,L0,D0,P0,O0,M0],Nc=aa({defaultModifiers:wA});const B0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:w0,afterRead:m0,afterWrite:b0,applyStyles:Ac,arrow:O0,auto:ia,basePlacements:Ks,beforeMain:x0,beforeRead:g0,beforeWrite:_0,bottom:xn,clippingParents:h0,computeStyles:yc,createPopper:Nc,createPopperBase:mA,createPopperLite:EA,detectOverflow:Gs,end:Us,eventListeners:Tc,flip:D0,hide:M0,left:tn,main:E0,modifierPhases:C0,offset:L0,placements:wc,popper:Ts,popperGenerator:aa,popperOffsets:Oc,preventOverflow:P0,read:p0,reference:d0,right:En,start:as,top:en,variationPlacements:Pl,viewport:Ec,write:A0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ar=new Map,za={set(n,t,s){Ar.has(n)||Ar.set(n,new Map);const l=Ar.get(n);if(!l.has(t)&&l.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`);return}l.set(t,s)},get(n,t){return Ar.has(n)&&Ar.get(n).get(t)||null},remove(n,t){if(!Ar.has(n))return;const s=Ar.get(n);s.delete(t),s.size===0&&Ar.delete(n)}},_A=1e6,AA=1e3,Fl="transitionend",k0=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,s)=>`#${CSS.escape(s)}`)),n),bA=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),CA=n=>{do n+=Math.floor(Math.random()*_A);while(document.getElementById(n));return n},yA=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(n);const l=Number.parseFloat(t),u=Number.parseFloat(s);return!l&&!u?0:(t=t.split(",")[0],s=s.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(s))*AA)},F0=n=>{n.dispatchEvent(new Event(Fl))},ir=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Dr=n=>ir(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(k0(n)):null,qs=n=>{if(!ir(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",s=n.closest("details:not([open])");if(!s)return t;if(s!==n){const l=n.closest("summary");if(l&&l.parentNode!==s||l===null)return!1}return t},Mr=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",U0=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?U0(n.parentNode):null},Mo=()=>{},ki=n=>{n.offsetHeight},V0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ya=[],TA=n=>{document.readyState==="loading"?(Ya.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Ya)t()}),Ya.push(n)):n()},In=()=>document.documentElement.dir==="rtl",Nn=n=>{TA(()=>{const t=V0();if(t){const s=n.NAME,l=t.fn[s];t.fn[s]=n.jQueryInterface,t.fn[s].Constructor=n,t.fn[s].noConflict=()=>(t.fn[s]=l,n.jQueryInterface)}})},cn=(n,t=[],s=n)=>typeof n=="function"?n(...t):s,H0=(n,t,s=!0)=>{if(!s){cn(n);return}const u=yA(t)+5;let h=!1;const g=({target:m})=>{m===t&&(h=!0,t.removeEventListener(Fl,g),cn(n))};t.addEventListener(Fl,g),setTimeout(()=>{h||F0(t)},u)},Rc=(n,t,s,l)=>{const u=n.length;let h=n.indexOf(t);return h===-1?!s&&l?n[u-1]:n[0]:(h+=s?1:-1,l&&(h=(h+u)%u),n[Math.max(0,Math.min(h,u-1))])},vA=/[^.]*(?=\..*)\.|.*/,SA=/\..*/,IA=/::\d+$/,Ka={};let Lf=1;const W0={mouseenter:"mouseover",mouseleave:"mouseout"},OA=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function G0(n,t){return t&&`${t}::${Lf++}`||n.uidEvent||Lf++}function X0(n){const t=G0(n);return n.uidEvent=t,Ka[t]=Ka[t]||{},Ka[t]}function NA(n,t){return function s(l){return Dc(l,{delegateTarget:n}),s.oneOff&&oe.off(n,l.type,t),t.apply(n,[l])}}function RA(n,t,s){return function l(u){const h=n.querySelectorAll(t);for(let{target:g}=u;g&&g!==this;g=g.parentNode)for(const m of h)if(m===g)return Dc(u,{delegateTarget:g}),l.oneOff&&oe.off(n,u.type,t,s),s.apply(g,[u])}}function j0(n,t,s=null){return Object.values(n).find(l=>l.callable===t&&l.delegationSelector===s)}function $0(n,t,s){const l=typeof t=="string",u=l?s:t||s;let h=z0(n);return OA.has(h)||(h=n),[l,u,h]}function Pf(n,t,s,l,u){if(typeof t!="string"||!n)return;let[h,g,m]=$0(t,s,l);t in W0&&(g=(L=>function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return L.call(this,D)})(g));const E=X0(n),x=E[m]||(E[m]={}),_=j0(x,g,h?s:null);if(_){_.oneOff=_.oneOff&&u;return}const A=G0(g,t.replace(vA,"")),O=h?RA(n,s,g):NA(n,g);O.delegationSelector=h?s:null,O.callable=g,O.oneOff=u,O.uidEvent=A,x[A]=O,n.addEventListener(m,O,h)}function Ul(n,t,s,l,u){const h=j0(t[s],l,u);h&&(n.removeEventListener(s,h,!!u),delete t[s][h.uidEvent])}function DA(n,t,s,l){const u=t[s]||{};for(const[h,g]of Object.entries(u))h.includes(l)&&Ul(n,t,s,g.callable,g.delegationSelector)}function z0(n){return n=n.replace(SA,""),W0[n]||n}const oe={on(n,t,s,l){Pf(n,t,s,l,!1)},one(n,t,s,l){Pf(n,t,s,l,!0)},off(n,t,s,l){if(typeof t!="string"||!n)return;const[u,h,g]=$0(t,s,l),m=g!==t,E=X0(n),x=E[g]||{},_=t.startsWith(".");if(typeof h<"u"){if(!Object.keys(x).length)return;Ul(n,E,g,h,u?s:null);return}if(_)for(const A of Object.keys(E))DA(n,E,A,t.slice(1));for(const[A,O]of Object.entries(x)){const I=A.replace(IA,"");(!m||t.includes(I))&&Ul(n,E,g,O.callable,O.delegationSelector)}},trigger(n,t,s){if(typeof t!="string"||!n)return null;const l=V0(),u=z0(t),h=t!==u;let g=null,m=!0,E=!0,x=!1;h&&l&&(g=l.Event(t,s),l(n).trigger(g),m=!g.isPropagationStopped(),E=!g.isImmediatePropagationStopped(),x=g.isDefaultPrevented());const _=Dc(new Event(t,{bubbles:m,cancelable:!0}),s);return x&&_.preventDefault(),E&&n.dispatchEvent(_),_.defaultPrevented&&g&&g.preventDefault(),_}};function Dc(n,t={}){for(const[s,l]of Object.entries(t))try{n[s]=l}catch{Object.defineProperty(n,s,{configurable:!0,get(){return l}})}return n}function Bf(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function qa(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const or={setDataAttribute(n,t,s){n.setAttribute(`data-bs-${qa(t)}`,s)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${qa(t)}`)},getDataAttributes(n){if(!n)return{};const t={},s=Object.keys(n.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of s){let u=l.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),t[u]=Bf(n.dataset[l])}return t},getDataAttribute(n,t){return Bf(n.getAttribute(`data-bs-${qa(t)}`))}};class Fi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,s){const l=ir(s)?or.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...ir(s)?or.getDataAttributes(s):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,s=this.constructor.DefaultType){for(const[l,u]of Object.entries(s)){const h=t[l],g=ir(h)?"element":bA(h);if(!new RegExp(u).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${g}" but expected type "${u}".`)}}}const MA="5.3.3";class Vn extends Fi{constructor(t,s){super(),t=Dr(t),t&&(this._element=t,this._config=this._getConfig(s),za.set(this._element,this.constructor.DATA_KEY,this))}dispose(){za.remove(this._element,this.constructor.DATA_KEY),oe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,s,l=!0){H0(t,s,l)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return za.get(Dr(t),this.DATA_KEY)}static getOrCreateInstance(t,s={}){return this.getInstance(t)||new this(t,typeof s=="object"?s:null)}static get VERSION(){return MA}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Za=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let s=n.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&s!=="#"?s.trim():null}return t?t.split(",").map(s=>k0(s)).join(","):null},Re={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(s=>s.matches(t))},parents(n,t){const s=[];let l=n.parentNode.closest(t);for(;l;)s.push(l),l=l.parentNode.closest(t);return s},prev(n,t){let s=n.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(n,t){let s=n.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(s=>!Mr(s)&&qs(s))},getSelectorFromElement(n){const t=Za(n);return t&&Re.findOne(t)?t:null},getElementFromSelector(n){const t=Za(n);return t?Re.findOne(t):null},getMultipleElementsFromSelector(n){const t=Za(n);return t?Re.find(t):[]}},la=(n,t="hide")=>{const s=`click.dismiss${n.EVENT_KEY}`,l=n.NAME;oe.on(document,s,`[data-bs-dismiss="${l}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Mr(this))return;const h=Re.getElementFromSelector(this)||this.closest(`.${l}`);n.getOrCreateInstance(h)[t]()})},LA="alert",PA="bs.alert",Y0=`.${PA}`,BA=`close${Y0}`,kA=`closed${Y0}`,FA="fade",UA="show";class ca extends Vn{static get NAME(){return LA}close(){if(oe.trigger(this._element,BA).defaultPrevented)return;this._element.classList.remove(UA);const s=this._element.classList.contains(FA);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),oe.trigger(this._element,kA),this.dispose()}static jQueryInterface(t){return this.each(function(){const s=ca.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}la(ca,"close");Nn(ca);const VA="button",HA="bs.button",WA=`.${HA}`,GA=".data-api",XA="active",kf='[data-bs-toggle="button"]',jA=`click${WA}${GA}`;class ua extends Vn{static get NAME(){return VA}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(XA))}static jQueryInterface(t){return this.each(function(){const s=ua.getOrCreateInstance(this);t==="toggle"&&s[t]()})}}oe.on(document,jA,kf,n=>{n.preventDefault();const t=n.target.closest(kf);ua.getOrCreateInstance(t).toggle()});Nn(ua);const $A="swipe",Zs=".bs.swipe",zA=`touchstart${Zs}`,YA=`touchmove${Zs}`,KA=`touchend${Zs}`,qA=`pointerdown${Zs}`,ZA=`pointerup${Zs}`,QA="touch",JA="pen",eb="pointer-event",tb=40,nb={endCallback:null,leftCallback:null,rightCallback:null},rb={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lo extends Fi{constructor(t,s){super(),this._element=t,!(!t||!Lo.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return nb}static get DefaultType(){return rb}static get NAME(){return $A}dispose(){oe.off(this._element,Zs)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),cn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=tb)return;const s=t/this._deltaX;this._deltaX=0,s&&cn(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(oe.on(this._element,qA,t=>this._start(t)),oe.on(this._element,ZA,t=>this._end(t)),this._element.classList.add(eb)):(oe.on(this._element,zA,t=>this._start(t)),oe.on(this._element,YA,t=>this._move(t)),oe.on(this._element,KA,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===JA||t.pointerType===QA)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sb="carousel",ib="bs.carousel",Fr=`.${ib}`,K0=".data-api",ob="ArrowLeft",ab="ArrowRight",lb=500,fi="next",bs="prev",vs="left",_o="right",cb=`slide${Fr}`,Qa=`slid${Fr}`,ub=`keydown${Fr}`,fb=`mouseenter${Fr}`,hb=`mouseleave${Fr}`,db=`dragstart${Fr}`,gb=`load${Fr}${K0}`,pb=`click${Fr}${K0}`,q0="carousel",ro="active",mb="slide",xb="carousel-item-end",Eb="carousel-item-start",wb="carousel-item-next",_b="carousel-item-prev",Z0=".active",Q0=".carousel-item",Ab=Z0+Q0,bb=".carousel-item img",Cb=".carousel-indicators",yb="[data-bs-slide], [data-bs-slide-to]",Tb='[data-bs-ride="carousel"]',vb={[ob]:_o,[ab]:vs},Sb={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ib={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ui extends Vn{constructor(t,s){super(t,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Re.findOne(Cb,this._element),this._addEventListeners(),this._config.ride===q0&&this.cycle()}static get Default(){return Sb}static get DefaultType(){return Ib}static get NAME(){return sb}next(){this._slide(fi)}nextWhenVisible(){!document.hidden&&qs(this._element)&&this.next()}prev(){this._slide(bs)}pause(){this._isSliding&&F0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){oe.one(this._element,Qa,()=>this.cycle());return}this.cycle()}}to(t){const s=this._getItems();if(t>s.length-1||t<0)return;if(this._isSliding){oe.one(this._element,Qa,()=>this.to(t));return}const l=this._getItemIndex(this._getActive());if(l===t)return;const u=t>l?fi:bs;this._slide(u,s[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&oe.on(this._element,ub,t=>this._keydown(t)),this._config.pause==="hover"&&(oe.on(this._element,fb,()=>this.pause()),oe.on(this._element,hb,()=>this._maybeEnableCycle())),this._config.touch&&Lo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of Re.find(bb,this._element))oe.on(l,db,u=>u.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(vs)),rightCallback:()=>this._slide(this._directionToOrder(_o)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),lb+this._config.interval))}};this._swipeHelper=new Lo(this._element,s)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const s=vb[t.key];s&&(t.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const s=Re.findOne(Z0,this._indicatorsElement);s.classList.remove(ro),s.removeAttribute("aria-current");const l=Re.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);l&&(l.classList.add(ro),l.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const s=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(t,s=null){if(this._isSliding)return;const l=this._getActive(),u=t===fi,h=s||Rc(this._getItems(),l,u,this._config.wrap);if(h===l)return;const g=this._getItemIndex(h),m=I=>oe.trigger(this._element,I,{relatedTarget:h,direction:this._orderToDirection(t),from:this._getItemIndex(l),to:g});if(m(cb).defaultPrevented||!l||!h)return;const x=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=h;const _=u?Eb:xb,A=u?wb:_b;h.classList.add(A),ki(h),l.classList.add(_),h.classList.add(_);const O=()=>{h.classList.remove(_,A),h.classList.add(ro),l.classList.remove(ro,A,_),this._isSliding=!1,m(Qa)};this._queueCallback(O,l,this._isAnimated()),x&&this.cycle()}_isAnimated(){return this._element.classList.contains(mb)}_getActive(){return Re.findOne(Ab,this._element)}_getItems(){return Re.find(Q0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return In()?t===vs?bs:fi:t===vs?fi:bs}_orderToDirection(t){return In()?t===bs?vs:_o:t===bs?_o:vs}static jQueryInterface(t){return this.each(function(){const s=Ui.getOrCreateInstance(this,t);if(typeof t=="number"){s.to(t);return}if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}oe.on(document,pb,yb,function(n){const t=Re.getElementFromSelector(this);if(!t||!t.classList.contains(q0))return;n.preventDefault();const s=Ui.getOrCreateInstance(t),l=this.getAttribute("data-bs-slide-to");if(l){s.to(l),s._maybeEnableCycle();return}if(or.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});oe.on(window,gb,()=>{const n=Re.find(Tb);for(const t of n)Ui.getOrCreateInstance(t)});Nn(Ui);const Ob="collapse",Nb="bs.collapse",Vi=`.${Nb}`,Rb=".data-api",Db=`show${Vi}`,Mb=`shown${Vi}`,Lb=`hide${Vi}`,Pb=`hidden${Vi}`,Bb=`click${Vi}${Rb}`,Ja="show",Os="collapse",so="collapsing",kb="collapsed",Fb=`:scope .${Os} .${Os}`,Ub="collapse-horizontal",Vb="width",Hb="height",Wb=".collapse.show, .collapse.collapsing",Vl='[data-bs-toggle="collapse"]',Gb={parent:null,toggle:!0},Xb={parent:"(null|element)",toggle:"boolean"};class Ni extends Vn{constructor(t,s){super(t,s),this._isTransitioning=!1,this._triggerArray=[];const l=Re.find(Vl);for(const u of l){const h=Re.getSelectorFromElement(u),g=Re.find(h).filter(m=>m===this._element);h!==null&&g.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Gb}static get DefaultType(){return Xb}static get NAME(){return Ob}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Wb).filter(m=>m!==this._element).map(m=>Ni.getOrCreateInstance(m,{toggle:!1}))),t.length&&t[0]._isTransitioning||oe.trigger(this._element,Db).defaultPrevented)return;for(const m of t)m.hide();const l=this._getDimension();this._element.classList.remove(Os),this._element.classList.add(so),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(so),this._element.classList.add(Os,Ja),this._element.style[l]="",oe.trigger(this._element,Mb)},g=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[l]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||oe.trigger(this._element,Lb).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,ki(this._element),this._element.classList.add(so),this._element.classList.remove(Os,Ja);for(const u of this._triggerArray){const h=Re.getElementFromSelector(u);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(so),this._element.classList.add(Os),oe.trigger(this._element,Pb)};this._element.style[s]="",this._queueCallback(l,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Ja)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Dr(t.parent),t}_getDimension(){return this._element.classList.contains(Ub)?Vb:Hb}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Vl);for(const s of t){const l=Re.getElementFromSelector(s);l&&this._addAriaAndCollapsedClass([s],this._isShown(l))}}_getFirstLevelChildren(t){const s=Re.find(Fb,this._config.parent);return Re.find(t,this._config.parent).filter(l=>!s.includes(l))}_addAriaAndCollapsedClass(t,s){if(t.length)for(const l of t)l.classList.toggle(kb,!s),l.setAttribute("aria-expanded",s)}static jQueryInterface(t){const s={};return typeof t=="string"&&/show|hide/.test(t)&&(s.toggle=!1),this.each(function(){const l=Ni.getOrCreateInstance(this,s);if(typeof t=="string"){if(typeof l[t]>"u")throw new TypeError(`No method named "${t}"`);l[t]()}})}}oe.on(document,Bb,Vl,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of Re.getMultipleElementsFromSelector(this))Ni.getOrCreateInstance(t,{toggle:!1}).toggle()});Nn(Ni);const Ff="dropdown",jb="bs.dropdown",us=`.${jb}`,Mc=".data-api",$b="Escape",Uf="Tab",zb="ArrowUp",Vf="ArrowDown",Yb=2,Kb=`hide${us}`,qb=`hidden${us}`,Zb=`show${us}`,Qb=`shown${us}`,J0=`click${us}${Mc}`,ed=`keydown${us}${Mc}`,Jb=`keyup${us}${Mc}`,Ss="show",e3="dropup",t3="dropend",n3="dropstart",r3="dropup-center",s3="dropdown-center",Zr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',i3=`${Zr}.${Ss}`,Ao=".dropdown-menu",o3=".navbar",a3=".navbar-nav",l3=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",c3=In()?"top-end":"top-start",u3=In()?"top-start":"top-end",f3=In()?"bottom-end":"bottom-start",h3=In()?"bottom-start":"bottom-end",d3=In()?"left-start":"right-start",g3=In()?"right-start":"left-start",p3="top",m3="bottom",x3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},E3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zn extends Vn{constructor(t,s){super(t,s),this._popper=null,this._parent=this._element.parentNode,this._menu=Re.next(this._element,Ao)[0]||Re.prev(this._element,Ao)[0]||Re.findOne(Ao,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return x3}static get DefaultType(){return E3}static get NAME(){return Ff}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Mr(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!oe.trigger(this._element,Zb,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(a3))for(const l of[].concat(...document.body.children))oe.on(l,"mouseover",Mo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ss),this._element.classList.add(Ss),oe.trigger(this._element,Qb,t)}}hide(){if(Mr(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!oe.trigger(this._element,Kb,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))oe.off(l,"mouseover",Mo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ss),this._element.classList.remove(Ss),this._element.setAttribute("aria-expanded","false"),or.removeDataAttribute(this._menu,"popper"),oe.trigger(this._element,qb,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ir(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Ff.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof B0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ir(this._config.reference)?t=Dr(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const s=this._getPopperConfig();this._popper=Nc(t,this._menu,s)}_isShown(){return this._menu.classList.contains(Ss)}_getPlacement(){const t=this._parent;if(t.classList.contains(t3))return d3;if(t.classList.contains(n3))return g3;if(t.classList.contains(r3))return p3;if(t.classList.contains(s3))return m3;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(e3)?s?u3:c3:s?h3:f3}_detectNavbar(){return this._element.closest(o3)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(or.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...cn(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:s}){const l=Re.find(l3,this._menu).filter(u=>qs(u));l.length&&Rc(l,s,t===Vf,!l.includes(s)).focus()}static jQueryInterface(t){return this.each(function(){const s=Zn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}static clearMenus(t){if(t.button===Yb||t.type==="keyup"&&t.key!==Uf)return;const s=Re.find(i3);for(const l of s){const u=Zn.getInstance(l);if(!u||u._config.autoClose===!1)continue;const h=t.composedPath(),g=h.includes(u._menu);if(h.includes(u._element)||u._config.autoClose==="inside"&&!g||u._config.autoClose==="outside"&&g||u._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Uf||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const m={relatedTarget:u._element};t.type==="click"&&(m.clickEvent=t),u._completeHide(m)}}static dataApiKeydownHandler(t){const s=/input|textarea/i.test(t.target.tagName),l=t.key===$b,u=[zb,Vf].includes(t.key);if(!u&&!l||s&&!l)return;t.preventDefault();const h=this.matches(Zr)?this:Re.prev(this,Zr)[0]||Re.next(this,Zr)[0]||Re.findOne(Zr,t.delegateTarget.parentNode),g=Zn.getOrCreateInstance(h);if(u){t.stopPropagation(),g.show(),g._selectMenuItem(t);return}g._isShown()&&(t.stopPropagation(),g.hide(),h.focus())}}oe.on(document,ed,Zr,Zn.dataApiKeydownHandler);oe.on(document,ed,Ao,Zn.dataApiKeydownHandler);oe.on(document,J0,Zn.clearMenus);oe.on(document,Jb,Zn.clearMenus);oe.on(document,J0,Zr,function(n){n.preventDefault(),Zn.getOrCreateInstance(this).toggle()});Nn(Zn);const td="backdrop",w3="fade",Hf="show",Wf=`mousedown.bs.${td}`,_3={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},A3={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nd extends Fi{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return _3}static get DefaultType(){return A3}static get NAME(){return td}show(t){if(!this._config.isVisible){cn(t);return}this._append();const s=this._getElement();this._config.isAnimated&&ki(s),s.classList.add(Hf),this._emulateAnimation(()=>{cn(t)})}hide(t){if(!this._config.isVisible){cn(t);return}this._getElement().classList.remove(Hf),this._emulateAnimation(()=>{this.dispose(),cn(t)})}dispose(){this._isAppended&&(oe.off(this._element,Wf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(w3),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Dr(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),oe.on(t,Wf,()=>{cn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){H0(t,this._getElement(),this._config.isAnimated)}}const b3="focustrap",C3="bs.focustrap",Po=`.${C3}`,y3=`focusin${Po}`,T3=`keydown.tab${Po}`,v3="Tab",S3="forward",Gf="backward",I3={autofocus:!0,trapElement:null},O3={autofocus:"boolean",trapElement:"element"};class rd extends Fi{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return I3}static get DefaultType(){return O3}static get NAME(){return b3}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),oe.off(document,Po),oe.on(document,y3,t=>this._handleFocusin(t)),oe.on(document,T3,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,oe.off(document,Po))}_handleFocusin(t){const{trapElement:s}=this._config;if(t.target===document||t.target===s||s.contains(t.target))return;const l=Re.focusableChildren(s);l.length===0?s.focus():this._lastTabNavDirection===Gf?l[l.length-1].focus():l[0].focus()}_handleKeydown(t){t.key===v3&&(this._lastTabNavDirection=t.shiftKey?Gf:S3)}}const Xf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jf=".sticky-top",io="padding-right",$f="margin-right";class Hl{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,io,s=>s+t),this._setElementAttributes(Xf,io,s=>s+t),this._setElementAttributes(jf,$f,s=>s-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,io),this._resetElementAttributes(Xf,io),this._resetElementAttributes(jf,$f)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,s,l){const u=this.getWidth(),h=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+u)return;this._saveInitialAttribute(g,s);const m=window.getComputedStyle(g).getPropertyValue(s);g.style.setProperty(s,`${l(Number.parseFloat(m))}px`)};this._applyManipulationCallback(t,h)}_saveInitialAttribute(t,s){const l=t.style.getPropertyValue(s);l&&or.setDataAttribute(t,s,l)}_resetElementAttributes(t,s){const l=u=>{const h=or.getDataAttribute(u,s);if(h===null){u.style.removeProperty(s);return}or.removeDataAttribute(u,s),u.style.setProperty(s,h)};this._applyManipulationCallback(t,l)}_applyManipulationCallback(t,s){if(ir(t)){s(t);return}for(const l of Re.find(t,this._element))s(l)}}const N3="modal",R3="bs.modal",On=`.${R3}`,D3=".data-api",M3="Escape",L3=`hide${On}`,P3=`hidePrevented${On}`,sd=`hidden${On}`,id=`show${On}`,B3=`shown${On}`,k3=`resize${On}`,F3=`click.dismiss${On}`,U3=`mousedown.dismiss${On}`,V3=`keydown.dismiss${On}`,H3=`click${On}${D3}`,zf="modal-open",W3="fade",Yf="show",el="modal-static",G3=".modal.show",X3=".modal-dialog",j3=".modal-body",$3='[data-bs-toggle="modal"]',z3={backdrop:!0,focus:!0,keyboard:!0},Y3={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xs extends Vn{constructor(t,s){super(t,s),this._dialog=Re.findOne(X3,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hl,this._addEventListeners()}static get Default(){return z3}static get DefaultType(){return Y3}static get NAME(){return N3}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||oe.trigger(this._element,id,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||oe.trigger(this._element,L3).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){oe.off(window,On),oe.off(this._dialog,On),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rd({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=Re.findOne(j3,this._dialog);s&&(s.scrollTop=0),ki(this._element),this._element.classList.add(Yf);const l=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,oe.trigger(this._element,B3,{relatedTarget:t})};this._queueCallback(l,this._dialog,this._isAnimated())}_addEventListeners(){oe.on(this._element,V3,t=>{if(t.key===M3){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),oe.on(window,k3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),oe.on(this._element,U3,t=>{oe.one(this._element,F3,s=>{if(!(this._element!==t.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zf),this._resetAdjustments(),this._scrollBar.reset(),oe.trigger(this._element,sd)})}_isAnimated(){return this._element.classList.contains(W3)}_triggerBackdropTransition(){if(oe.trigger(this._element,P3).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(el)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(el),this._queueCallback(()=>{this._element.classList.remove(el),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),l=s>0;if(l&&!t){const u=In()?"paddingLeft":"paddingRight";this._element.style[u]=`${s}px`}if(!l&&t){const u=In()?"paddingRight":"paddingLeft";this._element.style[u]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,s){return this.each(function(){const l=Xs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof l[t]>"u")throw new TypeError(`No method named "${t}"`);l[t](s)}})}}oe.on(document,H3,$3,function(n){const t=Re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),oe.one(t,id,u=>{u.defaultPrevented||oe.one(t,sd,()=>{qs(this)&&this.focus()})});const s=Re.findOne(G3);s&&Xs.getInstance(s).hide(),Xs.getOrCreateInstance(t).toggle(this)});la(Xs);Nn(Xs);const K3="offcanvas",q3="bs.offcanvas",cr=`.${q3}`,od=".data-api",Z3=`load${cr}${od}`,Q3="Escape",Kf="show",qf="showing",Zf="hiding",J3="offcanvas-backdrop",ad=".offcanvas.show",eC=`show${cr}`,tC=`shown${cr}`,nC=`hide${cr}`,Qf=`hidePrevented${cr}`,ld=`hidden${cr}`,rC=`resize${cr}`,sC=`click${cr}${od}`,iC=`keydown.dismiss${cr}`,oC='[data-bs-toggle="offcanvas"]',aC={backdrop:!0,keyboard:!0,scroll:!1},lC={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Lr extends Vn{constructor(t,s){super(t,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return aC}static get DefaultType(){return lC}static get NAME(){return K3}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||oe.trigger(this._element,eC,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qf);const l=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Kf),this._element.classList.remove(qf),oe.trigger(this._element,tC,{relatedTarget:t})};this._queueCallback(l,this._element,!0)}hide(){if(!this._isShown||oe.trigger(this._element,nC).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Zf),this._backdrop.hide();const s=()=>{this._element.classList.remove(Kf,Zf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hl().reset(),oe.trigger(this._element,ld)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){oe.trigger(this._element,Qf);return}this.hide()},s=!!this._config.backdrop;return new nd({className:J3,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?t:null})}_initializeFocusTrap(){return new rd({trapElement:this._element})}_addEventListeners(){oe.on(this._element,iC,t=>{if(t.key===Q3){if(this._config.keyboard){this.hide();return}oe.trigger(this._element,Qf)}})}static jQueryInterface(t){return this.each(function(){const s=Lr.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}oe.on(document,sC,oC,function(n){const t=Re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Mr(this))return;oe.one(t,ld,()=>{qs(this)&&this.focus()});const s=Re.findOne(ad);s&&s!==t&&Lr.getInstance(s).hide(),Lr.getOrCreateInstance(t).toggle(this)});oe.on(window,Z3,()=>{for(const n of Re.find(ad))Lr.getOrCreateInstance(n).show()});oe.on(window,rC,()=>{for(const n of Re.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Lr.getOrCreateInstance(n).hide()});la(Lr);Nn(Lr);const cC=/^aria-[\w-]*$/i,cd={"*":["class","dir","id","lang","role",cC],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hC=(n,t)=>{const s=n.nodeName.toLowerCase();return t.includes(s)?uC.has(s)?!!fC.test(n.nodeValue):!0:t.filter(l=>l instanceof RegExp).some(l=>l.test(s))};function dC(n,t,s){if(!n.length)return n;if(s&&typeof s=="function")return s(n);const u=new window.DOMParser().parseFromString(n,"text/html"),h=[].concat(...u.body.querySelectorAll("*"));for(const g of h){const m=g.nodeName.toLowerCase();if(!Object.keys(t).includes(m)){g.remove();continue}const E=[].concat(...g.attributes),x=[].concat(t["*"]||[],t[m]||[]);for(const _ of E)hC(_,x)||g.removeAttribute(_.nodeName)}return u.body.innerHTML}const gC="TemplateFactory",pC={allowList:cd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mC={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xC={entry:"(string|element|function|null)",selector:"(string|element)"};class EC extends Fi{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return pC}static get DefaultType(){return mC}static get NAME(){return gC}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[u,h]of Object.entries(this._config.content))this._setContent(t,h,u);const s=t.children[0],l=this._resolvePossibleFunction(this._config.extraClass);return l&&s.classList.add(...l.split(" ")),s}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[s,l]of Object.entries(t))super._typeCheckConfig({selector:s,entry:l},xC)}_setContent(t,s,l){const u=Re.findOne(l,t);if(u){if(s=this._resolvePossibleFunction(s),!s){u.remove();return}if(ir(s)){this._putElementInTemplate(Dr(s),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(s);return}u.textContent=s}}_maybeSanitize(t){return this._config.sanitize?dC(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return cn(t,[this])}_putElementInTemplate(t,s){if(this._config.html){s.innerHTML="",s.append(t);return}s.textContent=t.textContent}}const wC="tooltip",_C=new Set(["sanitize","allowList","sanitizeFn"]),tl="fade",AC="modal",oo="show",bC=".tooltip-inner",Jf=`.${AC}`,e1="hide.bs.modal",hi="hover",nl="focus",CC="click",yC="manual",TC="hide",vC="hidden",SC="show",IC="shown",OC="inserted",NC="click",RC="focusin",DC="focusout",MC="mouseenter",LC="mouseleave",PC={AUTO:"auto",TOP:"top",RIGHT:In()?"left":"right",BOTTOM:"bottom",LEFT:In()?"right":"left"},BC={allowList:cd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Qs extends Vn{constructor(t,s){if(typeof B0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return BC}static get DefaultType(){return kC}static get NAME(){return wC}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),oe.off(this._element.closest(Jf),e1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=oe.trigger(this._element,this.constructor.eventName(SC)),l=(U0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!l)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(u),oe.trigger(this._element,this.constructor.eventName(OC))),this._popper=this._createPopper(u),u.classList.add(oo),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))oe.on(m,"mouseover",Mo);const g=()=>{oe.trigger(this._element,this.constructor.eventName(IC)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||oe.trigger(this._element,this.constructor.eventName(TC)).defaultPrevented)return;if(this._getTipElement().classList.remove(oo),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))oe.off(u,"mouseover",Mo);this._activeTrigger[CC]=!1,this._activeTrigger[nl]=!1,this._activeTrigger[hi]=!1,this._isHovered=null;const l=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),oe.trigger(this._element,this.constructor.eventName(vC)))};this._queueCallback(l,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const s=this._getTemplateFactory(t).toHtml();if(!s)return null;s.classList.remove(tl,oo),s.classList.add(`bs-${this.constructor.NAME}-auto`);const l=CA(this.constructor.NAME).toString();return s.setAttribute("id",l),this._isAnimated()&&s.classList.add(tl),s}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new EC({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[bC]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(tl)}_isShown(){return this.tip&&this.tip.classList.contains(oo)}_createPopper(t){const s=cn(this._config.placement,[this,t,this._element]),l=PC[s.toUpperCase()];return Nc(this._element,t,this._getPopperConfig(l))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_resolvePossibleFunction(t){return cn(t,[this._element])}_getPopperConfig(t){const s={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:l=>{this._getTipElement().setAttribute("data-popper-placement",l.state.placement)}}]};return{...s,...cn(this._config.popperConfig,[s])}}_setListeners(){const t=this._config.trigger.split(" ");for(const s of t)if(s==="click")oe.on(this._element,this.constructor.eventName(NC),this._config.selector,l=>{this._initializeOnDelegatedTarget(l).toggle()});else if(s!==yC){const l=s===hi?this.constructor.eventName(MC):this.constructor.eventName(RC),u=s===hi?this.constructor.eventName(LC):this.constructor.eventName(DC);oe.on(this._element,l,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusin"?nl:hi]=!0,g._enter()}),oe.on(this._element,u,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusout"?nl:hi]=g._element.contains(h.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},oe.on(this._element.closest(Jf),e1,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,s){clearTimeout(this._timeout),this._timeout=setTimeout(t,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const s=or.getDataAttributes(this._element);for(const l of Object.keys(s))_C.has(l)&&delete s[l];return t={...s,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Dr(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[s,l]of Object.entries(this._config))this.constructor.Default[s]!==l&&(t[s]=l);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const s=Qs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}Nn(Qs);const FC="popover",UC=".popover-header",VC=".popover-body",HC={...Qs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},WC={...Qs.DefaultType,content:"(null|string|element|function)"};class Lc extends Qs{static get Default(){return HC}static get DefaultType(){return WC}static get NAME(){return FC}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[UC]:this._getTitle(),[VC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const s=Lc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}Nn(Lc);const GC="scrollspy",XC="bs.scrollspy",Pc=`.${XC}`,jC=".data-api",$C=`activate${Pc}`,t1=`click${Pc}`,zC=`load${Pc}${jC}`,YC="dropdown-item",Cs="active",KC='[data-bs-spy="scroll"]',rl="[href]",qC=".nav, .list-group",n1=".nav-link",ZC=".nav-item",QC=".list-group-item",JC=`${n1}, ${ZC} > ${n1}, ${QC}`,ey=".dropdown",ty=".dropdown-toggle",ny={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ry={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class fa extends Vn{constructor(t,s){super(t,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ny}static get DefaultType(){return ry}static get NAME(){return GC}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Dr(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(s=>Number.parseFloat(s))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(oe.off(this._config.target,t1),oe.on(this._config.target,t1,rl,t=>{const s=this._observableSections.get(t.target.hash);if(s){t.preventDefault();const l=this._rootElement||window,u=s.offsetTop-this._element.offsetTop;if(l.scrollTo){l.scrollTo({top:u,behavior:"smooth"});return}l.scrollTop=u}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),t)}_observerCallback(t){const s=g=>this._targetLinks.get(`#${g.target.id}`),l=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(s(g))},u=(this._rootElement||document.documentElement).scrollTop,h=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const g of t){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(g));continue}const m=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&m){if(l(g),!u)return;continue}!h&&!m&&l(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Re.find(rl,this._config.target);for(const s of t){if(!s.hash||Mr(s))continue;const l=Re.findOne(decodeURI(s.hash),this._element);qs(l)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,l))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Cs),this._activateParents(t),oe.trigger(this._element,$C,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(YC)){Re.findOne(ty,t.closest(ey)).classList.add(Cs);return}for(const s of Re.parents(t,qC))for(const l of Re.prev(s,JC))l.classList.add(Cs)}_clearActiveClass(t){t.classList.remove(Cs);const s=Re.find(`${rl}.${Cs}`,t);for(const l of s)l.classList.remove(Cs)}static jQueryInterface(t){return this.each(function(){const s=fa.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}oe.on(window,zC,()=>{for(const n of Re.find(KC))fa.getOrCreateInstance(n)});Nn(fa);const sy="tab",iy="bs.tab",fs=`.${iy}`,oy=`hide${fs}`,ay=`hidden${fs}`,ly=`show${fs}`,cy=`shown${fs}`,uy=`click${fs}`,fy=`keydown${fs}`,hy=`load${fs}`,dy="ArrowLeft",r1="ArrowRight",gy="ArrowUp",s1="ArrowDown",sl="Home",i1="End",Qr="active",o1="fade",il="show",py="dropdown",ud=".dropdown-toggle",my=".dropdown-menu",ol=`:not(${ud})`,xy='.list-group, .nav, [role="tablist"]',Ey=".nav-item, .list-group-item",wy=`.nav-link${ol}, .list-group-item${ol}, [role="tab"]${ol}`,fd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',al=`${wy}, ${fd}`,_y=`.${Qr}[data-bs-toggle="tab"], .${Qr}[data-bs-toggle="pill"], .${Qr}[data-bs-toggle="list"]`;class js extends Vn{constructor(t){super(t),this._parent=this._element.closest(xy),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),oe.on(this._element,fy,s=>this._keydown(s)))}static get NAME(){return sy}show(){const t=this._element;if(this._elemIsActive(t))return;const s=this._getActiveElem(),l=s?oe.trigger(s,oy,{relatedTarget:t}):null;oe.trigger(t,ly,{relatedTarget:s}).defaultPrevented||l&&l.defaultPrevented||(this._deactivate(s,t),this._activate(t,s))}_activate(t,s){if(!t)return;t.classList.add(Qr),this._activate(Re.getElementFromSelector(t));const l=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(il);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),oe.trigger(t,cy,{relatedTarget:s})};this._queueCallback(l,t,t.classList.contains(o1))}_deactivate(t,s){if(!t)return;t.classList.remove(Qr),t.blur(),this._deactivate(Re.getElementFromSelector(t));const l=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(il);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),oe.trigger(t,ay,{relatedTarget:s})};this._queueCallback(l,t,t.classList.contains(o1))}_keydown(t){if(![dy,r1,gy,s1,sl,i1].includes(t.key))return;t.stopPropagation(),t.preventDefault();const s=this._getChildren().filter(u=>!Mr(u));let l;if([sl,i1].includes(t.key))l=s[t.key===sl?0:s.length-1];else{const u=[r1,s1].includes(t.key);l=Rc(s,t.target,u,!0)}l&&(l.focus({preventScroll:!0}),js.getOrCreateInstance(l).show())}_getChildren(){return Re.find(al,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,s){this._setAttributeIfNotExists(t,"role","tablist");for(const l of s)this._setInitialAttributesOnChild(l)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const s=this._elemIsActive(t),l=this._getOuterElement(t);t.setAttribute("aria-selected",s),l!==t&&this._setAttributeIfNotExists(l,"role","presentation"),s||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const s=Re.getElementFromSelector(t);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,s){const l=this._getOuterElement(t);if(!l.classList.contains(py))return;const u=(h,g)=>{const m=Re.findOne(h,l);m&&m.classList.toggle(g,s)};u(ud,Qr),u(my,il),l.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(t,s,l){t.hasAttribute(s)||t.setAttribute(s,l)}_elemIsActive(t){return t.classList.contains(Qr)}_getInnerElement(t){return t.matches(al)?t:Re.findOne(al,t)}_getOuterElement(t){return t.closest(Ey)||t}static jQueryInterface(t){return this.each(function(){const s=js.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}oe.on(document,uy,fd,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Mr(this)&&js.getOrCreateInstance(this).show()});oe.on(window,hy,()=>{for(const n of Re.find(_y))js.getOrCreateInstance(n)});Nn(js);const Ay="toast",by="bs.toast",Ur=`.${by}`,Cy=`mouseover${Ur}`,yy=`mouseout${Ur}`,Ty=`focusin${Ur}`,vy=`focusout${Ur}`,Sy=`hide${Ur}`,Iy=`hidden${Ur}`,Oy=`show${Ur}`,Ny=`shown${Ur}`,Ry="fade",a1="hide",ao="show",lo="showing",Dy={animation:"boolean",autohide:"boolean",delay:"number"},My={animation:!0,autohide:!0,delay:5e3};class ha extends Vn{constructor(t,s){super(t,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return My}static get DefaultType(){return Dy}static get NAME(){return Ay}show(){if(oe.trigger(this._element,Oy).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ry);const s=()=>{this._element.classList.remove(lo),oe.trigger(this._element,Ny),this._maybeScheduleHide()};this._element.classList.remove(a1),ki(this._element),this._element.classList.add(ao,lo),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||oe.trigger(this._element,Sy).defaultPrevented)return;const s=()=>{this._element.classList.add(a1),this._element.classList.remove(lo,ao),oe.trigger(this._element,Iy)};this._element.classList.add(lo),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ao),super.dispose()}isShown(){return this._element.classList.contains(ao)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,s){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const l=t.relatedTarget;this._element===l||this._element.contains(l)||this._maybeScheduleHide()}_setListeners(){oe.on(this._element,Cy,t=>this._onInteraction(t,!0)),oe.on(this._element,yy,t=>this._onInteraction(t,!1)),oe.on(this._element,Ty,t=>this._onInteraction(t,!0)),oe.on(this._element,vy,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const s=ha.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}la(ha);Nn(ha);/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2024 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const n=()=>localStorage.getItem("theme"),t=h=>localStorage.setItem("theme",h),s=()=>{const h=n();return h||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},l=h=>{h==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",h)};l(s());const u=(h,g=!1)=>{const m=document.querySelector("#bd-theme");if(!m)return;const E=document.querySelector("#bd-theme-text"),x=document.querySelector(".theme-icon-active use"),_=document.querySelector(`[data-bs-theme-value="${h}"]`),A=_.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(I=>{I.classList.remove("active"),I.setAttribute("aria-pressed","false")}),_.classList.add("active"),_.setAttribute("aria-pressed","true"),x.setAttribute("href",A);const O=`${E.textContent} (${_.dataset.bsThemeValue})`;m.setAttribute("aria-label",O),g&&m.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const h=n();h!=="light"&&h!=="dark"&&l(s())}),window.addEventListener("DOMContentLoaded",()=>{u(s()),document.querySelectorAll("[data-bs-theme-value]").forEach(h=>{h.addEventListener("click",()=>{const g=h.getAttribute("data-bs-theme-value");t(g),l(g),u(g,!0)})})})})();const Ly=w2(),Bc=g2(wx);Bc.use(M_);Bc.use(Ly);Bc.mount("#app");
