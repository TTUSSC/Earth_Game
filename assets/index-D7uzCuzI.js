function Hd(n,t){for(var i=0;i<t.length;i++){const l=t[i];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in n)){const h=Object.getOwnPropertyDescriptor(l,u);h&&Object.defineProperty(n,u,h.get?h:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wl(n,t){const i=new Set(n.split(","));return l=>i.has(l)}const At={},Is=[],Tn=()=>{},Wd=()=>!1,Lo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Gl=n=>n.startsWith("onUpdate:"),Zt=Object.assign,Xl=(n,t)=>{const i=n.indexOf(t);i>-1&&n.splice(i,1)},Gd=Object.prototype.hasOwnProperty,Je=(n,t)=>Gd.call(n,t),Me=Array.isArray,Os=n=>Oi(n)==="[object Map]",Po=n=>Oi(n)==="[object Set]",tu=n=>Oi(n)==="[object Date]",Ve=n=>typeof n=="function",kt=n=>typeof n=="string",Qn=n=>typeof n=="symbol",mt=n=>n!==null&&typeof n=="object",c1=n=>(mt(n)||Ve(n))&&Ve(n.then)&&Ve(n.catch),u1=Object.prototype.toString,Oi=n=>u1.call(n),Xd=n=>Oi(n).slice(8,-1),f1=n=>Oi(n)==="[object Object]",jl=n=>kt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,hi=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bo=n=>{const t=Object.create(null);return i=>t[i]||(t[i]=n(i))},jd=/-(\w)/g,Bn=Bo(n=>n.replace(jd,(t,i)=>i?i.toUpperCase():"")),$d=/\B([A-Z])/g,as=Bo(n=>n.replace($d,"-$1").toLowerCase()),ko=Bo(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ra=Bo(n=>n?`on${ko(n)}`:""),Or=(n,t)=>!Object.is(n,t),ao=(n,...t)=>{for(let i=0;i<n.length;i++)n[i](...t)},h1=(n,t,i,l=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:l,value:i})},al=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let nu;const d1=()=>nu||(nu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $l(n){if(Me(n)){const t={};for(let i=0;i<n.length;i++){const l=n[i],u=kt(l)?qd(l):$l(l);if(u)for(const h in u)t[h]=u[h]}return t}else if(kt(n)||mt(n))return n}const zd=/;(?![^(]*\))/g,Yd=/:([^]+)/,Kd=/\/\*[^]*?\*\//g;function qd(n){const t={};return n.replace(Kd,"").split(zd).forEach(i=>{if(i){const l=i.split(Yd);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Vt(n){let t="";if(kt(n))t=n;else if(Me(n))for(let i=0;i<n.length;i++){const l=Vt(n[i]);l&&(t+=l+" ")}else if(mt(n))for(const i in n)n[i]&&(t+=i+" ");return t.trim()}const Zd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qd=Wl(Zd);function g1(n){return!!n||n===""}function Jd(n,t){if(n.length!==t.length)return!1;let i=!0;for(let l=0;i&&l<n.length;l++)i=Fo(n[l],t[l]);return i}function Fo(n,t){if(n===t)return!0;let i=tu(n),l=tu(t);if(i||l)return i&&l?n.getTime()===t.getTime():!1;if(i=Qn(n),l=Qn(t),i||l)return n===t;if(i=Me(n),l=Me(t),i||l)return i&&l?Jd(n,t):!1;if(i=mt(n),l=mt(t),i||l){if(!i||!l)return!1;const u=Object.keys(n).length,h=Object.keys(t).length;if(u!==h)return!1;for(const g in n){const m=n.hasOwnProperty(g),E=t.hasOwnProperty(g);if(m&&!E||!m&&E||!Fo(n[g],t[g]))return!1}}return String(n)===String(t)}function p1(n,t){return n.findIndex(i=>Fo(i,t))}const m1=n=>!!(n&&n.__v_isRef===!0),wt=n=>kt(n)?n:n==null?"":Me(n)||mt(n)&&(n.toString===u1||!Ve(n.toString))?m1(n)?wt(n.value):JSON.stringify(n,x1,2):String(n),x1=(n,t)=>m1(t)?x1(n,t.value):Os(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[l,u],h)=>(i[Da(l,h)+" =>"]=u,i),{})}:Po(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Da(i))}:Qn(t)?Da(t):mt(t)&&!Me(t)&&!f1(t)?String(t):t,Da=(n,t="")=>{var i;return Qn(n)?`Symbol(${(i=n.description)!=null?i:t})`:n};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pn;class E1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!t&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=pn;try{return pn=this,t()}finally{pn=i}}}on(){pn=this}off(){pn=this.parent}stop(t){if(this._active){let i,l;for(i=0,l=this.effects.length;i<l;i++)this.effects[i].stop();for(i=0,l=this.cleanups.length;i<l;i++)this.cleanups[i]();if(this.scopes)for(i=0,l=this.scopes.length;i<l;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function w1(n){return new E1(n)}function eg(n,t=pn){t&&t.active&&t.effects.push(n)}function _1(){return pn}function tg(n){pn&&pn.cleanups.push(n)}let Zr;class zl{constructor(t,i,l,u){this.fn=t,this.trigger=i,this.scheduler=l,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,eg(this,u)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mr();for(let t=0;t<this._depsLength;t++){const i=this.deps[t];if(i.computed&&(ng(i.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Lr()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Sr,i=Zr;try{return Sr=!0,Zr=this,this._runnings++,ru(this),this.fn()}finally{su(this),this._runnings--,Zr=i,Sr=t}}stop(){this.active&&(ru(this),su(this),this.onStop&&this.onStop(),this.active=!1)}}function ng(n){return n.value}function ru(n){n._trackId++,n._depsLength=0}function su(n){if(n.deps.length>n._depsLength){for(let t=n._depsLength;t<n.deps.length;t++)A1(n.deps[t],n);n.deps.length=n._depsLength}}function A1(n,t){const i=n.get(t);i!==void 0&&t._trackId!==i&&(n.delete(t),n.size===0&&n.cleanup())}let Sr=!0,ll=0;const b1=[];function Mr(){b1.push(Sr),Sr=!1}function Lr(){const n=b1.pop();Sr=n===void 0?!0:n}function Yl(){ll++}function Kl(){for(ll--;!ll&&cl.length;)cl.shift()()}function C1(n,t,i){if(t.get(n)!==n._trackId){t.set(n,n._trackId);const l=n.deps[n._depsLength];l!==t?(l&&A1(l,n),n.deps[n._depsLength++]=t):n._depsLength++}}const cl=[];function y1(n,t,i){Yl();for(const l of n.keys()){let u;l._dirtyLevel<t&&(u??(u=n.get(l)===l._trackId))&&(l._shouldSchedule||(l._shouldSchedule=l._dirtyLevel===0),l._dirtyLevel=t),l._shouldSchedule&&(u??(u=n.get(l)===l._trackId))&&(l.trigger(),(!l._runnings||l.allowRecurse)&&l._dirtyLevel!==2&&(l._shouldSchedule=!1,l.scheduler&&cl.push(l.scheduler)))}Kl()}const T1=(n,t)=>{const i=new Map;return i.cleanup=n,i.computed=t,i},_o=new WeakMap,Qr=Symbol(""),ul=Symbol("");function hn(n,t,i){if(Sr&&Zr){let l=_o.get(n);l||_o.set(n,l=new Map);let u=l.get(i);u||l.set(i,u=T1(()=>l.delete(i))),C1(Zr,u)}}function rr(n,t,i,l,u,h){const g=_o.get(n);if(!g)return;let m=[];if(t==="clear")m=[...g.values()];else if(i==="length"&&Me(n)){const E=Number(l);g.forEach((x,_)=>{(_==="length"||!Qn(_)&&_>=E)&&m.push(x)})}else switch(i!==void 0&&m.push(g.get(i)),t){case"add":Me(n)?jl(i)&&m.push(g.get("length")):(m.push(g.get(Qr)),Os(n)&&m.push(g.get(ul)));break;case"delete":Me(n)||(m.push(g.get(Qr)),Os(n)&&m.push(g.get(ul)));break;case"set":Os(n)&&m.push(g.get(Qr));break}Yl();for(const E of m)E&&y1(E,4);Kl()}function rg(n,t){const i=_o.get(n);return i&&i.get(t)}const sg=Wl("__proto__,__v_isRef,__isVue"),v1=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Qn)),iu=ig();function ig(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...i){const l=tt(this);for(let h=0,g=this.length;h<g;h++)hn(l,"get",h+"");const u=l[t](...i);return u===-1||u===!1?l[t](...i.map(tt)):u}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...i){Mr(),Yl();const l=tt(this)[t].apply(this,i);return Kl(),Lr(),l}}),n}function og(n){Qn(n)||(n=String(n));const t=tt(this);return hn(t,"has",n),t.hasOwnProperty(n)}class S1{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,l){const u=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!u;if(i==="__v_isReadonly")return u;if(i==="__v_isShallow")return h;if(i==="__v_raw")return l===(u?h?wg:R1:h?N1:O1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const g=Me(t);if(!u){if(g&&Je(iu,i))return Reflect.get(iu,i,l);if(i==="hasOwnProperty")return og}const m=Reflect.get(t,i,l);return(Qn(i)?v1.has(i):sg(i))||(u||hn(t,"get",i),h)?m:pt(m)?g&&jl(i)?m:m.value:mt(m)?u?M1(m):Ni(m):m}}class I1 extends S1{constructor(t=!1){super(!1,t)}set(t,i,l,u){let h=t[i];if(!this._isShallow){const E=ns(h);if(!Ms(l)&&!ns(l)&&(h=tt(h),l=tt(l)),!Me(t)&&pt(h)&&!pt(l))return E?!1:(h.value=l,!0)}const g=Me(t)&&jl(i)?Number(i)<t.length:Je(t,i),m=Reflect.set(t,i,l,u);return t===tt(u)&&(g?Or(l,h)&&rr(t,"set",i,l):rr(t,"add",i,l)),m}deleteProperty(t,i){const l=Je(t,i);t[i];const u=Reflect.deleteProperty(t,i);return u&&l&&rr(t,"delete",i,void 0),u}has(t,i){const l=Reflect.has(t,i);return(!Qn(i)||!v1.has(i))&&hn(t,"has",i),l}ownKeys(t){return hn(t,"iterate",Me(t)?"length":Qr),Reflect.ownKeys(t)}}class ag extends S1{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const lg=new I1,cg=new ag,ug=new I1(!0);const ql=n=>n,Uo=n=>Reflect.getPrototypeOf(n);function Yi(n,t,i=!1,l=!1){n=n.__v_raw;const u=tt(n),h=tt(t);i||(Or(t,h)&&hn(u,"get",t),hn(u,"get",h));const{has:g}=Uo(u),m=l?ql:i?ec:Ai;if(g.call(u,t))return m(n.get(t));if(g.call(u,h))return m(n.get(h));n!==u&&n.get(t)}function Ki(n,t=!1){const i=this.__v_raw,l=tt(i),u=tt(n);return t||(Or(n,u)&&hn(l,"has",n),hn(l,"has",u)),n===u?i.has(n):i.has(n)||i.has(u)}function qi(n,t=!1){return n=n.__v_raw,!t&&hn(tt(n),"iterate",Qr),Reflect.get(n,"size",n)}function ou(n,t=!1){!t&&!Ms(n)&&!ns(n)&&(n=tt(n));const i=tt(this);return Uo(i).has.call(i,n)||(i.add(n),rr(i,"add",n,n)),this}function au(n,t,i=!1){!i&&!Ms(t)&&!ns(t)&&(t=tt(t));const l=tt(this),{has:u,get:h}=Uo(l);let g=u.call(l,n);g||(n=tt(n),g=u.call(l,n));const m=h.call(l,n);return l.set(n,t),g?Or(t,m)&&rr(l,"set",n,t):rr(l,"add",n,t),this}function lu(n){const t=tt(this),{has:i,get:l}=Uo(t);let u=i.call(t,n);u||(n=tt(n),u=i.call(t,n)),l&&l.call(t,n);const h=t.delete(n);return u&&rr(t,"delete",n,void 0),h}function cu(){const n=tt(this),t=n.size!==0,i=n.clear();return t&&rr(n,"clear",void 0,void 0),i}function Zi(n,t){return function(l,u){const h=this,g=h.__v_raw,m=tt(g),E=t?ql:n?ec:Ai;return!n&&hn(m,"iterate",Qr),g.forEach((x,_)=>l.call(u,E(x),E(_),h))}}function Qi(n,t,i){return function(...l){const u=this.__v_raw,h=tt(u),g=Os(h),m=n==="entries"||n===Symbol.iterator&&g,E=n==="keys"&&g,x=u[n](...l),_=i?ql:t?ec:Ai;return!t&&hn(h,"iterate",E?ul:Qr),{next(){const{value:C,done:I}=x.next();return I?{value:C,done:I}:{value:m?[_(C[0]),_(C[1])]:_(C),done:I}},[Symbol.iterator](){return this}}}}function xr(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function fg(){const n={get(h){return Yi(this,h)},get size(){return qi(this)},has:Ki,add:ou,set:au,delete:lu,clear:cu,forEach:Zi(!1,!1)},t={get(h){return Yi(this,h,!1,!0)},get size(){return qi(this)},has:Ki,add(h){return ou.call(this,h,!0)},set(h,g){return au.call(this,h,g,!0)},delete:lu,clear:cu,forEach:Zi(!1,!0)},i={get(h){return Yi(this,h,!0)},get size(){return qi(this,!0)},has(h){return Ki.call(this,h,!0)},add:xr("add"),set:xr("set"),delete:xr("delete"),clear:xr("clear"),forEach:Zi(!0,!1)},l={get(h){return Yi(this,h,!0,!0)},get size(){return qi(this,!0)},has(h){return Ki.call(this,h,!0)},add:xr("add"),set:xr("set"),delete:xr("delete"),clear:xr("clear"),forEach:Zi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{n[h]=Qi(h,!1,!1),i[h]=Qi(h,!0,!1),t[h]=Qi(h,!1,!0),l[h]=Qi(h,!0,!0)}),[n,i,t,l]}const[hg,dg,gg,pg]=fg();function Zl(n,t){const i=t?n?pg:gg:n?dg:hg;return(l,u,h)=>u==="__v_isReactive"?!n:u==="__v_isReadonly"?n:u==="__v_raw"?l:Reflect.get(Je(i,u)&&u in l?i:l,u,h)}const mg={get:Zl(!1,!1)},xg={get:Zl(!1,!0)},Eg={get:Zl(!0,!1)};const O1=new WeakMap,N1=new WeakMap,R1=new WeakMap,wg=new WeakMap;function _g(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ag(n){return n.__v_skip||!Object.isExtensible(n)?0:_g(Xd(n))}function Ni(n){return ns(n)?n:Ql(n,!1,lg,mg,O1)}function D1(n){return Ql(n,!1,ug,xg,N1)}function M1(n){return Ql(n,!0,cg,Eg,R1)}function Ql(n,t,i,l,u){if(!mt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const h=u.get(n);if(h)return h;const g=Ag(n);if(g===0)return n;const m=new Proxy(n,g===2?l:i);return u.set(n,m),m}function Jr(n){return ns(n)?Jr(n.__v_raw):!!(n&&n.__v_isReactive)}function ns(n){return!!(n&&n.__v_isReadonly)}function Ms(n){return!!(n&&n.__v_isShallow)}function L1(n){return n?!!n.__v_raw:!1}function tt(n){const t=n&&n.__v_raw;return t?tt(t):n}function Jl(n){return Object.isExtensible(n)&&h1(n,"__v_skip",!0),n}const Ai=n=>mt(n)?Ni(n):n,ec=n=>mt(n)?M1(n):n;class P1{constructor(t,i,l,u){this.getter=t,this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zl(()=>t(this._value),()=>lo(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=l}get value(){const t=tt(this);return(!t._cacheable||t.effect.dirty)&&Or(t._value,t._value=t.effect.run())&&lo(t,4),B1(t),t.effect._dirtyLevel>=2&&lo(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function bg(n,t,i=!1){let l,u;const h=Ve(n);return h?(l=n,u=Tn):(l=n.get,u=n.set),new P1(l,u,h||!u,i)}function B1(n){var t;Sr&&Zr&&(n=tt(n),C1(Zr,(t=n.dep)!=null?t:n.dep=T1(()=>n.dep=void 0,n instanceof P1?n:void 0)))}function lo(n,t=4,i,l){n=tt(n);const u=n.dep;u&&y1(u,t)}function pt(n){return!!(n&&n.__v_isRef===!0)}function je(n){return k1(n,!1)}function Cg(n){return k1(n,!0)}function k1(n,t){return pt(n)?n:new yg(n,t)}class yg{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:tt(t),this._value=i?t:Ai(t)}get value(){return B1(this),this._value}set value(t){const i=this.__v_isShallow||Ms(t)||ns(t);t=i?t:tt(t),Or(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=i?t:Ai(t),lo(this,4))}}function et(n){return pt(n)?n.value:n}const Tg={get:(n,t,i)=>et(Reflect.get(n,t,i)),set:(n,t,i,l)=>{const u=n[t];return pt(u)&&!pt(i)?(u.value=i,!0):Reflect.set(n,t,i,l)}};function F1(n){return Jr(n)?n:new Proxy(n,Tg)}function vg(n){const t=Me(n)?new Array(n.length):{};for(const i in n)t[i]=Ig(n,i);return t}class Sg{constructor(t,i,l){this._object=t,this._key=i,this._defaultValue=l,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return rg(tt(this._object),this._key)}}function Ig(n,t,i){const l=n[t];return pt(l)?l:new Sg(n,t,i)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ir(n,t,i,l){try{return l?n(...l):n()}catch(u){Vo(u,t,i)}}function Ln(n,t,i,l){if(Ve(n)){const u=Ir(n,t,i,l);return u&&c1(u)&&u.catch(h=>{Vo(h,t,i)}),u}if(Me(n)){const u=[];for(let h=0;h<n.length;h++)u.push(Ln(n[h],t,i,l));return u}}function Vo(n,t,i,l=!0){const u=t?t.vnode:null;if(t){let h=t.parent;const g=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${i}`;for(;h;){const x=h.ec;if(x){for(let _=0;_<x.length;_++)if(x[_](n,g,m)===!1)return}h=h.parent}const E=t.appContext.config.errorHandler;if(E){Mr(),Ir(E,null,10,[n,g,m]),Lr();return}}Og(n,i,u,l)}function Og(n,t,i,l=!0){console.error(n)}let bi=!1,fl=!1;const qt=[];let Yn=0;const Ns=[];let br=null,$r=0;const U1=Promise.resolve();let tc=null;function nc(n){const t=tc||U1;return n?t.then(this?n.bind(this):n):t}function Ng(n){let t=Yn+1,i=qt.length;for(;t<i;){const l=t+i>>>1,u=qt[l],h=Ci(u);h<n||h===n&&u.pre?t=l+1:i=l}return t}function rc(n){(!qt.length||!qt.includes(n,bi&&n.allowRecurse?Yn+1:Yn))&&(n.id==null?qt.push(n):qt.splice(Ng(n.id),0,n),V1())}function V1(){!bi&&!fl&&(fl=!0,tc=U1.then(W1))}function Rg(n){const t=qt.indexOf(n);t>Yn&&qt.splice(t,1)}function Dg(n){Me(n)?Ns.push(...n):(!br||!br.includes(n,n.allowRecurse?$r+1:$r))&&Ns.push(n),V1()}function uu(n,t,i=bi?Yn+1:0){for(;i<qt.length;i++){const l=qt[i];if(l&&l.pre){if(n&&l.id!==n.uid)continue;qt.splice(i,1),i--,l()}}}function H1(n){if(Ns.length){const t=[...new Set(Ns)].sort((i,l)=>Ci(i)-Ci(l));if(Ns.length=0,br){br.push(...t);return}for(br=t,$r=0;$r<br.length;$r++){const i=br[$r];i.active!==!1&&i()}br=null,$r=0}}const Ci=n=>n.id==null?1/0:n.id,Mg=(n,t)=>{const i=Ci(n)-Ci(t);if(i===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return i};function W1(n){fl=!1,bi=!0,qt.sort(Mg);try{for(Yn=0;Yn<qt.length;Yn++){const t=qt[Yn];t&&t.active!==!1&&Ir(t,t.i,t.i?15:14)}}finally{Yn=0,qt.length=0,H1(),bi=!1,tc=null,(qt.length||Ns.length)&&W1()}}let un=null,Ho=null;function Ao(n){const t=un;return un=n,Ho=n&&n.type.__scopeId||null,t}function G1(n){Ho=n}function X1(){Ho=null}function j1(n,t=un,i){if(!t||n._n)return n;const l=(...u)=>{l._d&&bu(-1);const h=Ao(t);let g;try{g=n(...u)}finally{Ao(h),l._d&&bu(1)}return g};return l._n=!0,l._c=!0,l._d=!0,l}function Tr(n,t){if(un===null)return n;const i=$o(un),l=n.dirs||(n.dirs=[]);for(let u=0;u<t.length;u++){let[h,g,m,E=At]=t[u];h&&(Ve(h)&&(h={mounted:h,updated:h}),h.deep&&vr(g),l.push({dir:h,instance:i,value:g,oldValue:void 0,arg:m,modifiers:E}))}return n}function Xr(n,t,i,l){const u=n.dirs,h=t&&t.dirs;for(let g=0;g<u.length;g++){const m=u[g];h&&(m.oldValue=h[g].value);let E=m.dir[l];E&&(Mr(),Ln(E,i,8,[n.el,m,n,t]),Lr())}}function $1(n,t){n.shapeFlag&6&&n.component?$1(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function z1(n,t){return Ve(n)?Zt({name:n.name},t,{setup:n}):n}const co=n=>!!n.type.__asyncLoader,Y1=n=>n.type.__isKeepAlive;function Lg(n,t){K1(n,"a",t)}function Pg(n,t){K1(n,"da",t)}function K1(n,t,i=$t){const l=n.__wdc||(n.__wdc=()=>{let u=i;for(;u;){if(u.isDeactivated)return;u=u.parent}return n()});if(Wo(t,l,i),i){let u=i.parent;for(;u&&u.parent;)Y1(u.parent.vnode)&&Bg(l,t,i,u),u=u.parent}}function Bg(n,t,i,l){const u=Wo(t,n,l,!0);Z1(()=>{Xl(l[t],u)},i)}function Wo(n,t,i=$t,l=!1){if(i){const u=i[n]||(i[n]=[]),h=t.__weh||(t.__weh=(...g)=>{Mr();const m=Ri(i),E=Ln(t,i,n,g);return m(),Lr(),E});return l?u.unshift(h):u.push(h),h}}const ar=n=>(t,i=$t)=>{(!jo||n==="sp")&&Wo(n,(...l)=>t(...l),i)},kg=ar("bm"),sc=ar("m"),Fg=ar("bu"),Ug=ar("u"),q1=ar("bum"),Z1=ar("um"),Vg=ar("sp"),Hg=ar("rtg"),Wg=ar("rtc");function Gg(n,t=$t){Wo("ec",n,t)}const Xg="components";function hl(n,t){return $g(Xg,n,!0,t)||n}const jg=Symbol.for("v-ndc");function $g(n,t,i=!0,l=!1){const u=un||$t;if(u){const h=u.type;{const m=Fp(h,!1);if(m&&(m===t||m===Bn(t)||m===ko(Bn(t))))return h}const g=fu(u[n]||h[n],t)||fu(u.appContext[n],t);return!g&&l?h:g}}function fu(n,t){return n&&(n[t]||n[Bn(t)]||n[ko(Bn(t))])}function zg(n,t,i,l){let u;const h=i;if(Me(n)||kt(n)){u=new Array(n.length);for(let g=0,m=n.length;g<m;g++)u[g]=t(n[g],g,void 0,h)}else if(typeof n=="number"){u=new Array(n);for(let g=0;g<n;g++)u[g]=t(g+1,g,void 0,h)}else if(mt(n))if(n[Symbol.iterator])u=Array.from(n,(g,m)=>t(g,m,void 0,h));else{const g=Object.keys(n);u=new Array(g.length);for(let m=0,E=g.length;m<E;m++){const x=g[m];u[m]=t(n[x],x,m,h)}}else u=[];return u}const dl=n=>n?xh(n)?$o(n):dl(n.parent):null,di=Zt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>dl(n.parent),$root:n=>dl(n.root),$emit:n=>n.emit,$options:n=>ic(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,rc(n.update)}),$nextTick:n=>n.n||(n.n=nc.bind(n.proxy)),$watch:n=>xp.bind(n)}),Ma=(n,t)=>n!==At&&!n.__isScriptSetup&&Je(n,t),Yg={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:l,data:u,props:h,accessCache:g,type:m,appContext:E}=n;let x;if(t[0]!=="$"){const O=g[t];if(O!==void 0)switch(O){case 1:return l[t];case 2:return u[t];case 4:return i[t];case 3:return h[t]}else{if(Ma(l,t))return g[t]=1,l[t];if(u!==At&&Je(u,t))return g[t]=2,u[t];if((x=n.propsOptions[0])&&Je(x,t))return g[t]=3,h[t];if(i!==At&&Je(i,t))return g[t]=4,i[t];gl&&(g[t]=0)}}const _=di[t];let C,I;if(_)return t==="$attrs"&&hn(n.attrs,"get",""),_(n);if((C=m.__cssModules)&&(C=C[t]))return C;if(i!==At&&Je(i,t))return g[t]=4,i[t];if(I=E.config.globalProperties,Je(I,t))return I[t]},set({_:n},t,i){const{data:l,setupState:u,ctx:h}=n;return Ma(u,t)?(u[t]=i,!0):l!==At&&Je(l,t)?(l[t]=i,!0):Je(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(h[t]=i,!0)},has({_:{data:n,setupState:t,accessCache:i,ctx:l,appContext:u,propsOptions:h}},g){let m;return!!i[g]||n!==At&&Je(n,g)||Ma(t,g)||(m=h[0])&&Je(m,g)||Je(l,g)||Je(di,g)||Je(u.config.globalProperties,g)},defineProperty(n,t,i){return i.get!=null?n._.accessCache[t]=0:Je(i,"value")&&this.set(n,t,i.value,null),Reflect.defineProperty(n,t,i)}};function hu(n){return Me(n)?n.reduce((t,i)=>(t[i]=null,t),{}):n}let gl=!0;function Kg(n){const t=ic(n),i=n.proxy,l=n.ctx;gl=!1,t.beforeCreate&&du(t.beforeCreate,n,"bc");const{data:u,computed:h,methods:g,watch:m,provide:E,inject:x,created:_,beforeMount:C,mounted:I,beforeUpdate:O,updated:L,activated:D,deactivated:z,beforeDestroy:ne,beforeUnmount:Q,destroyed:U,unmounted:J,render:xe,renderTracked:Y,renderTriggered:P,errorCaptured:Z,serverPrefetch:V,expose:me,inheritAttrs:ye,components:de,directives:ve,filters:qe}=t;if(x&&qg(x,l,null),g)for(const le in g){const He=g[le];Ve(He)&&(l[le]=He.bind(i))}if(u){const le=u.call(i,i);mt(le)&&(n.data=Ni(le))}if(gl=!0,h)for(const le in h){const He=h[le],dt=Ve(He)?He.bind(i,i):Ve(He.get)?He.get.bind(i,i):Tn,Tt=!Ve(He)&&Ve(He.set)?He.set.bind(i):Tn,Ht=Dt({get:dt,set:Tt});Object.defineProperty(l,le,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:ze=>Ht.value=ze})}if(m)for(const le in m)Q1(m[le],l,i,le);if(E){const le=Ve(E)?E.call(i):E;Reflect.ownKeys(le).forEach(He=>{uo(He,le[He])})}_&&du(_,n,"c");function Ie(le,He){Me(He)?He.forEach(dt=>le(dt.bind(i))):He&&le(He.bind(i))}if(Ie(kg,C),Ie(sc,I),Ie(Fg,O),Ie(Ug,L),Ie(Lg,D),Ie(Pg,z),Ie(Gg,Z),Ie(Wg,Y),Ie(Hg,P),Ie(q1,Q),Ie(Z1,J),Ie(Vg,V),Me(me))if(me.length){const le=n.exposed||(n.exposed={});me.forEach(He=>{Object.defineProperty(le,He,{get:()=>i[He],set:dt=>i[He]=dt})})}else n.exposed||(n.exposed={});xe&&n.render===Tn&&(n.render=xe),ye!=null&&(n.inheritAttrs=ye),de&&(n.components=de),ve&&(n.directives=ve)}function qg(n,t,i=Tn){Me(n)&&(n=pl(n));for(const l in n){const u=n[l];let h;mt(u)?"default"in u?h=vn(u.from||l,u.default,!0):h=vn(u.from||l):h=vn(u),pt(h)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>h.value,set:g=>h.value=g}):t[l]=h}}function du(n,t,i){Ln(Me(n)?n.map(l=>l.bind(t.proxy)):n.bind(t.proxy),t,i)}function Q1(n,t,i,l){const u=l.includes(".")?hh(i,l):()=>i[l];if(kt(n)){const h=t[n];Ve(h)&&gi(u,h)}else if(Ve(n))gi(u,n.bind(i));else if(mt(n))if(Me(n))n.forEach(h=>Q1(h,t,i,l));else{const h=Ve(n.handler)?n.handler.bind(i):t[n.handler];Ve(h)&&gi(u,h,n)}}function ic(n){const t=n.type,{mixins:i,extends:l}=t,{mixins:u,optionsCache:h,config:{optionMergeStrategies:g}}=n.appContext,m=h.get(t);let E;return m?E=m:!u.length&&!i&&!l?E=t:(E={},u.length&&u.forEach(x=>bo(E,x,g,!0)),bo(E,t,g)),mt(t)&&h.set(t,E),E}function bo(n,t,i,l=!1){const{mixins:u,extends:h}=t;h&&bo(n,h,i,!0),u&&u.forEach(g=>bo(n,g,i,!0));for(const g in t)if(!(l&&g==="expose")){const m=Zg[g]||i&&i[g];n[g]=m?m(n[g],t[g]):t[g]}return n}const Zg={data:gu,props:pu,emits:pu,methods:fi,computed:fi,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:fi,directives:fi,watch:Jg,provide:gu,inject:Qg};function gu(n,t){return t?n?function(){return Zt(Ve(n)?n.call(this,this):n,Ve(t)?t.call(this,this):t)}:t:n}function Qg(n,t){return fi(pl(n),pl(t))}function pl(n){if(Me(n)){const t={};for(let i=0;i<n.length;i++)t[n[i]]=n[i];return t}return n}function Jt(n,t){return n?[...new Set([].concat(n,t))]:t}function fi(n,t){return n?Zt(Object.create(null),n,t):t}function pu(n,t){return n?Me(n)&&Me(t)?[...new Set([...n,...t])]:Zt(Object.create(null),hu(n),hu(t??{})):t}function Jg(n,t){if(!n)return t;if(!t)return n;const i=Zt(Object.create(null),n);for(const l in t)i[l]=Jt(n[l],t[l]);return i}function J1(){return{app:null,config:{isNativeTag:Wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ep=0;function tp(n,t){return function(l,u=null){Ve(l)||(l=Zt({},l)),u!=null&&!mt(u)&&(u=null);const h=J1(),g=new WeakSet;let m=!1;const E=h.app={_uid:ep++,_component:l,_props:u,_container:null,_context:h,_instance:null,version:Vp,get config(){return h.config},set config(x){},use(x,..._){return g.has(x)||(x&&Ve(x.install)?(g.add(x),x.install(E,..._)):Ve(x)&&(g.add(x),x(E,..._))),E},mixin(x){return h.mixins.includes(x)||h.mixins.push(x),E},component(x,_){return _?(h.components[x]=_,E):h.components[x]},directive(x,_){return _?(h.directives[x]=_,E):h.directives[x]},mount(x,_,C){if(!m){const I=Mt(l,u);return I.appContext=h,C===!0?C="svg":C===!1&&(C=void 0),_&&t?t(I,x):n(I,x,C),m=!0,E._container=x,x.__vue_app__=E,$o(I.component)}},unmount(){m&&(n(null,E._container),delete E._container.__vue_app__)},provide(x,_){return h.provides[x]=_,E},runWithContext(x){const _=Rs;Rs=E;try{return x()}finally{Rs=_}}};return E}}let Rs=null;function uo(n,t){if($t){let i=$t.provides;const l=$t.parent&&$t.parent.provides;l===i&&(i=$t.provides=Object.create(l)),i[n]=t}}function vn(n,t,i=!1){const l=$t||un;if(l||Rs){const u=l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:Rs._context.provides;if(u&&n in u)return u[n];if(arguments.length>1)return i&&Ve(t)?t.call(l&&l.proxy):t}}function np(){return!!($t||un||Rs)}const eh={},th=()=>Object.create(eh),nh=n=>Object.getPrototypeOf(n)===eh;function rp(n,t,i,l=!1){const u={},h=th();n.propsDefaults=Object.create(null),rh(n,t,u,h);for(const g in n.propsOptions[0])g in u||(u[g]=void 0);i?n.props=l?u:D1(u):n.type.props?n.props=u:n.props=h,n.attrs=h}function sp(n,t,i,l){const{props:u,attrs:h,vnode:{patchFlag:g}}=n,m=tt(u),[E]=n.propsOptions;let x=!1;if((l||g>0)&&!(g&16)){if(g&8){const _=n.vnode.dynamicProps;for(let C=0;C<_.length;C++){let I=_[C];if(Go(n.emitsOptions,I))continue;const O=t[I];if(E)if(Je(h,I))O!==h[I]&&(h[I]=O,x=!0);else{const L=Bn(I);u[L]=ml(E,m,L,O,n,!1)}else O!==h[I]&&(h[I]=O,x=!0)}}}else{rh(n,t,u,h)&&(x=!0);let _;for(const C in m)(!t||!Je(t,C)&&((_=as(C))===C||!Je(t,_)))&&(E?i&&(i[C]!==void 0||i[_]!==void 0)&&(u[C]=ml(E,m,C,void 0,n,!0)):delete u[C]);if(h!==m)for(const C in h)(!t||!Je(t,C))&&(delete h[C],x=!0)}x&&rr(n.attrs,"set","")}function rh(n,t,i,l){const[u,h]=n.propsOptions;let g=!1,m;if(t)for(let E in t){if(hi(E))continue;const x=t[E];let _;u&&Je(u,_=Bn(E))?!h||!h.includes(_)?i[_]=x:(m||(m={}))[_]=x:Go(n.emitsOptions,E)||(!(E in l)||x!==l[E])&&(l[E]=x,g=!0)}if(h){const E=tt(i),x=m||At;for(let _=0;_<h.length;_++){const C=h[_];i[C]=ml(u,E,C,x[C],n,!Je(x,C))}}return g}function ml(n,t,i,l,u,h){const g=n[i];if(g!=null){const m=Je(g,"default");if(m&&l===void 0){const E=g.default;if(g.type!==Function&&!g.skipFactory&&Ve(E)){const{propsDefaults:x}=u;if(i in x)l=x[i];else{const _=Ri(u);l=x[i]=E.call(null,t),_()}}else l=E}g[0]&&(h&&!m?l=!1:g[1]&&(l===""||l===as(i))&&(l=!0))}return l}const ip=new WeakMap;function sh(n,t,i=!1){const l=i?ip:t.propsCache,u=l.get(n);if(u)return u;const h=n.props,g={},m=[];let E=!1;if(!Ve(n)){const _=C=>{E=!0;const[I,O]=sh(C,t,!0);Zt(g,I),O&&m.push(...O)};!i&&t.mixins.length&&t.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!h&&!E)return mt(n)&&l.set(n,Is),Is;if(Me(h))for(let _=0;_<h.length;_++){const C=Bn(h[_]);mu(C)&&(g[C]=At)}else if(h)for(const _ in h){const C=Bn(_);if(mu(C)){const I=h[_],O=g[C]=Me(I)||Ve(I)?{type:I}:Zt({},I);if(O){const L=wu(Boolean,O.type),D=wu(String,O.type);O[0]=L>-1,O[1]=D<0||L<D,(L>-1||Je(O,"default"))&&m.push(C)}}}const x=[g,m];return mt(n)&&l.set(n,x),x}function mu(n){return n[0]!=="$"&&!hi(n)}function xu(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function Eu(n,t){return xu(n)===xu(t)}function wu(n,t){return Me(t)?t.findIndex(i=>Eu(i,n)):Ve(t)&&Eu(t,n)?0:-1}const ih=n=>n[0]==="_"||n==="$stable",oc=n=>Me(n)?n.map(zn):[zn(n)],op=(n,t,i)=>{if(t._n)return t;const l=j1((...u)=>oc(t(...u)),i);return l._c=!1,l},oh=(n,t,i)=>{const l=n._ctx;for(const u in n){if(ih(u))continue;const h=n[u];if(Ve(h))t[u]=op(u,h,l);else if(h!=null){const g=oc(h);t[u]=()=>g}}},ah=(n,t)=>{const i=oc(t);n.slots.default=()=>i},lh=(n,t,i)=>{for(const l in t)(i||l!=="_")&&(n[l]=t[l])},ap=(n,t,i)=>{const l=n.slots=th();if(n.vnode.shapeFlag&32){const u=t._;u?(lh(l,t,i),i&&h1(l,"_",u,!0)):oh(t,l)}else t&&ah(n,t)},lp=(n,t,i)=>{const{vnode:l,slots:u}=n;let h=!0,g=At;if(l.shapeFlag&32){const m=t._;m?i&&m===1?h=!1:lh(u,t,i):(h=!t.$stable,oh(t,u)),g=t}else t&&(ah(n,t),g={default:1});if(h)for(const m in u)!ih(m)&&g[m]==null&&delete u[m]};function xl(n,t,i,l,u=!1){if(Me(n)){n.forEach((I,O)=>xl(I,t&&(Me(t)?t[O]:t),i,l,u));return}if(co(l)&&!u)return;const h=l.shapeFlag&4?$o(l.component):l.el,g=u?null:h,{i:m,r:E}=n,x=t&&t.r,_=m.refs===At?m.refs={}:m.refs,C=m.setupState;if(x!=null&&x!==E&&(kt(x)?(_[x]=null,Je(C,x)&&(C[x]=null)):pt(x)&&(x.value=null)),Ve(E))Ir(E,m,12,[g,_]);else{const I=kt(E),O=pt(E);if(I||O){const L=()=>{if(n.f){const D=I?Je(C,E)?C[E]:_[E]:E.value;u?Me(D)&&Xl(D,h):Me(D)?D.includes(h)||D.push(h):I?(_[E]=[h],Je(C,E)&&(C[E]=_[E])):(E.value=[h],n.k&&(_[n.k]=E.value))}else I?(_[E]=g,Je(C,E)&&(C[E]=g)):O&&(E.value=g,n.k&&(_[n.k]=g))};g?(L.id=-1,ln(L,i)):L()}}}const cp=Symbol("_vte"),up=n=>n.__isTeleport,ln=Tp;function fp(n){return hp(n)}function hp(n,t){const i=d1();i.__VUE__=!0;const{insert:l,remove:u,patchProp:h,createElement:g,createText:m,createComment:E,setText:x,setElementText:_,parentNode:C,nextSibling:I,setScopeId:O=Tn,insertStaticContent:L}=n,D=(T,N,F,ee=null,j=null,q=null,te=void 0,fe=null,H=!!N.dynamicChildren)=>{if(T===N)return;T&&!ii(T,N)&&(ee=K(T),ze(T,j,q,!0),T=null),N.patchFlag===-2&&(H=!1,N.dynamicChildren=null);const{type:ie,ref:Ee,shapeFlag:_e}=N;switch(ie){case Xo:z(T,N,F,ee);break;case rs:ne(T,N,F,ee);break;case fo:T==null&&Q(N,F,ee,te);break;case yn:de(T,N,F,ee,j,q,te,fe,H);break;default:_e&1?xe(T,N,F,ee,j,q,te,fe,H):_e&6?ve(T,N,F,ee,j,q,te,fe,H):(_e&64||_e&128)&&ie.process(T,N,F,ee,j,q,te,fe,H,Ce)}Ee!=null&&j&&xl(Ee,T&&T.ref,q,N||T,!N)},z=(T,N,F,ee)=>{if(T==null)l(N.el=m(N.children),F,ee);else{const j=N.el=T.el;N.children!==T.children&&x(j,N.children)}},ne=(T,N,F,ee)=>{T==null?l(N.el=E(N.children||""),F,ee):N.el=T.el},Q=(T,N,F,ee)=>{[T.el,T.anchor]=L(T.children,N,F,ee,T.el,T.anchor)},U=({el:T,anchor:N},F,ee)=>{let j;for(;T&&T!==N;)j=I(T),l(T,F,ee),T=j;l(N,F,ee)},J=({el:T,anchor:N})=>{let F;for(;T&&T!==N;)F=I(T),u(T),T=F;u(N)},xe=(T,N,F,ee,j,q,te,fe,H)=>{N.type==="svg"?te="svg":N.type==="math"&&(te="mathml"),T==null?Y(N,F,ee,j,q,te,fe,H):V(T,N,j,q,te,fe,H)},Y=(T,N,F,ee,j,q,te,fe)=>{let H,ie;const{props:Ee,shapeFlag:_e,transition:Te,dirs:Se}=T;if(H=T.el=g(T.type,q,Ee&&Ee.is,Ee),_e&8?_(H,T.children):_e&16&&Z(T.children,H,null,ee,j,La(T,q),te,fe),Se&&Xr(T,null,ee,"created"),P(H,T,T.scopeId,te,ee),Ee){for(const $e in Ee)$e!=="value"&&!hi($e)&&h(H,$e,null,Ee[$e],q,ee);"value"in Ee&&h(H,"value",null,Ee.value,q),(ie=Ee.onVnodeBeforeMount)&&$n(ie,ee,T)}Se&&Xr(T,null,ee,"beforeMount");const ke=dp(j,Te);ke&&Te.beforeEnter(H),l(H,N,F),((ie=Ee&&Ee.onVnodeMounted)||ke||Se)&&ln(()=>{ie&&$n(ie,ee,T),ke&&Te.enter(H),Se&&Xr(T,null,ee,"mounted")},j)},P=(T,N,F,ee,j)=>{if(F&&O(T,F),ee)for(let q=0;q<ee.length;q++)O(T,ee[q]);if(j){let q=j.subTree;if(N===q){const te=j.vnode;P(T,te,te.scopeId,te.slotScopeIds,j.parent)}}},Z=(T,N,F,ee,j,q,te,fe,H=0)=>{for(let ie=H;ie<T.length;ie++){const Ee=T[ie]=fe?Cr(T[ie]):zn(T[ie]);D(null,Ee,N,F,ee,j,q,te,fe)}},V=(T,N,F,ee,j,q,te)=>{const fe=N.el=T.el;let{patchFlag:H,dynamicChildren:ie,dirs:Ee}=N;H|=T.patchFlag&16;const _e=T.props||At,Te=N.props||At;let Se;if(F&&jr(F,!1),(Se=Te.onVnodeBeforeUpdate)&&$n(Se,F,N,T),Ee&&Xr(N,T,F,"beforeUpdate"),F&&jr(F,!0),(_e.innerHTML&&Te.innerHTML==null||_e.textContent&&Te.textContent==null)&&_(fe,""),ie?me(T.dynamicChildren,ie,fe,F,ee,La(N,j),q):te||He(T,N,fe,null,F,ee,La(N,j),q,!1),H>0){if(H&16)ye(fe,_e,Te,F,j);else if(H&2&&_e.class!==Te.class&&h(fe,"class",null,Te.class,j),H&4&&h(fe,"style",_e.style,Te.style,j),H&8){const ke=N.dynamicProps;for(let $e=0;$e<ke.length;$e++){const Be=ke[$e],Nt=_e[Be],zt=Te[Be];(zt!==Nt||Be==="value")&&h(fe,Be,Nt,zt,j,F)}}H&1&&T.children!==N.children&&_(fe,N.children)}else!te&&ie==null&&ye(fe,_e,Te,F,j);((Se=Te.onVnodeUpdated)||Ee)&&ln(()=>{Se&&$n(Se,F,N,T),Ee&&Xr(N,T,F,"updated")},ee)},me=(T,N,F,ee,j,q,te)=>{for(let fe=0;fe<N.length;fe++){const H=T[fe],ie=N[fe],Ee=H.el&&(H.type===yn||!ii(H,ie)||H.shapeFlag&70)?C(H.el):F;D(H,ie,Ee,null,ee,j,q,te,!0)}},ye=(T,N,F,ee,j)=>{if(N!==F){if(N!==At)for(const q in N)!hi(q)&&!(q in F)&&h(T,q,N[q],null,j,ee);for(const q in F){if(hi(q))continue;const te=F[q],fe=N[q];te!==fe&&q!=="value"&&h(T,q,fe,te,j,ee)}"value"in F&&h(T,"value",N.value,F.value,j)}},de=(T,N,F,ee,j,q,te,fe,H)=>{const ie=N.el=T?T.el:m(""),Ee=N.anchor=T?T.anchor:m("");let{patchFlag:_e,dynamicChildren:Te,slotScopeIds:Se}=N;Se&&(fe=fe?fe.concat(Se):Se),T==null?(l(ie,F,ee),l(Ee,F,ee),Z(N.children||[],F,Ee,j,q,te,fe,H)):_e>0&&_e&64&&Te&&T.dynamicChildren?(me(T.dynamicChildren,Te,F,j,q,te,fe),(N.key!=null||j&&N===j.subTree)&&ch(T,N,!0)):He(T,N,F,Ee,j,q,te,fe,H)},ve=(T,N,F,ee,j,q,te,fe,H)=>{N.slotScopeIds=fe,T==null?N.shapeFlag&512?j.ctx.activate(N,F,ee,te,H):qe(N,F,ee,j,q,te,H):X(T,N,H)},qe=(T,N,F,ee,j,q,te)=>{const fe=T.component=Mp(T,ee,j);if(Y1(T)&&(fe.ctx.renderer=Ce),Lp(fe,!1,te),fe.asyncDep){if(j&&j.registerDep(fe,Ie,te),!T.el){const H=fe.subTree=Mt(rs);ne(null,H,N,F)}}else Ie(fe,T,N,F,j,q,te)},X=(T,N,F)=>{const ee=N.component=T.component;if(bp(T,N,F))if(ee.asyncDep&&!ee.asyncResolved){le(ee,N,F);return}else ee.next=N,Rg(ee.update),ee.effect.dirty=!0,ee.update();else N.el=T.el,ee.vnode=N},Ie=(T,N,F,ee,j,q,te)=>{const fe=()=>{if(T.isMounted){let{next:Ee,bu:_e,u:Te,parent:Se,vnode:ke}=T;{const cr=uh(T);if(cr){Ee&&(Ee.el=ke.el,le(T,Ee,te)),cr.asyncDep.then(()=>{T.isUnmounted||fe()});return}}let $e=Ee,Be;jr(T,!1),Ee?(Ee.el=ke.el,le(T,Ee,te)):Ee=ke,_e&&ao(_e),(Be=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&$n(Be,Se,Ee,ke),jr(T,!0);const Nt=Pa(T),zt=T.subTree;T.subTree=Nt,D(zt,Nt,C(zt.el),K(zt),T,j,q),Ee.el=Nt.el,$e===null&&Cp(T,Nt.el),Te&&ln(Te,j),(Be=Ee.props&&Ee.props.onVnodeUpdated)&&ln(()=>$n(Be,Se,Ee,ke),j)}else{let Ee;const{el:_e,props:Te}=N,{bm:Se,m:ke,parent:$e}=T,Be=co(N);if(jr(T,!1),Se&&ao(Se),!Be&&(Ee=Te&&Te.onVnodeBeforeMount)&&$n(Ee,$e,N),jr(T,!0),_e&&st){const Nt=()=>{T.subTree=Pa(T),st(_e,T.subTree,T,j,null)};Be?N.type.__asyncLoader().then(()=>!T.isUnmounted&&Nt()):Nt()}else{const Nt=T.subTree=Pa(T);D(null,Nt,F,ee,T,j,q),N.el=Nt.el}if(ke&&ln(ke,j),!Be&&(Ee=Te&&Te.onVnodeMounted)){const Nt=N;ln(()=>$n(Ee,$e,Nt),j)}(N.shapeFlag&256||$e&&co($e.vnode)&&$e.vnode.shapeFlag&256)&&T.a&&ln(T.a,j),T.isMounted=!0,N=F=ee=null}},H=T.effect=new zl(fe,Tn,()=>rc(ie),T.scope),ie=T.update=()=>{H.dirty&&H.run()};ie.i=T,ie.id=T.uid,jr(T,!0),ie()},le=(T,N,F)=>{N.component=T;const ee=T.vnode.props;T.vnode=N,T.next=null,sp(T,N.props,ee,F),lp(T,N.children,F),Mr(),uu(T),Lr()},He=(T,N,F,ee,j,q,te,fe,H=!1)=>{const ie=T&&T.children,Ee=T?T.shapeFlag:0,_e=N.children,{patchFlag:Te,shapeFlag:Se}=N;if(Te>0){if(Te&128){Tt(ie,_e,F,ee,j,q,te,fe,H);return}else if(Te&256){dt(ie,_e,F,ee,j,q,te,fe,H);return}}Se&8?(Ee&16&&we(ie,j,q),_e!==ie&&_(F,_e)):Ee&16?Se&16?Tt(ie,_e,F,ee,j,q,te,fe,H):we(ie,j,q,!0):(Ee&8&&_(F,""),Se&16&&Z(_e,F,ee,j,q,te,fe,H))},dt=(T,N,F,ee,j,q,te,fe,H)=>{T=T||Is,N=N||Is;const ie=T.length,Ee=N.length,_e=Math.min(ie,Ee);let Te;for(Te=0;Te<_e;Te++){const Se=N[Te]=H?Cr(N[Te]):zn(N[Te]);D(T[Te],Se,F,null,j,q,te,fe,H)}ie>Ee?we(T,j,q,!0,!1,_e):Z(N,F,ee,j,q,te,fe,H,_e)},Tt=(T,N,F,ee,j,q,te,fe,H)=>{let ie=0;const Ee=N.length;let _e=T.length-1,Te=Ee-1;for(;ie<=_e&&ie<=Te;){const Se=T[ie],ke=N[ie]=H?Cr(N[ie]):zn(N[ie]);if(ii(Se,ke))D(Se,ke,F,null,j,q,te,fe,H);else break;ie++}for(;ie<=_e&&ie<=Te;){const Se=T[_e],ke=N[Te]=H?Cr(N[Te]):zn(N[Te]);if(ii(Se,ke))D(Se,ke,F,null,j,q,te,fe,H);else break;_e--,Te--}if(ie>_e){if(ie<=Te){const Se=Te+1,ke=Se<Ee?N[Se].el:ee;for(;ie<=Te;)D(null,N[ie]=H?Cr(N[ie]):zn(N[ie]),F,ke,j,q,te,fe,H),ie++}}else if(ie>Te)for(;ie<=_e;)ze(T[ie],j,q,!0),ie++;else{const Se=ie,ke=ie,$e=new Map;for(ie=ke;ie<=Te;ie++){const We=N[ie]=H?Cr(N[ie]):zn(N[ie]);We.key!=null&&$e.set(We.key,ie)}let Be,Nt=0;const zt=Te-ke+1;let cr=!1,bt=0;const ge=new Array(zt);for(ie=0;ie<zt;ie++)ge[ie]=0;for(ie=Se;ie<=_e;ie++){const We=T[ie];if(Nt>=zt){ze(We,j,q,!0);continue}let Ze;if(We.key!=null)Ze=$e.get(We.key);else for(Be=ke;Be<=Te;Be++)if(ge[Be-ke]===0&&ii(We,N[Be])){Ze=Be;break}Ze===void 0?ze(We,j,q,!0):(ge[Ze-ke]=ie+1,Ze>=bt?bt=Ze:cr=!0,D(We,N[Ze],F,null,j,q,te,fe,H),Nt++)}const vt=cr?gp(ge):Is;for(Be=vt.length-1,ie=zt-1;ie>=0;ie--){const We=ke+ie,Ze=N[We],ur=We+1<Ee?N[We+1].el:ee;ge[ie]===0?D(null,Ze,F,ur,j,q,te,fe,H):cr&&(Be<0||ie!==vt[Be]?Ht(Ze,F,ur,2):Be--)}}},Ht=(T,N,F,ee,j=null)=>{const{el:q,type:te,transition:fe,children:H,shapeFlag:ie}=T;if(ie&6){Ht(T.component.subTree,N,F,ee);return}if(ie&128){T.suspense.move(N,F,ee);return}if(ie&64){te.move(T,N,F,Ce);return}if(te===yn){l(q,N,F);for(let _e=0;_e<H.length;_e++)Ht(H[_e],N,F,ee);l(T.anchor,N,F);return}if(te===fo){U(T,N,F);return}if(ee!==2&&ie&1&&fe)if(ee===0)fe.beforeEnter(q),l(q,N,F),ln(()=>fe.enter(q),j);else{const{leave:_e,delayLeave:Te,afterLeave:Se}=fe,ke=()=>l(q,N,F),$e=()=>{_e(q,()=>{ke(),Se&&Se()})};Te?Te(q,ke,$e):$e()}else l(q,N,F)},ze=(T,N,F,ee=!1,j=!1)=>{const{type:q,props:te,ref:fe,children:H,dynamicChildren:ie,shapeFlag:Ee,patchFlag:_e,dirs:Te,cacheIndex:Se}=T;if(_e===-2&&(j=!1),fe!=null&&xl(fe,null,F,T,!0),Se!=null&&(N.renderCache[Se]=void 0),Ee&256){N.ctx.deactivate(T);return}const ke=Ee&1&&Te,$e=!co(T);let Be;if($e&&(Be=te&&te.onVnodeBeforeUnmount)&&$n(Be,N,T),Ee&6)Wt(T.component,F,ee);else{if(Ee&128){T.suspense.unmount(F,ee);return}ke&&Xr(T,null,N,"beforeUnmount"),Ee&64?T.type.remove(T,N,F,Ce,ee):ie&&!ie.hasOnce&&(q!==yn||_e>0&&_e&64)?we(ie,N,F,!1,!0):(q===yn&&_e&384||!j&&Ee&16)&&we(H,N,F),ee&&Lt(T)}($e&&(Be=te&&te.onVnodeUnmounted)||ke)&&ln(()=>{Be&&$n(Be,N,T),ke&&Xr(T,null,N,"unmounted")},F)},Lt=T=>{const{type:N,el:F,anchor:ee,transition:j}=T;if(N===yn){ot(F,ee);return}if(N===fo){J(T);return}const q=()=>{u(F),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(T.shapeFlag&1&&j&&!j.persisted){const{leave:te,delayLeave:fe}=j,H=()=>te(F,q);fe?fe(T.el,q,H):H()}else q()},ot=(T,N)=>{let F;for(;T!==N;)F=I(T),u(T),T=F;u(N)},Wt=(T,N,F)=>{const{bum:ee,scope:j,update:q,subTree:te,um:fe,m:H,a:ie}=T;_u(H),_u(ie),ee&&ao(ee),j.stop(),q&&(q.active=!1,ze(te,T,N,F)),fe&&ln(fe,N),ln(()=>{T.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},we=(T,N,F,ee=!1,j=!1,q=0)=>{for(let te=q;te<T.length;te++)ze(T[te],N,F,ee,j)},K=T=>{if(T.shapeFlag&6)return K(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const N=I(T.anchor||T.el),F=N&&N[cp];return F?I(F):N};let ce=!1;const pe=(T,N,F)=>{T==null?N._vnode&&ze(N._vnode,null,null,!0):D(N._vnode||null,T,N,null,null,null,F),ce||(ce=!0,uu(),H1(),ce=!1),N._vnode=T},Ce={p:D,um:ze,m:Ht,r:Lt,mt:qe,mc:Z,pc:He,pbc:me,n:K,o:n};let Pe,st;return{render:pe,hydrate:Pe,createApp:tp(pe,Pe)}}function La({type:n,props:t},i){return i==="svg"&&n==="foreignObject"||i==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function jr({effect:n,update:t},i){n.allowRecurse=t.allowRecurse=i}function dp(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function ch(n,t,i=!1){const l=n.children,u=t.children;if(Me(l)&&Me(u))for(let h=0;h<l.length;h++){const g=l[h];let m=u[h];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[h]=Cr(u[h]),m.el=g.el),!i&&m.patchFlag!==-2&&ch(g,m)),m.type===Xo&&(m.el=g.el)}}function gp(n){const t=n.slice(),i=[0];let l,u,h,g,m;const E=n.length;for(l=0;l<E;l++){const x=n[l];if(x!==0){if(u=i[i.length-1],n[u]<x){t[l]=u,i.push(l);continue}for(h=0,g=i.length-1;h<g;)m=h+g>>1,n[i[m]]<x?h=m+1:g=m;x<n[i[h]]&&(h>0&&(t[l]=i[h-1]),i[h]=l)}}for(h=i.length,g=i[h-1];h-- >0;)i[h]=g,g=t[g];return i}function uh(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:uh(t)}function _u(n){if(n)for(let t=0;t<n.length;t++)n[t].active=!1}const pp=Symbol.for("v-scx"),mp=()=>vn(pp),Ji={};function gi(n,t,i){return fh(n,t,i)}function fh(n,t,{immediate:i,deep:l,flush:u,once:h,onTrack:g,onTrigger:m}=At){if(t&&h){const Y=t;t=(...P)=>{Y(...P),xe()}}const E=$t,x=Y=>l===!0?Y:vr(Y,l===!1?1:void 0);let _,C=!1,I=!1;if(pt(n)?(_=()=>n.value,C=Ms(n)):Jr(n)?(_=()=>x(n),C=!0):Me(n)?(I=!0,C=n.some(Y=>Jr(Y)||Ms(Y)),_=()=>n.map(Y=>{if(pt(Y))return Y.value;if(Jr(Y))return x(Y);if(Ve(Y))return Ir(Y,E,2)})):Ve(n)?t?_=()=>Ir(n,E,2):_=()=>(O&&O(),Ln(n,E,3,[L])):_=Tn,t&&l){const Y=_;_=()=>vr(Y())}let O,L=Y=>{O=U.onStop=()=>{Ir(Y,E,4),O=U.onStop=void 0}},D;if(jo)if(L=Tn,t?i&&Ln(t,E,3,[_(),I?[]:void 0,L]):_(),u==="sync"){const Y=mp();D=Y.__watcherHandles||(Y.__watcherHandles=[])}else return Tn;let z=I?new Array(n.length).fill(Ji):Ji;const ne=()=>{if(!(!U.active||!U.dirty))if(t){const Y=U.run();(l||C||(I?Y.some((P,Z)=>Or(P,z[Z])):Or(Y,z)))&&(O&&O(),Ln(t,E,3,[Y,z===Ji?void 0:I&&z[0]===Ji?[]:z,L]),z=Y)}else U.run()};ne.allowRecurse=!!t;let Q;u==="sync"?Q=ne:u==="post"?Q=()=>ln(ne,E&&E.suspense):(ne.pre=!0,E&&(ne.id=E.uid),Q=()=>rc(ne));const U=new zl(_,Tn,Q),J=_1(),xe=()=>{U.stop(),J&&Xl(J.effects,U)};return t?i?ne():z=U.run():u==="post"?ln(U.run.bind(U),E&&E.suspense):U.run(),D&&D.push(xe),xe}function xp(n,t,i){const l=this.proxy,u=kt(n)?n.includes(".")?hh(l,n):()=>l[n]:n.bind(l,l);let h;Ve(t)?h=t:(h=t.handler,i=t);const g=Ri(this),m=fh(u,h.bind(l),i);return g(),m}function hh(n,t){const i=t.split(".");return()=>{let l=n;for(let u=0;u<i.length&&l;u++)l=l[i[u]];return l}}function vr(n,t=1/0,i){if(t<=0||!mt(n)||n.__v_skip||(i=i||new Set,i.has(n)))return n;if(i.add(n),t--,pt(n))vr(n.value,t,i);else if(Me(n))for(let l=0;l<n.length;l++)vr(n[l],t,i);else if(Po(n)||Os(n))n.forEach(l=>{vr(l,t,i)});else if(f1(n)){for(const l in n)vr(n[l],t,i);for(const l of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,l)&&vr(n[l],t,i)}return n}const Ep=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${Bn(t)}Modifiers`]||n[`${as(t)}Modifiers`];function wp(n,t,...i){if(n.isUnmounted)return;const l=n.vnode.props||At;let u=i;const h=t.startsWith("update:"),g=h&&Ep(l,t.slice(7));g&&(g.trim&&(u=i.map(_=>kt(_)?_.trim():_)),g.number&&(u=i.map(al)));let m,E=l[m=Ra(t)]||l[m=Ra(Bn(t))];!E&&h&&(E=l[m=Ra(as(t))]),E&&Ln(E,n,6,u);const x=l[m+"Once"];if(x){if(!n.emitted)n.emitted={};else if(n.emitted[m])return;n.emitted[m]=!0,Ln(x,n,6,u)}}function dh(n,t,i=!1){const l=t.emitsCache,u=l.get(n);if(u!==void 0)return u;const h=n.emits;let g={},m=!1;if(!Ve(n)){const E=x=>{const _=dh(x,t,!0);_&&(m=!0,Zt(g,_))};!i&&t.mixins.length&&t.mixins.forEach(E),n.extends&&E(n.extends),n.mixins&&n.mixins.forEach(E)}return!h&&!m?(mt(n)&&l.set(n,null),null):(Me(h)?h.forEach(E=>g[E]=null):Zt(g,h),mt(n)&&l.set(n,g),g)}function Go(n,t){return!n||!Lo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(n,t[0].toLowerCase()+t.slice(1))||Je(n,as(t))||Je(n,t))}function Pa(n){const{type:t,vnode:i,proxy:l,withProxy:u,propsOptions:[h],slots:g,attrs:m,emit:E,render:x,renderCache:_,props:C,data:I,setupState:O,ctx:L,inheritAttrs:D}=n,z=Ao(n);let ne,Q;try{if(i.shapeFlag&4){const J=u||l,xe=J;ne=zn(x.call(xe,J,_,C,O,I,L)),Q=m}else{const J=t;ne=zn(J.length>1?J(C,{attrs:m,slots:g,emit:E}):J(C,null)),Q=t.props?m:_p(m)}}catch(J){pi.length=0,Vo(J,n,1),ne=Mt(rs)}let U=ne;if(Q&&D!==!1){const J=Object.keys(Q),{shapeFlag:xe}=U;J.length&&xe&7&&(h&&J.some(Gl)&&(Q=Ap(Q,h)),U=Ls(U,Q,!1,!0))}return i.dirs&&(U=Ls(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(i.dirs):i.dirs),i.transition&&(U.transition=i.transition),ne=U,Ao(z),ne}const _p=n=>{let t;for(const i in n)(i==="class"||i==="style"||Lo(i))&&((t||(t={}))[i]=n[i]);return t},Ap=(n,t)=>{const i={};for(const l in n)(!Gl(l)||!(l.slice(9)in t))&&(i[l]=n[l]);return i};function bp(n,t,i){const{props:l,children:u,component:h}=n,{props:g,children:m,patchFlag:E}=t,x=h.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&E>=0){if(E&1024)return!0;if(E&16)return l?Au(l,g,x):!!g;if(E&8){const _=t.dynamicProps;for(let C=0;C<_.length;C++){const I=_[C];if(g[I]!==l[I]&&!Go(x,I))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:l===g?!1:l?g?Au(l,g,x):!0:!!g;return!1}function Au(n,t,i){const l=Object.keys(t);if(l.length!==Object.keys(n).length)return!0;for(let u=0;u<l.length;u++){const h=l[u];if(t[h]!==n[h]&&!Go(i,h))return!0}return!1}function Cp({vnode:n,parent:t},i){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===n&&(l.el=n.el),l===n)(n=t.vnode).el=i,t=t.parent;else break}}const yp=n=>n.__isSuspense;function Tp(n,t){t&&t.pendingBranch?Me(n)?t.effects.push(...n):t.effects.push(n):Dg(n)}const yn=Symbol.for("v-fgt"),Xo=Symbol.for("v-txt"),rs=Symbol.for("v-cmt"),fo=Symbol.for("v-stc"),pi=[];let mn=null;function ct(n=!1){pi.push(mn=n?null:[])}function vp(){pi.pop(),mn=pi[pi.length-1]||null}let yi=1;function bu(n){yi+=n,n<0&&mn&&(mn.hasOnce=!0)}function gh(n){return n.dynamicChildren=yi>0?mn||Is:null,vp(),yi>0&&mn&&mn.push(n),n}function ht(n,t,i,l,u,h){return gh(se(n,t,i,l,u,h,!0))}function Sp(n,t,i,l,u){return gh(Mt(n,t,i,l,u,!0))}function El(n){return n?n.__v_isVNode===!0:!1}function ii(n,t){return n.type===t.type&&n.key===t.key}const ph=({key:n})=>n??null,ho=({ref:n,ref_key:t,ref_for:i})=>(typeof n=="number"&&(n=""+n),n!=null?kt(n)||pt(n)||Ve(n)?{i:un,r:n,k:t,f:!!i}:n:null);function se(n,t=null,i=null,l=0,u=null,h=n===yn?0:1,g=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&ph(t),ref:t&&ho(t),scopeId:Ho,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:l,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:un};return m?(ac(E,i),h&128&&n.normalize(E)):i&&(E.shapeFlag|=kt(i)?8:16),yi>0&&!g&&mn&&(E.patchFlag>0||h&6)&&E.patchFlag!==32&&mn.push(E),E}const Mt=Ip;function Ip(n,t=null,i=null,l=0,u=null,h=!1){if((!n||n===jg)&&(n=rs),El(n)){const m=Ls(n,t,!0);return i&&ac(m,i),yi>0&&!h&&mn&&(m.shapeFlag&6?mn[mn.indexOf(n)]=m:mn.push(m)),m.patchFlag=-2,m}if(Up(n)&&(n=n.__vccOpts),t){t=Op(t);let{class:m,style:E}=t;m&&!kt(m)&&(t.class=Vt(m)),mt(E)&&(L1(E)&&!Me(E)&&(E=Zt({},E)),t.style=$l(E))}const g=kt(n)?1:yp(n)?128:up(n)?64:mt(n)?4:Ve(n)?2:0;return se(n,t,i,l,u,g,h,!0)}function Op(n){return n?L1(n)||nh(n)?Zt({},n):n:null}function Ls(n,t,i=!1,l=!1){const{props:u,ref:h,patchFlag:g,children:m,transition:E}=n,x=t?Np(u||{},t):u,_={__v_isVNode:!0,__v_skip:!0,type:n.type,props:x,key:x&&ph(x),ref:t&&t.ref?i&&h?Me(h)?h.concat(ho(t)):[h,ho(t)]:ho(t):h,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:m,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==yn?g===-1?16:g|16:g,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:E,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ls(n.ssContent),ssFallback:n.ssFallback&&Ls(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return E&&l&&$1(_,E.clone(_)),_}function wl(n=" ",t=0){return Mt(Xo,null,n,t)}function mh(n,t){const i=Mt(fo,null,n);return i.staticCount=t,i}function Kn(n="",t=!1){return t?(ct(),Sp(rs,null,n)):Mt(rs,null,n)}function zn(n){return n==null||typeof n=="boolean"?Mt(rs):Me(n)?Mt(yn,null,n.slice()):typeof n=="object"?Cr(n):Mt(Xo,null,String(n))}function Cr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ls(n)}function ac(n,t){let i=0;const{shapeFlag:l}=n;if(t==null)t=null;else if(Me(t))i=16;else if(typeof t=="object")if(l&65){const u=t.default;u&&(u._c&&(u._d=!1),ac(n,u()),u._c&&(u._d=!0));return}else{i=32;const u=t._;!u&&!nh(t)?t._ctx=un:u===3&&un&&(un.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:un},i=32):(t=String(t),l&64?(i=16,t=[wl(t)]):i=8);n.children=t,n.shapeFlag|=i}function Np(...n){const t={};for(let i=0;i<n.length;i++){const l=n[i];for(const u in l)if(u==="class")t.class!==l.class&&(t.class=Vt([t.class,l.class]));else if(u==="style")t.style=$l([t.style,l.style]);else if(Lo(u)){const h=t[u],g=l[u];g&&h!==g&&!(Me(h)&&h.includes(g))&&(t[u]=h?[].concat(h,g):g)}else u!==""&&(t[u]=l[u])}return t}function $n(n,t,i,l=null){Ln(n,t,7,[i,l])}const Rp=J1();let Dp=0;function Mp(n,t,i){const l=n.type,u=(t?t.appContext:n.appContext)||Rp,h={uid:Dp++,vnode:n,type:l,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new E1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sh(l,u),emitsOptions:dh(l,u),emit:null,emitted:null,propsDefaults:At,inheritAttrs:l.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=t?t.root:h,h.emit=wp.bind(null,h),n.ce&&n.ce(h),h}let $t=null,Co,_l;{const n=d1(),t=(i,l)=>{let u;return(u=n[i])||(u=n[i]=[]),u.push(l),h=>{u.length>1?u.forEach(g=>g(h)):u[0](h)}};Co=t("__VUE_INSTANCE_SETTERS__",i=>$t=i),_l=t("__VUE_SSR_SETTERS__",i=>jo=i)}const Ri=n=>{const t=$t;return Co(n),n.scope.on(),()=>{n.scope.off(),Co(t)}},Cu=()=>{$t&&$t.scope.off(),Co(null)};function xh(n){return n.vnode.shapeFlag&4}let jo=!1;function Lp(n,t=!1,i=!1){t&&_l(t);const{props:l,children:u}=n.vnode,h=xh(n);rp(n,l,h,t),ap(n,u,i);const g=h?Pp(n,t):void 0;return t&&_l(!1),g}function Pp(n,t){const i=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Yg);const{setup:l}=i;if(l){const u=n.setupContext=l.length>1?kp(n):null,h=Ri(n);Mr();const g=Ir(l,n,0,[n.props,u]);if(Lr(),h(),c1(g)){if(g.then(Cu,Cu),t)return g.then(m=>{yu(n,m,t)}).catch(m=>{Vo(m,n,0)});n.asyncDep=g}else yu(n,g,t)}else Eh(n,t)}function yu(n,t,i){Ve(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:mt(t)&&(n.setupState=F1(t)),Eh(n,i)}let Tu;function Eh(n,t,i){const l=n.type;if(!n.render){if(!t&&Tu&&!l.render){const u=l.template||ic(n).template;if(u){const{isCustomElement:h,compilerOptions:g}=n.appContext.config,{delimiters:m,compilerOptions:E}=l,x=Zt(Zt({isCustomElement:h,delimiters:m},g),E);l.render=Tu(u,x)}}n.render=l.render||Tn}{const u=Ri(n);Mr();try{Kg(n)}finally{Lr(),u()}}}const Bp={get(n,t){return hn(n,"get",""),n[t]}};function kp(n){const t=i=>{n.exposed=i||{}};return{attrs:new Proxy(n.attrs,Bp),slots:n.slots,emit:n.emit,expose:t}}function $o(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(F1(Jl(n.exposed)),{get(t,i){if(i in t)return t[i];if(i in di)return di[i](n)},has(t,i){return i in t||i in di}})):n.proxy}function Fp(n,t=!0){return Ve(n)?n.displayName||n.name:n.name||t&&n.__name}function Up(n){return Ve(n)&&"__vccOpts"in n}const Dt=(n,t)=>bg(n,t,jo);function wh(n,t,i){const l=arguments.length;return l===2?mt(t)&&!Me(t)?El(t)?Mt(n,null,[t]):Mt(n,t):Mt(n,null,t):(l>3?i=Array.prototype.slice.call(arguments,2):l===3&&El(i)&&(i=[i]),Mt(n,t,i))}const Vp="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hp="http://www.w3.org/2000/svg",Wp="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,vu=nr&&nr.createElement("template"),Gp={insert:(n,t,i)=>{t.insertBefore(n,i||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,i,l)=>{const u=t==="svg"?nr.createElementNS(Hp,n):t==="mathml"?nr.createElementNS(Wp,n):i?nr.createElement(n,{is:i}):nr.createElement(n);return n==="select"&&l&&l.multiple!=null&&u.setAttribute("multiple",l.multiple),u},createText:n=>nr.createTextNode(n),createComment:n=>nr.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>nr.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,i,l,u,h){const g=i?i.previousSibling:t.lastChild;if(u&&(u===h||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),i),!(u===h||!(u=u.nextSibling)););else{vu.innerHTML=l==="svg"?`<svg>${n}</svg>`:l==="mathml"?`<math>${n}</math>`:n;const m=vu.content;if(l==="svg"||l==="mathml"){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}t.insertBefore(m,i)}return[g?g.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Xp=Symbol("_vtc");function jp(n,t,i){const l=n[Xp];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?n.removeAttribute("class"):i?n.setAttribute("class",t):n.className=t}const Su=Symbol("_vod"),$p=Symbol("_vsh"),zp=Symbol(""),Yp=/(^|;)\s*display\s*:/;function Kp(n,t,i){const l=n.style,u=kt(i);let h=!1;if(i&&!u){if(t)if(kt(t))for(const g of t.split(";")){const m=g.slice(0,g.indexOf(":")).trim();i[m]==null&&go(l,m,"")}else for(const g in t)i[g]==null&&go(l,g,"");for(const g in i)g==="display"&&(h=!0),go(l,g,i[g])}else if(u){if(t!==i){const g=l[zp];g&&(i+=";"+g),l.cssText=i,h=Yp.test(i)}}else t&&n.removeAttribute("style");Su in n&&(n[Su]=h?l.display:"",n[$p]&&(l.display="none"))}const Iu=/\s*!important$/;function go(n,t,i){if(Me(i))i.forEach(l=>go(n,t,l));else if(i==null&&(i=""),t.startsWith("--"))n.setProperty(t,i);else{const l=qp(n,t);Iu.test(i)?n.setProperty(as(l),i.replace(Iu,""),"important"):n[l]=i}}const Ou=["Webkit","Moz","ms"],Ba={};function qp(n,t){const i=Ba[t];if(i)return i;let l=Bn(t);if(l!=="filter"&&l in n)return Ba[t]=l;l=ko(l);for(let u=0;u<Ou.length;u++){const h=Ou[u]+l;if(h in n)return Ba[t]=h}return t}const Nu="http://www.w3.org/1999/xlink";function Ru(n,t,i,l,u,h=Qd(t)){l&&t.startsWith("xlink:")?i==null?n.removeAttributeNS(Nu,t.slice(6,t.length)):n.setAttributeNS(Nu,t,i):i==null||h&&!g1(i)?n.removeAttribute(t):n.setAttribute(t,h?"":Qn(i)?String(i):i)}function Zp(n,t,i,l){if(t==="innerHTML"||t==="textContent"){if(i==null)return;n[t]=i;return}const u=n.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const g=u==="OPTION"?n.getAttribute("value")||"":n.value,m=i==null?"":String(i);(g!==m||!("_value"in n))&&(n.value=m),i==null&&n.removeAttribute(t),n._value=i;return}let h=!1;if(i===""||i==null){const g=typeof n[t];g==="boolean"?i=g1(i):i==null&&g==="string"?(i="",h=!0):g==="number"&&(i=0,h=!0)}try{n[t]=i}catch{}h&&n.removeAttribute(t)}function zr(n,t,i,l){n.addEventListener(t,i,l)}function Qp(n,t,i,l){n.removeEventListener(t,i,l)}const Du=Symbol("_vei");function Jp(n,t,i,l,u=null){const h=n[Du]||(n[Du]={}),g=h[t];if(l&&g)g.value=l;else{const[m,E]=e2(t);if(l){const x=h[t]=r2(l,u);zr(n,m,x,E)}else g&&(Qp(n,m,g,E),h[t]=void 0)}}const Mu=/(?:Once|Passive|Capture)$/;function e2(n){let t;if(Mu.test(n)){t={};let l;for(;l=n.match(Mu);)n=n.slice(0,n.length-l[0].length),t[l[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):as(n.slice(2)),t]}let ka=0;const t2=Promise.resolve(),n2=()=>ka||(t2.then(()=>ka=0),ka=Date.now());function r2(n,t){const i=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=i.attached)return;Ln(s2(l,i.value),t,5,[l])};return i.value=n,i.attached=n2(),i}function s2(n,t){if(Me(t)){const i=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{i.call(n),n._stopped=!0},t.map(l=>u=>!u._stopped&&l&&l(u))}else return t}const Lu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,i2=(n,t,i,l,u,h)=>{const g=u==="svg";t==="class"?jp(n,l,g):t==="style"?Kp(n,i,l):Lo(t)?Gl(t)||Jp(n,t,i,l,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):o2(n,t,l,g))?(Zp(n,t,l),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ru(n,t,l,g,h,t!=="value")):(t==="true-value"?n._trueValue=l:t==="false-value"&&(n._falseValue=l),Ru(n,t,l,g))};function o2(n,t,i,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in n&&Lu(t)&&Ve(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const u=n.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return Lu(t)&&kt(i)?!1:t in n}const yo=n=>{const t=n.props["onUpdate:modelValue"]||!1;return Me(t)?i=>ao(t,i):t};function a2(n){n.target.composing=!0}function Pu(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ds=Symbol("_assign"),Yr={created(n,{modifiers:{lazy:t,trim:i,number:l}},u){n[Ds]=yo(u);const h=l||u.props&&u.props.type==="number";zr(n,t?"change":"input",g=>{if(g.target.composing)return;let m=n.value;i&&(m=m.trim()),h&&(m=al(m)),n[Ds](m)}),i&&zr(n,"change",()=>{n.value=n.value.trim()}),t||(zr(n,"compositionstart",a2),zr(n,"compositionend",Pu),zr(n,"change",Pu))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:i,modifiers:{lazy:l,trim:u,number:h}},g){if(n[Ds]=yo(g),n.composing)return;const m=(h||n.type==="number")&&!/^0\d/.test(n.value)?al(n.value):n.value,E=t??"";m!==E&&(document.activeElement===n&&n.type!=="range"&&(l&&t===i||u&&n.value.trim()===E)||(n.value=E))}},l2={deep:!0,created(n,t,i){n[Ds]=yo(i),zr(n,"change",()=>{const l=n._modelValue,u=c2(n),h=n.checked,g=n[Ds];if(Me(l)){const m=p1(l,u),E=m!==-1;if(h&&!E)g(l.concat(u));else if(!h&&E){const x=[...l];x.splice(m,1),g(x)}}else if(Po(l)){const m=new Set(l);h?m.add(u):m.delete(u),g(m)}else g(_h(n,h))})},mounted:Bu,beforeUpdate(n,t,i){n[Ds]=yo(i),Bu(n,t,i)}};function Bu(n,{value:t,oldValue:i},l){n._modelValue=t,Me(t)?n.checked=p1(t,l.props.value)>-1:Po(t)?n.checked=t.has(l.props.value):t!==i&&(n.checked=Fo(t,_h(n,!0)))}function c2(n){return"_value"in n?n._value:n.value}function _h(n,t){const i=t?"_trueValue":"_falseValue";return i in n?n[i]:t}const u2=["ctrl","shift","alt","meta"],f2={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>u2.some(i=>n[`${i}Key`]&&!t.includes(i))},Ah=(n,t)=>{const i=n._withMods||(n._withMods={}),l=t.join(".");return i[l]||(i[l]=(u,...h)=>{for(let g=0;g<t.length;g++){const m=f2[t[g]];if(m&&m(u,t))return}return n(u,...h)})},h2=Zt({patchProp:i2},Gp);let ku;function d2(){return ku||(ku=fp(h2))}const g2=(...n)=>{const t=d2().createApp(...n),{mount:i}=t;return t.mount=l=>{const u=m2(l);if(!u)return;const h=t._component;!Ve(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.innerHTML="";const g=i(u,!1,p2(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),g},t};function p2(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function m2(n){return kt(n)?document.querySelector(n):n}const x2="/Earth_Game/SSC_logo.png";var E2=!1;/*!
 * pinia v2.2.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let bh;const zo=n=>bh=n,Ch=Symbol();function Al(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var mi;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(mi||(mi={}));function w2(){const n=w1(!0),t=n.run(()=>je({}));let i=[],l=[];const u=Jl({install(h){zo(u),u._a=h,h.provide(Ch,u),h.config.globalProperties.$pinia=u,l.forEach(g=>i.push(g)),l=[]},use(h){return!this._a&&!E2?l.push(h):i.push(h),this},_p:i,_a:null,_e:n,_s:new Map,state:t});return u}const yh=()=>{};function Fu(n,t,i,l=yh){n.push(t);const u=()=>{const h=n.indexOf(t);h>-1&&(n.splice(h,1),l())};return!i&&_1()&&tg(u),u}function ws(n,...t){n.slice().forEach(i=>{i(...t)})}const _2=n=>n(),Uu=Symbol(),Fa=Symbol();function bl(n,t){n instanceof Map&&t instanceof Map?t.forEach((i,l)=>n.set(l,i)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const i in t){if(!t.hasOwnProperty(i))continue;const l=t[i],u=n[i];Al(u)&&Al(l)&&n.hasOwnProperty(i)&&!pt(l)&&!Jr(l)?n[i]=bl(u,l):n[i]=l}return n}const A2=Symbol();function b2(n){return!Al(n)||!n.hasOwnProperty(A2)}const{assign:Ar}=Object;function C2(n){return!!(pt(n)&&n.effect)}function y2(n,t,i,l){const{state:u,actions:h,getters:g}=t,m=i.state.value[n];let E;function x(){m||(i.state.value[n]=u?u():{});const _=vg(i.state.value[n]);return Ar(_,h,Object.keys(g||{}).reduce((C,I)=>(C[I]=Jl(Dt(()=>{zo(i);const O=i._s.get(n);return g[I].call(O,O)})),C),{}))}return E=Th(n,x,t,i,l,!0),E}function Th(n,t,i={},l,u,h){let g;const m=Ar({actions:{}},i),E={deep:!0};let x,_,C=[],I=[],O;const L=l.state.value[n];!h&&!L&&(l.state.value[n]={}),je({});let D;function z(Z){let V;x=_=!1,typeof Z=="function"?(Z(l.state.value[n]),V={type:mi.patchFunction,storeId:n,events:O}):(bl(l.state.value[n],Z),V={type:mi.patchObject,payload:Z,storeId:n,events:O});const me=D=Symbol();nc().then(()=>{D===me&&(x=!0)}),_=!0,ws(C,V,l.state.value[n])}const ne=h?function(){const{state:V}=i,me=V?V():{};this.$patch(ye=>{Ar(ye,me)})}:yh;function Q(){g.stop(),C=[],I=[],l._s.delete(n)}const U=(Z,V="")=>{if(Uu in Z)return Z[Fa]=V,Z;const me=function(){zo(l);const ye=Array.from(arguments),de=[],ve=[];function qe(le){de.push(le)}function X(le){ve.push(le)}ws(I,{args:ye,name:me[Fa],store:xe,after:qe,onError:X});let Ie;try{Ie=Z.apply(this&&this.$id===n?this:xe,ye)}catch(le){throw ws(ve,le),le}return Ie instanceof Promise?Ie.then(le=>(ws(de,le),le)).catch(le=>(ws(ve,le),Promise.reject(le))):(ws(de,Ie),Ie)};return me[Uu]=!0,me[Fa]=V,me},J={_p:l,$id:n,$onAction:Fu.bind(null,I),$patch:z,$reset:ne,$subscribe(Z,V={}){const me=Fu(C,Z,V.detached,()=>ye()),ye=g.run(()=>gi(()=>l.state.value[n],de=>{(V.flush==="sync"?_:x)&&Z({storeId:n,type:mi.direct,events:O},de)},Ar({},E,V)));return me},$dispose:Q},xe=Ni(J);l._s.set(n,xe);const P=(l._a&&l._a.runWithContext||_2)(()=>l._e.run(()=>(g=w1()).run(()=>t({action:U}))));for(const Z in P){const V=P[Z];if(pt(V)&&!C2(V)||Jr(V))h||(L&&b2(V)&&(pt(V)?V.value=L[Z]:bl(V,L[Z])),l.state.value[n][Z]=V);else if(typeof V=="function"){const me=U(V,Z);P[Z]=me,m.actions[Z]=V}}return Ar(xe,P),Ar(tt(xe),P),Object.defineProperty(xe,"$state",{get:()=>l.state.value[n],set:Z=>{z(V=>{Ar(V,Z)})}}),l._p.forEach(Z=>{Ar(xe,g.run(()=>Z({store:xe,app:l._a,pinia:l,options:m})))}),L&&h&&i.hydrate&&i.hydrate(xe.$state,L),x=!0,_=!0,xe}function Yo(n,t,i){let l,u;const h=typeof t=="function";typeof n=="string"?(l=n,u=h?i:t):(u=n,l=n.id);function g(m,E){const x=np();return m=m||(x?vn(Ch,null):null),m&&zo(m),m=bh,m._s.has(l)||(h?Th(l,t,u,m):y2(l,u,m)),m._s.get(l)}return g.$id=l,g}function vh(n,t){return function(){return n.apply(t,arguments)}}const{toString:T2}=Object.prototype,{getPrototypeOf:lc}=Object,Ko=(n=>t=>{const i=T2.call(t);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=n=>(n=n.toLowerCase(),t=>Ko(t)===n),qo=n=>t=>typeof t===n,{isArray:Xs}=Array,Ti=qo("undefined");function v2(n){return n!==null&&!Ti(n)&&n.constructor!==null&&!Ti(n.constructor)&&Sn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Sh=Fn("ArrayBuffer");function S2(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Sh(n.buffer),t}const I2=qo("string"),Sn=qo("function"),Ih=qo("number"),Zo=n=>n!==null&&typeof n=="object",O2=n=>n===!0||n===!1,po=n=>{if(Ko(n)!=="object")return!1;const t=lc(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},N2=Fn("Date"),R2=Fn("File"),D2=Fn("Blob"),M2=Fn("FileList"),L2=n=>Zo(n)&&Sn(n.pipe),P2=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Sn(n.append)&&((t=Ko(n))==="formdata"||t==="object"&&Sn(n.toString)&&n.toString()==="[object FormData]"))},B2=Fn("URLSearchParams"),[k2,F2,U2,V2]=["ReadableStream","Request","Response","Headers"].map(Fn),H2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Di(n,t,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let l,u;if(typeof n!="object"&&(n=[n]),Xs(n))for(l=0,u=n.length;l<u;l++)t.call(null,n[l],l,n);else{const h=i?Object.getOwnPropertyNames(n):Object.keys(n),g=h.length;let m;for(l=0;l<g;l++)m=h[l],t.call(null,n[m],m,n)}}function Oh(n,t){t=t.toLowerCase();const i=Object.keys(n);let l=i.length,u;for(;l-- >0;)if(u=i[l],t===u.toLowerCase())return u;return null}const Nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rh=n=>!Ti(n)&&n!==Nh;function Cl(){const{caseless:n}=Rh(this)&&this||{},t={},i=(l,u)=>{const h=n&&Oh(t,u)||u;po(t[h])&&po(l)?t[h]=Cl(t[h],l):po(l)?t[h]=Cl({},l):Xs(l)?t[h]=l.slice():t[h]=l};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&Di(arguments[l],i);return t}const W2=(n,t,i,{allOwnKeys:l}={})=>(Di(t,(u,h)=>{i&&Sn(u)?n[h]=vh(u,i):n[h]=u},{allOwnKeys:l}),n),G2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),X2=(n,t,i,l)=>{n.prototype=Object.create(t.prototype,l),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),i&&Object.assign(n.prototype,i)},j2=(n,t,i,l)=>{let u,h,g;const m={};if(t=t||{},n==null)return t;do{for(u=Object.getOwnPropertyNames(n),h=u.length;h-- >0;)g=u[h],(!l||l(g,n,t))&&!m[g]&&(t[g]=n[g],m[g]=!0);n=i!==!1&&lc(n)}while(n&&(!i||i(n,t))&&n!==Object.prototype);return t},$2=(n,t,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=t.length;const l=n.indexOf(t,i);return l!==-1&&l===i},z2=n=>{if(!n)return null;if(Xs(n))return n;let t=n.length;if(!Ih(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=n[t];return i},Y2=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&lc(Uint8Array)),K2=(n,t)=>{const l=(n&&n[Symbol.iterator]).call(n);let u;for(;(u=l.next())&&!u.done;){const h=u.value;t.call(n,h[0],h[1])}},q2=(n,t)=>{let i;const l=[];for(;(i=n.exec(t))!==null;)l.push(i);return l},Z2=Fn("HTMLFormElement"),Q2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,l,u){return l.toUpperCase()+u}),Vu=(({hasOwnProperty:n})=>(t,i)=>n.call(t,i))(Object.prototype),J2=Fn("RegExp"),Dh=(n,t)=>{const i=Object.getOwnPropertyDescriptors(n),l={};Di(i,(u,h)=>{let g;(g=t(u,h,n))!==!1&&(l[h]=g||u)}),Object.defineProperties(n,l)},em=n=>{Dh(n,(t,i)=>{if(Sn(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const l=n[i];if(Sn(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},tm=(n,t)=>{const i={},l=u=>{u.forEach(h=>{i[h]=!0})};return Xs(n)?l(n):l(String(n).split(t)),i},nm=()=>{},rm=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,Ua="abcdefghijklmnopqrstuvwxyz",Hu="0123456789",Mh={DIGIT:Hu,ALPHA:Ua,ALPHA_DIGIT:Ua+Ua.toUpperCase()+Hu},sm=(n=16,t=Mh.ALPHA_DIGIT)=>{let i="";const{length:l}=t;for(;n--;)i+=t[Math.random()*l|0];return i};function im(n){return!!(n&&Sn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const om=n=>{const t=new Array(10),i=(l,u)=>{if(Zo(l)){if(t.indexOf(l)>=0)return;if(!("toJSON"in l)){t[u]=l;const h=Xs(l)?[]:{};return Di(l,(g,m)=>{const E=i(g,u+1);!Ti(E)&&(h[m]=E)}),t[u]=void 0,h}}return l};return i(n,0)},am=Fn("AsyncFunction"),lm=n=>n&&(Zo(n)||Sn(n))&&Sn(n.then)&&Sn(n.catch),$={isArray:Xs,isArrayBuffer:Sh,isBuffer:v2,isFormData:P2,isArrayBufferView:S2,isString:I2,isNumber:Ih,isBoolean:O2,isObject:Zo,isPlainObject:po,isReadableStream:k2,isRequest:F2,isResponse:U2,isHeaders:V2,isUndefined:Ti,isDate:N2,isFile:R2,isBlob:D2,isRegExp:J2,isFunction:Sn,isStream:L2,isURLSearchParams:B2,isTypedArray:Y2,isFileList:M2,forEach:Di,merge:Cl,extend:W2,trim:H2,stripBOM:G2,inherits:X2,toFlatObject:j2,kindOf:Ko,kindOfTest:Fn,endsWith:$2,toArray:z2,forEachEntry:K2,matchAll:q2,isHTMLForm:Z2,hasOwnProperty:Vu,hasOwnProp:Vu,reduceDescriptors:Dh,freezeMethods:em,toObjectSet:tm,toCamelCase:Q2,noop:nm,toFiniteNumber:rm,findKey:Oh,global:Nh,isContextDefined:Rh,ALPHABET:Mh,generateString:sm,isSpecCompliantForm:im,toJSONObject:om,isAsyncFn:am,isThenable:lm};function Ue(n,t,i,l,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),l&&(this.request=l),u&&(this.response=u)}$.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lh=Ue.prototype,Ph={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ph[n]={value:n}});Object.defineProperties(Ue,Ph);Object.defineProperty(Lh,"isAxiosError",{value:!0});Ue.from=(n,t,i,l,u,h)=>{const g=Object.create(Lh);return $.toFlatObject(n,g,function(E){return E!==Error.prototype},m=>m!=="isAxiosError"),Ue.call(g,n.message,t,i,l,u),g.cause=n,g.name=n.name,h&&Object.assign(g,h),g};const cm=null;function yl(n){return $.isPlainObject(n)||$.isArray(n)}function Bh(n){return $.endsWith(n,"[]")?n.slice(0,-2):n}function Wu(n,t,i){return n?n.concat(t).map(function(u,h){return u=Bh(u),!i&&h?"["+u+"]":u}).join(i?".":""):t}function um(n){return $.isArray(n)&&!n.some(yl)}const fm=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Qo(n,t,i){if(!$.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,i=$.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,z){return!$.isUndefined(z[D])});const l=i.metaTokens,u=i.visitor||_,h=i.dots,g=i.indexes,E=(i.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(u))throw new TypeError("visitor must be a function");function x(L){if(L===null)return"";if($.isDate(L))return L.toISOString();if(!E&&$.isBlob(L))throw new Ue("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(L)||$.isTypedArray(L)?E&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function _(L,D,z){let ne=L;if(L&&!z&&typeof L=="object"){if($.endsWith(D,"{}"))D=l?D:D.slice(0,-2),L=JSON.stringify(L);else if($.isArray(L)&&um(L)||($.isFileList(L)||$.endsWith(D,"[]"))&&(ne=$.toArray(L)))return D=Bh(D),ne.forEach(function(U,J){!($.isUndefined(U)||U===null)&&t.append(g===!0?Wu([D],J,h):g===null?D:D+"[]",x(U))}),!1}return yl(L)?!0:(t.append(Wu(z,D,h),x(L)),!1)}const C=[],I=Object.assign(fm,{defaultVisitor:_,convertValue:x,isVisitable:yl});function O(L,D){if(!$.isUndefined(L)){if(C.indexOf(L)!==-1)throw Error("Circular reference detected in "+D.join("."));C.push(L),$.forEach(L,function(ne,Q){(!($.isUndefined(ne)||ne===null)&&u.call(t,ne,$.isString(Q)?Q.trim():Q,D,I))===!0&&O(ne,D?D.concat(Q):[Q])}),C.pop()}}if(!$.isObject(n))throw new TypeError("data must be an object");return O(n),t}function Gu(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function cc(n,t){this._pairs=[],n&&Qo(n,this,t)}const kh=cc.prototype;kh.append=function(t,i){this._pairs.push([t,i])};kh.toString=function(t){const i=t?function(l){return t.call(this,l,Gu)}:Gu;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function hm(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fh(n,t,i){if(!t)return n;const l=i&&i.encode||hm,u=i&&i.serialize;let h;if(u?h=u(t,i):h=$.isURLSearchParams(t)?t.toString():new cc(t,i).toString(l),h){const g=n.indexOf("#");g!==-1&&(n=n.slice(0,g)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class Xu{constructor(){this.handlers=[]}use(t,i,l){return this.handlers.push({fulfilled:t,rejected:i,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(l){l!==null&&t(l)})}}const Uh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dm=typeof URLSearchParams<"u"?URLSearchParams:cc,gm=typeof FormData<"u"?FormData:null,pm=typeof Blob<"u"?Blob:null,mm={isBrowser:!0,classes:{URLSearchParams:dm,FormData:gm,Blob:pm},protocols:["http","https","file","blob","url","data"]},uc=typeof window<"u"&&typeof document<"u",xm=(n=>uc&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),Em=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wm=uc&&window.location.href||"http://localhost",_m=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uc,hasStandardBrowserEnv:xm,hasStandardBrowserWebWorkerEnv:Em,origin:wm},Symbol.toStringTag,{value:"Module"})),Pn={..._m,...mm};function Am(n,t){return Qo(n,new Pn.classes.URLSearchParams,Object.assign({visitor:function(i,l,u,h){return Pn.isNode&&$.isBuffer(i)?(this.append(l,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function bm(n){return $.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cm(n){const t={},i=Object.keys(n);let l;const u=i.length;let h;for(l=0;l<u;l++)h=i[l],t[h]=n[h];return t}function Vh(n){function t(i,l,u,h){let g=i[h++];if(g==="__proto__")return!0;const m=Number.isFinite(+g),E=h>=i.length;return g=!g&&$.isArray(u)?u.length:g,E?($.hasOwnProp(u,g)?u[g]=[u[g],l]:u[g]=l,!m):((!u[g]||!$.isObject(u[g]))&&(u[g]=[]),t(i,l,u[g],h)&&$.isArray(u[g])&&(u[g]=Cm(u[g])),!m)}if($.isFormData(n)&&$.isFunction(n.entries)){const i={};return $.forEachEntry(n,(l,u)=>{t(bm(l),u,i,0)}),i}return null}function ym(n,t,i){if($.isString(n))try{return(t||JSON.parse)(n),$.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(i||JSON.stringify)(n)}const Mi={transitional:Uh,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const l=i.getContentType()||"",u=l.indexOf("application/json")>-1,h=$.isObject(t);if(h&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return u?JSON.stringify(Vh(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(h){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Am(t,this.formSerializer).toString();if((m=$.isFileList(t))||l.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return Qo(m?{"files[]":t}:t,E&&new E,this.formSerializer)}}return h||u?(i.setContentType("application/json",!1),ym(t)):t}],transformResponse:[function(t){const i=this.transitional||Mi.transitional,l=i&&i.forcedJSONParsing,u=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(l&&!this.responseType||u)){const g=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(t)}catch(m){if(g)throw m.name==="SyntaxError"?Ue.from(m,Ue.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],n=>{Mi.headers[n]={}});const Tm=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vm=n=>{const t={};let i,l,u;return n&&n.split(`
`).forEach(function(g){u=g.indexOf(":"),i=g.substring(0,u).trim().toLowerCase(),l=g.substring(u+1).trim(),!(!i||t[i]&&Tm[i])&&(i==="set-cookie"?t[i]?t[i].push(l):t[i]=[l]:t[i]=t[i]?t[i]+", "+l:l)}),t},ju=Symbol("internals");function oi(n){return n&&String(n).trim().toLowerCase()}function mo(n){return n===!1||n==null?n:$.isArray(n)?n.map(mo):String(n)}function Sm(n){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=i.exec(n);)t[l[1]]=l[2];return t}const Im=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Va(n,t,i,l,u){if($.isFunction(l))return l.call(this,t,i);if(u&&(t=i),!!$.isString(t)){if($.isString(l))return t.indexOf(l)!==-1;if($.isRegExp(l))return l.test(t)}}function Om(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,l)=>i.toUpperCase()+l)}function Nm(n,t){const i=$.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(n,l+i,{value:function(u,h,g){return this[l].call(this,t,u,h,g)},configurable:!0})})}class fn{constructor(t){t&&this.set(t)}set(t,i,l){const u=this;function h(m,E,x){const _=oi(E);if(!_)throw new Error("header name must be a non-empty string");const C=$.findKey(u,_);(!C||u[C]===void 0||x===!0||x===void 0&&u[C]!==!1)&&(u[C||E]=mo(m))}const g=(m,E)=>$.forEach(m,(x,_)=>h(x,_,E));if($.isPlainObject(t)||t instanceof this.constructor)g(t,i);else if($.isString(t)&&(t=t.trim())&&!Im(t))g(vm(t),i);else if($.isHeaders(t))for(const[m,E]of t.entries())h(E,m,l);else t!=null&&h(i,t,l);return this}get(t,i){if(t=oi(t),t){const l=$.findKey(this,t);if(l){const u=this[l];if(!i)return u;if(i===!0)return Sm(u);if($.isFunction(i))return i.call(this,u,l);if($.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=oi(t),t){const l=$.findKey(this,t);return!!(l&&this[l]!==void 0&&(!i||Va(this,this[l],l,i)))}return!1}delete(t,i){const l=this;let u=!1;function h(g){if(g=oi(g),g){const m=$.findKey(l,g);m&&(!i||Va(l,l[m],m,i))&&(delete l[m],u=!0)}}return $.isArray(t)?t.forEach(h):h(t),u}clear(t){const i=Object.keys(this);let l=i.length,u=!1;for(;l--;){const h=i[l];(!t||Va(this,this[h],h,t,!0))&&(delete this[h],u=!0)}return u}normalize(t){const i=this,l={};return $.forEach(this,(u,h)=>{const g=$.findKey(l,h);if(g){i[g]=mo(u),delete i[h];return}const m=t?Om(h):String(h).trim();m!==h&&delete i[h],i[m]=mo(u),l[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return $.forEach(this,(l,u)=>{l!=null&&l!==!1&&(i[u]=t&&$.isArray(l)?l.join(", "):l)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const l=new this(t);return i.forEach(u=>l.set(u)),l}static accessor(t){const l=(this[ju]=this[ju]={accessors:{}}).accessors,u=this.prototype;function h(g){const m=oi(g);l[m]||(Nm(u,g),l[m]=!0)}return $.isArray(t)?t.forEach(h):h(t),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(fn.prototype,({value:n},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(l){this[i]=l}}});$.freezeMethods(fn);function Ha(n,t){const i=this||Mi,l=t||i,u=fn.from(l.headers);let h=l.data;return $.forEach(n,function(m){h=m.call(i,h,u.normalize(),t?t.status:void 0)}),u.normalize(),h}function Hh(n){return!!(n&&n.__CANCEL__)}function js(n,t,i){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,t,i),this.name="CanceledError"}$.inherits(js,Ue,{__CANCEL__:!0});function Wh(n,t,i){const l=i.config.validateStatus;!i.status||!l||l(i.status)?n(i):t(new Ue("Request failed with status code "+i.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Rm(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Dm(n,t){n=n||10;const i=new Array(n),l=new Array(n);let u=0,h=0,g;return t=t!==void 0?t:1e3,function(E){const x=Date.now(),_=l[h];g||(g=x),i[u]=E,l[u]=x;let C=h,I=0;for(;C!==u;)I+=i[C++],C=C%n;if(u=(u+1)%n,u===h&&(h=(h+1)%n),x-g<t)return;const O=_&&x-_;return O?Math.round(I*1e3/O):void 0}}function Mm(n,t){let i=0;const l=1e3/t;let u=null;return function(){const g=this===!0,m=Date.now();if(g||m-i>l)return u&&(clearTimeout(u),u=null),i=m,n.apply(null,arguments);u||(u=setTimeout(()=>(u=null,i=Date.now(),n.apply(null,arguments)),l-(m-i)))}}const To=(n,t,i=3)=>{let l=0;const u=Dm(50,250);return Mm(h=>{const g=h.loaded,m=h.lengthComputable?h.total:void 0,E=g-l,x=u(E),_=g<=m;l=g;const C={loaded:g,total:m,progress:m?g/m:void 0,bytes:E,rate:x||void 0,estimated:x&&m&&_?(m-g)/x:void 0,event:h,lengthComputable:m!=null};C[t?"download":"upload"]=!0,n(C)},i)},Lm=Pn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let l;function u(h){let g=h;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return l=u(window.location.href),function(g){const m=$.isString(g)?u(g):g;return m.protocol===l.protocol&&m.host===l.host}}():function(){return function(){return!0}}(),Pm=Pn.hasStandardBrowserEnv?{write(n,t,i,l,u,h){const g=[n+"="+encodeURIComponent(t)];$.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),$.isString(l)&&g.push("path="+l),$.isString(u)&&g.push("domain="+u),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bm(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function km(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function Gh(n,t){return n&&!Bm(t)?km(n,t):t}const $u=n=>n instanceof fn?{...n}:n;function ss(n,t){t=t||{};const i={};function l(x,_,C){return $.isPlainObject(x)&&$.isPlainObject(_)?$.merge.call({caseless:C},x,_):$.isPlainObject(_)?$.merge({},_):$.isArray(_)?_.slice():_}function u(x,_,C){if($.isUndefined(_)){if(!$.isUndefined(x))return l(void 0,x,C)}else return l(x,_,C)}function h(x,_){if(!$.isUndefined(_))return l(void 0,_)}function g(x,_){if($.isUndefined(_)){if(!$.isUndefined(x))return l(void 0,x)}else return l(void 0,_)}function m(x,_,C){if(C in t)return l(x,_);if(C in n)return l(void 0,x)}const E={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(x,_)=>u($u(x),$u(_),!0)};return $.forEach(Object.keys(Object.assign({},n,t)),function(_){const C=E[_]||u,I=C(n[_],t[_],_);$.isUndefined(I)&&C!==m||(i[_]=I)}),i}const Xh=n=>{const t=ss({},n);let{data:i,withXSRFToken:l,xsrfHeaderName:u,xsrfCookieName:h,headers:g,auth:m}=t;t.headers=g=fn.from(g),t.url=Fh(Gh(t.baseURL,t.url),n.params,n.paramsSerializer),m&&g.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let E;if($.isFormData(i)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((E=g.getContentType())!==!1){const[x,..._]=E?E.split(";").map(C=>C.trim()).filter(Boolean):[];g.setContentType([x||"multipart/form-data",..._].join("; "))}}if(Pn.hasStandardBrowserEnv&&(l&&$.isFunction(l)&&(l=l(t)),l||l!==!1&&Lm(t.url))){const x=u&&h&&Pm.read(h);x&&g.set(u,x)}return t},Fm=typeof XMLHttpRequest<"u",Um=Fm&&function(n){return new Promise(function(i,l){const u=Xh(n);let h=u.data;const g=fn.from(u.headers).normalize();let{responseType:m}=u,E;function x(){u.cancelToken&&u.cancelToken.unsubscribe(E),u.signal&&u.signal.removeEventListener("abort",E)}let _=new XMLHttpRequest;_.open(u.method.toUpperCase(),u.url,!0),_.timeout=u.timeout;function C(){if(!_)return;const O=fn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),D={data:!m||m==="text"||m==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:O,config:n,request:_};Wh(function(ne){i(ne),x()},function(ne){l(ne),x()},D),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(l(new Ue("Request aborted",Ue.ECONNABORTED,u,_)),_=null)},_.onerror=function(){l(new Ue("Network Error",Ue.ERR_NETWORK,u,_)),_=null},_.ontimeout=function(){let L=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const D=u.transitional||Uh;u.timeoutErrorMessage&&(L=u.timeoutErrorMessage),l(new Ue(L,D.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,u,_)),_=null},h===void 0&&g.setContentType(null),"setRequestHeader"in _&&$.forEach(g.toJSON(),function(L,D){_.setRequestHeader(D,L)}),$.isUndefined(u.withCredentials)||(_.withCredentials=!!u.withCredentials),m&&m!=="json"&&(_.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&_.addEventListener("progress",To(u.onDownloadProgress,!0)),typeof u.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",To(u.onUploadProgress)),(u.cancelToken||u.signal)&&(E=O=>{_&&(l(!O||O.type?new js(null,n,_):O),_.abort(),_=null)},u.cancelToken&&u.cancelToken.subscribe(E),u.signal&&(u.signal.aborted?E():u.signal.addEventListener("abort",E)));const I=Rm(u.url);if(I&&Pn.protocols.indexOf(I)===-1){l(new Ue("Unsupported protocol "+I+":",Ue.ERR_BAD_REQUEST,n));return}_.send(h||null)})},Vm=(n,t)=>{let i=new AbortController,l;const u=function(E){if(!l){l=!0,g();const x=E instanceof Error?E:this.reason;i.abort(x instanceof Ue?x:new js(x instanceof Error?x.message:x))}};let h=t&&setTimeout(()=>{u(new Ue(`timeout ${t} of ms exceeded`,Ue.ETIMEDOUT))},t);const g=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(E=>{E&&(E.removeEventListener?E.removeEventListener("abort",u):E.unsubscribe(u))}),n=null)};n.forEach(E=>E&&E.addEventListener&&E.addEventListener("abort",u));const{signal:m}=i;return m.unsubscribe=g,[m,()=>{h&&clearTimeout(h),h=null}]},Hm=function*(n,t){let i=n.byteLength;if(!t||i<t){yield n;return}let l=0,u;for(;l<i;)u=l+t,yield n.slice(l,u),l=u},Wm=async function*(n,t,i){for await(const l of n)yield*Hm(ArrayBuffer.isView(l)?l:await i(String(l)),t)},zu=(n,t,i,l,u)=>{const h=Wm(n,t,u);let g=0;return new ReadableStream({type:"bytes",async pull(m){const{done:E,value:x}=await h.next();if(E){m.close(),l();return}let _=x.byteLength;i&&i(g+=_),m.enqueue(new Uint8Array(x))},cancel(m){return l(m),h.return()}},{highWaterMark:2})},Yu=(n,t)=>{const i=n!=null;return l=>setTimeout(()=>t({lengthComputable:i,total:n,loaded:l}))},Jo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jh=Jo&&typeof ReadableStream=="function",Tl=Jo&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Gm=jh&&(()=>{let n=!1;const t=new Request(Pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t})(),Ku=64*1024,vl=jh&&!!(()=>{try{return $.isReadableStream(new Response("").body)}catch{}})(),vo={stream:vl&&(n=>n.body)};Jo&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vo[t]&&(vo[t]=$.isFunction(n[t])?i=>i[t]():(i,l)=>{throw new Ue(`Response type '${t}' is not supported`,Ue.ERR_NOT_SUPPORT,l)})})})(new Response);const Xm=async n=>{if(n==null)return 0;if($.isBlob(n))return n.size;if($.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if($.isArrayBufferView(n))return n.byteLength;if($.isURLSearchParams(n)&&(n=n+""),$.isString(n))return(await Tl(n)).byteLength},jm=async(n,t)=>{const i=$.toFiniteNumber(n.getContentLength());return i??Xm(t)},$m=Jo&&(async n=>{let{url:t,method:i,data:l,signal:u,cancelToken:h,timeout:g,onDownloadProgress:m,onUploadProgress:E,responseType:x,headers:_,withCredentials:C="same-origin",fetchOptions:I}=Xh(n);x=x?(x+"").toLowerCase():"text";let[O,L]=u||h||g?Vm([u,h],g):[],D,z;const ne=()=>{!D&&setTimeout(()=>{O&&O.unsubscribe()}),D=!0};let Q;try{if(E&&Gm&&i!=="get"&&i!=="head"&&(Q=await jm(_,l))!==0){let Y=new Request(t,{method:"POST",body:l,duplex:"half"}),P;$.isFormData(l)&&(P=Y.headers.get("content-type"))&&_.setContentType(P),Y.body&&(l=zu(Y.body,Ku,Yu(Q,To(E)),null,Tl))}$.isString(C)||(C=C?"cors":"omit"),z=new Request(t,{...I,signal:O,method:i.toUpperCase(),headers:_.normalize().toJSON(),body:l,duplex:"half",withCredentials:C});let U=await fetch(z);const J=vl&&(x==="stream"||x==="response");if(vl&&(m||J)){const Y={};["status","statusText","headers"].forEach(Z=>{Y[Z]=U[Z]});const P=$.toFiniteNumber(U.headers.get("content-length"));U=new Response(zu(U.body,Ku,m&&Yu(P,To(m,!0)),J&&ne,Tl),Y)}x=x||"text";let xe=await vo[$.findKey(vo,x)||"text"](U,n);return!J&&ne(),L&&L(),await new Promise((Y,P)=>{Wh(Y,P,{data:xe,headers:fn.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:z})})}catch(U){throw ne(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,n,z),{cause:U.cause||U}):Ue.from(U,U&&U.code,n,z)}}),Sl={http:cm,xhr:Um,fetch:$m};$.forEach(Sl,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const qu=n=>`- ${n}`,zm=n=>$.isFunction(n)||n===null||n===!1,$h={getAdapter:n=>{n=$.isArray(n)?n:[n];const{length:t}=n;let i,l;const u={};for(let h=0;h<t;h++){i=n[h];let g;if(l=i,!zm(i)&&(l=Sl[(g=String(i)).toLowerCase()],l===void 0))throw new Ue(`Unknown adapter '${g}'`);if(l)break;u[g||"#"+h]=l}if(!l){const h=Object.entries(u).map(([m,E])=>`adapter ${m} `+(E===!1?"is not supported by the environment":"is not available in the build"));let g=t?h.length>1?`since :
`+h.map(qu).join(`
`):" "+qu(h[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return l},adapters:Sl};function Wa(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new js(null,n)}function Zu(n){return Wa(n),n.headers=fn.from(n.headers),n.data=Ha.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),$h.getAdapter(n.adapter||Mi.adapter)(n).then(function(l){return Wa(n),l.data=Ha.call(n,n.transformResponse,l),l.headers=fn.from(l.headers),l},function(l){return Hh(l)||(Wa(n),l&&l.response&&(l.response.data=Ha.call(n,n.transformResponse,l.response),l.response.headers=fn.from(l.response.headers))),Promise.reject(l)})}const zh="1.7.2",fc={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{fc[n]=function(l){return typeof l===n||"a"+(t<1?"n ":" ")+n}});const Qu={};fc.transitional=function(t,i,l){function u(h,g){return"[Axios v"+zh+"] Transitional option '"+h+"'"+g+(l?". "+l:"")}return(h,g,m)=>{if(t===!1)throw new Ue(u(g," has been removed"+(i?" in "+i:"")),Ue.ERR_DEPRECATED);return i&&!Qu[g]&&(Qu[g]=!0,console.warn(u(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(h,g,m):!0}};function Ym(n,t,i){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const l=Object.keys(n);let u=l.length;for(;u-- >0;){const h=l[u],g=t[h];if(g){const m=n[h],E=m===void 0||g(m,h,n);if(E!==!0)throw new Ue("option "+h+" must be "+E,Ue.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ue("Unknown option "+h,Ue.ERR_BAD_OPTION)}}const Il={assertOptions:Ym,validators:fc},Er=Il.validators;class es{constructor(t){this.defaults=t,this.interceptors={request:new Xu,response:new Xu}}async request(t,i){try{return await this._request(t,i)}catch(l){if(l instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{l.stack?h&&!String(l.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+h):l.stack=h}catch{}}throw l}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ss(this.defaults,i);const{transitional:l,paramsSerializer:u,headers:h}=i;l!==void 0&&Il.assertOptions(l,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),u!=null&&($.isFunction(u)?i.paramsSerializer={serialize:u}:Il.assertOptions(u,{encode:Er.function,serialize:Er.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=h&&$.merge(h.common,h[i.method]);h&&$.forEach(["delete","get","head","post","put","patch","common"],L=>{delete h[L]}),i.headers=fn.concat(g,h);const m=[];let E=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(i)===!1||(E=E&&D.synchronous,m.unshift(D.fulfilled,D.rejected))});const x=[];this.interceptors.response.forEach(function(D){x.push(D.fulfilled,D.rejected)});let _,C=0,I;if(!E){const L=[Zu.bind(this),void 0];for(L.unshift.apply(L,m),L.push.apply(L,x),I=L.length,_=Promise.resolve(i);C<I;)_=_.then(L[C++],L[C++]);return _}I=m.length;let O=i;for(C=0;C<I;){const L=m[C++],D=m[C++];try{O=L(O)}catch(z){D.call(this,z);break}}try{_=Zu.call(this,O)}catch(L){return Promise.reject(L)}for(C=0,I=x.length;C<I;)_=_.then(x[C++],x[C++]);return _}getUri(t){t=ss(this.defaults,t);const i=Gh(t.baseURL,t.url);return Fh(i,t.params,t.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(t){es.prototype[t]=function(i,l){return this.request(ss(l||{},{method:t,url:i,data:(l||{}).data}))}});$.forEach(["post","put","patch"],function(t){function i(l){return function(h,g,m){return this.request(ss(m||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}es.prototype[t]=i(),es.prototype[t+"Form"]=i(!0)});class hc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const l=this;this.promise.then(u=>{if(!l._listeners)return;let h=l._listeners.length;for(;h-- >0;)l._listeners[h](u);l._listeners=null}),this.promise.then=u=>{let h;const g=new Promise(m=>{l.subscribe(m),h=m}).then(u);return g.cancel=function(){l.unsubscribe(h)},g},t(function(h,g,m){l.reason||(l.reason=new js(h,g,m),i(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new hc(function(u){t=u}),cancel:t}}}function Km(n){return function(i){return n.apply(null,i)}}function qm(n){return $.isObject(n)&&n.isAxiosError===!0}const Ol={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ol).forEach(([n,t])=>{Ol[t]=n});function Yh(n){const t=new es(n),i=vh(es.prototype.request,t);return $.extend(i,es.prototype,t,{allOwnKeys:!0}),$.extend(i,t,null,{allOwnKeys:!0}),i.create=function(u){return Yh(ss(n,u))},i}const yt=Yh(Mi);yt.Axios=es;yt.CanceledError=js;yt.CancelToken=hc;yt.isCancel=Hh;yt.VERSION=zh;yt.toFormData=Qo;yt.AxiosError=Ue;yt.Cancel=yt.CanceledError;yt.all=function(t){return Promise.all(t)};yt.spread=Km;yt.isAxiosError=qm;yt.mergeConfig=ss;yt.AxiosHeaders=fn;yt.formToJSON=n=>Vh($.isHTMLForm(n)?new FormData(n):n);yt.getAdapter=$h.getAdapter;yt.HttpStatusCode=Ol;yt.default=yt;let Zm="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const dc=Yo("users",{state:()=>({data:null}),actions:{async callAPI(){try{const n=await yt.get(Zm,{params:{table:"users"}});this.data=n.data,console.log("useUsersStore:"),console.log(this.data)}catch(n){console.log("call api error: "+n);return}},async get_user_by_email(n){this.data===null&&await this.callAPI();for(let t=0;t<this.data.length;t++)if(this.data[t].email===n)return console.log("user found: "),console.log(this.data[t]),this.data[t];return console.log("user not found."),!1}},getters:{get_data(){return this.data}}});let Qm="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const ea=Yo("clubs",{state:()=>({data:null}),actions:{async callAPI(){try{const n=await yt.get(Qm,{params:{table:"clubs"}});this.data=n.data,console.log("useClubsStore:"),console.log(this.data)}catch(n){console.log("call api error: "+n);return}},async get_club_by_email(n){this.data===null&&await this.callAPI();const t=this.data.find(i=>i.email===n);return t?(console.log("club found:",t),t):(console.log("club not found."),null)},async get_user_by_email_password(n,t){this.data===null&&await this.callAPI();for(let i=0;i<this.data.length;i++)if(console.log(this.data[i].email+" "+this.data[i].password),this.data[i].email==n&&this.data[i].password==t)return console.log("club found:"),console.log(this.data[i]),this.data[i];return console.log("club not found."),!1}},getters:{}});let Jm="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const gc=Yo("records",{state:()=>({data:null}),actions:{async callAPI(){const n=await yt.get(Jm,{params:{table:"records"}});this.data=n.data,console.log("useRecordsStore:"),console.log(this.data)},async query_record(n,t){console.log("query_record("+n+", "+t+")"),await this.callAPI();for(let i=0;i<this.data.length;i++)if(console.log(this.data[i].club_email+" "+this.data[i].user_email),this.data[i].club_email==n&&this.data[i].user_email==t)return console.log("record found:"),console.log(this.data[i]),this.data[i];return console.log("record not found."),!1},async query_by_user(n){const t=ea();await this.callAPI();let i=[];const l=je();for(let u=0;u<this.data.length;u++)if(this.data[u].user_email===n){l.value=await t.get_club_by_email(this.data[u].club_email);let h=l.value.name;i.push({user_email:this.data[u].user_email,club_name:h,club_email:this.data[u].club_email,created_time:this.data[u].created_time})}return i==[]&&(console.log("record not found"),i=!1),console.log("query_by_user list:",i),i},async query_by_club(n){await this.callAPI();for(let t=0;t<this.data.length;t++)if(this.data.club_email===n)return console.log("record found:"),console.log(this.data[t]),this.data[t];return console.log("record not found."),!1}},getters:{}}),ta=Yo("auth",{state:()=>({name:null,nick_name:null,email:null,phone:null,stamps:null,is_club:!1,token:null,records:null}),actions:{async get_records(){const n=gc();this.isLoggedIn&&(this.records=await n.query_by_user(this.email),console.log("email: "+this.email,this.records))},async user_login(n){const i=await dc().get_user_by_email(n);console.log("user:"),console.log(i),i=={}?console.log("login failed :("):(this.token=i.user_id,this.name=i.name,this.nick_name=i.nick_name,this.email=i.email,this.phone=i.phone_number,console.log("user login successed!"))},async club_login(n,t){console.log("email: "+n),console.log("password: "+t);const l=await ea().get_user_by_email_password(n,t);if(console.log("club: "+l),l)this.token=l.club_id,this.is_club=!0,this.name=l.name,this.email=l.email,console.log("club login successed!");else{console.log("login failed :(");return}},logout(){this.token=null,this.is_club=!1,this.records=null,this.name=null,this.nick_name=null,this.email=null,this.phone=null,console.log("logout successed :p")}},getters:{isLoggedIn:n=>!!n.token}});/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const bs=typeof document<"u";function ex(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const at=Object.assign;function Ga(n,t){const i={};for(const l in t){const u=t[l];i[l]=kn(u)?u.map(n):n(u)}return i}const xi=()=>{},kn=Array.isArray,Kh=/#/g,tx=/&/g,nx=/\//g,rx=/=/g,sx=/\?/g,qh=/\+/g,ix=/%5B/g,ox=/%5D/g,Zh=/%5E/g,ax=/%60/g,Qh=/%7B/g,lx=/%7C/g,Jh=/%7D/g,cx=/%20/g;function pc(n){return encodeURI(""+n).replace(lx,"|").replace(ix,"[").replace(ox,"]")}function ux(n){return pc(n).replace(Qh,"{").replace(Jh,"}").replace(Zh,"^")}function Nl(n){return pc(n).replace(qh,"%2B").replace(cx,"+").replace(Kh,"%23").replace(tx,"%26").replace(ax,"`").replace(Qh,"{").replace(Jh,"}").replace(Zh,"^")}function fx(n){return Nl(n).replace(rx,"%3D")}function hx(n){return pc(n).replace(Kh,"%23").replace(sx,"%3F")}function dx(n){return n==null?"":hx(n).replace(nx,"%2F")}function vi(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const gx=/\/$/,px=n=>n.replace(gx,"");function Xa(n,t,i="/"){let l,u={},h="",g="";const m=t.indexOf("#");let E=t.indexOf("?");return m<E&&m>=0&&(E=-1),E>-1&&(l=t.slice(0,E),h=t.slice(E+1,m>-1?m:t.length),u=n(h)),m>-1&&(l=l||t.slice(0,m),g=t.slice(m,t.length)),l=wx(l??t,i),{fullPath:l+(h&&"?")+h+g,path:l,query:u,hash:vi(g)}}function mx(n,t){const i=t.query?n(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function Ju(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function xx(n,t,i){const l=t.matched.length-1,u=i.matched.length-1;return l>-1&&l===u&&Ps(t.matched[l],i.matched[u])&&e0(t.params,i.params)&&n(t.query)===n(i.query)&&t.hash===i.hash}function Ps(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function e0(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const i in n)if(!Ex(n[i],t[i]))return!1;return!0}function Ex(n,t){return kn(n)?ef(n,t):kn(t)?ef(t,n):n===t}function ef(n,t){return kn(t)?n.length===t.length&&n.every((i,l)=>i===t[l]):n.length===1&&n[0]===t}function wx(n,t){if(n.startsWith("/"))return n;if(!n)return t;const i=t.split("/"),l=n.split("/"),u=l[l.length-1];(u===".."||u===".")&&l.push("");let h=i.length-1,g,m;for(g=0;g<l.length;g++)if(m=l[g],m!==".")if(m==="..")h>1&&h--;else break;return i.slice(0,h).join("/")+"/"+l.slice(g).join("/")}const wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Si;(function(n){n.pop="pop",n.push="push"})(Si||(Si={}));var Ei;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ei||(Ei={}));function _x(n){if(!n)if(bs){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),px(n)}const Ax=/^[^#]+#/;function bx(n,t){return n.replace(Ax,"#")+t}function Cx(n,t){const i=document.documentElement.getBoundingClientRect(),l=n.getBoundingClientRect();return{behavior:t.behavior,left:l.left-i.left-(t.left||0),top:l.top-i.top-(t.top||0)}}const na=()=>({left:window.scrollX,top:window.scrollY});function yx(n){let t;if("el"in n){const i=n.el,l=typeof i=="string"&&i.startsWith("#"),u=typeof i=="string"?l?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!u)return;t=Cx(u,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function tf(n,t){return(history.state?history.state.position-t:-1)+n}const Rl=new Map;function Tx(n,t){Rl.set(n,t)}function vx(n){const t=Rl.get(n);return Rl.delete(n),t}let Sx=()=>location.protocol+"//"+location.host;function t0(n,t){const{pathname:i,search:l,hash:u}=t,h=n.indexOf("#");if(h>-1){let m=u.includes(n.slice(h))?n.slice(h).length:1,E=u.slice(m);return E[0]!=="/"&&(E="/"+E),Ju(E,"")}return Ju(i,n)+l+u}function Ix(n,t,i,l){let u=[],h=[],g=null;const m=({state:I})=>{const O=t0(n,location),L=i.value,D=t.value;let z=0;if(I){if(i.value=O,t.value=I,g&&g===L){g=null;return}z=D?I.position-D.position:0}else l(O);u.forEach(ne=>{ne(i.value,L,{delta:z,type:Si.pop,direction:z?z>0?Ei.forward:Ei.back:Ei.unknown})})};function E(){g=i.value}function x(I){u.push(I);const O=()=>{const L=u.indexOf(I);L>-1&&u.splice(L,1)};return h.push(O),O}function _(){const{history:I}=window;I.state&&I.replaceState(at({},I.state,{scroll:na()}),"")}function C(){for(const I of h)I();h=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:E,listen:x,destroy:C}}function nf(n,t,i,l=!1,u=!1){return{back:n,current:t,forward:i,replaced:l,position:window.history.length,scroll:u?na():null}}function Ox(n){const{history:t,location:i}=window,l={value:t0(n,i)},u={value:t.state};u.value||h(l.value,{back:null,current:l.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function h(E,x,_){const C=n.indexOf("#"),I=C>-1?(i.host&&document.querySelector("base")?n:n.slice(C))+E:Sx()+n+E;try{t[_?"replaceState":"pushState"](x,"",I),u.value=x}catch(O){console.error(O),i[_?"replace":"assign"](I)}}function g(E,x){const _=at({},t.state,nf(u.value.back,E,u.value.forward,!0),x,{position:u.value.position});h(E,_,!0),l.value=E}function m(E,x){const _=at({},u.value,t.state,{forward:E,scroll:na()});h(_.current,_,!0);const C=at({},nf(l.value,E,null),{position:_.position+1},x);h(E,C,!1),l.value=E}return{location:l,state:u,push:m,replace:g}}function Nx(n){n=_x(n);const t=Ox(n),i=Ix(n,t.state,t.location,t.replace);function l(h,g=!0){g||i.pauseListeners(),history.go(h)}const u=at({location:"",base:n,go:l,createHref:bx.bind(null,n)},t,i);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function Rx(n){return typeof n=="string"||n&&typeof n=="object"}function n0(n){return typeof n=="string"||typeof n=="symbol"}const r0=Symbol("");var rf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(rf||(rf={}));function Bs(n,t){return at(new Error,{type:n,[r0]:!0},t)}function er(n,t){return n instanceof Error&&r0 in n&&(t==null||!!(n.type&t))}const sf="[^/]+?",Dx={sensitive:!1,strict:!1,start:!0,end:!0},Mx=/[.+*?^${}()[\]/\\]/g;function Lx(n,t){const i=at({},Dx,t),l=[];let u=i.start?"^":"";const h=[];for(const x of n){const _=x.length?[]:[90];i.strict&&!x.length&&(u+="/");for(let C=0;C<x.length;C++){const I=x[C];let O=40+(i.sensitive?.25:0);if(I.type===0)C||(u+="/"),u+=I.value.replace(Mx,"\\$&"),O+=40;else if(I.type===1){const{value:L,repeatable:D,optional:z,regexp:ne}=I;h.push({name:L,repeatable:D,optional:z});const Q=ne||sf;if(Q!==sf){O+=10;try{new RegExp(`(${Q})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${L}" (${Q}): `+J.message)}}let U=D?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;C||(U=z&&x.length<2?`(?:/${U})`:"/"+U),z&&(U+="?"),u+=U,O+=20,z&&(O+=-8),D&&(O+=-20),Q===".*"&&(O+=-50)}_.push(O)}l.push(_)}if(i.strict&&i.end){const x=l.length-1;l[x][l[x].length-1]+=.7000000000000001}i.strict||(u+="/?"),i.end?u+="$":i.strict&&(u+="(?:/|$)");const g=new RegExp(u,i.sensitive?"":"i");function m(x){const _=x.match(g),C={};if(!_)return null;for(let I=1;I<_.length;I++){const O=_[I]||"",L=h[I-1];C[L.name]=O&&L.repeatable?O.split("/"):O}return C}function E(x){let _="",C=!1;for(const I of n){(!C||!_.endsWith("/"))&&(_+="/"),C=!1;for(const O of I)if(O.type===0)_+=O.value;else if(O.type===1){const{value:L,repeatable:D,optional:z}=O,ne=L in x?x[L]:"";if(kn(ne)&&!D)throw new Error(`Provided param "${L}" is an array but it is not repeatable (* or + modifiers)`);const Q=kn(ne)?ne.join("/"):ne;if(!Q)if(z)I.length<2&&(_.endsWith("/")?_=_.slice(0,-1):C=!0);else throw new Error(`Missing required param "${L}"`);_+=Q}}return _||"/"}return{re:g,score:l,keys:h,parse:m,stringify:E}}function Px(n,t){let i=0;for(;i<n.length&&i<t.length;){const l=t[i]-n[i];if(l)return l;i++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function s0(n,t){let i=0;const l=n.score,u=t.score;for(;i<l.length&&i<u.length;){const h=Px(l[i],u[i]);if(h)return h;i++}if(Math.abs(u.length-l.length)===1){if(of(l))return 1;if(of(u))return-1}return u.length-l.length}function of(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const Bx={type:0,value:""},kx=/[a-zA-Z0-9_]/;function Fx(n){if(!n)return[[]];if(n==="/")return[[Bx]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(O){throw new Error(`ERR (${i})/"${x}": ${O}`)}let i=0,l=i;const u=[];let h;function g(){h&&u.push(h),h=[]}let m=0,E,x="",_="";function C(){x&&(i===0?h.push({type:0,value:x}):i===1||i===2||i===3?(h.length>1&&(E==="*"||E==="+")&&t(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:x,regexp:_,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):t("Invalid state to consume buffer"),x="")}function I(){x+=E}for(;m<n.length;){if(E=n[m++],E==="\\"&&i!==2){l=i,i=4;continue}switch(i){case 0:E==="/"?(x&&C(),g()):E===":"?(C(),i=1):I();break;case 4:I(),i=l;break;case 1:E==="("?i=2:kx.test(E)?I():(C(),i=0,E!=="*"&&E!=="?"&&E!=="+"&&m--);break;case 2:E===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+E:i=3:_+=E;break;case 3:C(),i=0,E!=="*"&&E!=="?"&&E!=="+"&&m--,_="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${x}"`),C(),g(),u}function Ux(n,t,i){const l=Lx(Fx(n.path),i),u=at(l,{record:n,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function Vx(n,t){const i=[],l=new Map;t=cf({strict:!1,end:!0,sensitive:!1},t);function u(C){return l.get(C)}function h(C,I,O){const L=!O,D=Hx(C);D.aliasOf=O&&O.record;const z=cf(t,C),ne=[D];if("alias"in C){const J=typeof C.alias=="string"?[C.alias]:C.alias;for(const xe of J)ne.push(at({},D,{components:O?O.record.components:D.components,path:xe,aliasOf:O?O.record:D}))}let Q,U;for(const J of ne){const{path:xe}=J;if(I&&xe[0]!=="/"){const Y=I.record.path,P=Y[Y.length-1]==="/"?"":"/";J.path=I.record.path+(xe&&P+xe)}if(Q=Ux(J,I,z),O?O.alias.push(Q):(U=U||Q,U!==Q&&U.alias.push(Q),L&&C.name&&!lf(Q)&&g(C.name)),i0(Q)&&E(Q),D.children){const Y=D.children;for(let P=0;P<Y.length;P++)h(Y[P],Q,O&&O.children[P])}O=O||Q}return U?()=>{g(U)}:xi}function g(C){if(n0(C)){const I=l.get(C);I&&(l.delete(C),i.splice(i.indexOf(I),1),I.children.forEach(g),I.alias.forEach(g))}else{const I=i.indexOf(C);I>-1&&(i.splice(I,1),C.record.name&&l.delete(C.record.name),C.children.forEach(g),C.alias.forEach(g))}}function m(){return i}function E(C){const I=Xx(C,i);i.splice(I,0,C),C.record.name&&!lf(C)&&l.set(C.record.name,C)}function x(C,I){let O,L={},D,z;if("name"in C&&C.name){if(O=l.get(C.name),!O)throw Bs(1,{location:C});z=O.record.name,L=at(af(I.params,O.keys.filter(U=>!U.optional).concat(O.parent?O.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),C.params&&af(C.params,O.keys.map(U=>U.name))),D=O.stringify(L)}else if(C.path!=null)D=C.path,O=i.find(U=>U.re.test(D)),O&&(L=O.parse(D),z=O.record.name);else{if(O=I.name?l.get(I.name):i.find(U=>U.re.test(I.path)),!O)throw Bs(1,{location:C,currentLocation:I});z=O.record.name,L=at({},I.params,C.params),D=O.stringify(L)}const ne=[];let Q=O;for(;Q;)ne.unshift(Q.record),Q=Q.parent;return{name:z,path:D,params:L,matched:ne,meta:Gx(ne)}}n.forEach(C=>h(C));function _(){i.length=0,l.clear()}return{addRoute:h,resolve:x,removeRoute:g,clearRoutes:_,getRoutes:m,getRecordMatcher:u}}function af(n,t){const i={};for(const l of t)l in n&&(i[l]=n[l]);return i}function Hx(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Wx(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function Wx(n){const t={},i=n.props||!1;if("component"in n)t.default=i;else for(const l in n.components)t[l]=typeof i=="object"?i[l]:i;return t}function lf(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Gx(n){return n.reduce((t,i)=>at(t,i.meta),{})}function cf(n,t){const i={};for(const l in n)i[l]=l in t?t[l]:n[l];return i}function Xx(n,t){let i=0,l=t.length;for(;i!==l;){const h=i+l>>1;s0(n,t[h])<0?l=h:i=h+1}const u=jx(n);return u&&(l=t.lastIndexOf(u,l-1)),l}function jx(n){let t=n;for(;t=t.parent;)if(i0(t)&&s0(n,t)===0)return t}function i0({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function $x(n){const t={};if(n===""||n==="?")return t;const l=(n[0]==="?"?n.slice(1):n).split("&");for(let u=0;u<l.length;++u){const h=l[u].replace(qh," "),g=h.indexOf("="),m=vi(g<0?h:h.slice(0,g)),E=g<0?null:vi(h.slice(g+1));if(m in t){let x=t[m];kn(x)||(x=t[m]=[x]),x.push(E)}else t[m]=E}return t}function uf(n){let t="";for(let i in n){const l=n[i];if(i=fx(i),l==null){l!==void 0&&(t+=(t.length?"&":"")+i);continue}(kn(l)?l.map(h=>h&&Nl(h)):[l&&Nl(l)]).forEach(h=>{h!==void 0&&(t+=(t.length?"&":"")+i,h!=null&&(t+="="+h))})}return t}function zx(n){const t={};for(const i in n){const l=n[i];l!==void 0&&(t[i]=kn(l)?l.map(u=>u==null?null:""+u):l==null?l:""+l)}return t}const Yx=Symbol(""),ff=Symbol(""),ra=Symbol(""),mc=Symbol(""),Dl=Symbol("");function ai(){let n=[];function t(l){return n.push(l),()=>{const u=n.indexOf(l);u>-1&&n.splice(u,1)}}function i(){n=[]}return{add:t,list:()=>n.slice(),reset:i}}function yr(n,t,i,l,u,h=g=>g()){const g=l&&(l.enterCallbacks[u]=l.enterCallbacks[u]||[]);return()=>new Promise((m,E)=>{const x=I=>{I===!1?E(Bs(4,{from:i,to:t})):I instanceof Error?E(I):Rx(I)?E(Bs(2,{from:t,to:I})):(g&&l.enterCallbacks[u]===g&&typeof I=="function"&&g.push(I),m())},_=h(()=>n.call(l&&l.instances[u],t,i,x));let C=Promise.resolve(_);n.length<3&&(C=C.then(x)),C.catch(I=>E(I))})}function ja(n,t,i,l,u=h=>h()){const h=[];for(const g of n)for(const m in g.components){let E=g.components[m];if(!(t!=="beforeRouteEnter"&&!g.instances[m]))if(Kx(E)){const _=(E.__vccOpts||E)[t];_&&h.push(yr(_,i,l,g,m,u))}else{let x=E();h.push(()=>x.then(_=>{if(!_)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${g.path}"`));const C=ex(_)?_.default:_;g.components[m]=C;const O=(C.__vccOpts||C)[t];return O&&yr(O,i,l,g,m,u)()}))}}return h}function Kx(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function hf(n){const t=vn(ra),i=vn(mc),l=Dt(()=>{const E=et(n.to);return t.resolve(E)}),u=Dt(()=>{const{matched:E}=l.value,{length:x}=E,_=E[x-1],C=i.matched;if(!_||!C.length)return-1;const I=C.findIndex(Ps.bind(null,_));if(I>-1)return I;const O=df(E[x-2]);return x>1&&df(_)===O&&C[C.length-1].path!==O?C.findIndex(Ps.bind(null,E[x-2])):I}),h=Dt(()=>u.value>-1&&Jx(i.params,l.value.params)),g=Dt(()=>u.value>-1&&u.value===i.matched.length-1&&e0(i.params,l.value.params));function m(E={}){return Qx(E)?t[et(n.replace)?"replace":"push"](et(n.to)).catch(xi):Promise.resolve()}return{route:l,href:Dt(()=>l.value.href),isActive:h,isExactActive:g,navigate:m}}const qx=z1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hf,setup(n,{slots:t}){const i=Ni(hf(n)),{options:l}=vn(ra),u=Dt(()=>({[gf(n.activeClass,l.linkActiveClass,"router-link-active")]:i.isActive,[gf(n.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const h=t.default&&t.default(i);return n.custom?h:wh("a",{"aria-current":i.isExactActive?n.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:u.value},h)}}}),Zx=qx;function Qx(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function Jx(n,t){for(const i in t){const l=t[i],u=n[i];if(typeof l=="string"){if(l!==u)return!1}else if(!kn(u)||u.length!==l.length||l.some((h,g)=>h!==u[g]))return!1}return!0}function df(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const gf=(n,t,i)=>n??t??i,eE=z1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:i}){const l=vn(Dl),u=Dt(()=>n.route||l.value),h=vn(ff,0),g=Dt(()=>{let x=et(h);const{matched:_}=u.value;let C;for(;(C=_[x])&&!C.components;)x++;return x}),m=Dt(()=>u.value.matched[g.value]);uo(ff,Dt(()=>g.value+1)),uo(Yx,m),uo(Dl,u);const E=je();return gi(()=>[E.value,m.value,n.name],([x,_,C],[I,O,L])=>{_&&(_.instances[C]=x,O&&O!==_&&x&&x===I&&(_.leaveGuards.size||(_.leaveGuards=O.leaveGuards),_.updateGuards.size||(_.updateGuards=O.updateGuards))),x&&_&&(!O||!Ps(_,O)||!I)&&(_.enterCallbacks[C]||[]).forEach(D=>D(x))},{flush:"post"}),()=>{const x=u.value,_=n.name,C=m.value,I=C&&C.components[_];if(!I)return pf(i.default,{Component:I,route:x});const O=C.props[_],L=O?O===!0?x.params:typeof O=="function"?O(x):O:null,z=wh(I,at({},L,t,{onVnodeUnmounted:ne=>{ne.component.isUnmounted&&(C.instances[_]=null)},ref:E}));return pf(i.default,{Component:z,route:x})||z}}});function pf(n,t){if(!n)return null;const i=n(t);return i.length===1?i[0]:i}const tE=eE;function nE(n){const t=Vx(n.routes,n),i=n.parseQuery||$x,l=n.stringifyQuery||uf,u=n.history,h=ai(),g=ai(),m=ai(),E=Cg(wr);let x=wr;bs&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Ga.bind(null,K=>""+K),C=Ga.bind(null,dx),I=Ga.bind(null,vi);function O(K,ce){let pe,Ce;return n0(K)?(pe=t.getRecordMatcher(K),Ce=ce):Ce=K,t.addRoute(Ce,pe)}function L(K){const ce=t.getRecordMatcher(K);ce&&t.removeRoute(ce)}function D(){return t.getRoutes().map(K=>K.record)}function z(K){return!!t.getRecordMatcher(K)}function ne(K,ce){if(ce=at({},ce||E.value),typeof K=="string"){const N=Xa(i,K,ce.path),F=t.resolve({path:N.path},ce),ee=u.createHref(N.fullPath);return at(N,F,{params:I(F.params),hash:vi(N.hash),redirectedFrom:void 0,href:ee})}let pe;if(K.path!=null)pe=at({},K,{path:Xa(i,K.path,ce.path).path});else{const N=at({},K.params);for(const F in N)N[F]==null&&delete N[F];pe=at({},K,{params:C(N)}),ce.params=C(ce.params)}const Ce=t.resolve(pe,ce),Pe=K.hash||"";Ce.params=_(I(Ce.params));const st=mx(l,at({},K,{hash:ux(Pe),path:Ce.path})),T=u.createHref(st);return at({fullPath:st,hash:Pe,query:l===uf?zx(K.query):K.query||{}},Ce,{redirectedFrom:void 0,href:T})}function Q(K){return typeof K=="string"?Xa(i,K,E.value.path):at({},K)}function U(K,ce){if(x!==K)return Bs(8,{from:ce,to:K})}function J(K){return P(K)}function xe(K){return J(at(Q(K),{replace:!0}))}function Y(K){const ce=K.matched[K.matched.length-1];if(ce&&ce.redirect){const{redirect:pe}=ce;let Ce=typeof pe=="function"?pe(K):pe;return typeof Ce=="string"&&(Ce=Ce.includes("?")||Ce.includes("#")?Ce=Q(Ce):{path:Ce},Ce.params={}),at({query:K.query,hash:K.hash,params:Ce.path!=null?{}:K.params},Ce)}}function P(K,ce){const pe=x=ne(K),Ce=E.value,Pe=K.state,st=K.force,T=K.replace===!0,N=Y(pe);if(N)return P(at(Q(N),{state:typeof N=="object"?at({},Pe,N.state):Pe,force:st,replace:T}),ce||pe);const F=pe;F.redirectedFrom=ce;let ee;return!st&&xx(l,Ce,pe)&&(ee=Bs(16,{to:F,from:Ce}),Ht(Ce,Ce,!0,!1)),(ee?Promise.resolve(ee):me(F,Ce)).catch(j=>er(j)?er(j,2)?j:Tt(j):He(j,F,Ce)).then(j=>{if(j){if(er(j,2))return P(at({replace:T},Q(j.to),{state:typeof j.to=="object"?at({},Pe,j.to.state):Pe,force:st}),ce||F)}else j=de(F,Ce,!0,T,Pe);return ye(F,Ce,j),j})}function Z(K,ce){const pe=U(K,ce);return pe?Promise.reject(pe):Promise.resolve()}function V(K){const ce=ot.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(K):K()}function me(K,ce){let pe;const[Ce,Pe,st]=rE(K,ce);pe=ja(Ce.reverse(),"beforeRouteLeave",K,ce);for(const N of Ce)N.leaveGuards.forEach(F=>{pe.push(yr(F,K,ce))});const T=Z.bind(null,K,ce);return pe.push(T),we(pe).then(()=>{pe=[];for(const N of h.list())pe.push(yr(N,K,ce));return pe.push(T),we(pe)}).then(()=>{pe=ja(Pe,"beforeRouteUpdate",K,ce);for(const N of Pe)N.updateGuards.forEach(F=>{pe.push(yr(F,K,ce))});return pe.push(T),we(pe)}).then(()=>{pe=[];for(const N of st)if(N.beforeEnter)if(kn(N.beforeEnter))for(const F of N.beforeEnter)pe.push(yr(F,K,ce));else pe.push(yr(N.beforeEnter,K,ce));return pe.push(T),we(pe)}).then(()=>(K.matched.forEach(N=>N.enterCallbacks={}),pe=ja(st,"beforeRouteEnter",K,ce,V),pe.push(T),we(pe))).then(()=>{pe=[];for(const N of g.list())pe.push(yr(N,K,ce));return pe.push(T),we(pe)}).catch(N=>er(N,8)?N:Promise.reject(N))}function ye(K,ce,pe){m.list().forEach(Ce=>V(()=>Ce(K,ce,pe)))}function de(K,ce,pe,Ce,Pe){const st=U(K,ce);if(st)return st;const T=ce===wr,N=bs?history.state:{};pe&&(Ce||T?u.replace(K.fullPath,at({scroll:T&&N&&N.scroll},Pe)):u.push(K.fullPath,Pe)),E.value=K,Ht(K,ce,pe,T),Tt()}let ve;function qe(){ve||(ve=u.listen((K,ce,pe)=>{if(!Wt.listening)return;const Ce=ne(K),Pe=Y(Ce);if(Pe){P(at(Pe,{replace:!0}),Ce).catch(xi);return}x=Ce;const st=E.value;bs&&Tx(tf(st.fullPath,pe.delta),na()),me(Ce,st).catch(T=>er(T,12)?T:er(T,2)?(P(T.to,Ce).then(N=>{er(N,20)&&!pe.delta&&pe.type===Si.pop&&u.go(-1,!1)}).catch(xi),Promise.reject()):(pe.delta&&u.go(-pe.delta,!1),He(T,Ce,st))).then(T=>{T=T||de(Ce,st,!1),T&&(pe.delta&&!er(T,8)?u.go(-pe.delta,!1):pe.type===Si.pop&&er(T,20)&&u.go(-1,!1)),ye(Ce,st,T)}).catch(xi)}))}let X=ai(),Ie=ai(),le;function He(K,ce,pe){Tt(K);const Ce=Ie.list();return Ce.length?Ce.forEach(Pe=>Pe(K,ce,pe)):console.error(K),Promise.reject(K)}function dt(){return le&&E.value!==wr?Promise.resolve():new Promise((K,ce)=>{X.add([K,ce])})}function Tt(K){return le||(le=!K,qe(),X.list().forEach(([ce,pe])=>K?pe(K):ce()),X.reset()),K}function Ht(K,ce,pe,Ce){const{scrollBehavior:Pe}=n;if(!bs||!Pe)return Promise.resolve();const st=!pe&&vx(tf(K.fullPath,0))||(Ce||!pe)&&history.state&&history.state.scroll||null;return nc().then(()=>Pe(K,ce,st)).then(T=>T&&yx(T)).catch(T=>He(T,K,ce))}const ze=K=>u.go(K);let Lt;const ot=new Set,Wt={currentRoute:E,listening:!0,addRoute:O,removeRoute:L,clearRoutes:t.clearRoutes,hasRoute:z,getRoutes:D,resolve:ne,options:n,push:J,replace:xe,go:ze,back:()=>ze(-1),forward:()=>ze(1),beforeEach:h.add,beforeResolve:g.add,afterEach:m.add,onError:Ie.add,isReady:dt,install(K){const ce=this;K.component("RouterLink",Zx),K.component("RouterView",tE),K.config.globalProperties.$router=ce,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>et(E)}),bs&&!Lt&&E.value===wr&&(Lt=!0,J(u.location).catch(Pe=>{}));const pe={};for(const Pe in wr)Object.defineProperty(pe,Pe,{get:()=>E.value[Pe],enumerable:!0});K.provide(ra,ce),K.provide(mc,D1(pe)),K.provide(Dl,E);const Ce=K.unmount;ot.add(K),K.unmount=function(){ot.delete(K),ot.size<1&&(x=wr,ve&&ve(),ve=null,E.value=wr,Lt=!1,le=!1),Ce()}}};function we(K){return K.reduce((ce,pe)=>ce.then(()=>V(pe)),Promise.resolve())}return Wt}function rE(n,t){const i=[],l=[],u=[],h=Math.max(t.matched.length,n.matched.length);for(let g=0;g<h;g++){const m=t.matched[g];m&&(n.matched.find(x=>Ps(x,m))?l.push(m):i.push(m));const E=n.matched[g];E&&(t.matched.find(x=>Ps(x,E))||u.push(E))}return[i,l,u]}function sE(){return vn(ra)}function iE(n){return vn(mc)}const oE={class:"navbar navbar-expand-md navbar-dark fixed-top bg-danger"},aE={class:"container-fluid"},lE=se("img",{src:x2,height:"32px"},null,-1),cE=se("span",null,"社團博覽會大地遊戲",-1),uE=se("span",{class:"navbar-toggler-icon"},null,-1),fE=[uE],hE={class:"collapse navbar-collapse",id:"navbarCollapse"},dE={class:"navbar-nav me-auto mb-2 mb-md-0"},gE={class:"nav-item"},pE={key:0,class:"nav-item"},mE={class:"nav-item"},xE={key:1,class:"nav-item"},EE={key:2,class:"nav-item"},wE={__name:"NavBar",setup(n){const t=ta(),i=sE(),l=je(!1);function u(){l.value=!l.value,l.value?document.getElementById("navbarCollapse").classList.remove("show"):(document.getElementById("navbarCollapse").classList.add("show"),console.log("show"))}function h(g){i.push(g),u()}return(g,m)=>{const E=hl("RouterLink");return ct(),ht("nav",oE,[se("div",aE,[Mt(E,{to:"/",class:"navbar-brand"},{default:j1(()=>[lE,cE]),_:1}),se("button",{class:"navbar-toggler",onClick:m[0]||(m[0]=x=>u()),type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},fE),se("div",hE,[se("ul",dE,[se("li",gE,[se("button",{onClick:m[1]||(m[1]=x=>h("/")),class:"nav-link"},"首頁")]),et(t).is_club?Kn("",!0):(ct(),ht("li",pE,[se("button",{onClick:m[2]||(m[2]=x=>h("/stamp")),class:"nav-link"},"蓋章")])),se("li",mE,[se("button",{onClick:m[3]||(m[3]=x=>h("/partner")),class:"nav-link"},"合作夥伴")]),et(t).isLoggedIn?Kn("",!0):(ct(),ht("li",xE,[se("button",{onClick:m[4]||(m[4]=x=>h("/register")),class:"nav-link"},"註冊")])),!et(t).isLoggedIn||et(t).is_club?(ct(),ht("li",EE,[se("button",{onClick:m[5]||(m[5]=x=>h("/scan")),class:"nav-link"},"我是社團")])):Kn("",!0)])])])])}}},$s=(n,t)=>{const i=n.__vccOpts||n;for(const[l,u]of t)i[l]=u;return i},_E={components:{NavBar:wE}},AE=mh('<svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"><button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg><span class="visually-hidden" id="bd-theme-text">Toggle theme</span></button><ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg> Light <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg> Dark <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg> Auto <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></div>',2),bE={class:"flex-shrink-0"},CE={class:"container",style:{"padding-top":"60px"}},yE=se("footer",{class:"footer mt-auto py-3 bg-body-tertiary"},[se("div",{class:"container"},[se("span",{class:"text-body-secondary"},"TTUSSC All Right Reserve")])],-1);function TE(n,t,i,l,u,h){const g=hl("NavBar"),m=hl("RouterView");return ct(),ht(yn,null,[AE,se("header",null,[Mt(g)]),se("main",bE,[se("div",CE,[Mt(m,{class:"mt-3 mb-3"})])]),yE],64)}const vE=$s(_E,[["render",TE]]),SE=["src"],o0={__name:"createQRcode",props:{url:String},setup(n){const t=n;var i="https://quickchart.io/qr?size=1080&margin=2&text=";return console.log(i+t.url),(l,u)=>(ct(),ht("img",{class:"qrcode img-fluid rounded",src:et(i)+t.url,alt:""},null,8,SE))}},IE=se("h1",null,"社博大地遊戲",-1),OE=se("button",{class:"btn btn-primary my-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}," 活動邀請連結 ",-1),NE={class:"collapse mb-3 mx-auto",id:"collapseExample"},RE={class:"card card-body"},DE={__name:"HomeView",setup(n){return(t,i)=>(ct(),ht("div",null,[IE,OE,se("div",NE,[se("div",RE,[Mt(o0,{url:"https://ttussc.github.io/Earth_Game"})])])]))}},ME={},LE=se("h1",null,"排行榜",-1),PE=[LE];function BE(n,t){return ct(),ht("div",null,PE)}const kE=$s(ME,[["render",BE]]),FE=se("h1",{class:"title"},"蓋章！",-1),UE={class:"row align-items-center needs-validation my-3"},VE={class:"col mb-3"},HE=["disabled"],WE=se("div",{class:"valid-feedback"},"Looks good!",-1),GE=se("div",{class:"invalid-feedback"},"Looks bad!",-1),XE={class:"col-3 mb-3"},jE={class:"nav nav-tabs mb-2",id:"myTab",role:"tablist"},$E=se("li",{class:"nav-item",role:"presentation"},[se("button",{class:"nav-link active",id:"qrcode-tab","data-bs-toggle":"tab","data-bs-target":"#qrcode-tab-pane",type:"button",role:"tab","aria-controls":"qrcode-tab-pane","aria-selected":"true"}," QR code ")],-1),zE={class:"nav-item",role:"presentation"},YE=se("li",{class:"nav-item",role:"presentation"},[se("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"}," 個人資料 ")],-1),KE={key:1,class:"tab-content",id:"myTabContent"},qE={class:"tab-pane fade show active",id:"qrcode-tab-pane",role:"tabpanel","aria-labelledby":"qrcode-tab",tabindex:"0"},ZE={class:"mb-2"},QE={class:"overflow-auto"},JE={class:"card-body"},ew=se("br",null,null,-1),tw={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},nw={class:"card"},rw={class:"card-body"},sw={class:"card-text"},iw=se("br",null,null,-1),ow=se("br",null,null,-1),aw=se("br",null,null,-1),lw={key:2,class:"tab-content",id:"myTabContent"},cw=se("span",null,"登入顯示更多內容喔",-1),uw=[cw],fw={__name:"StampView",setup(n){const t=dc(),i=gc(),l=ea();t.callAPI(),i.callAPI(),l.callAPI();const u=ta(),h=je(""),g=je(!1),m=je("");let E=je(!1),x=je("btn btn-primary"),_=je("登入");const C=async()=>{console.log("lock btn pushed."),E.value=!E.value,E.value?(x.value="btn btn-danger",_.value="登出"):(x.value="btn btn-primary",_.value="登入"),E.value?(await u.user_login(m.value),u.isLoggedIn?(g.value=!1,h.value="",await u.get_records()):(g.value=!0,h.value="找不到與電子郵件相符的帳號。尚未註冊帳號則點擊選單註冊帳號。",E.value=!1,x.value="btn btn-primary",_.value="登入")):u.logout()},I=je(null);sc(()=>{u.isLoggedIn&&(m.value=u.email,E.value||(E.value=!0,x.value="btn btn-danger",_.value="登出")),O(),window.addEventListener("resize",O)});const O=()=>{if(I.value){const L=I.value.getBoundingClientRect(),z=window.innerHeight-L.top-16;I.value.style.maxHeight=`${z} px`}};return(L,D)=>(ct(),ht("div",null,[FE,h.value?(ct(),ht("div",{key:0,class:Vt(["mt-3 text-break",["alert",g.value?"alert-danger":"alert-success"]]),role:"alert"},wt(h.value),3)):Kn("",!0),se("div",UE,[se("div",VE,[Tr(se("input",{type:"text",class:"form-control",id:"account","onUpdate:modelValue":D[0]||(D[0]=z=>m.value=z),placeholder:"輸入 Email",required:"",disabled:et(E)},null,8,HE),[[Yr,m.value]]),WE,GE]),se("div",XE,[se("button",{type:"submit",class:Vt(["btn",et(x)]),onClick:C},wt(et(_)),3)])]),se("ul",jE,[$E,se("li",zE,[se("button",{class:"nav-link",id:"card-tab","data-bs-toggle":"tab","data-bs-target":"#card-tab-pane",type:"button",role:"tab","aria-controls":"card-tab-pane","aria-selected":"false",onClick:D[1]||(D[1]=(...z)=>L.get_record&&L.get_record(...z))}," 集點卡 ")]),YE]),et(u).isLoggedIn?(ct(),ht("div",KE,[se("div",qE,[Mt(o0,{url:m.value.trim()},null,8,["url"])]),se("div",{class:"tab-pane fade",id:"card-tab-pane",role:"tabpanel","aria-labelledby":"card-tab",tabindex:"0",ref_key:"tabContent",ref:I},[se("div",ZE,"總點數："+wt(et(u).records.length),1),se("div",QE,[(ct(!0),ht(yn,null,zg(et(u).records,z=>(ct(),ht("div",{class:"card my-2",key:z.created_time},[se("div",JE,[wl(" 社團攤位："+wt(z.club_name),1),ew,wl(" 蓋章時間："+wt(z.created_time),1)])]))),128))])],512),se("div",tw,[se("div",nw,[se("div",rw,[se("p",sw,[se("span",null,"姓名: "+wt(et(u).name),1),iw,se("span",null,"暱稱: "+wt(et(u).nick_name),1),ow,se("span",null,"電子信箱: "+wt(et(u).email),1),aw,se("span",null,"電話號碼: "+wt(et(u).phone),1)])])])])])):(ct(),ht("div",lw,uw))]))}},hw=se("h1",null,"Profile",-1),dw={__name:"ProfileView",setup(n){const t=iE();return(i,l)=>(ct(),ht("div",null,[hw,se("span",null,wt(et(t).params.id),1)]))}},gw="/Earth_Game/ssc_full_name.png",pw={},mw=mh('<h1 class="my-3">主辦單位</h1><div class="text-center"><h2>科學開源服務社</h2></div><img class="img-fluid mt-2 mb-4" src="'+gw+'" alt=""><p> 大同大學科學開源服務社（TTUSSC）是透過開源的方式做服務的社團。 會有技術型的社課，讓社員們可以學到各種課內學不到的技術與知識。我們也致力於校園內推廣開源文化，希望可以改善整體風氣，提供一個舒適的學習平台。 也會帶社員們參加國內的研討會，如：SITCON、COSCUP，並且在寒暑假一起舉辦營隊。 想要偷偷內卷但找不到同伴嗎？大學生活希望更充實的度過嗎？快來加入科學開源服務社的大家庭吧！ </p><h1 class="mb-4">共同主辦</h1><div class="text-center"><h2>大智佛學社</h2><p></p></div><div class="text-center"><h2>美術社</h2><p></p></div><div class="text-center"><h2>桌上遊戲社</h2><p></p></div><div class="text-center"><h2>飲品社</h2><p></p></div>',9),xw=[mw];function Ew(n,t){return ct(),ht("div",null,xw)}const ww=$s(pw,[["render",Ew]]),_w={},Aw=se("h1",null,"404 Not Found",-1),bw=se("p",null,"找不到這個網址的網頁餒",-1),Cw=[Aw,bw];function yw(n,t){return ct(),ht("div",null,Cw)}const mf=$s(_w,[["render",yw]]),xc=n=>(G1("data-v-9bbbd0e3"),n=n(),X1(),n),Tw=xc(()=>se("h1",null,"註冊",-1)),vw={class:"col-md-6"},Sw={class:"invalid-feedback"},Iw={class:"col-md-4"},Ow={class:"invalid-feedback"},Nw={class:"col-md-6"},Rw={class:"invalid-feedback"},Dw={class:"col-md-6"},Mw={class:"invalid-feedback"},Lw={class:"col-12"},Pw={class:"form-check"},Bw=xc(()=>se("label",{class:"form-check-label",for:"gridCheck"}," 同意資料使用條款 ",-1)),kw={class:"invalid-feedback"},Fw={class:"col-6 d-grid mx-auto"},Uw=["disabled"],Vw={key:1,class:"loading-overlay"},Hw=xc(()=>se("div",{class:"spinner-border text-primary",role:"status"},[se("span",{class:"visually-hidden"},"Loading...")],-1)),Ww=[Hw],Gw={__name:"RegisterView",setup(n){let t=je(""),i=je(""),l=je(""),u=je(""),h=je(""),g=je(!1);const m=je(!1),E=je(""),x=je(!1),_=je({name:"",nick_name:"",email:"",phone:"",password:"",check:""});var C=je("row g-3 my-3 needs-validation");const I=async()=>{m.value=!0;try{if(await J()){const P=new FormData;P.append("entry.1936143612",t.value),P.append("entry.1883933211",i.value),P.append("entry.2093473455",l.value),P.append("entry.1241463021",u.value),await fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfijitS0keu4OKn0P6PdaVg_R9QGPwsP5jl7Wa7RIOnNeNYbA/formResponse",{method:"POST",mode:"no-cors",body:P}),console.log("Form submitted successfully"),x.value=!1,E.value="註冊成功！",xe()}else console.log("驗證失敗或未勾選同意條款")}catch(Y){x.value=!0,E.value="註冊表單錯誤："+Y,console.error("Error submitting form:",Y)}finally{m.value=!1}},O=(Y,P,Z)=>Z.required&&!P?(_.value[Y]="此欄位為必填",!1):Z.minLength&&P.length<Z.minLength?(_.value[Y]=`最少需要 ${Z.minLength} 個字符`,!1):Z.pattern&&!Z.pattern.test(P)?(_.value[Y]="格式不正確",!1):(_.value[Y]="",C.value="row g-3 my-3 needs-validation was-validated",!0),L=Dt(()=>O("name",t.value,{required:!0})),D=Dt(()=>O("nick_name",i.value,{required:!1})),z=Dt(()=>O("email",l.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),ne=Dt(()=>O("phone",u.value,{required:!0,pattern:/^\d{10}$/})),Q=Dt(()=>O("check",g.value,{required:!0})),U=Dt(()=>L.value&&D.value&&z.value&&ne.value&&Q.value);async function J(){let Y="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";var P=!0;if(!U.value)return C.value="row g-3 my-3 needs-validation was-validated",!1;try{const V=await yt.get(Y,{params:{table:"users"}});console.log("get users data:"),console.log(V.data);const me=V.data;for(var Z=0;Z<me.length;Z++)if(me[Z].email===l.value||me[Z].phone_number===u.value)return console.log("data conflict."),x.value=!0,E.value="電子信箱或電話號碼已經被註冊過了。",!1;return console.log("data valid passed."),P}catch(V){return console.error("Error validating form:",V),!1}}const xe=()=>{t.value="",i.value="",l.value="",u.value="",h.value="",g.value=!1};return(Y,P)=>(ct(),ht("div",null,[Tw,E.value?(ct(),ht("div",{key:0,class:Vt(["mt-3",["alert",x.value?"alert-danger":"alert-success"]]),role:"alert"},wt(E.value),3)):Kn("",!0),se("form",{class:Vt(et(C)),onSubmit:Ah(I,["prevent"]),novalidate:""},[se("div",vw,[Tr(se("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=Z=>pt(t)?t.value=Z:t=Z),class:Vt(["form-control",{"is-invalid":!L.value}]),name:"name",id:"name",placeholder:"姓名",required:""},null,2),[[Yr,et(t)]]),se("div",Sw,wt(_.value.name),1)]),se("div",Iw,[Tr(se("input",{type:"text","onUpdate:modelValue":P[1]||(P[1]=Z=>pt(i)?i.value=Z:i=Z),class:Vt(["form-control",{"is-invalid":!D.value}]),name:"nick_name",id:"nick_name",placeholder:"暱稱",required:""},null,2),[[Yr,et(i)]]),se("div",Ow,wt(_.value.nick_name),1)]),se("div",Nw,[Tr(se("input",{type:"email","onUpdate:modelValue":P[2]||(P[2]=Z=>pt(l)?l.value=Z:l=Z),class:Vt(["form-control",{"is-invalid":!z.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[Yr,et(l)]]),se("div",Rw,wt(_.value.email),1)]),se("div",Dw,[Tr(se("input",{type:"tel","onUpdate:modelValue":P[3]||(P[3]=Z=>pt(u)?u.value=Z:u=Z),class:Vt(["form-control",{"is-invalid":!ne.value}]),name:"phone",id:"phone",placeholder:"電話號碼",required:""},null,2),[[Yr,et(u)]]),se("div",Mw,wt(_.value.phone),1)]),se("div",Lw,[se("div",Pw,[Tr(se("input",{type:"checkbox",class:Vt(["form-check-input",{"is-invalid":!Q.value}]),"onUpdate:modelValue":P[4]||(P[4]=Z=>pt(g)?g.value=Z:g=Z),id:"gridCheck",required:""},null,2),[[l2,et(g)]]),Bw,se("div",kw,wt(_.value.check),1)])]),se("div",Fw,[se("button",{type:"submit",class:"btn btn-primary",disabled:!U.value||m.value},wt(m.value?"提交中...":"註冊"),9,Uw)])],34),m.value?(ct(),ht("div",Vw,Ww)):Kn("",!0)]))}},Xw=$s(Gw,[["__scopeId","data-v-9bbbd0e3"]]);var be;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var xf=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ef;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Ef||(Ef={}));function jw(n){return Object.values(be).includes(n)}var So;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(So||(So={}));var $w=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[So.SCAN_TYPE_CAMERA,So.SCAN_TYPE_FILE],n}(),a0=function(){function n(t,i){this.format=t,this.formatName=i}return n.prototype.toString=function(){return this.formatName},n.create=function(t){if(!xf.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new n(t,xf.get(t))},n}(),wf=function(){function n(){}return n.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},n.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},n}(),Ml;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ml||(Ml={}));var zw=function(){function n(){}return n.createFrom=function(t){return{errorMessage:t,type:Ml.UNKWOWN_ERROR}},n}(),Yw=function(){function n(t){this.verbose=t}return n.prototype.log=function(t){this.verbose&&console.log(t)},n.prototype.warn=function(t){this.verbose&&console.warn(t)},n.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},n.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},n}();function tr(n){return typeof n>"u"||n===null}var vs=function(){function n(){}return n.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},n.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),l0=function(){function n(){}return n.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var l=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),g=Object.keys(t),m=0,E=g;m<E.length;m++){var x=E[m];if(h.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},n}(),li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ll={exports:{}};(function(n,t){(function(i,l){l(t)})(li,function(i){function l(A){return A==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var r in e)e.hasOwnProperty(r)&&(A[r]=e[r])};function h(A,e){u(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g(A,e){var r=Object.setPrototypeOf;r?r(A,e):A.__proto__=e}function m(A,e){e===void 0&&(e=A.constructor);var r=Error.captureStackTrace;r&&r(A,e)}var E=function(A){h(e,A);function e(r){var s=this.constructor,o=A.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),g(o,s.prototype),m(o),o}return e}(Error);class x extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class _ extends x{}_.kind="ArgumentException";class C extends x{}C.kind="IllegalArgumentException";class I{constructor(e){if(this.binarizer=e,e===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,s,o){const a=this.binarizer.getLuminanceSource().crop(e,r,s,o);return new I(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(e,r,s,o,a){for(;a--;)s[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class z extends x{}z.kind="IndexOutOfBoundsException";class ne extends z{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}ne.kind="ArrayIndexOutOfBoundsException";class Q{static fill(e,r){for(let s=0,o=e.length;s<o;s++)e[s]=r}static fillWithin(e,r,s,o){Q.rangeCheck(e.length,r,s);for(let a=r;a<s;a++)e[a]=o}static rangeCheck(e,r,s){if(r>s)throw new C("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new ne(r);if(s>e)throw new ne(s)}static asList(...e){return e}static create(e,r,s){return Array.from({length:e}).map(a=>Array.from({length:r}).fill(s))}static createInt32Array(e,r,s){return Array.from({length:e}).map(a=>Int32Array.from({length:r}).fill(s))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let s=0,o=e.length;s<o;s++)if(e[s]!==r[s])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const s of e)r=31*r+s;return r}static fillUint8Array(e,r){for(let s=0;s!==e.length;s++)e[s]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const s=new Uint8Array(r);return s.set(e),s}return e.slice(0,r)}static copyOfRange(e,r,s){const o=s-r,a=new Int32Array(o);return D.arraycopy(e,r,a,0,o),a}static binarySearch(e,r,s){s===void 0&&(s=Q.numberComparator);let o=0,a=e.length-1;for(;o<=a;){const c=a+o>>1,f=s(r,e[c]);if(f>0)o=c+1;else if(f<0)a=c-1;else return c}return-o-1}static numberComparator(e,r){return e-r}}class U{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let s=31;return r=e<<16,r!==0&&(s-=16,e=r),r=e<<8,r!==0&&(s-=8,e=r),r=e<<4,r!==0&&(s-=4,e=r),r=e<<2,r!==0&&(s-=2,e=r),s-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=J.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=J.makeArray(e);D.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const s=this.bits;let o=Math.floor(e/32),a=s[o];a&=~((1<<(e&31))-1);const c=s.length;for(;a===0;){if(++o===c)return r;a=s[o]}const f=o*32+U.numberOfTrailingZeros(a);return f>r?r:f}getNextUnset(e){const r=this.size;if(e>=r)return r;const s=this.bits;let o=Math.floor(e/32),a=~s[o];a&=~((1<<(e&31))-1);const c=s.length;for(;a===0;){if(++o===c)return r;a=~s[o]}const f=o*32+U.numberOfTrailingZeros(a);return f>r?r:f}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new C;if(r===e)return;r--;const s=Math.floor(e/32),o=Math.floor(r/32),a=this.bits;for(let c=s;c<=o;c++){const f=c>s?0:e&31,p=(2<<(c<o?31:r&31))-(1<<f);a[c]|=p}}clear(){const e=this.bits.length,r=this.bits;for(let s=0;s<e;s++)r[s]=0}isRange(e,r,s){if(r<e||e<0||r>this.size)throw new C;if(r===e)return!0;r--;const o=Math.floor(e/32),a=Math.floor(r/32),c=this.bits;for(let f=o;f<=a;f++){const d=f>o?0:e&31,w=(2<<(f<a?31:r&31))-(1<<d)&4294967295;if((c[f]&w)!==(s?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((e>>s-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(e.get(s))}xor(e){if(this.size!==e.size)throw new C("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=e.bits[s]}toBytes(e,r,s,o){for(let a=0;a<o;a++){let c=0;for(let f=0;f<8;f++)this.get(e)&&(c|=1<<7-f),e++;r[s+a]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let a=0;a<s;a++){let c=o[a];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[r-a]=c}if(this.size!==s*32){const a=s*32-this.size;let c=e[0]>>>a;for(let f=1;f<s;f++){const d=e[f];c|=d<<32-a,e[f-1]=c,c=d>>>a}e[s-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof J))return!1;const r=e;return this.size===r.size&&Q.equals(this.bits,r.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let e="";for(let r=0,s=this.size;r<s;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new J(this.size,this.bits.slice())}}var xe;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(xe||(xe={}));var Y=xe;class P extends x{static getFormatInstance(){return new P}}P.kind="FormatException";var Z;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class V{constructor(e,r,s,...o){this.valueIdentifier=e,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,V.VALUE_IDENTIFIER_TO_ECI.set(e,this),V.NAME_TO_ECI.set(s,this);const a=this.values;for(let c=0,f=a.length;c!==f;c++){const d=a[c];V.VALUES_TO_ECI.set(d,this)}for(const c of o)V.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new P("incorect value");const r=V.VALUES_TO_ECI.get(e);if(r===void 0)throw new P("incorect value");return r}static getCharacterSetECIByName(e){const r=V.NAME_TO_ECI.get(e);if(r===void 0)throw new P("incorect value");return r}equals(e){if(!(e instanceof V))return!1;const r=e;return this.getName()===r.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(Z.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(Z.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(Z.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(Z.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(Z.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(Z.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(Z.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(Z.Big5,28,"Big5"),V.GB18030=new V(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(Z.EUC_KR,30,"EUC_KR","EUC-KR");class me extends x{}me.kind="UnsupportedOperationException";class ye{static decode(e,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)}static shouldDecodeOnFallback(e){return!ye.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof V?e:V.getCharacterSetECIByName(e)}static decodeFallback(e,r){const s=this.encodingCharacterSet(r);if(ye.isDecodeFallbackSupported(s)){let o="";for(let a=0,c=e.length;a<c;a++){let f=e[a].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(s.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new me(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(V.UTF8)||e.equals(V.ISO8859_1)||e.equals(V.ASCII)}static encodeFallback(e){const s=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let a=0;a<s.length;a++)o.push(s[a].charCodeAt(0));return new Uint8Array(o)}}class de{static castAsNonUtf8Char(e,r=null){const s=r?r.getName():this.ISO88591;return ye.decode(new Uint8Array([e]),s)}static guessEncoding(e,r){if(r!=null&&r.get(Y.CHARACTER_SET)!==void 0)return r.get(Y.CHARACTER_SET).toString();const s=e.length;let o=!0,a=!0,c=!0,f=0,d=0,p=0,w=0,b=0,y=0,S=0,R=0,M=0,B=0,G=0;const ue=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let he=0;he<s&&(o||a||c);he++){const ae=e[he]&255;c&&(f>0?ae&128?f--:c=!1:ae&128&&(ae&64?(f++,ae&32?(f++,ae&16?(f++,ae&8?c=!1:w++):p++):d++):c=!1)),o&&(ae>127&&ae<160?o=!1:ae>159&&(ae<192||ae===215||ae===247)&&G++),a&&(b>0?ae<64||ae===127||ae>252?a=!1:b--:ae===128||ae===160||ae>239?a=!1:ae>160&&ae<224?(y++,R=0,S++,S>M&&(M=S)):ae>127?(b++,S=0,R++,R>B&&(B=R)):(S=0,R=0))}return c&&f>0&&(c=!1),a&&b>0&&(a=!1),c&&(ue||d+p+w>0)?de.UTF8:a&&(de.ASSUME_SHIFT_JIS||M>=3||B>=3)?de.SHIFT_JIS:o&&a?M===2&&y===2||G*10>=s?de.SHIFT_JIS:de.ISO88591:o?de.ISO88591:a?de.SHIFT_JIS:c?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let s=-1;function o(c,f,d,p,w,b){if(c==="%%")return"%";if(r[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=w?parseInt(w.substr(1)):void 0,S;switch(b){case"s":S=r[s];break;case"c":S=r[s][0];break;case"f":S=parseFloat(r[s]).toFixed(c);break;case"p":S=parseFloat(r[s]).toPrecision(c);break;case"e":S=parseFloat(r[s]).toExponential(c);break;case"x":S=parseInt(r[s]).toString(y||16);break;case"d":S=parseFloat(parseInt(r[s],y||10).toPrecision(c)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;S.length<R;)S=f!==void 0?S+M:M+S;return S}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}static getBytes(e,r){return ye.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}de.SHIFT_JIS=V.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=V.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=V.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class ve{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=de.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,s){for(let o=r;r<r+s;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class qe{constructor(e,r,s,o){if(this.width=e,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new C("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,s=e[0].length,o=new qe(s,r);for(let a=0;a<r;a++){const c=e[a];for(let f=0;f<s;f++)c[f]&&o.set(f,a)}return o}static parseFromString(e,r,s){if(e===null)throw new C("stringRepresentation cannot be null");const o=new Array(e.length);let a=0,c=0,f=-1,d=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new C("row lengths do not match");c=a,d++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,o[a]=!0,a++;else if(e.substring(p,p+s.length)===s)p+=s.length,o[a]=!1,a++;else throw new C("illegal character encountered: "+e.substring(p));if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new C("row lengths do not match");d++}const w=new qe(f,d);for(let b=0;b<a;b++)o[b]&&w.set(Math.floor(b%f),Math.floor(b/f));return w}get(e,r){const s=r*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0}set(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295}unset(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)}flip(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new C("input matrix dimensions do not match");const r=new J(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let a=0,c=this.height;a<c;a++){const f=a*s,d=e.getRow(a,r).getBitArray();for(let p=0;p<s;p++)o[f+p]^=d[p]}}clear(){const e=this.bits,r=e.length;for(let s=0;s<r;s++)e[s]=0}setRegion(e,r,s,o){if(r<0||e<0)throw new C("Left and top must be nonnegative");if(o<1||s<1)throw new C("Height and width must be at least 1");const a=e+s,c=r+o;if(c>this.height||a>this.width)throw new C("The region must fit inside the matrix");const f=this.rowSize,d=this.bits;for(let p=r;p<c;p++){const w=p*f;for(let b=e;b<a;b++)d[w+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new J(this.width):r.clear();const s=this.rowSize,o=this.bits,a=e*s;for(let c=0;c<s;c++)r.setBulk(c*32,o[a+c]);return r}setRow(e,r){D.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let s=new J(e),o=new J(e);for(let a=0,c=Math.floor((r+1)/2);a<c;a++)s=this.getRow(a,s),o=this.getRow(r-1-a,o),s.reverse(),o.reverse(),this.setRow(a,o),this.setRow(r-1-a,s)}getEnclosingRectangle(){const e=this.width,r=this.height,s=this.rowSize,o=this.bits;let a=e,c=r,f=-1,d=-1;for(let p=0;p<r;p++)for(let w=0;w<s;w++){const b=o[p*s+w];if(b!==0){if(p<c&&(c=p),p>d&&(d=p),w*32<a){let y=0;for(;!(b<<31-y&4294967295);)y++;w*32+y<a&&(a=w*32+y)}if(w*32+31>f){let y=31;for(;!(b>>>y);)y--;w*32+y>f&&(f=w*32+y)}}}return f<a||d<c?null:Int32Array.from([a,c,f-a+1,d-c+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/e;let a=s%e*32;const c=r[s];let f=0;for(;!(c<<31-f&4294967295);)f++;return a+=f,Int32Array.from([a,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/e);let a=Math.floor(s%e)*32;const c=r[s];let f=31;for(;!(c>>>f);)f--;return a+=f,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof qe))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Q.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Q.hashCode(this.bits),e}toString(e="X ",r="  ",s=`
`){return this.buildToString(e,r,s)}buildToString(e,r,s){let o=new ve;for(let a=0,c=this.height;a<c;a++){for(let f=0,d=this.width;f<d;f++)o.append(this.get(f,a)?e:r);o.append(s)}return o.toString()}clone(){return new qe(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends x{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class Ie extends L{constructor(e){super(e),this.luminances=Ie.EMPTY,this.buckets=new Int32Array(Ie.LUMINANCE_BUCKETS)}getBlackRow(e,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new J(o):r.clear(),this.initArrays(o);const a=s.getRow(e,this.luminances),c=this.buckets;for(let d=0;d<o;d++)c[(a[d]&255)>>Ie.LUMINANCE_SHIFT]++;const f=Ie.estimateBlackPoint(c);if(o<3)for(let d=0;d<o;d++)(a[d]&255)<f&&r.set(d);else{let d=a[0]&255,p=a[1]&255;for(let w=1;w<o-1;w++){const b=a[w+1]&255;(p*4-d-b)/2<f&&r.set(w),d=p,p=b}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),s=e.getHeight(),o=new qe(r,s);this.initArrays(r);const a=this.buckets;for(let d=1;d<5;d++){const p=Math.floor(s*d/5),w=e.getRow(p,this.luminances),b=Math.floor(r*4/5);for(let y=Math.floor(r/5);y<b;y++){const S=w[y]&255;a[S>>Ie.LUMINANCE_SHIFT]++}}const c=Ie.estimateBlackPoint(a),f=e.getMatrix();for(let d=0;d<s;d++){const p=d*r;for(let w=0;w<r;w++)(f[p+w]&255)<c&&o.set(w,d)}return o}createBinarizer(e){return new Ie(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let s=0;s<Ie.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(e){const r=e.length;let s=0,o=0,a=0;for(let w=0;w<r;w++)e[w]>a&&(o=w,a=e[w]),e[w]>s&&(s=e[w]);let c=0,f=0;for(let w=0;w<r;w++){const b=w-o,y=e[w]*b*b;y>f&&(c=w,f=y)}if(o>c){const w=o;o=c,c=w}if(c-o<=r/16)throw new X;let d=c-1,p=-1;for(let w=c-1;w>o;w--){const b=w-o,y=b*b*(c-w)*(s-e[w]);y>p&&(d=w,p=y)}return d<<Ie.LUMINANCE_SHIFT}}Ie.LUMINANCE_BITS=5,Ie.LUMINANCE_SHIFT=8-Ie.LUMINANCE_BITS,Ie.LUMINANCE_BUCKETS=1<<Ie.LUMINANCE_BITS,Ie.EMPTY=Uint8ClampedArray.from([0]);class le extends Ie{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),s=e.getHeight();if(r>=le.MINIMUM_DIMENSION&&s>=le.MINIMUM_DIMENSION){const o=e.getMatrix();let a=r>>le.BLOCK_SIZE_POWER;r&le.BLOCK_SIZE_MASK&&a++;let c=s>>le.BLOCK_SIZE_POWER;s&le.BLOCK_SIZE_MASK&&c++;const f=le.calculateBlackPoints(o,a,c,r,s),d=new qe(r,s);le.calculateThresholdForBlock(o,a,c,r,s,f,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new le(e)}static calculateThresholdForBlock(e,r,s,o,a,c,f){const d=a-le.BLOCK_SIZE,p=o-le.BLOCK_SIZE;for(let w=0;w<s;w++){let b=w<<le.BLOCK_SIZE_POWER;b>d&&(b=d);const y=le.cap(w,2,s-3);for(let S=0;S<r;S++){let R=S<<le.BLOCK_SIZE_POWER;R>p&&(R=p);const M=le.cap(S,2,r-3);let B=0;for(let ue=-2;ue<=2;ue++){const he=c[y+ue];B+=he[M-2]+he[M-1]+he[M]+he[M+1]+he[M+2]}const G=B/25;le.thresholdBlock(e,R,b,G,o,f)}}}static cap(e,r,s){return e<r?r:e>s?s:e}static thresholdBlock(e,r,s,o,a,c){for(let f=0,d=s*a+r;f<le.BLOCK_SIZE;f++,d+=a)for(let p=0;p<le.BLOCK_SIZE;p++)(e[d+p]&255)<=o&&c.set(r+p,s+f)}static calculateBlackPoints(e,r,s,o,a){const c=a-le.BLOCK_SIZE,f=o-le.BLOCK_SIZE,d=new Array(s);for(let p=0;p<s;p++){d[p]=new Int32Array(r);let w=p<<le.BLOCK_SIZE_POWER;w>c&&(w=c);for(let b=0;b<r;b++){let y=b<<le.BLOCK_SIZE_POWER;y>f&&(y=f);let S=0,R=255,M=0;for(let G=0,ue=w*o+y;G<le.BLOCK_SIZE;G++,ue+=o){for(let he=0;he<le.BLOCK_SIZE;he++){const ae=e[ue+he]&255;S+=ae,ae<R&&(R=ae),ae>M&&(M=ae)}if(M-R>le.MIN_DYNAMIC_RANGE)for(G++,ue+=o;G<le.BLOCK_SIZE;G++,ue+=o)for(let he=0;he<le.BLOCK_SIZE;he++)S+=e[ue+he]&255}let B=S>>le.BLOCK_SIZE_POWER*2;if(M-R<=le.MIN_DYNAMIC_RANGE&&(B=R/2,p>0&&b>0)){const G=(d[p-1][b]+2*d[p][b-1]+d[p-1][b-1])/4;R<G&&(B=G)}d[p][b]=B}}return d}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class He{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,s,o){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new ve;for(let s=0;s<this.height;s++){const o=this.getRow(s,e);for(let a=0;a<this.width;a++){const c=o[a]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class dt extends He{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const s=this.delegate.getRow(e,r),o=this.getWidth();for(let a=0;a<o;a++)s[a]=255-(s[a]&255);return s}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(e[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,s,o){return new dt(this.delegate.crop(e,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new dt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new dt(this.delegate.rotateCounterClockwise45())}}class Tt extends He{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Tt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return Tt.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,s){const o=new Uint8ClampedArray(r*s);for(let a=0,c=0,f=e.length;a<f;a+=4,c++){let d;if(e[a+3]===0)d=255;else{const w=e[a],b=e[a+1],y=e[a+2];d=306*w+601*b+117*y+512>>10}o[c]=d}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new C("Requested row is outside the image: "+e);const s=this.getWidth(),o=e*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,s,o){return super.crop(e,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=e*Tt.DEGREE_TO_RADIANS,a=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*c),d=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*c);return r.width=f,r.height=d,s.translate(f/2,d/2),s.rotate(o),s.drawImage(this.canvas,a/-2,c/-2),this.buffer=Tt.makeBufferFromCanvasImageData(r),this}invert(){return new dt(this)}}Tt.DEGREE_TO_RADIANS=Math.PI/180;class Ht{constructor(e,r,s){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ze=(globalThis||li||self||window||void 0)&&(globalThis||li||self||window||void 0).__awaiter||function(A,e,r,s){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(w){try{p(s.next(w))}catch(b){c(b)}}function d(w){try{p(s.throw(w))}catch(b){c(b)}}function p(w){w.done?a(w.value):o(w.value).then(f,d)}p((s=s.apply(A,e||[])).next())})};class Lt{constructor(e,r=500,s){this.reader=e,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ze(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of e){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const a=s.deviceId||s.id,c=s.label||`Video device ${r.length+1}`,f=s.groupId,d={deviceId:a,label:c,kind:o,groupId:f};r.push(d)}return r})}getVideoInputDevices(){return ze(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ht(r.deviceId,r.label))})}findDeviceById(e){return ze(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return ze(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return ze(this,void 0,void 0,function*(){this.reset();let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return ze(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(e,r){return ze(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(e,r,s){return ze(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,s)})}decodeFromVideoDevice(e,r,s){return ze(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,r,s)})}decodeFromConstraints(e,r,s){return ze(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(e,r,s){return ze(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return ze(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,e),this.videoElement=s,this.stream=e,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(e){return new Promise((r,s)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ze(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const s=document.getElementById(e);if(!s)throw new _(`element with id '${e}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new _(`element with id '${e}' must be an ${r} element`);return s}decodeFromImage(e,r){if(!e&&!r)throw new _("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,s){if(e===void 0&&r===void 0)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(e,s)}decodeFromImageElement(e){if(!e)throw new _("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(e){if(!e)throw new _("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=e,s}decodeFromVideoUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=e,s}decodeFromVideoUrlContinuously(e,r){if(!e)throw new _("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=e,o}_decodeOnLoadImage(e){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,s),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ze(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return ze(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(a,c)=>{if(this._stopAsyncDecode){c(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(e);a(f)}catch(f){const d=r&&f instanceof X,w=(f instanceof O||f instanceof P)&&s;if(d||w)return setTimeout(o,this._timeBetweenDecodingAttempts,a,c);c(f)}};return new Promise((a,c)=>o(a,c))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const a=o instanceof O||o instanceof P,c=o instanceof X;(a||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,s){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),s=new Tt(r),o=new le(s);return new I(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ot{constructor(e,r,s=r==null?0:8*r.length,o,a,c=D.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=a,this.timestamp=c,this.text=e,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=a,this.resultMetadata=null,c==null?this.timestamp=D.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const s=new Array(r.length+e.length);D.arraycopy(r,0,s,0,r.length),D.arraycopy(e,0,s,r.length,e.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Wt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wt||(Wt={}));var we=Wt,K;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(K||(K={}));var ce=K;class pe{constructor(e,r,s,o,a=-1,c=-1){this.rawBytes=e,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ce{exp(e){return this.expTable[e]}log(e){if(e===0)throw new C;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class Pe{constructor(e,r){if(r.length===0)throw new C;this.field=e;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(e===1){s=0;for(let c=0,f=r.length;c!==f;c++){const d=r[c];s=Ce.addOrSubtract(s,d)}return s}s=r[0];const o=r.length,a=this.field;for(let c=1;c<o;c++)s=Ce.addOrSubtract(a.multiply(e,s),r[c]);return s}addOrSubtract(e){if(!this.field.equals(e.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,s=e.coefficients;if(r.length>s.length){const c=r;r=s,s=c}let o=new Int32Array(s.length);const a=s.length-r.length;D.arraycopy(s,0,o,0,a);for(let c=a;c<s.length;c++)o[c]=Ce.addOrSubtract(r[c-a],s[c]);return new Pe(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=e.coefficients,a=o.length,c=new Int32Array(s+a-1),f=this.field;for(let d=0;d<s;d++){const p=r[d];for(let w=0;w<a;w++)c[d+w]=Ce.addOrSubtract(c[d+w],f.multiply(p,o[w]))}return new Pe(f,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),a=this.coefficients;for(let c=0;c<r;c++)o[c]=s.multiply(a[c],e);return new Pe(s,o)}multiplyByMonomial(e,r){if(e<0)throw new C;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,a=new Int32Array(o+e),c=this.field;for(let f=0;f<o;f++)a[f]=c.multiply(s[f],r);return new Pe(c,a)}divide(e){if(!this.field.equals(e.field))throw new C("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new C("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const a=e.getCoefficient(e.getDegree()),c=r.inverse(a);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const f=o.getDegree()-e.getDegree(),d=r.multiply(o.getCoefficient(o.getDegree()),c),p=e.multiplyByMonomial(f,d),w=r.buildMonomial(f,d);s=s.addOrSubtract(w),o=o.addOrSubtract(p)}return[s,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class st extends x{}st.kind="ArithmeticException";class T extends Ce{constructor(e,r,s){super(),this.primitive=e,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let a=1;for(let f=0;f<r;f++)o[f]=a,a*=2,a>=r&&(a^=e,a&=r-1);this.expTable=o;const c=new Int32Array(r);for(let f=0;f<r-1;f++)c[o[f]]=f;this.logTable=c,this.zero=new Pe(this,Int32Array.from([0])),this.one=new Pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new C;if(r===0)return this.zero;const s=new Int32Array(e+1);return s[0]=r,new Pe(this,s)}inverse(e){if(e===0)throw new st;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}T.AZTEC_DATA_12=new T(4201,4096,1),T.AZTEC_DATA_10=new T(1033,1024,1),T.AZTEC_DATA_6=new T(67,64,1),T.AZTEC_PARAM=new T(19,16,1),T.QR_CODE_FIELD_256=new T(285,256,0),T.DATA_MATRIX_FIELD_256=new T(301,256,1),T.AZTEC_DATA_8=T.DATA_MATRIX_FIELD_256,T.MAXICODE_FIELD_64=T.AZTEC_DATA_6;class N extends x{}N.kind="ReedSolomonException";class F extends x{}F.kind="IllegalStateException";class ee{constructor(e){this.field=e}decode(e,r){const s=this.field,o=new Pe(s,e),a=new Int32Array(r);let c=!0;for(let S=0;S<r;S++){const R=o.evaluateAt(s.exp(S+s.getGeneratorBase()));a[a.length-1-S]=R,R!==0&&(c=!1)}if(c)return;const f=new Pe(s,a),d=this.runEuclideanAlgorithm(s.buildMonomial(r,1),f,r),p=d[0],w=d[1],b=this.findErrorLocations(p),y=this.findErrorMagnitudes(w,b);for(let S=0;S<b.length;S++){const R=e.length-1-s.log(b[S]);if(R<0)throw new N("Bad error location");e[R]=T.addOrSubtract(e[R],y[S])}}runEuclideanAlgorithm(e,r,s){if(e.getDegree()<r.getDegree()){const S=e;e=r,r=S}const o=this.field;let a=e,c=r,f=o.getZero(),d=o.getOne();for(;c.getDegree()>=(s/2|0);){let S=a,R=f;if(a=c,f=d,a.isZero())throw new N("r_{i-1} was zero");c=S;let M=o.getZero();const B=a.getCoefficient(a.getDegree()),G=o.inverse(B);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){const ue=c.getDegree()-a.getDegree(),he=o.multiply(c.getCoefficient(c.getDegree()),G);M=M.addOrSubtract(o.buildMonomial(ue,he)),c=c.addOrSubtract(a.multiplyByMonomial(ue,he))}if(d=M.multiply(f).addOrSubtract(R),c.getDegree()>=a.getDegree())throw new F("Division algorithm failed to reduce polynomial?")}const p=d.getCoefficient(0);if(p===0)throw new N("sigmaTilde(0) was zero");const w=o.inverse(p),b=d.multiplyScalar(w),y=c.multiplyScalar(w);return[b,y]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const a=this.field;for(let c=1;c<a.getSize()&&o<r;c++)e.evaluateAt(c)===0&&(s[o]=a.inverse(c),o++);if(o!==r)throw new N("Error locator degree does not match number of roots");return s}findErrorMagnitudes(e,r){const s=r.length,o=new Int32Array(s),a=this.field;for(let c=0;c<s;c++){const f=a.inverse(r[c]);let d=1;for(let p=0;p<s;p++)if(c!==p){const w=a.multiply(r[p],f),b=w&1?w&-2:w|1;d=a.multiply(d,b)}o[c]=a.multiply(e.evaluateAt(f),a.inverse(d)),a.getGeneratorBase()!==0&&(o[c]=a.multiply(o[c],f))}return o}}var j;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(j||(j={}));class q{decode(e){this.ddata=e;let r=e.getBits(),s=this.extractBits(r),o=this.correctBits(s),a=q.convertBoolArrayToByteArray(o),c=q.getEncodedData(o),f=new pe(a,c,null,null);return f.setNumBits(o.length),f}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,s=j.UPPER,o=j.UPPER,a="",c=0;for(;c<r;)if(o===j.BINARY){if(r-c<5)break;let f=q.readCode(e,c,5);if(c+=5,f===0){if(r-c<11)break;f=q.readCode(e,c,11)+31,c+=11}for(let d=0;d<f;d++){if(r-c<8){c=r;break}const p=q.readCode(e,c,8);a+=de.castAsNonUtf8Char(p),c+=8}o=s}else{let f=o===j.DIGIT?4:5;if(r-c<f)break;let d=q.readCode(e,c,f);c+=f;let p=q.getCharacter(o,d);p.startsWith("CTRL_")?(s=o,o=q.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=o)):(a+=p,o=s)}return a}static getTable(e){switch(e){case"L":return j.LOWER;case"P":return j.PUNCT;case"M":return j.MIXED;case"D":return j.DIGIT;case"B":return j.BINARY;case"U":default:return j.UPPER}}static getCharacter(e,r){switch(e){case j.UPPER:return q.UPPER_TABLE[r];case j.LOWER:return q.LOWER_TABLE[r];case j.MIXED:return q.MIXED_TABLE[r];case j.PUNCT:return q.PUNCT_TABLE[r];case j.DIGIT:return q.DIGIT_TABLE[r];default:throw new F("Bad table")}}correctBits(e){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=T.AZTEC_DATA_10):(s=12,r=T.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=e.length/s;if(a<o)throw new P;let c=e.length%s,f=new Int32Array(a);for(let y=0;y<a;y++,c+=s)f[y]=q.readCode(e,c,s);try{new ee(r).decode(f,a-o)}catch(y){throw new P(y)}let d=(1<<s)-1,p=0;for(let y=0;y<o;y++){let S=f[y];if(S===0||S===d)throw new P;(S===1||S===d-1)&&p++}let w=new Array(o*s-p),b=0;for(let y=0;y<o;y++){let S=f[y];if(S===1||S===d-1)w.fill(S>1,b,b+s-1),b+=s-1;else for(let R=s-1;R>=0;--R)w[b++]=(S&1<<R)!==0}return w}extractBits(e){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,a=new Int32Array(o),c=new Array(this.totalBitsInLayer(s,r));if(r)for(let f=0;f<a.length;f++)a[f]=f;else{let f=o+1+2*U.truncDivision(U.truncDivision(o,2)-1,15),d=o/2,p=U.truncDivision(f,2);for(let w=0;w<d;w++){let b=w+U.truncDivision(w,15);a[d-w-1]=p-b-1,a[d+w]=p+b+1}}for(let f=0,d=0;f<s;f++){let p=(s-f)*4+(r?9:12),w=f*2,b=o-1-w;for(let y=0;y<p;y++){let S=y*2;for(let R=0;R<2;R++)c[d+S+R]=e.get(a[w+R],a[w+y]),c[d+2*p+S+R]=e.get(a[w+y],a[b-R]),c[d+4*p+S+R]=e.get(a[b-R],a[b-y]),c[d+6*p+S+R]=e.get(a[b-y],a[w+R])}d+=p*8}return c}static readCode(e,r,s){let o=0;for(let a=r;a<r+s;a++)o<<=1,e[a]&&(o|=1);return o}static readByte(e,r){let s=e.length-r;return s>=8?q.readCode(e,r,8):q.readCode(e,r,s)<<8-s}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let s=0;s<r.length;s++)r[s]=q.readByte(e,8*s);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}q.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],q.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],q.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],q.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],q.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class te{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,s,o){const a=e-s,c=r-o;return Math.sqrt(a*a+c*c)}static sum(e){let r=0;for(let s=0,o=e.length;s!==o;s++){const a=e[s];r+=a}return r}}class fe{static floatToIntBits(e){return e}}fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class H{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof H){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*fe.floatToIntBits(this.x)+fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let a,c,f;if(s>=r&&s>=o?(c=e[0],a=e[1],f=e[2]):o>=s&&o>=r?(c=e[1],a=e[0],f=e[2]):(c=e[2],a=e[0],f=e[1]),this.crossProductZ(a,c,f)<0){const d=a;a=f,f=d}e[0]=a,e[1]=c,e[2]=f}static distance(e,r){return te.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,s){const o=r.x,a=r.y;return(s.x-o)*(e.y-a)-(s.y-a)*(e.x-o)}}class ie{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ee extends ie{constructor(e,r,s,o,a){super(e,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _e{constructor(e,r,s,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=_e.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const a=r/2|0;if(this.leftInit=s-a,this.rightInit=s+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let e=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,a=!1,c=!0,f=!1,d=!1,p=!1,w=!1,b=!1;const y=this.width,S=this.height;for(;c;){c=!1;let R=!0;for(;(R||!d)&&r<y;)R=this.containsBlackPoint(s,o,r,!1),R?(r++,c=!0,d=!0):d||r++;if(r>=y){a=!0;break}let M=!0;for(;(M||!p)&&o<S;)M=this.containsBlackPoint(e,r,o,!0),M?(o++,c=!0,p=!0):p||o++;if(o>=S){a=!0;break}let B=!0;for(;(B||!w)&&e>=0;)B=this.containsBlackPoint(s,o,e,!1),B?(e--,c=!0,w=!0):w||e--;if(e<0){a=!0;break}let G=!0;for(;(G||!b)&&s>=0;)G=this.containsBlackPoint(e,r,s,!0),G?(s--,c=!0,b=!0):b||s--;if(s<0){a=!0;break}c&&(f=!0)}if(!a&&f){const R=r-e;let M=null;for(let he=1;M===null&&he<R;he++)M=this.getBlackPointOnSegment(e,o-he,e+he,o);if(M==null)throw new X;let B=null;for(let he=1;B===null&&he<R;he++)B=this.getBlackPointOnSegment(e,s+he,e+he,s);if(B==null)throw new X;let G=null;for(let he=1;G===null&&he<R;he++)G=this.getBlackPointOnSegment(r,s+he,r-he,s);if(G==null)throw new X;let ue=null;for(let he=1;ue===null&&he<R;he++)ue=this.getBlackPointOnSegment(r,o-he,r-he,o);if(ue==null)throw new X;return this.centerEdges(ue,M,G,B)}else throw new X}getBlackPointOnSegment(e,r,s,o){const a=te.round(te.distance(e,r,s,o)),c=(s-e)/a,f=(o-r)/a,d=this.image;for(let p=0;p<a;p++){const w=te.round(e+p*c),b=te.round(r+p*f);if(d.get(w,b))return new H(w,b)}return null}centerEdges(e,r,s,o){const a=e.getX(),c=e.getY(),f=r.getX(),d=r.getY(),p=s.getX(),w=s.getY(),b=o.getX(),y=o.getY(),S=_e.CORR;return a<this.width/2?[new H(b-S,y+S),new H(f+S,d+S),new H(p-S,w-S),new H(a+S,c-S)]:[new H(b+S,y+S),new H(f+S,d-S),new H(p-S,w+S),new H(a-S,c-S)]}containsBlackPoint(e,r,s,o){const a=this.image;if(o){for(let c=e;c<=r;c++)if(a.get(c,s))return!0}else for(let c=e;c<=r;c++)if(a.get(s,c))return!0;return!1}}_e.INIT_SIZE=10,_e.CORR=1;class Te{static checkAndNudgePoints(e,r){const s=e.getWidth(),o=e.getHeight();let a=!0;for(let c=0;c<r.length&&a;c+=2){const f=Math.floor(r[c]),d=Math.floor(r[c+1]);if(f<-1||f>s||d<-1||d>o)throw new X;a=!1,f===-1?(r[c]=0,a=!0):f===s&&(r[c]=s-1,a=!0),d===-1?(r[c+1]=0,a=!0):d===o&&(r[c+1]=o-1,a=!0)}a=!0;for(let c=r.length-2;c>=0&&a;c-=2){const f=Math.floor(r[c]),d=Math.floor(r[c+1]);if(f<-1||f>s||d<-1||d>o)throw new X;a=!1,f===-1?(r[c]=0,a=!0):f===s&&(r[c]=s-1,a=!0),d===-1?(r[c+1]=0,a=!0):d===o&&(r[c+1]=o-1,a=!0)}}}class Se{constructor(e,r,s,o,a,c,f,d,p){this.a11=e,this.a21=r,this.a31=s,this.a12=o,this.a22=a,this.a32=c,this.a13=f,this.a23=d,this.a33=p}static quadrilateralToQuadrilateral(e,r,s,o,a,c,f,d,p,w,b,y,S,R,M,B){const G=Se.quadrilateralToSquare(e,r,s,o,a,c,f,d);return Se.squareToQuadrilateral(p,w,b,y,S,R,M,B).times(G)}transformPoints(e){const r=e.length,s=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,p=this.a31,w=this.a32,b=this.a33;for(let y=0;y<r;y+=2){const S=e[y],R=e[y+1],M=a*S+d*R+b;e[y]=(s*S+c*R+p)/M,e[y+1]=(o*S+f*R+w)/M}}transformPointsWithValues(e,r){const s=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,p=this.a31,w=this.a32,b=this.a33,y=e.length;for(let S=0;S<y;S++){const R=e[S],M=r[S],B=a*R+d*M+b;e[S]=(s*R+c*M+p)/B,r[S]=(o*R+f*M+w)/B}}static squareToQuadrilateral(e,r,s,o,a,c,f,d){const p=e-s+a-f,w=r-o+c-d;if(p===0&&w===0)return new Se(s-e,a-s,e,o-r,c-o,r,0,0,1);{const b=s-a,y=f-a,S=o-c,R=d-c,M=b*R-y*S,B=(p*R-y*w)/M,G=(b*w-p*S)/M;return new Se(s-e+B*s,f-e+G*f,e,o-r+B*o,d-r+G*d,r,B,G,1)}}static quadrilateralToSquare(e,r,s,o,a,c,f,d){return Se.squareToQuadrilateral(e,r,s,o,a,c,f,d).buildAdjoint()}buildAdjoint(){return new Se(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Se(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ke extends Te{sampleGrid(e,r,s,o,a,c,f,d,p,w,b,y,S,R,M,B,G,ue,he){const ae=Se.quadrilateralToQuadrilateral(o,a,c,f,d,p,w,b,y,S,R,M,B,G,ue,he);return this.sampleGridWithTransform(e,r,s,ae)}sampleGridWithTransform(e,r,s,o){if(r<=0||s<=0)throw new X;const a=new qe(r,s),c=new Float32Array(2*r);for(let f=0;f<s;f++){const d=c.length,p=f+.5;for(let w=0;w<d;w+=2)c[w]=w/2+.5,c[w+1]=p;o.transformPoints(c),Te.checkAndNudgePoints(e,c);try{for(let w=0;w<d;w+=2)e.get(Math.floor(c[w]),Math.floor(c[w+1]))&&a.set(w/2,f)}catch{throw new X}}return a}}class $e{static setGridSampler(e){$e.gridSampler=e}static getInstance(){return $e.gridSampler}}$e.gridSampler=new ke;class Be{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new H(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Nt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(e){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),a=this.getMatrixCornerPoints(s);return new Ee(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new X;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let c=0;c<4;c++){let f=s[(this.shift+c)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(e,r){let s=0;e.forEach((o,a,c)=>{let f=(o>>r-2<<1)+(o&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(U.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new X}getCorrectedParameterData(e,r){let s,o;r?(s=7,o=2):(s=10,o=4);let a=s-o,c=new Int32Array(s);for(let d=s-1;d>=0;--d)c[d]=e&15,e>>=4;try{new ee(T.AZTEC_PARAM).decode(c,a)}catch{throw new X}let f=0;for(let d=0;d<o;d++)f=(f<<4)+c[d];return f}getBullsEyeCorners(e){let r=e,s=e,o=e,a=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(r,c,1,-1),y=this.getFirstDifferent(s,c,1,1),S=this.getFirstDifferent(o,c,-1,1),R=this.getFirstDifferent(a,c,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(R,b)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(b,y,S,R))break}r=b,s=y,o=S,a=R,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let f=new H(r.getX()+.5,r.getY()-.5),d=new H(s.getX()+.5,s.getY()+.5),p=new H(o.getX()-.5,o.getY()+.5),w=new H(a.getX()-.5,a.getY()-.5);return this.expandSquare([f,d,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,s,o;try{let f=new _e(this.image).detect();e=f[0],r=f[1],s=f[2],o=f[3]}catch{let d=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new Be(d+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Be(d+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Be(d-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(d-7,p-7),!1,-1,-1).toResultPoint()}let a=te.round((e.getX()+o.getX()+r.getX()+s.getX())/4),c=te.round((e.getY()+o.getY()+r.getY()+s.getY())/4);try{let f=new _e(this.image,15,a,c).detect();e=f[0],r=f[1],s=f[2],o=f[3]}catch{e=this.getFirstDifferent(new Be(a+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Be(a+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Be(a-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(a-7,c-7),!1,-1,-1).toResultPoint()}return a=te.round((e.getX()+o.getX()+r.getX()+s.getX())/4),c=te.round((e.getY()+o.getY()+r.getY()+s.getY())/4),new Be(a,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,s,o,a){let c=$e.getInstance(),f=this.getDimension(),d=f/2-this.nbCenterLayers,p=f/2+this.nbCenterLayers;return c.sampleGrid(e,f,f,d,d,p,d,p,p,d,p,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(e,r,s){let o=0,a=this.distanceResultPoint(e,r),c=a/s,f=e.getX(),d=e.getY(),p=c*(r.getX()-e.getX())/a,w=c*(r.getY()-e.getY())/a;for(let b=0;b<s;b++)this.image.get(te.round(f+b*p),te.round(d+b*w))&&(o|=1<<s-b-1);return o}isWhiteOrBlackRectangle(e,r,s,o){let a=3;e=new Be(e.getX()-a,e.getY()+a),r=new Be(r.getX()-a,r.getY()-a),s=new Be(s.getX()+a,s.getY()-a),o=new Be(o.getX()+a,o.getY()+a);let c=this.getColor(o,e);if(c===0)return!1;let f=this.getColor(e,r);return f!==c||(f=this.getColor(r,s),f!==c)?!1:(f=this.getColor(s,o),f===c)}getColor(e,r){let s=this.distancePoint(e,r),o=(r.getX()-e.getX())/s,a=(r.getY()-e.getY())/s,c=0,f=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),w=Math.ceil(s);for(let y=0;y<w;y++)f+=o,d+=a,this.image.get(te.round(f),te.round(d))!==p&&c++;let b=c/s;return b>.1&&b<.9?0:b<=.1===p?1:-1}getFirstDifferent(e,r,s,o){let a=e.getX()+s,c=e.getY()+o;for(;this.isValid(a,c)&&this.image.get(a,c)===r;)a+=s,c+=o;for(a-=s,c-=o;this.isValid(a,c)&&this.image.get(a,c)===r;)a+=s;for(a-=s;this.isValid(a,c)&&this.image.get(a,c)===r;)c+=o;return c-=o,new Be(a,c)}expandSquare(e,r,s){let o=s/(2*r),a=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),f=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new H(f+o*a,d+o*c),w=new H(f-o*a,d-o*c);a=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),f=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let b=new H(f+o*a,d+o*c),y=new H(f-o*a,d-o*c);return[p,b,w,y]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=te.round(e.getX()),s=te.round(e.getY());return this.isValid(r,s)}distancePoint(e,r){return te.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return te.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(e,r=null){let s=null,o=new Nt(e.getBlackMatrix()),a=null,c=null;try{let w=o.detectMirror(!1);a=w.getPoints(),this.reportFoundResultPoints(r,a),c=new q().decode(w)}catch(w){s=w}if(c==null)try{let w=o.detectMirror(!0);a=w.getPoints(),this.reportFoundResultPoints(r,a),c=new q().decode(w)}catch(w){throw s??w}let f=new ot(c.getText(),c.getRawBytes(),c.getNumBits(),a,we.AZTEC,D.currentTimeMillis()),d=c.getByteSegments();d!=null&&f.putMetadata(ce.BYTE_SEGMENTS,d);let p=c.getECLevel();return p!=null&&f.putMetadata(ce.ERROR_CORRECTION_LEVEL,p),f}reportFoundResultPoints(e,r){if(e!=null){let s=e.get(Y.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,a,c)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class cr extends Lt{constructor(e=500){super(new zt,e)}}class bt{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(Y.TRY_HARDER)===!0&&e.isRotateSupported()){const a=e.rotateCounterClockwise(),c=this.doDecode(a,r),f=c.getResultMetadata();let d=270;f!==null&&f.get(ce.ORIENTATION)===!0&&(d=d+f.get(ce.ORIENTATION)%360),c.putMetadata(ce.ORIENTATION,d);const p=c.getResultPoints();if(p!==null){const w=a.getHeight();for(let b=0;b<p.length;b++)p[b]=new H(w-p[b].getY()-1,p[b].getX())}return c}else throw new X}}reset(){}doDecode(e,r){const s=e.getWidth(),o=e.getHeight();let a=new J(s);const c=r&&r.get(Y.TRY_HARDER)===!0,f=Math.max(1,o>>(c?8:5));let d;c?d=o:d=15;const p=Math.trunc(o/2);for(let w=0;w<d;w++){const b=Math.trunc((w+1)/2),y=(w&1)===0,S=p+f*(y?b:-b);if(S<0||S>=o)break;try{a=e.getBlackRow(S,a)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(a.reverse(),r&&r.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;r.forEach((B,G)=>M.set(G,B)),M.delete(Y.NEED_RESULT_POINT_CALLBACK),r=M}try{const M=this.decodeRow(S,a,r);if(R===1){M.putMetadata(ce.ORIENTATION,180);const B=M.getResultPoints();B!==null&&(B[0]=new H(s-B[0].getX()-1,B[0].getY()),B[1]=new H(s-B[1].getX()-1,B[1].getY()))}return M}catch{}}}throw new X}static recordPattern(e,r,s){const o=s.length;for(let p=0;p<o;p++)s[p]=0;const a=e.getSize();if(r>=a)throw new X;let c=!e.get(r),f=0,d=r;for(;d<a;){if(e.get(d)!==c)s[f]++;else{if(++f===o)break;s[f]=1,c=!c}d++}if(!(f===o||f===o-1&&d===a))throw new X}static recordPatternInReverse(e,r,s){let o=s.length,a=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==a&&(o--,a=!a);if(o>=0)throw new X;bt.recordPattern(e,r+1,s)}static patternMatchVariance(e,r,s){const o=e.length;let a=0,c=0;for(let p=0;p<o;p++)a+=e[p],c+=r[p];if(a<c)return Number.POSITIVE_INFINITY;const f=a/c;s*=f;let d=0;for(let p=0;p<o;p++){const w=e[p],b=r[p]*f,y=w>b?w-b:b-w;if(y>s)return Number.POSITIVE_INFINITY;d+=y}return d/a}}class ge extends bt{static findStartPattern(e){const r=e.getSize(),s=e.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),c=s,f=!1;const d=6;for(let p=s;p<r;p++)if(e.get(p)!==f)a[o]++;else{if(o===d-1){let w=ge.MAX_AVG_VARIANCE,b=-1;for(let y=ge.CODE_START_A;y<=ge.CODE_START_C;y++){const S=bt.patternMatchVariance(a,ge.CODE_PATTERNS[y],ge.MAX_INDIVIDUAL_VARIANCE);S<w&&(w=S,b=y)}if(b>=0&&e.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,b]);c+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new X}static decodeCode(e,r,s){bt.recordPattern(e,s,r);let o=ge.MAX_AVG_VARIANCE,a=-1;for(let c=0;c<ge.CODE_PATTERNS.length;c++){const f=ge.CODE_PATTERNS[c],d=this.patternMatchVariance(r,f,ge.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,a=c)}if(a>=0)return a;throw new X}decodeRow(e,r,s){const o=s&&s.get(Y.ASSUME_GS1)===!0,a=ge.findStartPattern(r),c=a[2];let f=0;const d=new Uint8Array(20);d[f++]=c;let p;switch(c){case ge.CODE_START_A:p=ge.CODE_CODE_A;break;case ge.CODE_START_B:p=ge.CODE_CODE_B;break;case ge.CODE_START_C:p=ge.CODE_CODE_C;break;default:throw new P}let w=!1,b=!1,y="",S=a[0],R=a[1];const M=Int32Array.from([0,0,0,0,0,0]);let B=0,G=0,ue=c,he=0,ae=!0,Ye=!1,Fe=!1;for(;!w;){const Es=b;switch(b=!1,B=G,G=ge.decodeCode(r,M,R),d[f++]=G,G!==ge.CODE_STOP&&(ae=!0),G!==ge.CODE_STOP&&(he++,ue+=he*G),S=R,R+=M.reduce((Ud,Vd)=>Ud+Vd,0),G){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new P}switch(p){case ge.CODE_CODE_A:if(G<64)Fe===Ye?y+=String.fromCharCode(32+G):y+=String.fromCharCode(32+G+128),Fe=!1;else if(G<96)Fe===Ye?y+=String.fromCharCode(G-64):y+=String.fromCharCode(G+64),Fe=!1;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ye&&Fe?(Ye=!0,Fe=!1):Ye&&Fe?(Ye=!1,Fe=!1):Fe=!0;break;case ge.CODE_SHIFT:b=!0,p=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:p=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:p=ge.CODE_CODE_C;break;case ge.CODE_STOP:w=!0;break}break;case ge.CODE_CODE_B:if(G<96)Fe===Ye?y+=String.fromCharCode(32+G):y+=String.fromCharCode(32+G+128),Fe=!1;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ye&&Fe?(Ye=!0,Fe=!1):Ye&&Fe?(Ye=!1,Fe=!1):Fe=!0;break;case ge.CODE_SHIFT:b=!0,p=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:p=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:p=ge.CODE_CODE_C;break;case ge.CODE_STOP:w=!0;break}break;case ge.CODE_CODE_C:if(G<100)G<10&&(y+="0"),y+=G;else switch(G!==ge.CODE_STOP&&(ae=!1),G){case ge.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+="");break;case ge.CODE_CODE_A:p=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:p=ge.CODE_CODE_B;break;case ge.CODE_STOP:w=!0;break}break}Es&&(p=p===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const on=R-S;if(R=r.getNextUnset(R),!r.isRange(R,Math.min(r.getSize(),R+(R-S)/2),!1))throw new X;if(ue-=he*B,ue%103!==B)throw new O;const Mn=y.length;if(Mn===0)throw new X;Mn>0&&ae&&(p===ge.CODE_CODE_C?y=y.substring(0,Mn-2):y=y.substring(0,Mn-1));const an=(a[1]+a[0])/2,ft=S+on/2,jt=d.length,dn=new Uint8Array(jt);for(let Es=0;Es<jt;Es++)dn[Es]=d[Es];const xs=[new H(an,e),new H(ft,e)];return new ot(y,dn,0,xs,we.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class vt extends bt{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=vt.findAsteriskPattern(r,o),c=r.getNextSet(a[1]),f=r.getSize(),d,p;do{vt.recordPattern(r,c,o);let M=vt.toNarrowWidePattern(o);if(M<0)throw new X;d=vt.patternToChar(M),this.decodeRowResult+=d,p=c;for(let B of o)c+=B;c=r.getNextSet(c)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let M of o)w+=M;let b=c-p-w;if(c!==f&&b*2<w)throw new X;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,B=0;for(let G=0;G<M;G++)B+=vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(M)!==vt.ALPHABET_STRING.charAt(B%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new X;let y;this.extendedMode?y=vt.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let S=(a[1]+a[0])/2,R=p+w/2;return new ot(y,null,0,[new H(S,e),new H(R,e)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let s=e.getSize(),o=e.getNextSet(0),a=0,c=o,f=!1,d=r.length;for(let p=o;p<s;p++)if(e.get(p)!==f)r[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(r)===vt.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,f=!f}throw new X}static toNarrowWidePattern(e){let r=e.length,s=0,o;do{let a=2147483647;for(let d of e)d<a&&d>s&&(a=d);s=a,o=0;let c=0,f=0;for(let d=0;d<r;d++){let p=e[d];p>s&&(f|=1<<r-1-d,o++,c+=p)}if(o===3){for(let d=0;d<r&&o>0;d++){let p=e[d];if(p>s&&(o--,p*2>=c))return-1}return f}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<vt.CHARACTER_ENCODINGS.length;r++)if(vt.CHARACTER_ENCODINGS[r]===e)return vt.ALPHABET_STRING.charAt(r);if(e===vt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(e){let r=e.length,s="";for(let o=0;o<r;o++){let a=e.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let c=e.charAt(o+1),f="\0";switch(a){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new P;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new P;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new P;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new P;break}s+=f,o++}else s+=a}return s}}vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],vt.ASTERISK_ENCODING=148;class We extends bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,s){let o=this.decodeStart(r),a=this.decodeEnd(r),c=new ve;We.decodeMiddle(r,o[1],a[0],c);let f=c.toString(),d=null;s!=null&&(d=s.get(Y.ALLOWED_LENGTHS)),d==null&&(d=We.DEFAULT_ALLOWED_LENGTHS);let p=f.length,w=!1,b=0;for(let R of d){if(p===R){w=!0;break}R>b&&(b=R)}if(!w&&p>b&&(w=!0),!w)throw new P;const y=[new H(o[1],e),new H(a[0],e)];return new ot(f,null,0,y,we.ITF,new Date().getTime())}static decodeMiddle(e,r,s,o){let a=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(a.fill(0),c.fill(0),f.fill(0);r<s;){bt.recordPattern(e,r,a);for(let p=0;p<5;p++){let w=2*p;c[p]=a[w],f[p]=a[w+1]}let d=We.decodeDigit(c);o.append(d.toString()),d=this.decodeDigit(f),o.append(d.toString()),a.forEach(function(p){r+=p})}}decodeStart(e){let r=We.skipWhiteSpace(e),s=We.findGuardPattern(e,r,We.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(e,s[0]),s}validateQuietZone(e,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!e.get(o);o--)s--;if(s!==0)throw new X}static skipWhiteSpace(e){const r=e.getSize(),s=e.getNextSet(0);if(s===r)throw new X;return s}decodeEnd(e){e.reverse();try{let r=We.skipWhiteSpace(e),s;try{s=We.findGuardPattern(e,r,We.END_PATTERN_REVERSED[0])}catch(a){a instanceof X&&(s=We.findGuardPattern(e,r,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,s[0]);let o=s[0];return s[0]=e.getSize()-s[1],s[1]=e.getSize()-o,s}finally{e.reverse()}}static findGuardPattern(e,r,s){let o=s.length,a=new Int32Array(o),c=e.getSize(),f=!1,d=0,p=r;a.fill(0);for(let w=r;w<c;w++)if(e.get(w)!==f)a[d]++;else{if(d===o-1){if(bt.patternMatchVariance(a,s,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[p,w];p+=a[0]+a[1],D.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,f=!f}throw new X}static decodeDigit(e){let r=We.MAX_AVG_VARIANCE,s=-1,o=We.PATTERNS.length;for(let a=0;a<o;a++){let c=We.PATTERNS[a],f=bt.patternMatchVariance(e,c,We.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,s=a):f===r&&(s=-1)}if(s>=0)return s%10;throw new X}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ze extends bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,s,o=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),s=Ze.findGuardPattern(e,o,!1,this.START_END_PATTERN,a);let c=s[0];o=s[1];let f=c-(o-c);f>=0&&(r=e.isRange(f,c,!1))}return s}static checkChecksum(e){return Ze.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let s=parseInt(e.charAt(r-1),10);return Ze.getStandardUPCEANChecksum(e.substring(0,r-1))===s}static getStandardUPCEANChecksum(e){let r=e.length,s=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;s+=a}return(1e3-s)%10}static decodeEnd(e,r){return Ze.findGuardPattern(e,r,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,s,o){return this.findGuardPattern(e,r,s,o,new Int32Array(o.length))}static findGuardPattern(e,r,s,o,a){let c=e.getSize();r=s?e.getNextUnset(r):e.getNextSet(r);let f=0,d=r,p=o.length,w=s;for(let b=r;b<c;b++)if(e.get(b)!==w)a[f]++;else{if(f===p-1){if(bt.patternMatchVariance(a,o,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return Int32Array.from([d,b]);d+=a[0]+a[1];let y=a.slice(2,a.length-1);for(let S=0;S<f-1;S++)a[S]=y[S];a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,w=!w}throw new X}static decodeDigit(e,r,s,o){this.recordPattern(e,s,r);let a=this.MAX_AVG_VARIANCE,c=-1,f=o.length;for(let d=0;d<f;d++){let p=o[d],w=bt.patternMatchVariance(r,p,Ze.MAX_INDIVIDUAL_VARIANCE);w<a&&(a=w,c=d)}if(c>=0)return c;throw new X}}Ze.MAX_AVG_VARIANCE=.48,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.START_END_PATTERN=Int32Array.from([1,1,1]),Ze.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ze.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ze.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ur{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),c=o.toString(),f=ur.parseExtensionString(c),d=[new H((s[0]+s[1])/2,e),new H(a,e)],p=new ot(c,null,0,d,we.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let p=0;p<5&&c<a;p++){let w=Ze.decodeDigit(e,o,c,Ze.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let b of o)c+=b;w>=10&&(f|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(s.length!==5)throw new X;let d=this.determineCheckDigit(f);if(ur.extensionChecksum(s.toString())!==d)throw new X;return c}static extensionChecksum(e){let r=e.length,s=0;for(let o=r-2;o>=0;o-=2)s+=e.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=e.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new X}static parseExtensionString(e){if(e.length!==5)return null;let r=ur.parseExtension5String(e);return r==null?null:new Map([[ce.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(e.substring(1)),o=(s/100).toString(),a=s%100,c=a<10?"0"+a:a.toString();return r+o+"."+c}}class ha{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),c=o.toString(),f=ha.parseExtensionString(c),d=[new H((s[0]+s[1])/2,e),new H(a,e)],p=new ot(c,null,0,d,we.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let d=0;d<2&&c<a;d++){let p=Ze.decodeDigit(e,o,c,Ze.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let w of o)c+=w;p>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(s.length!==2)throw new X;if(parseInt(s.toString())%4!==f)throw new X;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[ce.ISSUE_NUMBER,parseInt(e)]])}}class Fc{static decodeRow(e,r,s){let o=Ze.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ur().decodeRow(e,r,o)}catch{return new ha().decodeRow(e,r,o)}}}Fc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends Ze{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=nt.L_PATTERNS[e-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];nt.L_AND_G_PATTERNS[e]=s}}decodeRow(e,r,s){let o=nt.findStartGuardPattern(r),a=s==null?null:s.get(Y.NEED_RESULT_POINT_CALLBACK);if(a!=null){const ae=new H((o[0]+o[1])/2,e);a.foundPossibleResultPoint(ae)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(a!=null){const ae=new H(f,e);a.foundPossibleResultPoint(ae)}let p=this.decodeEnd(r,f);if(a!=null){const ae=new H((p[0]+p[1])/2,e);a.foundPossibleResultPoint(ae)}let w=p[1],b=w+(w-p[0]);if(b>=r.getSize()||!r.isRange(w,b,!1))throw new X;let y=d.toString();if(y.length<8)throw new P;if(!nt.checkChecksum(y))throw new O;let S=(o[1]+o[0])/2,R=(p[1]+p[0])/2,M=this.getBarcodeFormat(),B=[new H(S,e),new H(R,e)],G=new ot(y,null,0,B,M,new Date().getTime()),ue=0;try{let ae=Fc.decodeRow(e,r,p[1]);G.putMetadata(ce.UPC_EAN_EXTENSION,ae.getText()),G.putAllMetadata(ae.getResultMetadata()),G.addResultPoints(ae.getResultPoints()),ue=ae.getText().length}catch{}let he=s==null?null:s.get(Y.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let Ye in he)if(ue.toString()===Ye){ae=!0;break}if(!ae)throw new X}return G}decodeEnd(e,r){return nt.findGuardPattern(e,r,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return nt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let s=parseInt(e.charAt(r-1),10);return nt.getStandardUPCEANChecksum(e.substring(0,r-1))===s}static getStandardUPCEANChecksum(e){let r=e.length,s=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new P;s+=a}return(1e3-s)%10}}class Fr extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1],f=0;for(let p=0;p<6&&c<a;p++){let w=nt.decodeDigit(e,o,c,nt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let b of o)c+=b;w>=10&&(f|=1<<5-p)}s=Fr.determineFirstDigit(s,f),c=nt.findGuardPattern(e,c,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<a;p++){let w=nt.decodeDigit(e,o,c,nt.L_PATTERNS);s+=String.fromCharCode(48+w);for(let b of o)c+=b}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(e,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return e=String.fromCharCode(48+s)+e,e;throw new X}}Fr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Uc extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=r[1];for(let d=0;d<4&&c<a;d++){let p=nt.decodeDigit(e,o,c,nt.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)c+=w}c=nt.findGuardPattern(e,c,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&c<a;d++){let p=nt.decodeDigit(e,o,c,nt.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)c+=w}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return we.EAN_8}}class Vc extends nt{constructor(){super(...arguments),this.ean13Reader=new Fr}getBarcodeFormat(){return we.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,s))}decodeMiddle(e,r,s){return this.ean13Reader.decodeMiddle(e,r,s)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let s=new ot(r.substring(1),null,null,e.getResultPoints(),we.UPC_A);return e.getResultMetadata()!=null&&s.putAllMetadata(e.getResultMetadata()),s}else throw new X}reset(){this.ean13Reader.reset()}}class Dn extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,s){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=e.getSize();let c=r[1],f=0;for(let p=0;p<6&&c<a;p++){const w=Dn.decodeDigit(e,o,c,Dn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let b of o)c+=b;w>=10&&(f|=1<<5-p)}let d=Dn.determineNumSysAndCheckDigit(s,f);return{rowOffset:c,resultString:d}}decodeEnd(e,r){return Dn.findGuardPatternWithoutCounters(e,r,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(e){return nt.checkChecksum(Dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let a=String.fromCharCode(48+s),c=String.fromCharCode(48+o);return a+e+c}throw X.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(a=>a.charCodeAt(0)),s=new ve;s.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return e.length>=8&&s.append(e.charAt(7)),s.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class da extends bt{constructor(e){super();let r=e==null?null:e.get(Y.POSSIBLE_FORMATS),s=[];l(r)?(s.push(new Fr),s.push(new Vc),s.push(new Uc),s.push(new Dn)):(r.indexOf(we.EAN_13)>-1&&s.push(new Fr),r.indexOf(we.UPC_A)>-1&&s.push(new Vc),r.indexOf(we.EAN_8)>-1&&s.push(new Uc),r.indexOf(we.UPC_E)>-1&&s.push(new Dn)),this.readers=s}decodeRow(e,r,s){for(let o of this.readers)try{const a=o.decodeRow(e,r,s),c=a.getBarcodeFormat()===we.EAN_13&&a.getText().charAt(0)==="0",f=s==null?null:s.get(Y.POSSIBLE_FORMATS),d=f==null||f.includes(we.UPC_A);if(c&&d){const p=a.getRawBytes(),w=new ot(a.getText().substring(1),p,p?p.length:null,a.getResultPoints(),we.UPC_A);return w.putAllMetadata(a.getResultMetadata()),w}return a}catch{}throw new X}reset(){for(let e of this.readers)e.reset()}}class Yt extends bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let s=0;s<r.length;s++)if(bt.patternMatchVariance(e,r[s],Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return s;throw new X}static count(e){return te.sum(new Int32Array(e))}static increment(e,r){let s=0,o=r[0];for(let a=1;a<e.length;a++)r[a]>o&&(o=r[a],s=a);e[s]++}static decrement(e,r){let s=0,o=r[0];for(let a=1;a<e.length;a++)r[a]<o&&(o=r[a],s=a);e[s]--}static isFinderPattern(e){let r=e[0]+e[1],s=r+e[2]+e[3],o=r/s;if(o>=Yt.MIN_FINDER_PATTERN_RATIO&&o<=Yt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of e)f>c&&(c=f),f<a&&(a=f);return c<10*a}return!1}}Yt.MAX_AVG_VARIANCE=.2,Yt.MAX_INDIVIDUAL_VARIANCE=.45,Yt.MIN_FINDER_PATTERN_RATIO=9.5/12,Yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class us{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof us))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ui{constructor(e,r,s,o,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new H(s,a)),this.resultPoints.push(new H(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ui))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class Vn{constructor(){}static getRSSvalue(e,r,s){let o=0;for(let d of e)o+=d;let a=0,c=0,f=e.length;for(let d=0;d<f-1;d++){let p;for(p=1,c|=1<<d;p<e[d];p++,c&=~(1<<d)){let w=Vn.combins(o-p-1,f-d-2);if(s&&c===0&&o-p-(f-d-1)>=f-d-1&&(w-=Vn.combins(o-p-(f-d),f-d-2)),f-d-1>1){let b=0;for(let y=o-p-(f-d-2);y>r;y--)b+=Vn.combins(o-p-y-1,f-d-3);w-=b*(f-1-d)}else o-p>r&&w--;a+=w}o-=p}return a}static combins(e,r){let s,o;e-r>r?(o=r,s=e-r):(o=e-r,s=r);let a=1,c=1;for(let f=e;f>s;f--)a*=f,c<=o&&(a/=c,c++);for(;c<=o;)a/=c,c++;return a}}class fd{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new J(s),a=0,f=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)f&1<<d&&o.set(a),a++;for(let d=1;d<e.length;++d){let p=e[d],w=p.getLeftChar().getValue();for(let b=11;b>=0;--b)w&1<<b&&o.set(a),a++;if(p.getRightChar()!=null){let b=p.getRightChar().getValue();for(let y=11;y>=0;--y)b&1<<y&&o.set(a),a++}}return o}}class Ur{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ga{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class nn extends ga{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===nn.FNC1}}nn.FNC1="$";class Vr extends ga{constructor(e,r,s){super(e),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _n extends ga{constructor(e,r,s){if(super(e),r<0||r>10||s<0||s>10)throw new P;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_n.FNC1}isSecondDigitFNC1(){return this.secondDigit===_n.FNC1}isAnyFNC1(){return this.firstDigit===_n.FNC1||this.secondDigit===_n.FNC1}}_n.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new X;let r=e.substring(0,2);for(let a of Ae.TWO_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,a[2],e):Ae.processFixedAI(2,a[1],e);if(e.length<3)throw new X;let s=e.substring(0,3);for(let a of Ae.THREE_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,a[2],e):Ae.processFixedAI(3,a[1],e);for(let a of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,a[2],e):Ae.processFixedAI(4,a[1],e);if(e.length<4)throw new X;let o=e.substring(0,4);for(let a of Ae.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,a[2],e):Ae.processFixedAI(4,a[1],e);throw new X}static processFixedAI(e,r,s){if(s.length<e)throw new X;let o=s.substring(0,e);if(s.length<e+r)throw new X;let a=s.substring(e,e+r),c=s.substring(e+r),f="("+o+")"+a,d=Ae.parseFieldsInGeneralPurpose(c);return d==null?f:f+d}static processVariableAI(e,r,s){let o=s.substring(0,e),a;s.length<e+r?a=s.length:a=e+r;let c=s.substring(e,a),f=s.substring(a),d="("+o+")"+c,p=Ae.parseFieldsInGeneralPurpose(f);return p==null?d:d+p}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class fs{constructor(e){this.buffer=new ve,this.information=e}decodeAllCodes(e,r){let s=r,o=null;do{let a=this.decodeGeneralPurposeField(s,o),c=Ae.parseFieldsInGeneralPurpose(a.getNewString());if(c!=null&&e.append(c),a.isRemaining()?o=""+a.getRemainingValue():o=null,s===a.getNewPosition())break;s=a.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(e,4);return a===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),a-1,_n.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),s=(r-8)/11,o=(r-8)%11;return new _n(e+7,s,o)}extractNumericValueFromBitArray(e,r){return fs.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,s){let o=0;for(let a=0;a<s;++a)e.get(r+a)&&(o|=1<<s-a-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Vr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Vr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(s!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new Vr(this.current.getPosition(),this.buffer.toString()):r=new Vr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ur(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ur(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ur(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Ur(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ur(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new nn(e+5,nn.FNC1);if(r>=5&&r<15)return new nn(e+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new nn(e+7,""+(s+1));if(s>=90&&s<116)return new nn(e+7,""+(s+7));let o=this.extractNumericValueFromBitArray(e,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new P}return new nn(e+8,a)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new nn(e+5,nn.FNC1);if(r>=5&&r<15)return new nn(e+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new nn(e+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new F("Decoding invalid alphanumeric value: "+s)}return new nn(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class pa{constructor(e){this.information=e,this.generalDecoder=new fs(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends pa{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let s=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,s)}encodeCompressedGtinWithoutAI(e,r,s){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100===0&&e.append("0"),a/10===0&&e.append("0"),e.append(a)}rn.appendCheckDigit(e,s)}static appendCheckDigit(e,r){let s=0;for(let o=0;o<13;o++){let a=e.charAt(o+r).charCodeAt(0)-48;s+=o&1?a:3*a}s=10-s%10,s===10&&(s=0),e.append(s)}}rn.GTIN_SIZE=40;class hs extends rn{constructor(e){super(e)}parseInformation(){let e=new ve;e.append("(01)");let r=e.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(hs.HEADER_SIZE,4);return e.append(s),this.encodeCompressedGtinWithoutAI(e,hs.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,hs.HEADER_SIZE+44)}}hs.HEADER_SIZE=4;class Vi extends pa{constructor(e){super(e)}parseInformation(){let e=new ve;return this.getGeneralDecoder().decodeAllCodes(e,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=5;class Hi extends rn{constructor(e){super(e)}encodeCompressedWeight(e,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(e,o);let a=this.checkWeight(o),c=1e5;for(let f=0;f<5;++f)a/c===0&&e.append("0"),c/=10;e.append(a)}}class Hn extends Hi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Hi.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new X;let e=new ve;return this.encodeCompressedGtin(e,Hn.HEADER_SIZE),this.encodeCompressedWeight(e,Hn.HEADER_SIZE+Hi.GTIN_SIZE,Hn.WEIGHT_SIZE),e.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class hd extends Hn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class dd extends Hn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Wn extends rn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+rn.GTIN_SIZE)throw new X;let e=new ve;this.encodeCompressedGtin(e,Wn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+rn.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+rn.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,null);return e.append(s.getNewString()),e.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2;class Qt extends rn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+rn.GTIN_SIZE)throw new X;let e=new ve;this.encodeCompressedGtin(e,Qt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class _t extends Hi{constructor(e,r,s){super(e),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new X;let e=new ve;return this.encodeCompressedGtin(e,_t.HEADER_SIZE),this.encodeCompressedWeight(e,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(e,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,_t.DATE_SIZE);if(s==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=s%32;s/=32;let a=s%12+1;s/=12;let c=s;c/10==0&&e.append("0"),e.append(c),a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function Hc(A){try{if(A.get(1))return new hs(A);if(!A.get(2))return new Vi(A);switch(fs.extractNumericValueFromBitArray(A,1,4)){case 4:return new hd(A);case 5:return new dd(A)}switch(fs.extractNumericValueFromBitArray(A,1,5)){case 12:return new Wn(A);case 13:return new Qt(A)}switch(fs.extractNumericValueFromBitArray(A,1,7)){case 56:return new _t(A,"310","11");case 57:return new _t(A,"320","11");case 58:return new _t(A,"310","13");case 59:return new _t(A,"320","13");case 60:return new _t(A,"310","15");case 61:return new _t(A,"320","15");case 62:return new _t(A,"310","17");case 63:return new _t(A,"320","17")}}catch(e){throw console.log(e),new F("unknown decoder: "+A)}}class fr{constructor(e,r,s,o){this.leftchar=e,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof fr?fr.equalsOrNull(e.leftchar,r.leftchar)&&fr.equalsOrNull(e.rightchar,r.rightchar)&&fr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:fr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ma{constructor(e,r,s){this.pairs=e,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof ma?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let s;return e.forEach((o,a)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class re extends Yt{constructor(e){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,s){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(a){if(a instanceof X){if(!this.pairs.length)throw new X;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new X}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(o);try{return this.checkRows(a,s+1)}catch(c){this.verbose&&console.log(c)}}throw new X}static isValidSequence(e){for(let r of re.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let s=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(e,r){let s=0,o=!1,a=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>e){a=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),s++}a||o||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new ma(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let s of r)if(s.getPairs().length!==e.length){for(let o of s.getPairs())for(let a of e)if(fr.equals(o,a))break}}static isPartialRow(e,r){for(let s of r){let o=!0;for(let a of e){let c=!1;for(let f of s.getPairs())if(a.equals(f)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=fd.buildBitArray(e),o=Hc(r).parseInformation(),a=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),f=[a[0],a[1],c[0],c[1]];return new ot(o,null,null,f,we.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),s=e.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),a=2;for(let f=1;f<this.pairs.size();++f){let d=this.pairs.get(f);o+=d.getLeftChar().getChecksumPortion(),a++;let p=d.getRightChar();p!=null&&(o+=p.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==r.getValue()}static getNextSecondBar(e,r){let s;return e.get(r)?(s=e.getNextUnset(r),s=e.getNextSet(s)):(s=e.getNextSet(r),s=e.getNextUnset(s)),s}retrieveNextPair(e,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let a,c=!0,f=-1;do this.findNextPair(e,r,f),a=this.parseFoundFinderPattern(e,s,o),a==null?f=re.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let d=this.decodeDataCharacter(e,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new X;let p;try{p=this.decodeDataCharacter(e,a,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new fr(d,p,a,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c;s>=0?c=s:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let d=!1;for(;c<a&&(d=!e.get(c),!!d);)c++;let p=0,w=c;for(let b=c;b<a;b++)if(e.get(b)!=d)o[p]++;else{if(p==3){if(f&&re.reverseCounters(o),re.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=b;return}f&&re.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,d=!d}throw new X}static reverseCounters(e){let r=e.length;for(let s=0;s<r/2;++s){let o=e[s];e[s]=e[r-s-1],e[r-s-1]=o}}parseFoundFinderPattern(e,r,s){let o,a,c;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,a=p,c=this.startEnd[1]}else a=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let f=this.getDecodeFinderCounters();D.arraycopy(f,0,f,1,f.length-1),f[0]=o;let d;try{d=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new Ui(d,[a,c],a,c,r)}decodeDataCharacter(e,r,s,o){let a=this.getDataCharacterCounters();for(let ft=0;ft<a.length;ft++)a[ft]=0;if(o)re.recordPatternInReverse(e,r.getStartEnd()[0],a);else{re.recordPattern(e,r.getStartEnd()[1],a);for(let ft=0,jt=a.length-1;ft<jt;ft++,jt--){let dn=a[ft];a[ft]=a[jt],a[jt]=dn}}let c=17,f=te.sum(new Int32Array(a))/c,d=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-d)/d>.3)throw new X;let p=this.getOddCounts(),w=this.getEvenCounts(),b=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let ft=0;ft<a.length;ft++){let jt=1*a[ft]/f,dn=jt+.5;if(dn<1){if(jt<.3)throw new X;dn=1}else if(dn>8){if(jt>8.7)throw new X;dn=8}let xs=ft/2;ft&1?(w[xs]=dn,y[xs]=jt-dn):(p[xs]=dn,b[xs]=jt-dn)}this.adjustOddEvenCounts(c);let S=4*r.getValue()+(s?0:2)+(o?0:1)-1,R=0,M=0;for(let ft=p.length-1;ft>=0;ft--){if(re.isNotA1left(r,s,o)){let jt=re.WEIGHTS[S][2*ft];M+=p[ft]*jt}R+=p[ft]}let B=0;for(let ft=w.length-1;ft>=0;ft--)if(re.isNotA1left(r,s,o)){let jt=re.WEIGHTS[S][2*ft+1];B+=w[ft]*jt}let G=M+B;if(R&1||R>13||R<4)throw new X;let ue=(13-R)/2,he=re.SYMBOL_WIDEST[ue],ae=9-he,Ye=Vn.getRSSvalue(p,he,!0),Fe=Vn.getRSSvalue(w,ae,!1),on=re.EVEN_TOTAL_SUBSET[ue],Mn=re.GSUM[ue],an=Ye*on+Fe+Mn;return new us(an,G)}static isNotA1left(e,r,s){return!(e.getValue()==0&&r&&s)}adjustOddEvenCounts(e){let r=te.sum(new Int32Array(this.getOddCounts())),s=te.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);let c=!1,f=!1;s>13?f=!0:s<4&&(c=!0);let d=r+s-e,p=(r&1)==1,w=(s&1)==0;if(d==1)if(p){if(w)throw new X;a=!0}else{if(!w)throw new X;f=!0}else if(d==-1)if(p){if(w)throw new X;o=!0}else{if(!w)throw new X;c=!0}else if(d==0){if(p){if(!w)throw new X;r<s?(o=!0,f=!0):(a=!0,c=!0)}else if(w)throw new X}else throw new X;if(o){if(a)throw new X;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new X;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class gd extends us{constructor(e,r,s){super(e,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends Yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,s){const o=this.decodePair(r,!1,e,s);St.addOrTally(this.possibleLeftPairs,o),r.reverse();let a=this.decodePair(r,!0,e,s);St.addOrTally(this.possibleRightPairs,a),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&St.checkChecksum(c,f))return St.constructResult(c,f)}throw new X}static addOrTally(e,r){if(r==null)return;let s=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let s=4537077*e.getValue()+r.getValue(),o=new String(s).toString(),a=new ve;for(let p=13-o.length;p>0;p--)a.append("0");a.append(o);let c=0;for(let p=0;p<13;p++){let w=a.charAt(p).charCodeAt(0)-48;c+=p&1?w:3*w}c=10-c%10,c===10&&(c=0),a.append(c.toString());let f=e.getFinderPattern().getResultPoints(),d=r.getFinderPattern().getResultPoints();return new ot(a.toString(),null,0,[f[0],f[1],d[0],d[1]],we.RSS_14,new Date().getTime())}static checkChecksum(e,r){let s=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(e,r,s,o){try{let a=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,s,r,a),f=o==null?null:o.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(a[0]+a[1])/2;r&&(w=e.getSize()-1-w),f.foundPossibleResultPoint(new H(w,s))}let d=this.decodeDataCharacter(e,c,!0),p=this.decodeDataCharacter(e,c,!1);return new gd(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,r,s){let o=this.getDataCharacterCounters();for(let B=0;B<o.length;B++)o[B]=0;if(s)bt.recordPatternInReverse(e,r.getStartEnd()[0],o);else{bt.recordPattern(e,r.getStartEnd()[1]+1,o);for(let B=0,G=o.length-1;B<G;B++,G--){let ue=o[B];o[B]=o[G],o[G]=ue}}let a=s?16:15,c=te.sum(new Int32Array(o))/a,f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let B=0;B<o.length;B++){let G=o[B]/c,ue=Math.floor(G+.5);ue<1?ue=1:ue>8&&(ue=8);let he=Math.floor(B/2);B&1?(d[he]=ue,w[he]=G-ue):(f[he]=ue,p[he]=G-ue)}this.adjustOddEvenCounts(s,a);let b=0,y=0;for(let B=f.length-1;B>=0;B--)y*=9,y+=f[B],b+=f[B];let S=0,R=0;for(let B=d.length-1;B>=0;B--)S*=9,S+=d[B],R+=d[B];let M=y+3*S;if(s){if(b&1||b>12||b<4)throw new X;let B=(12-b)/2,G=St.OUTSIDE_ODD_WIDEST[B],ue=9-G,he=Vn.getRSSvalue(f,G,!1),ae=Vn.getRSSvalue(d,ue,!0),Ye=St.OUTSIDE_EVEN_TOTAL_SUBSET[B],Fe=St.OUTSIDE_GSUM[B];return new us(he*Ye+ae+Fe,M)}else{if(R&1||R>10||R<4)throw new X;let B=(10-R)/2,G=St.INSIDE_ODD_WIDEST[B],ue=9-G,he=Vn.getRSSvalue(f,G,!0),ae=Vn.getRSSvalue(d,ue,!1),Ye=St.INSIDE_ODD_TOTAL_SUBSET[B],Fe=St.INSIDE_GSUM[B];return new us(ae*Ye+he+Fe,M)}}findFinderPattern(e,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=!1,c=0;for(;c<o&&(a=!e.get(c),r!==a);)c++;let f=0,d=c;for(let p=c;p<o;p++)if(e.get(p)!==a)s[f]++;else{if(f===3){if(Yt.isFinderPattern(s))return[d,p];d+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,a=!a}throw new X}parseFoundFinderPattern(e,r,s,o){let a=e.get(o[0]),c=o[0]-1;for(;c>=0&&a!==e.get(c);)c--;c++;const f=o[0]-c,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);D.arraycopy(d,0,p,1,d.length-1),p[0]=f;const w=this.parseFinderValue(p,St.FINDER_PATTERNS);let b=c,y=o[1];return s&&(b=e.getSize()-1-b,y=e.getSize()-1-y),new Ui(w,[c,o[1]],b,y,r)}adjustOddEvenCounts(e,r){let s=te.sum(new Int32Array(this.getOddCounts())),o=te.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1,f=!1,d=!1;e?(s>12?c=!0:s<4&&(a=!0),o>12?d=!0:o<4&&(f=!0)):(s>11?c=!0:s<5&&(a=!0),o>10?d=!0:o<4&&(f=!0));let p=s+o-r,w=(s&1)===(e?1:0),b=(o&1)===1;if(p===1)if(w){if(b)throw new X;c=!0}else{if(!b)throw new X;d=!0}else if(p===-1)if(w){if(b)throw new X;a=!0}else{if(!b)throw new X;f=!0}else if(p===0){if(w){if(!b)throw new X;s<o?(a=!0,d=!0):(c=!0,f=!0)}else if(b)throw new X}else throw new X;if(a){if(c)throw new X;Yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new X;Yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ds extends bt{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const s=e?e.get(Y.POSSIBLE_FORMATS):null,o=e&&e.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(we.EAN_13)||s.includes(we.UPC_A)||s.includes(we.EAN_8)||s.includes(we.UPC_E))&&this.readers.push(new da(e)),s.includes(we.CODE_39)&&this.readers.push(new vt(o)),s.includes(we.CODE_128)&&this.readers.push(new ge),s.includes(we.ITF)&&this.readers.push(new We),s.includes(we.RSS_14)&&this.readers.push(new St),s.includes(we.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new da(e)),this.readers.push(new vt),this.readers.push(new da(e)),this.readers.push(new ge),this.readers.push(new We),this.readers.push(new St),this.readers.push(new re(this.verbose)))}decodeRow(e,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,s)}catch{}throw new X}reset(){this.readers.forEach(e=>e.reset())}}class pd extends Lt{constructor(e=500,r){super(new ds(r),e,r)}}class it{constructor(e,r,s){this.ecCodewords=e,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(e,r,s,o,a,c){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=c;let f=0;const d=c.getECCodewords(),p=c.getECBlocks();for(let w of p)f+=w.getCount()*(w.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new P;for(let s of Ke.VERSIONS)if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new it(5,new rt(1,3))),new Ke(2,12,12,10,10,new it(7,new rt(1,5))),new Ke(3,14,14,12,12,new it(10,new rt(1,8))),new Ke(4,16,16,14,14,new it(12,new rt(1,12))),new Ke(5,18,18,16,16,new it(14,new rt(1,18))),new Ke(6,20,20,18,18,new it(18,new rt(1,22))),new Ke(7,22,22,20,20,new it(20,new rt(1,30))),new Ke(8,24,24,22,22,new it(24,new rt(1,36))),new Ke(9,26,26,24,24,new it(28,new rt(1,44))),new Ke(10,32,32,14,14,new it(36,new rt(1,62))),new Ke(11,36,36,16,16,new it(42,new rt(1,86))),new Ke(12,40,40,18,18,new it(48,new rt(1,114))),new Ke(13,44,44,20,20,new it(56,new rt(1,144))),new Ke(14,48,48,22,22,new it(68,new rt(1,174))),new Ke(15,52,52,24,24,new it(42,new rt(2,102))),new Ke(16,64,64,14,14,new it(56,new rt(2,140))),new Ke(17,72,72,16,16,new it(36,new rt(4,92))),new Ke(18,80,80,18,18,new it(48,new rt(4,114))),new Ke(19,88,88,20,20,new it(56,new rt(4,144))),new Ke(20,96,96,22,22,new it(68,new rt(4,174))),new Ke(21,104,104,24,24,new it(56,new rt(6,136))),new Ke(22,120,120,18,18,new it(68,new rt(6,175))),new Ke(23,132,132,20,20,new it(62,new rt(8,163))),new Ke(24,144,144,22,22,new it(62,new rt(8,156),new rt(2,155))),new Ke(25,8,18,6,16,new it(7,new rt(1,5))),new Ke(26,8,32,6,14,new it(11,new rt(1,10))),new Ke(27,12,26,10,24,new it(14,new rt(1,16))),new Ke(28,12,36,10,16,new it(18,new rt(1,22))),new Ke(29,16,36,14,16,new it(24,new rt(1,32))),new Ke(30,16,48,14,22,new it(28,new rt(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class xa{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new P;this.version=xa.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new qe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),s=e.getWidth();return Ke.getVersionForDimensions(r,s)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const a=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,d=!1,p=!1,w=!1;do if(s===a&&o===0&&!f)e[r++]=this.readCorner1(a,c)&255,s-=2,o+=2,f=!0;else if(s===a-2&&o===0&&c&3&&!d)e[r++]=this.readCorner2(a,c)&255,s-=2,o+=2,d=!0;else if(s===a+4&&o===2&&!(c&7)&&!p)e[r++]=this.readCorner3(a,c)&255,s-=2,o+=2,p=!0;else if(s===a-2&&o===0&&(c&7)===4&&!w)e[r++]=this.readCorner4(a,c)&255,s-=2,o+=2,w=!0;else{do s<a&&o>=0&&!this.readMappingMatrix.get(o,s)&&(e[r++]=this.readUtah(s,o,a,c)&255),s-=2,o+=2;while(s>=0&&o<c);s+=1,o+=3;do s>=0&&o<c&&!this.readMappingMatrix.get(o,s)&&(e[r++]=this.readUtah(s,o,a,c)&255),s+=2,o-=2;while(s<a&&o>=0);s+=3,o+=1}while(s<a||o<c);if(r!==this.version.getTotalCodewords())throw new P;return e}readModule(e,r,s,o){return e<0&&(e+=s,r+=4-(s+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,s,o){let a=0;return this.readModule(e-2,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e-2,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r,s,o)&&(a|=1),a<<=1,this.readModule(e,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e,r,s,o)&&(a|=1),a}readCorner1(e,r){let s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,1,e,r)&&(s|=1),s<<=1,this.readModule(e-1,2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s}readCorner2(e,r){let s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-4,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s}readCorner3(e,r){let s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-3,e,r)&&(s|=1),s<<=1,this.readModule(1,r-2,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s}readCorner4(e,r){let s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new C("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),c=r/o|0,f=s/a|0,d=c*o,p=f*a,w=new qe(p,d);for(let b=0;b<c;++b){const y=b*o;for(let S=0;S<f;++S){const R=S*a;for(let M=0;M<o;++M){const B=b*(o+2)+1+M,G=y+M;for(let ue=0;ue<a;++ue){const he=S*(a+2)+1+ue;if(e.get(he,B)){const ae=R+ue;w.set(ae,G)}}}}}return w}}class Ea{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const s=r.getECBlocks();let o=0;const a=s.getECBlocks();for(let M of a)o+=M.getCount();const c=new Array(o);let f=0;for(let M of a)for(let B=0;B<M.getCount();B++){const G=M.getDataCodewords(),ue=s.getECCodewords()+G;c[f++]=new Ea(G,new Uint8Array(ue))}const p=c[0].codewords.length-s.getECCodewords(),w=p-1;let b=0;for(let M=0;M<w;M++)for(let B=0;B<f;B++)c[B].codewords[M]=e[b++];const y=r.getVersionNumber()===24,S=y?8:f;for(let M=0;M<S;M++)c[M].codewords[p-1]=e[b++];const R=c[0].codewords.length;for(let M=p;M<R;M++)for(let B=0;B<f;B++){const G=y?(B+8)%f:B,ue=y&&G>7?M-1:M;c[G].codewords[ue]=e[b++]}if(b!==e.length)throw new C;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class wa{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new C(""+e);let r=0,s=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(s>0){const c=8-s,f=e<c?e:c,d=c-f,p=255>>8-f<<d;r=(a[o]&p)>>d,e-=f,s+=f,s===8&&(s=0,o++)}if(e>0){for(;e>=8;)r=r<<8|a[o]&255,o++,e-=8;if(e>0){const c=8-e,f=255>>c<<c;r=r<<e|(a[o]&f)>>c,s+=e}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class hr{static decode(e){const r=new wa(e),s=new ve,o=new ve,a=new Array;let c=Pt.ASCII_ENCODE;do if(c===Pt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,s,o);else{switch(c){case Pt.C40_ENCODE:this.decodeC40Segment(r,s);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(r,s,a);break;default:throw new P}c=Pt.ASCII_ENCODE}while(c!==Pt.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new pe(e,s.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(e,r,s){let o=!1;do{let a=e.readBits(8);if(a===0)throw new P;if(a<=128)return o&&(a+=128),r.append(String.fromCharCode(a-1)),Pt.ASCII_ENCODE;if(a===129)return Pt.PAD_ENCODE;if(a<=229){const c=a-130;c<10&&r.append("0"),r.append(""+c)}else switch(a){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new P;break}}while(e.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(e,r){let s=!1;const o=[];let a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[d];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new P;break;case 1:s?(r.append(String.fromCharCode(d+128)),s=!1):r.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[d];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:s=!0;break;default:throw new P}a=0;break;case 3:s?(r.append(String.fromCharCode(d+224)),s=!1):r.append(String.fromCharCode(d+96)),a=0;break;default:throw new P}}}while(e.available()>0)}static decodeTextSegment(e,r){let s=!1,o=[],a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[d];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new P;break;case 1:s?(r.append(String.fromCharCode(d+128)),s=!1):r.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[d];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(d){case 27:r.append("");break;case 30:s=!0;break;default:throw new P}a=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[d];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p),a=0}else throw new P;break;default:throw new P}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const s=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),s);for(let a=0;a<3;a++){const c=s[a];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new P;break}}}while(e.available()>0)}static parseTwoBytes(e,r,s){let o=(e<<8)+r-1,a=Math.floor(o/1600);s[0]=a,o-=a*1600,a=Math.floor(o/40),s[1]=a,s[2]=o-a*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let s=0;s<4;s++){let o=e.readBits(6);if(o===31){const a=8-e.getBitOffset();a!==8&&e.readBits(a);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,s){let o=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),o++);let c;if(a===0?c=e.available()/8|0:a<250?c=a:c=250*(a-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new P;const f=new Uint8Array(c);for(let d=0;d<c;d++){if(e.available()<8)throw new P;f[d]=this.unrandomize255State(e.readBits(8),o++)}s.push(f);try{r.append(ye.decode(f,de.ISO88591))}catch(d){throw new F("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,r){const s=149*r%255+1,o=e-s;return o>=0?o:o+256}}hr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],hr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hr.TEXT_SHIFT2_SET_CHARS=hr.C40_SHIFT2_SET_CHARS,hr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class md{constructor(){this.rsDecoder=new ee(T.DATA_MATRIX_FIELD_256)}decode(e){const r=new xa(e),s=r.getVersion(),o=r.readCodewords(),a=Ea.getDataBlocks(o,s);let c=0;for(let p of a)c+=p.getNumDataCodewords();const f=new Uint8Array(c),d=a.length;for(let p=0;p<d;p++){const w=a[p],b=w.getCodewords(),y=w.getNumDataCodewords();this.correctErrors(b,y);for(let S=0;S<y;S++)f[S*d+p]=b[S]}return hr.decode(f)}correctErrors(e,r){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch{throw new O}for(let o=0;o<r;o++)e[o]=s[o]}}class Rt{constructor(e){this.image=e,this.rectangleDetector=new _e(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new X;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],a=r[2],c=r[3];let f=this.transitionsBetween(s,c)+1,d=this.transitionsBetween(a,c)+1;(f&1)===1&&(f+=1),(d&1)===1&&(d+=1),4*f<7*d&&4*d<7*f&&(f=d=Math.max(f,d));let p=Rt.sampleGrid(this.image,s,o,a,c,f,d);return new ie(p,[s,o,a,c])}static shiftPoint(e,r,s){let o=(r.getX()-e.getX())/(s+1),a=(r.getY()-e.getY())/(s+1);return new H(e.getX()+o,e.getY()+a)}static moveAway(e,r,s){let o=e.getX(),a=e.getY();return o<r?o-=1:o+=1,a<s?a-=1:a+=1,new H(o,a)}detectSolid1(e){let r=e[0],s=e[1],o=e[3],a=e[2],c=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,a),p=this.transitionsBetween(a,r),w=c,b=[a,r,s,o];return w>f&&(w=f,b[0]=r,b[1]=s,b[2]=o,b[3]=a),w>d&&(w=d,b[0]=s,b[1]=o,b[2]=a,b[3]=r),w>p&&(b[0]=o,b[1]=a,b[2]=r,b[3]=s),b}detectSolid2(e){let r=e[0],s=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a),f=Rt.shiftPoint(s,o,(c+1)*4),d=Rt.shiftPoint(o,s,(c+1)*4),p=this.transitionsBetween(f,r),w=this.transitionsBetween(d,a);return p<w?(e[0]=r,e[1]=s,e[2]=o,e[3]=a):(e[0]=s,e[1]=o,e[2]=a,e[3]=r),e}correctTopRight(e){let r=e[0],s=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a),f=this.transitionsBetween(s,a),d=Rt.shiftPoint(r,s,(f+1)*4),p=Rt.shiftPoint(o,s,(c+1)*4);c=this.transitionsBetween(d,a),f=this.transitionsBetween(p,a);let w=new H(a.getX()+(o.getX()-s.getX())/(c+1),a.getY()+(o.getY()-s.getY())/(c+1)),b=new H(a.getX()+(r.getX()-s.getX())/(f+1),a.getY()+(r.getY()-s.getY())/(f+1));if(!this.isValid(w))return this.isValid(b)?b:null;if(!this.isValid(b))return w;let y=this.transitionsBetween(d,w)+this.transitionsBetween(p,w),S=this.transitionsBetween(d,b)+this.transitionsBetween(p,b);return y>S?w:b}shiftToModuleCenter(e){let r=e[0],s=e[1],o=e[2],a=e[3],c=this.transitionsBetween(r,a)+1,f=this.transitionsBetween(o,a)+1,d=Rt.shiftPoint(r,s,f*4),p=Rt.shiftPoint(o,s,c*4);c=this.transitionsBetween(d,a)+1,f=this.transitionsBetween(p,a)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let w=(r.getX()+s.getX()+o.getX()+a.getX())/4,b=(r.getY()+s.getY()+o.getY()+a.getY())/4;r=Rt.moveAway(r,w,b),s=Rt.moveAway(s,w,b),o=Rt.moveAway(o,w,b),a=Rt.moveAway(a,w,b);let y,S;return d=Rt.shiftPoint(r,s,f*4),d=Rt.shiftPoint(d,a,c*4),y=Rt.shiftPoint(s,r,f*4),y=Rt.shiftPoint(y,o,c*4),p=Rt.shiftPoint(o,a,f*4),p=Rt.shiftPoint(p,s,c*4),S=Rt.shiftPoint(a,o,f*4),S=Rt.shiftPoint(S,r,c*4),[d,y,p,S]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,s,o,a,c,f){return $e.getInstance().sampleGrid(e,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(e,r){let s=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.trunc(r.getX()),c=Math.trunc(r.getY()),f=Math.abs(c-o)>Math.abs(a-s);if(f){let M=s;s=o,o=M,M=a,a=c,c=M}let d=Math.abs(a-s),p=Math.abs(c-o),w=-d/2,b=o<c?1:-1,y=s<a?1:-1,S=0,R=this.image.get(f?o:s,f?s:o);for(let M=s,B=o;M!==a;M+=y){let G=this.image.get(f?B:M,f?M:B);if(G!==R&&(S++,R=G),w+=p,w>0){if(B===c)break;B+=b,w-=d}}return S}}class dr{constructor(){this.decoder=new md}decode(e,r=null){let s,o;if(r!=null&&r.has(Y.PURE_BARCODE)){const p=dr.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(p),o=dr.NO_POINTS}else{const p=new Rt(e.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),o=p.getPoints()}const a=s.getRawBytes(),c=new ot(s.getText(),a,8*a.length,o,we.DATA_MATRIX,D.currentTimeMillis()),f=s.getByteSegments();f!=null&&c.putMetadata(ce.BYTE_SEGMENTS,f);const d=s.getECLevel();return d!=null&&c.putMetadata(ce.ERROR_CORRECTION_LEVEL,d),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r==null||s==null)throw new X;const o=this.moduleSize(r,e);let a=r[1];const c=s[1];let f=r[0];const p=(s[0]-f+1)/o,w=(c-a+1)/o;if(p<=0||w<=0)throw new X;const b=o/2;a+=b,f+=b;const y=new qe(p,w);for(let S=0;S<w;S++){const R=a+S*o;for(let M=0;M<p;M++)e.get(f+M*o,R)&&y.set(M,S)}return y}static moduleSize(e,r){const s=r.getWidth();let o=e[0];const a=e[1];for(;o<s&&r.get(o,a);)o++;if(o===s)throw new X;const c=o-e[0];if(c===0)throw new X;return c}}dr.NO_POINTS=[];class xd extends Lt{constructor(e=500){super(new dr,e)}}var gs;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(gs||(gs={}));class gt{constructor(e,r,s){this.value=e,this.stringValue=r,this.bits=s,gt.FOR_BITS.set(s,this),gt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return gt.L;case"M":return gt.M;case"Q":return gt.Q;case"H":return gt.H;default:throw new _(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof gt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=gt.FOR_BITS.size)throw new C;return gt.FOR_BITS.get(e)}}gt.FOR_BITS=new Map,gt.FOR_VALUE=new Map,gt.L=new gt(gs.L,"L",1),gt.M=new gt(gs.M,"M",0),gt.Q=new gt(gs.Q,"Q",3),gt.H=new gt(gs.H,"H",2);class Kt{constructor(e){this.errorCorrectionLevel=gt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return U.bitCount(e^r)}static decodeFormatInformation(e,r){const s=Kt.doDecodeFormatInformation(e,r);return s!==null?s:Kt.doDecodeFormatInformation(e^Kt.FORMAT_INFO_MASK_QR,r^Kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const a of Kt.FORMAT_INFO_DECODE_LOOKUP){const c=a[0];if(c===e||c===r)return new Kt(a[1]);let f=Kt.numBitsDiffering(e,c);f<s&&(o=a[1],s=f),e!==r&&(f=Kt.numBitsDiffering(r,c),f<s&&(o=a[1],s=f))}return s<=3?new Kt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Kt))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Kt.FORMAT_INFO_MASK_QR=21522,Kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const s of r)e+=s.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class v{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(e,r,...s){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const a=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const f of c)o+=f.getCount()*(f.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new P;try{return this.getVersionForNumber((e-17)/4)}catch{throw new P}}static getVersionForNumber(e){if(e<1||e>40)throw new C;return Oe.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<Oe.VERSION_DECODE_INFO.length;o++){const a=Oe.VERSION_DECODE_INFO[o];if(a===e)return Oe.getVersionForNumber(o+7);const c=Kt.numBitsDiffering(e,a);c<r&&(s=o+7,r=c)}return r<=3?Oe.getVersionForNumber(s):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new qe(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const a=this.alignmentPatternCenters[o]-2;for(let c=0;c<s;c++)o===0&&(c===0||c===s-1)||o===s-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,a,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new k(7,new v(1,19)),new k(10,new v(1,16)),new k(13,new v(1,13)),new k(17,new v(1,9))),new Oe(2,Int32Array.from([6,18]),new k(10,new v(1,34)),new k(16,new v(1,28)),new k(22,new v(1,22)),new k(28,new v(1,16))),new Oe(3,Int32Array.from([6,22]),new k(15,new v(1,55)),new k(26,new v(1,44)),new k(18,new v(2,17)),new k(22,new v(2,13))),new Oe(4,Int32Array.from([6,26]),new k(20,new v(1,80)),new k(18,new v(2,32)),new k(26,new v(2,24)),new k(16,new v(4,9))),new Oe(5,Int32Array.from([6,30]),new k(26,new v(1,108)),new k(24,new v(2,43)),new k(18,new v(2,15),new v(2,16)),new k(22,new v(2,11),new v(2,12))),new Oe(6,Int32Array.from([6,34]),new k(18,new v(2,68)),new k(16,new v(4,27)),new k(24,new v(4,19)),new k(28,new v(4,15))),new Oe(7,Int32Array.from([6,22,38]),new k(20,new v(2,78)),new k(18,new v(4,31)),new k(18,new v(2,14),new v(4,15)),new k(26,new v(4,13),new v(1,14))),new Oe(8,Int32Array.from([6,24,42]),new k(24,new v(2,97)),new k(22,new v(2,38),new v(2,39)),new k(22,new v(4,18),new v(2,19)),new k(26,new v(4,14),new v(2,15))),new Oe(9,Int32Array.from([6,26,46]),new k(30,new v(2,116)),new k(22,new v(3,36),new v(2,37)),new k(20,new v(4,16),new v(4,17)),new k(24,new v(4,12),new v(4,13))),new Oe(10,Int32Array.from([6,28,50]),new k(18,new v(2,68),new v(2,69)),new k(26,new v(4,43),new v(1,44)),new k(24,new v(6,19),new v(2,20)),new k(28,new v(6,15),new v(2,16))),new Oe(11,Int32Array.from([6,30,54]),new k(20,new v(4,81)),new k(30,new v(1,50),new v(4,51)),new k(28,new v(4,22),new v(4,23)),new k(24,new v(3,12),new v(8,13))),new Oe(12,Int32Array.from([6,32,58]),new k(24,new v(2,92),new v(2,93)),new k(22,new v(6,36),new v(2,37)),new k(26,new v(4,20),new v(6,21)),new k(28,new v(7,14),new v(4,15))),new Oe(13,Int32Array.from([6,34,62]),new k(26,new v(4,107)),new k(22,new v(8,37),new v(1,38)),new k(24,new v(8,20),new v(4,21)),new k(22,new v(12,11),new v(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new k(30,new v(3,115),new v(1,116)),new k(24,new v(4,40),new v(5,41)),new k(20,new v(11,16),new v(5,17)),new k(24,new v(11,12),new v(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new k(22,new v(5,87),new v(1,88)),new k(24,new v(5,41),new v(5,42)),new k(30,new v(5,24),new v(7,25)),new k(24,new v(11,12),new v(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new k(24,new v(5,98),new v(1,99)),new k(28,new v(7,45),new v(3,46)),new k(24,new v(15,19),new v(2,20)),new k(30,new v(3,15),new v(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new k(28,new v(1,107),new v(5,108)),new k(28,new v(10,46),new v(1,47)),new k(28,new v(1,22),new v(15,23)),new k(28,new v(2,14),new v(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new k(30,new v(5,120),new v(1,121)),new k(26,new v(9,43),new v(4,44)),new k(28,new v(17,22),new v(1,23)),new k(28,new v(2,14),new v(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new k(28,new v(3,113),new v(4,114)),new k(26,new v(3,44),new v(11,45)),new k(26,new v(17,21),new v(4,22)),new k(26,new v(9,13),new v(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new k(28,new v(3,107),new v(5,108)),new k(26,new v(3,41),new v(13,42)),new k(30,new v(15,24),new v(5,25)),new k(28,new v(15,15),new v(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new k(28,new v(4,116),new v(4,117)),new k(26,new v(17,42)),new k(28,new v(17,22),new v(6,23)),new k(30,new v(19,16),new v(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new k(28,new v(2,111),new v(7,112)),new k(28,new v(17,46)),new k(30,new v(7,24),new v(16,25)),new k(24,new v(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new k(30,new v(4,121),new v(5,122)),new k(28,new v(4,47),new v(14,48)),new k(30,new v(11,24),new v(14,25)),new k(30,new v(16,15),new v(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new k(30,new v(6,117),new v(4,118)),new k(28,new v(6,45),new v(14,46)),new k(30,new v(11,24),new v(16,25)),new k(30,new v(30,16),new v(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new k(26,new v(8,106),new v(4,107)),new k(28,new v(8,47),new v(13,48)),new k(30,new v(7,24),new v(22,25)),new k(30,new v(22,15),new v(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new k(28,new v(10,114),new v(2,115)),new k(28,new v(19,46),new v(4,47)),new k(28,new v(28,22),new v(6,23)),new k(30,new v(33,16),new v(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new k(30,new v(8,122),new v(4,123)),new k(28,new v(22,45),new v(3,46)),new k(30,new v(8,23),new v(26,24)),new k(30,new v(12,15),new v(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new v(3,117),new v(10,118)),new k(28,new v(3,45),new v(23,46)),new k(30,new v(4,24),new v(31,25)),new k(30,new v(11,15),new v(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new v(7,116),new v(7,117)),new k(28,new v(21,45),new v(7,46)),new k(30,new v(1,23),new v(37,24)),new k(30,new v(19,15),new v(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new v(5,115),new v(10,116)),new k(28,new v(19,47),new v(10,48)),new k(30,new v(15,24),new v(25,25)),new k(30,new v(23,15),new v(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new v(13,115),new v(3,116)),new k(28,new v(2,46),new v(29,47)),new k(30,new v(42,24),new v(1,25)),new k(30,new v(23,15),new v(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new v(17,115)),new k(28,new v(10,46),new v(23,47)),new k(30,new v(10,24),new v(35,25)),new k(30,new v(19,15),new v(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new v(17,115),new v(1,116)),new k(28,new v(14,46),new v(21,47)),new k(30,new v(29,24),new v(19,25)),new k(30,new v(11,15),new v(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new v(13,115),new v(6,116)),new k(28,new v(14,46),new v(23,47)),new k(30,new v(44,24),new v(7,25)),new k(30,new v(59,16),new v(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new v(12,121),new v(7,122)),new k(28,new v(12,47),new v(26,48)),new k(30,new v(39,24),new v(14,25)),new k(30,new v(22,15),new v(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new v(6,121),new v(14,122)),new k(28,new v(6,47),new v(34,48)),new k(30,new v(46,24),new v(10,25)),new k(30,new v(2,15),new v(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new v(17,122),new v(4,123)),new k(28,new v(29,46),new v(14,47)),new k(30,new v(49,24),new v(10,25)),new k(30,new v(24,15),new v(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new v(4,122),new v(18,123)),new k(28,new v(13,46),new v(32,47)),new k(30,new v(48,24),new v(14,25)),new k(30,new v(42,15),new v(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new v(20,117),new v(4,118)),new k(28,new v(40,47),new v(7,48)),new k(30,new v(43,24),new v(22,25)),new k(30,new v(10,15),new v(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new v(19,118),new v(6,119)),new k(28,new v(18,47),new v(31,48)),new k(30,new v(34,24),new v(34,25)),new k(30,new v(20,15),new v(61,16)))];var Ft;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Ft||(Ft={}));class An{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&e.flip(o,s)}}An.values=new Map([[Ft.DATA_MASK_000,new An(Ft.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Ft.DATA_MASK_001,new An(Ft.DATA_MASK_001,(A,e)=>(A&1)===0)],[Ft.DATA_MASK_010,new An(Ft.DATA_MASK_010,(A,e)=>e%3===0)],[Ft.DATA_MASK_011,new An(Ft.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Ft.DATA_MASK_100,new An(Ft.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Ft.DATA_MASK_101,new An(Ft.DATA_MASK_101,(A,e)=>A*e%6===0)],[Ft.DATA_MASK_110,new An(Ft.DATA_MASK_110,(A,e)=>A*e%6<3)],[Ft.DATA_MASK_111,new An(Ft.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Ed{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new P;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let a=r-1;a>=o;a--)s=this.copyBit(8,a,s);for(let a=r-8;a<r;a++)s=this.copyBit(a,8,s);if(this.parsedFormatInfo=Kt.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Oe.getVersionForNumber(r);let s=0;const o=e-11;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)s=this.copyBit(f,c,s);let a=Oe.decodeVersionInformation(s);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;s=0;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)s=this.copyBit(c,f,s);if(a=Oe.decodeVersionInformation(s),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new P}copyBit(e,r,s){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?s<<1|1:s<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),s=An.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const a=r.buildFunctionPattern();let c=!0;const f=new Uint8Array(r.getTotalCodewords());let d=0,p=0,w=0;for(let b=o-1;b>0;b-=2){b===6&&b--;for(let y=0;y<o;y++){const S=c?o-1-y:y;for(let R=0;R<2;R++)a.get(b-R,S)||(w++,p<<=1,this.bitMatrix.get(b-R,S)&&(p|=1),w===8&&(f[d++]=p,w=0,p=0))}c=!c}if(d!==r.getTotalCodewords())throw new P;return f}remask(){if(this.parsedFormatInfo===null)return;const e=An.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,s=e.getWidth();r<s;r++)for(let o=r+1,a=e.getHeight();o<a;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class _a{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,s){if(e.length!==r.getTotalCodewords())throw new C;const o=r.getECBlocksForLevel(s);let a=0;const c=o.getECBlocks();for(const R of c)a+=R.getCount();const f=new Array(a);let d=0;for(const R of c)for(let M=0;M<R.getCount();M++){const B=R.getDataCodewords(),G=o.getECCodewordsPerBlock()+B;f[d++]=new _a(B,new Uint8Array(G))}const p=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==p;)w--;w++;const b=p-o.getECCodewordsPerBlock();let y=0;for(let R=0;R<b;R++)for(let M=0;M<d;M++)f[M].codewords[R]=e[y++];for(let R=w;R<d;R++)f[R].codewords[b]=e[y++];const S=f[0].codewords.length;for(let R=b;R<S;R++)for(let M=0;M<d;M++){const B=M<w?R:R+1;f[M].codewords[B]=e[y++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(bn||(bn={}));class Ne{constructor(e,r,s,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,Ne.FOR_BITS.set(o,this),Ne.FOR_VALUE.set(e,this)}static forBits(e){const r=Ne.FOR_BITS.get(e);if(r===void 0)throw new C;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ne))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(e,r,s,o){const a=new wa(e);let c=new ve;const f=new Array;let d=-1,p=-1;try{let w=null,b=!1,y;do{if(a.available()<4)y=Ne.TERMINATOR;else{const S=a.readBits(4);y=Ne.forBits(S)}switch(y){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:b=!0;break;case Ne.STRUCTURED_APPEND:if(a.available()<16)throw new P;d=a.readBits(8),p=a.readBits(8);break;case Ne.ECI:const S=Ct.parseECIValue(a);if(w=V.getCharacterSetECIByValue(S),w===null)throw new P;break;case Ne.HANZI:const R=a.readBits(4),M=a.readBits(y.getCharacterCountBits(r));R===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(a,c,M);break;default:const B=a.readBits(y.getCharacterCountBits(r));switch(y){case Ne.NUMERIC:Ct.decodeNumericSegment(a,c,B);break;case Ne.ALPHANUMERIC:Ct.decodeAlphanumericSegment(a,c,B,b);break;case Ne.BYTE:Ct.decodeByteSegment(a,c,B,w,f,o);break;case Ne.KANJI:Ct.decodeKanjiSegment(a,c,B);break;default:throw new P}break}}while(y!==Ne.TERMINATOR)}catch{throw new P}return new pe(e,c.toString(),f.length===0?null:f,s===null?null:s.toString(),d,p)}static decodeHanziSegment(e,r,s){if(s*13>e.available())throw new P;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const c=e.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,o[a]=f>>8&255,o[a+1]=f&255,a+=2,s--}try{r.append(ye.decode(o,de.GB2312))}catch(c){throw new P(c)}}static decodeKanjiSegment(e,r,s){if(s*13>e.available())throw new P;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const c=e.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,o[a]=f>>8,o[a+1]=f,a+=2,s--}try{r.append(ye.decode(o,de.SHIFT_JIS))}catch(c){throw new P(c)}}static decodeByteSegment(e,r,s,o,a,c){if(8*s>e.available())throw new P;const f=new Uint8Array(s);for(let p=0;p<s;p++)f[p]=e.readBits(8);let d;o===null?d=de.guessEncoding(f,c):d=o.getName();try{r.append(ye.decode(f,d))}catch(p){throw new P(p)}a.push(f)}static toAlphaNumericChar(e){if(e>=Ct.ALPHANUMERIC_CHARS.length)throw new P;return Ct.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,s,o){const a=r.length();for(;s>1;){if(e.available()<11)throw new P;const c=e.readBits(11);r.append(Ct.toAlphaNumericChar(Math.floor(c/45))),r.append(Ct.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(e.available()<6)throw new P;r.append(Ct.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=a;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(e,r,s){for(;s>=3;){if(e.available()<10)throw new P;const o=e.readBits(10);if(o>=1e3)throw new P;r.append(Ct.toAlphaNumericChar(Math.floor(o/100))),r.append(Ct.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Ct.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(e.available()<7)throw new P;const o=e.readBits(7);if(o>=100)throw new P;r.append(Ct.toAlphaNumericChar(Math.floor(o/10))),r.append(Ct.toAlphaNumericChar(o%10))}else if(s===1){if(e.available()<4)throw new P;const o=e.readBits(4);if(o>=10)throw new P;r.append(Ct.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=e.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=e.readBits(16);return(r&31)<<16&4294967295|s}throw new P}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class Wc{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class wd{constructor(){this.rsDecoder=new ee(T.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(qe.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const s=new Ed(e);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(a){o=a}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const a=this.decodeBitMatrixParser(s,r);return a.setOther(new Wc(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(e,r){const s=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),c=_a.getDataBlocks(a,s,o);let f=0;for(const w of c)f+=w.getNumDataCodewords();const d=new Uint8Array(f);let p=0;for(const w of c){const b=w.getCodewords(),y=w.getNumDataCodewords();this.correctErrors(b,y);for(let S=0;S<y;S++)d[p++]=b[S]}return Ct.decode(d,s,o,r)}correctErrors(e,r){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch{throw new O}for(let o=0;o<r;o++)e[o]=s[o]}}class Aa extends H{constructor(e,r,s){super(e,r),this.estimatedModuleSize=s}aboutEquals(e,r,s){if(Math.abs(r-this.getY())<=e&&Math.abs(s-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,s){const o=(this.getX()+r)/2,a=(this.getY()+e)/2,c=(this.estimatedModuleSize+s)/2;return new Aa(o,a,c)}}class Wi{constructor(e,r,s,o,a,c,f){this.image=e,this.startX=r,this.startY=s,this.width=o,this.height=a,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,s=this.width,o=e+s,a=this.startY+r/2,c=new Int32Array(3),f=this.image;for(let d=0;d<r;d++){const p=a+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=e;for(;w<o&&!f.get(w,p);)w++;let b=0;for(;w<o;){if(f.get(w,p))if(b===1)c[1]++;else if(b===2){if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,w);if(y!==null)return y}c[0]=c[2],c[1]=1,c[2]=0,b=1}else c[++b]++;else b===1&&b++,c[b]++;w++}if(this.foundPatternCross(c)){const y=this.handlePossibleCenter(c,p,o);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=s)return!1;return!0}crossCheckVertical(e,r,s,o){const a=this.image,c=a.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let d=e;for(;d>=0&&a.get(r,d)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&!a.get(r,d)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=e+1;d<c&&a.get(r,d)&&f[1]<=s;)f[1]++,d++;if(d===c||f[1]>s)return NaN;for(;d<c&&!a.get(r,d)&&f[2]<=s;)f[2]++,d++;if(f[2]>s)return NaN;const p=f[0]+f[1]+f[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(f)?Wi.centerFromEnd(f,d):NaN}handlePossibleCenter(e,r,s){const o=e[0]+e[1]+e[2],a=Wi.centerFromEnd(e,s),c=this.crossCheckVertical(r,a,2*e[1],o);if(!isNaN(c)){const f=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(f,c,a))return p.combineEstimate(c,a,f);const d=new Aa(a,c,f);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class ba extends H{constructor(e,r,s,o){super(e,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,s){if(Math.abs(r-this.getY())<=e&&Math.abs(s-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,s){const o=this.count+1,a=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,f=(this.count*this.estimatedModuleSize+s)/o;return new ba(a,c,f,o)}}class _d{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(Y.TRY_HARDER)!==void 0,s=e!=null&&e.get(Y.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),c=o.getWidth();let f=Math.floor(3*a/(4*Ut.MAX_MODULES));(f<Ut.MIN_SKIP||r)&&(f=Ut.MIN_SKIP);let d=!1;const p=new Int32Array(5);for(let b=f-1;b<a&&!d;b+=f){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let y=0;for(let S=0;S<c;S++)if(o.get(S,b))(y&1)===1&&y++,p[y]++;else if(y&1)p[y]++;else if(y===4)if(Ut.foundPatternCross(p)){if(this.handlePossibleCenter(p,b,S,s)===!0)if(f=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>p[2]&&(b+=M-p[2]-f,S=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;continue}y=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,y=3;else p[++y]++;Ut.foundPatternCross(p)&&this.handlePossibleCenter(p,b,c,s)===!0&&(f=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return H.orderBestPatterns(w),new _d(w)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let a=0;a<5;a++){const c=e[a];if(c===0)return!1;r+=c}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-e[0])<o&&Math.abs(s-e[1])<o&&Math.abs(3*s-e[2])<3*o&&Math.abs(s-e[3])<o&&Math.abs(s-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,s,o){const a=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;e>=c&&r>=c&&f.get(r-c,e-c);)a[2]++,c++;if(e<c||r<c)return!1;for(;e>=c&&r>=c&&!f.get(r-c,e-c)&&a[1]<=s;)a[1]++,c++;if(e<c||r<c||a[1]>s)return!1;for(;e>=c&&r>=c&&f.get(r-c,e-c)&&a[0]<=s;)a[0]++,c++;if(a[0]>s)return!1;const d=f.getHeight(),p=f.getWidth();for(c=1;e+c<d&&r+c<p&&f.get(r+c,e+c);)a[2]++,c++;if(e+c>=d||r+c>=p)return!1;for(;e+c<d&&r+c<p&&!f.get(r+c,e+c)&&a[3]<s;)a[3]++,c++;if(e+c>=d||r+c>=p||a[3]>=s)return!1;for(;e+c<d&&r+c<p&&f.get(r+c,e+c)&&a[4]<s;)a[4]++,c++;if(a[4]>=s)return!1;const w=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(w-o)<2*o&&Ut.foundPatternCross(a)}crossCheckVertical(e,r,s,o){const a=this.image,c=a.getHeight(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(r,d);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(r,d)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&a.get(r,d)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=e+1;d<c&&a.get(r,d);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(r,d)&&f[3]<s;)f[3]++,d++;if(d===c||f[3]>=s)return NaN;for(;d<c&&a.get(r,d)&&f[4]<s;)f[4]++,d++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-o)>=2*o?NaN:Ut.foundPatternCross(f)?Ut.centerFromEnd(f,d):NaN}crossCheckHorizontal(e,r,s,o){const a=this.image,c=a.getWidth(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(d,r);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(d,r)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&a.get(d,r)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=e+1;d<c&&a.get(d,r);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(d,r)&&f[3]<s;)f[3]++,d++;if(d===c||f[3]>=s)return NaN;for(;d<c&&a.get(d,r)&&f[4]<s;)f[4]++,d++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-o)>=o?NaN:Ut.foundPatternCross(f)?Ut.centerFromEnd(f,d):NaN}handlePossibleCenter(e,r,s,o){const a=e[0]+e[1]+e[2]+e[3]+e[4];let c=Ut.centerFromEnd(e,s),f=this.crossCheckVertical(r,Math.floor(c),e[2],a);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),e[2],a),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),e[2],a)))){const d=a/7;let p=!1;const w=this.possibleCenters;for(let b=0,y=w.length;b<y;b++){const S=w[b];if(S.aboutEquals(d,f,c)){w[b]=S.combineEstimate(f,c,d),p=!0;break}}if(!p){const b=new ba(c,f,d);w.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=Ut.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Ut.CENTER_QUORUM&&(e++,r+=c.getEstimatedModuleSize());if(e<3)return!1;const o=r/s;let a=0;for(const c of this.possibleCenters)a+=Math.abs(c.getEstimatedModuleSize()-o);return a<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new X;const r=this.possibleCenters;let s;if(e>3){let o=0,a=0;for(const d of this.possibleCenters){const p=d.getEstimatedModuleSize();o+=p,a+=p*p}s=o/e;let c=Math.sqrt(a/e-s*s);r.sort((d,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-s),b=Math.abs(d.getEstimatedModuleSize()-s);return w<b?-1:w>b?1:0});const f=Math.max(.2*s,c);for(let d=0;d<r.length&&r.length>3;d++){const p=r[d];Math.abs(p.getEstimatedModuleSize()-s)>f&&(r.splice(d,1),d--)}}if(r.length>3){let o=0;for(const a of r)o+=a.getEstimatedModuleSize();s=o/r.length,r.sort((a,c)=>{if(c.getCount()===a.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-s),d=Math.abs(a.getEstimatedModuleSize()-s);return f<d?1:f>d?-1:0}else return c.getCount()-a.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class Zs{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Y.NEED_RESULT_POINT_CALLBACK);const s=new Ut(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)}processFinderPatternInfo(e){const r=e.getTopLeft(),s=e.getTopRight(),o=e.getBottomLeft(),a=this.calculateModuleSize(r,s,o);if(a<1)throw new X("No pattern found in proccess finder.");const c=Zs.computeDimension(r,s,o,a),f=Oe.getProvisionalVersionForDimension(c),d=f.getDimensionForVersion()-7;let p=null;if(f.getAlignmentPatternCenters().length>0){const S=s.getX()-r.getX()+o.getX(),R=s.getY()-r.getY()+o.getY(),M=1-3/d,B=Math.floor(r.getX()+M*(S-r.getX())),G=Math.floor(r.getY()+M*(R-r.getY()));for(let ue=4;ue<=16;ue<<=1)try{p=this.findAlignmentInRegion(a,B,G,ue);break}catch(he){if(!(he instanceof X))throw he}}const w=Zs.createTransform(r,s,o,p,c),b=Zs.sampleGrid(this.image,w,c);let y;return p===null?y=[o,r,s]:y=[o,r,s,p],new ie(b,y)}static createTransform(e,r,s,o,a){const c=a-3.5;let f,d,p,w;return o!==null?(f=o.getX(),d=o.getY(),p=c-3,w=p):(f=r.getX()-e.getX()+s.getX(),d=r.getY()-e.getY()+s.getY(),p=c,w=c),Se.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,w,3.5,c,e.getX(),e.getY(),r.getX(),r.getY(),f,d,s.getX(),s.getY())}static sampleGrid(e,r,s){return $e.getInstance().sampleGridWithTransform(e,s,s,r)}static computeDimension(e,r,s,o){const a=te.round(H.distance(e,r)/o),c=te.round(H.distance(e,s)/o);let f=Math.floor((a+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new X("Dimensions could be not found.")}return f}calculateModuleSize(e,r,s){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,s))/2}calculateModuleSizeOneWay(e,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,s,o){let a=this.sizeOfBlackWhiteBlackRun(e,r,s,o),c=1,f=e-(s-e);f<0?(c=e/(e-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(f-e),f=this.image.getWidth()-1);let d=Math.floor(r-(o-r)*c);return c=1,d<0?(c=r/(r-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),f=Math.floor(e+(f-e)*c),a+=this.sizeOfBlackWhiteBlackRun(e,r,f,d),a-1}sizeOfBlackWhiteBlackRun(e,r,s,o){const a=Math.abs(o-r)>Math.abs(s-e);if(a){let S=e;e=r,r=S,S=s,s=o,o=S}const c=Math.abs(s-e),f=Math.abs(o-r);let d=-c/2;const p=e<s?1:-1,w=r<o?1:-1;let b=0;const y=s+p;for(let S=e,R=r;S!==y;S+=p){const M=a?R:S,B=a?S:R;if(b===1===this.image.get(M,B)){if(b===2)return te.distance(S,R,e,r);b++}if(d+=f,d>0){if(R===o)break;R+=w,d-=c}}return b===2?te.distance(s+p,o,e,r):NaN}findAlignmentInRegion(e,r,s,o){const a=Math.floor(o*e),c=Math.max(0,r-a),f=Math.min(this.image.getWidth()-1,r+a);if(f-c<e*3)throw new X("Alignment top exceeds estimated module size.");const d=Math.max(0,s-a),p=Math.min(this.image.getHeight()-1,s+a);if(p-d<e*3)throw new X("Alignment bottom exceeds estimated module size.");return new Wi(this.image,c,d,f-c,p-d,e,this.resultPointCallback).find()}}class gr{constructor(){this.decoder=new wd}getDecoder(){return this.decoder}decode(e,r){let s,o;if(r!=null&&r.get(Y.PURE_BARCODE)!==void 0){const d=gr.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(d,r),o=gr.NO_POINTS}else{const d=new Zs(e.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(d.getBits(),r),o=d.getPoints()}s.getOther()instanceof Wc&&s.getOther().applyMirroredCorrection(o);const a=new ot(s.getText(),s.getRawBytes(),void 0,o,we.QR_CODE,void 0),c=s.getByteSegments();c!==null&&a.putMetadata(ce.BYTE_SEGMENTS,c);const f=s.getECLevel();return f!==null&&a.putMetadata(ce.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(a.putMetadata(ce.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),a.putMetadata(ce.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r===null||s===null)throw new X;const o=this.moduleSize(r,e);let a=r[1],c=s[1],f=r[0],d=s[0];if(f>=d||a>=c)throw new X;if(c-a!==d-f&&(d=f+(c-a),d>=e.getWidth()))throw new X;const p=Math.round((d-f+1)/o),w=Math.round((c-a+1)/o);if(p<=0||w<=0)throw new X;if(w!==p)throw new X;const b=Math.floor(o/2);a+=b,f+=b;const y=f+Math.floor((p-1)*o)-d;if(y>0){if(y>b)throw new X;f-=y}const S=a+Math.floor((w-1)*o)-c;if(S>0){if(S>b)throw new X;a-=S}const R=new qe(p,w);for(let M=0;M<w;M++){const B=a+Math.floor(M*o);for(let G=0;G<p;G++)e.get(f+Math.floor(G*o),B)&&R.set(G,M)}return R}static moduleSize(e,r){const s=r.getHeight(),o=r.getWidth();let a=e[0],c=e[1],f=!0,d=0;for(;a<o&&c<s;){if(f!==r.get(a,c)){if(++d===5)break;f=!f}a++,c++}if(a===o||c===s)throw new X;return(a-e[0])/7}}gr.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(e){return te.sum(e)}static toIntArray(e){if(e==null||!e.length)return Le.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let s=0;for(const o of e)r[s++]=o;return r}static getCodeword(e){const r=Q.binarySearch(Le.SYMBOL_TABLE,e&262143);return r<0?-1:(Le.CODEWORD_TABLE[r]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ad{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ge{static detectMultiple(e,r,s){let o=e.getBlackMatrix(),a=Ge.detect(s,o);return a.length||(o=o.clone(),o.rotate180(),a=Ge.detect(s,o)),new Ad(o,a)}static detect(e,r){const s=new Array;let o=0,a=0,c=!1;for(;o<r.getHeight();){const f=Ge.findVertices(r,o,a);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,a=0;for(const d of s)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=Ge.ROW_STEP;continue}if(c=!0,s.push(f),!e)break;f[2]!=null?(a=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return s}static findVertices(e,r,s){const o=e.getHeight(),a=e.getWidth(),c=new Array(8);return Ge.copyToResult(c,Ge.findRowsWithPattern(e,o,a,r,s,Ge.START_PATTERN),Ge.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ge.copyToResult(c,Ge.findRowsWithPattern(e,o,a,r,s,Ge.STOP_PATTERN),Ge.INDEXES_STOP_PATTERN),c}static copyToResult(e,r,s){for(let o=0;o<s.length;o++)e[s[o]]=r[o]}static findRowsWithPattern(e,r,s,o,a,c){const f=new Array(4);let d=!1;const p=new Int32Array(c.length);for(;o<r;o+=Ge.ROW_STEP){let b=Ge.findGuardPattern(e,a,o,s,!1,c,p);if(b!=null){for(;o>0;){const y=Ge.findGuardPattern(e,a,--o,s,!1,c,p);if(y!=null)b=y;else{o++;break}}f[0]=new H(b[0],o),f[1]=new H(b[1],o),d=!0;break}}let w=o+1;if(d){let b=0,y=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<r;w++){const S=Ge.findGuardPattern(e,y[0],w,s,!1,c,p);if(S!=null&&Math.abs(y[0]-S[0])<Ge.MAX_PATTERN_DRIFT&&Math.abs(y[1]-S[1])<Ge.MAX_PATTERN_DRIFT)y=S,b=0;else{if(b>Ge.SKIPPED_ROW_COUNT_MAX)break;b++}}w-=b+1,f[2]=new H(y[0],w),f[3]=new H(y[1],w)}return w-o<Ge.BARCODE_MIN_HEIGHT&&Q.fill(f,null),f}static findGuardPattern(e,r,s,o,a,c,f){Q.fillWithin(f,0,f.length,0);let d=r,p=0;for(;e.get(d,s)&&d>0&&p++<Ge.MAX_PIXEL_DRIFT;)d--;let w=d,b=0,y=c.length;for(let S=a;w<o;w++)if(e.get(w,s)!==S)f[b]++;else{if(b===y-1){if(Ge.patternMatchVariance(f,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return new Int32Array([d,w]);d+=f[0]+f[1],D.arraycopy(f,2,f,0,b-1),f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,S=!S}return b===y-1&&Ge.patternMatchVariance(f,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE?new Int32Array([d,w-1]):null}static patternMatchVariance(e,r,s){let o=e.length,a=0,c=0;for(let p=0;p<o;p++)a+=e[p],c+=r[p];if(a<c)return 1/0;let f=a/c;s*=f;let d=0;for(let p=0;p<o;p++){let w=e[p],b=r[p]*f,y=w>b?w-b:b-w;if(y>s)return 1/0;d+=y}return d/a}}Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;class Gt{constructor(e,r){if(r.length===0)throw new C;this.field=e;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),D.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,s=e.coefficients;if(r.length>s.length){let c=r;r=s,s=c}let o=new Int32Array(s.length),a=s.length-r.length;D.arraycopy(s,0,o,0,a);for(let c=a;c<s.length;c++)o[c]=this.field.add(r[c-a],s[c]);return new Gt(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new C("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Gt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Gt(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=e.coefficients,a=o.length,c=new Int32Array(s+a-1);for(let f=0;f<s;f++){let d=r[f];for(let p=0;p<a;p++)c[f+p]=this.field.add(c[f+p],this.field.multiply(d,o[p]))}return new Gt(this.field,c)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new Gt(this.field,r)}multiplyScalar(e){if(e===0)return new Gt(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],e);return new Gt(this.field,s)}multiplyByMonomial(e,r){if(e<0)throw new C;if(r===0)return new Gt(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+e);for(let a=0;a<s;a++)o[a]=this.field.multiply(this.coefficients[a],r);return new Gt(this.field,o)}toString(){let e=new ve;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(r===0||s!==1)&&e.append(s),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class bd{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new C;return this.logTable[e]}inverse(e){if(e===0)throw new st;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ca extends bd{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let s=1;for(let o=0;o<e;o++)this.expTable[o]=s,s=s*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new C;if(r===0)return this.zero;let s=new Int32Array(e+1);return s[0]=r,new Gt(this,s)}}Ca.PDF417_GF=new Ca(Le.NUMBER_OF_CODEWORDS,3);class Gc{constructor(){this.field=Ca.PDF417_GF}decode(e,r,s){let o=new Gt(this.field,e),a=new Int32Array(r),c=!1;for(let R=r;R>0;R--){let M=o.evaluateAt(this.field.exp(R));a[r-R]=M,M!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(s!=null)for(const R of s){let M=this.field.exp(e.length-1-R),B=new Gt(this.field,new Int32Array([this.field.subtract(0,M),1]));f=f.multiply(B)}let d=new Gt(this.field,a),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),d,r),w=p[0],b=p[1],y=this.findErrorLocations(w),S=this.findErrorMagnitudes(b,w,y);for(let R=0;R<y.length;R++){let M=e.length-1-this.field.log(y[R]);if(M<0)throw O.getChecksumInstance();e[M]=this.field.subtract(e[M],S[R])}return y.length}runEuclideanAlgorithm(e,r,s){if(e.getDegree()<r.getDegree()){let y=e;e=r,r=y}let o=e,a=r,c=this.field.getZero(),f=this.field.getOne();for(;a.getDegree()>=Math.round(s/2);){let y=o,S=c;if(o=a,c=f,o.isZero())throw O.getChecksumInstance();a=y;let R=this.field.getZero(),M=o.getCoefficient(o.getDegree()),B=this.field.inverse(M);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let G=a.getDegree()-o.getDegree(),ue=this.field.multiply(a.getCoefficient(a.getDegree()),B);R=R.add(this.field.buildMonomial(G,ue)),a=a.subtract(o.multiplyByMonomial(G,ue))}f=R.multiply(c).subtract(S).negative()}let d=f.getCoefficient(0);if(d===0)throw O.getChecksumInstance();let p=this.field.inverse(d),w=f.multiply(p),b=a.multiply(p);return[w,b]}findErrorLocations(e){let r=e.getDegree(),s=new Int32Array(r),o=0;for(let a=1;a<this.field.getSize()&&o<r;a++)e.evaluateAt(a)===0&&(s[o]=this.field.inverse(a),o++);if(o!==r)throw O.getChecksumInstance();return s}findErrorMagnitudes(e,r,s){let o=r.getDegree(),a=new Int32Array(o);for(let p=1;p<=o;p++)a[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new Gt(this.field,a),f=s.length,d=new Int32Array(f);for(let p=0;p<f;p++){let w=this.field.inverse(s[p]),b=this.field.subtract(0,e.evaluateAt(w)),y=this.field.inverse(c.evaluateAt(w));d[p]=this.field.multiply(b,y)}return d}}class Hr{constructor(e,r,s,o,a){e instanceof Hr?this.constructor_2(e):this.constructor_1(e,r,s,o,a)}constructor_1(e,r,s,o,a){const c=r==null||s==null,f=o==null||a==null;if(c&&f)throw new X;c?(r=new H(0,o.getY()),s=new H(0,a.getY())):f&&(o=new H(e.getWidth()-1,r.getY()),a=new H(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Hr(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,s){let o=this.topLeft,a=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(e>0){let d=s?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);let w=new H(d.getX(),p);s?o=w:c=w}if(r>0){let d=s?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new H(d.getX(),p);s?a=w:f=w}return new Hr(this.image,o,a,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Cd{constructor(e,r,s,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qs{constructor(){this.buffer=""}static form(e,r){let s=-1;function o(c,f,d,p,w,b){if(c==="%%")return"%";if(r[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let y=w?parseInt(w.substr(1)):void 0,S;switch(b){case"s":S=r[s];break;case"c":S=r[s][0];break;case"f":S=parseFloat(r[s]).toFixed(c);break;case"p":S=parseFloat(r[s]).toPrecision(c);break;case"e":S=parseFloat(r[s]).toExponential(c);break;case"x":S=parseInt(r[s]).toString(y||16);break;case"d":S=parseFloat(parseInt(r[s],y||10).toPrecision(c)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(y);let R=parseInt(d),M=d&&d[0]+""=="0"?"0":" ";for(;S.length<R;)S=f!==void 0?S+M:M+S;return S}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}format(e,...r){this.buffer+=Qs.form(e,r)}toString(){return this.buffer}}class Js{constructor(e){this.boundingBox=new Hr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let s=1;s<Js.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(e)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Qs;let r=0;for(const s of this.codewords){if(s==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return e.toString()}}Js.MAX_NEARBY_DISTANCE=5;class ei{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[s,o]of this.values.entries()){const a={getKey:()=>s,getValue:()=>o};a.getValue()>e?(e=a.getValue(),r=[],r.push(a.getKey())):a.getValue()===e&&r.push(a.getKey())}return Le.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Xc extends Js{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),a=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,p=1,w=0;for(let b=c;b<f;b++){if(r[b]==null)continue;let y=r[b],S=y.getRowNumber()-d;if(S===0)w++;else if(S===1)p=Math.max(p,w),w=1,d=y.getRowNumber();else if(S<0||y.getRowNumber()>=e.getRowCount()||S>b)r[b]=null;else{let R;p>2?R=(p-2)*S:R=S;let M=R>=b;for(let B=1;B<=R&&!M;B++)M=r[b-B]!=null;M?r[b]=null:(d=y.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),d=-1;for(let p=a;p<c;p++){if(f[p]==null)continue;let w=f[p];w.setRowNumberAsRowIndicatorColumn();let b=w.getRowNumber()-d;b===0||(b===1?d=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?f[p]=null:d=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new ei,s=new ei,o=new ei,a=new ei;for(let f of e){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let d=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(d*3+1);break;case 1:a.setValue(d/3),o.setValue(d%3);break;case 2:r.setValue(d+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||a.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let c=new Cd(r.getValue()[0],s.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,r){for(let s=0;s<e.length;s++){let o=e[s];if(e[s]==null)continue;let a=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(e[s]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(e[s]=null);break;case 2:a+1!==r.getColumnCount()&&(e[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ti{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Le.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<e.length;s++)if(e[s]!=null&&r[s]!=null&&e[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[s];a!=null&&(a.setRowNumber(e[s].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let c=this.barcodeColumnCount+1;c>0&&a<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[s];f!=null&&(a=ti.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let c=1;c<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[s];f!=null&&(a=ti.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,s){if(!this.detectionResultColumns[e-1])return;let o=s[r],a=this.detectionResultColumns[e-1].getCodewords(),c=a;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let f=new Array(14);f[2]=a[r],f[3]=c[r],r>0&&(f[0]=s[r-1],f[4]=a[r-1],f[5]=c[r-1]),r>1&&(f[8]=s[r-2],f[10]=a[r-2],f[11]=c[r-2]),r<s.length-1&&(f[1]=s[r+1],f[6]=a[r+1],f[7]=c[r+1]),r<s.length-2&&(f[9]=s[r+2],f[12]=a[r+2],f[13]=c[r+2]);for(let d of f)if(ti.adjustRowNumber(o,d))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Qs;for(let s=0;s<e.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[s];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()}}class ni{constructor(e,r,s,o){this.rowNumber=ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==ni.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}ni.BARCODE_ROW_UNKNOWN=-1;class sn{static initialize(){for(let e=0;e<Le.SYMBOL_TABLE.length;e++){let r=Le.SYMBOL_TABLE[e],s=r&1;for(let o=0;o<Le.BARS_IN_MODULE;o++){let a=0;for(;(r&1)===s;)a+=1,r>>=1;s=r&1,sn.RATIOS_TABLE[e]||(sn.RATIOS_TABLE[e]=new Array(Le.BARS_IN_MODULE)),sn.RATIOS_TABLE[e][Le.BARS_IN_MODULE-o-1]=Math.fround(a/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=sn.getDecodedCodewordValue(sn.sampleBitCounts(e));return r!==-1?r:sn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=te.sum(e),s=new Int32Array(Le.BARS_IN_MODULE),o=0,a=0;for(let c=0;c<Le.MODULES_IN_CODEWORD;c++){let f=r/(2*Le.MODULES_IN_CODEWORD)+c*r/Le.MODULES_IN_CODEWORD;a+e[o]<=f&&(a+=e[o],o++),s[o]++}return s}static getDecodedCodewordValue(e){let r=sn.getBitValue(e);return Le.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let s=0;s<e.length;s++)for(let o=0;o<e[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=te.sum(e),s=new Array(Le.BARS_IN_MODULE);if(r>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(e[c]/r);let o=fe.MAX_VALUE,a=-1;this.bSymbolTableReady||sn.initialize();for(let c=0;c<sn.RATIOS_TABLE.length;c++){let f=0,d=sn.RATIOS_TABLE[c];for(let p=0;p<Le.BARS_IN_MODULE;p++){let w=Math.fround(d[p]-s[p]);if(f+=Math.fround(w*w),f>=o)break}f<o&&(o=f,a=Le.SYMBOL_TABLE[c])}return a}}sn.bSymbolTableReady=!1,sn.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(A=>new Array(Le.BARS_IN_MODULE));class jc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class $c{static parseLong(e,r=void 0){return parseInt(e,r)}}class zc extends x{}zc.kind="NullPointerException";class yd{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,s){if(e==null)throw new zc;if(r<0||r>e.length||s<0||r+s>e.length||r+s<0)throw new z;if(s===0)return;for(let o=0;o<s;o++)this.write(e[r+o])}flush(){}close(){}}class Td extends x{}class vd extends yd{constructor(e=32){if(super(),this.count=0,e<0)throw new C("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let s=this.buf.length<<1;if(s-e<0&&(s=e),s<0){if(e<0)throw new Td;s=U.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,s)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,s){if(r<0||r>e.length||s<0||r+s-e.length>0)throw new z;this.ensureCapacity(this.count+s),D.arraycopy(e,r,this.buf,this.count,s),this.count+=s}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var lt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function Yc(){if(typeof window<"u")return window.BigInt||null;if(typeof li<"u")return li.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gi;function pr(A){if(typeof Gi>"u"&&(Gi=Yc()),Gi===null)throw new Error("BigInt is not supported!");return Gi(A)}function Sd(){let A=[];A[0]=pr(1);let e=pr(900);A[1]=e;for(let r=2;r<16;r++)A[r]=A[r-1]*e;return A}class W{static decode(e,r){let s=new ve(""),o=V.ISO8859_1;s.enableDecoding(o);let a=1,c=e[a++],f=new jc;for(;a<e[0];){switch(c){case W.TEXT_COMPACTION_MODE_LATCH:a=W.textCompaction(e,a,s);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:a=W.byteCompaction(c,e,o,a,s);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[a++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:a=W.numericCompaction(e,a,s);break;case W.ECI_CHARSET:V.getCharacterSetECIByValue(e[a++]);break;case W.ECI_GENERAL_PURPOSE:a+=2;break;case W.ECI_USER_DEFINED:a++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=W.decodeMacroBlock(e,a,f);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new P;default:a--,a=W.textCompaction(e,a,s);break}if(a<e.length)c=e[a++];else throw P.getFormatInstance()}if(s.length()===0)throw P.getFormatInstance();let d=new pe(null,s.toString(),null,r);return d.setOther(f),d}static decodeMacroBlock(e,r,s){if(r+W.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw P.getFormatInstance();let o=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<W.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=e[r];s.setSegmentIndex(U.parseInt(W.decodeBase900toBase10(o,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new ve;r=W.textCompaction(e,r,a),s.setFileId(a.toString());let c=-1;for(e[r]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ve;r=W.textCompaction(e,r+1,f),s.setFileName(f.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new ve;r=W.textCompaction(e,r+1,d),s.setSender(d.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ve;r=W.textCompaction(e,r+1,p),s.setAddressee(p.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ve;r=W.numericCompaction(e,r+1,w),s.setSegmentCount(U.parseInt(w.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new ve;r=W.numericCompaction(e,r+1,b),s.setTimestamp($c.parseLong(b.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new ve;r=W.numericCompaction(e,r+1,y),s.setChecksum(U.parseInt(y.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new ve;r=W.numericCompaction(e,r+1,S),s.setFileSize($c.parseLong(S.toString()));break;default:throw P.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(c!==-1){let f=r-c;s.isLastSegment()&&f--,s.setOptionalData(Q.copyOfRange(e,c,c+f))}return r}static textCompaction(e,r,s){let o=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),c=0,f=!1;for(;r<e[0]&&!f;){let d=e[r++];if(d<W.TEXT_COMPACTION_MODE_LATCH)o[c]=d/30,o[c+1]=d%30,c+=2;else switch(d){case W.TEXT_COMPACTION_MODE_LATCH:o[c++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[r++],a[c]=d,c++;break}}return W.decodeTextCompaction(o,a,c,s),r}static decodeTextCompaction(e,r,s,o){let a=lt.ALPHA,c=lt.ALPHA,f=0;for(;f<s;){let d=e[f],p="";switch(a){case lt.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case W.LL:a=lt.LOWER;break;case W.ML:a=lt.MIXED;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case W.AS:c=a,a=lt.ALPHA_SHIFT;break;case W.ML:a=lt.MIXED;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.MIXED:if(d<W.PL)p=W.MIXED_CHARS[d];else switch(d){case W.PL:a=lt.PUNCT;break;case 26:p=" ";break;case W.LL:a=lt.LOWER;break;case W.AL:a=lt.ALPHA;break;case W.PS:c=a,a=lt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.PUNCT:if(d<W.PAL)p=W.PUNCT_CHARS[d];else switch(d){case W.PAL:a=lt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(a=c,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(a=c,d<W.PAL)p=W.PUNCT_CHARS[d];else switch(d){case W.PAL:a=lt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=lt.ALPHA;break}break}p!==""&&o.append(p),f++}}static byteCompaction(e,r,s,o,a){let c=new vd,f=0,d=0,p=!1;switch(e){case W.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),b=r[o++];for(;o<r[0]&&!p;)switch(w[f++]=b,d=900*d+b,b=r[o++],b){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(f%5===0&&f>0){for(let y=0;y<6;++y)c.write(Number(pr(d)>>pr(8*(5-y))));d=0,f=0}break}o===r[0]&&b<W.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=b);for(let y=0;y<f;y++)c.write(w[y]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let y=r[o++];if(y<W.TEXT_COMPACTION_MODE_LATCH)f++,d=900*d+y;else switch(y){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(f%5===0&&f>0){for(let S=0;S<6;++S)c.write(Number(pr(d)>>pr(8*(5-S))));d=0,f=0}}break}return a.append(ye.decode(c.toByteArray(),s)),o}static numericCompaction(e,r,s){let o=0,a=!1,c=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!a;){let f=e[r++];if(r===e[0]&&(a=!0),f<W.TEXT_COMPACTION_MODE_LATCH)c[o]=f,o++;else switch(f){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(o%W.MAX_NUMERIC_CODEWORDS===0||f===W.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(s.append(W.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(e,r){let s=pr(0);for(let a=0;a<r;a++)s+=W.EXP900[r-a-1]*pr(e[a]);let o=s.toString();if(o.charAt(0)!=="1")throw new P;return o.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=Yc()?Sd():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xe{constructor(){}static decode(e,r,s,o,a,c,f){let d=new Hr(e,r,s,o,a),p=null,w=null,b;for(let R=!0;;R=!1){if(r!=null&&(p=Xe.getRowIndicatorColumn(e,d,r,!0,c,f)),o!=null&&(w=Xe.getRowIndicatorColumn(e,d,o,!1,c,f)),b=Xe.merge(p,w),b==null)throw X.getNotFoundInstance();let M=b.getBoundingBox();if(R&&M!=null&&(M.getMinY()<d.getMinY()||M.getMaxY()>d.getMaxY()))d=M;else break}b.setBoundingBox(d);let y=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,p),b.setDetectionResultColumn(y,w);let S=p!=null;for(let R=1;R<=y;R++){let M=S?R:y-R;if(b.getDetectionResultColumn(M)!==void 0)continue;let B;M===0||M===y?B=new Xc(d,M===0):B=new Js(d),b.setDetectionResultColumn(M,B);let G=-1,ue=G;for(let he=d.getMinY();he<=d.getMaxY();he++){if(G=Xe.getStartColumn(b,M,he,S),G<0||G>d.getMaxX()){if(ue===-1)continue;G=ue}let ae=Xe.detectCodeword(e,d.getMinX(),d.getMaxX(),S,G,he,c,f);ae!=null&&(B.setCodeword(he,ae),ue=G,c=Math.min(c,ae.getWidth()),f=Math.max(f,ae.getWidth()))}}return Xe.createDecoderResult(b)}static merge(e,r){if(e==null&&r==null)return null;let s=Xe.getBarcodeMetadata(e,r);if(s==null)return null;let o=Hr.merge(Xe.adjustBoundingBox(e),Xe.adjustBoundingBox(r));return new ti(s,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let s=Xe.getMax(r),o=0;for(let f of r)if(o+=s-f,f>0)break;let a=e.getCodewords();for(let f=0;o>0&&a[f]==null;f++)o--;let c=0;for(let f=r.length-1;f>=0&&(c+=s-r[f],!(r[f]>0));f--);for(let f=a.length-1;c>0&&a[f]==null;f--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let r=-1;for(let s of e)r=Math.max(r,s);return r}static getBarcodeMetadata(e,r){let s;if(e==null||(s=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(e,r,s,o,a,c){let f=new Xc(r,o);for(let d=0;d<2;d++){let p=d===0?1:-1,w=Math.trunc(Math.trunc(s.getX()));for(let b=Math.trunc(Math.trunc(s.getY()));b<=r.getMaxY()&&b>=r.getMinY();b+=p){let y=Xe.detectCodeword(e,0,e.getWidth(),o,w,b,a,c);y!=null&&(f.setCodeword(b,y),o?w=y.getStartX():w=y.getEndX())}}return f}static adjustCodewordCount(e,r){let s=r[0][1],o=s.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Xe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(a<1||a>Le.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();s.setValue(a)}else o[0]!==a&&s.setValue(a)}static createDecoderResult(e){let r=Xe.createBarcodeMatrix(e);Xe.adjustCodewordCount(e,r);let s=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],c=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let p=0;p<e.getBarcodeColumnCount();p++){let w=r[d][p+1].getValue(),b=d*e.getBarcodeColumnCount()+p;w.length===0?s.push(b):w.length===1?o[b]=w[0]:(c.push(b),a.push(w))}let f=new Array(a.length);for(let d=0;d<f.length;d++)f[d]=a[d];return Xe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Le.toIntArray(s),Le.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(e,r,s,o,a){let c=new Int32Array(o.length),f=100;for(;f-- >0;){for(let d=0;d<c.length;d++)r[o[d]]=a[d][c[d]];try{return Xe.decodeCodewords(r,e,s)}catch(d){if(!(d instanceof O))throw d}if(c.length===0)throw O.getChecksumInstance();for(let d=0;d<c.length;d++)if(c[d]<a[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let a=0;a<r[o].length;a++)r[o][a]=new ei;let s=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][s].setValue(a.getValue())}}}s++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,s,o){let a=o?1:-1,c=null;if(Xe.isValidBarcodeColumn(e,r-a)&&(c=e.getDetectionResultColumn(r-a).getCodeword(s)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(s),c!=null)return o?c.getStartX():c.getEndX();if(Xe.isValidBarcodeColumn(e,r-a)&&(c=e.getDetectionResultColumn(r-a).getCodewordNearby(s)),c!=null)return o?c.getEndX():c.getStartX();let f=0;for(;Xe.isValidBarcodeColumn(e,r-a);){r-=a;for(let d of e.getDetectionResultColumn(r).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+a*f*(d.getEndX()-d.getStartX());f++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,s,o,a,c,f,d){a=Xe.adjustCodewordStartColumn(e,r,s,o,a,c);let p=Xe.getModuleBitCount(e,r,s,o,a,c);if(p==null)return null;let w,b=te.sum(p);if(o)w=a+b;else{for(let R=0;R<p.length/2;R++){let M=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=M}w=a,a=w-b}if(!Xe.checkCodewordSkew(b,f,d))return null;let y=sn.getDecodedValue(p),S=Le.getCodeword(y);return S===-1?null:new ni(a,w,Xe.getCodewordBucketNumber(y),S)}static getModuleBitCount(e,r,s,o,a,c){let f=a,d=new Int32Array(8),p=0,w=o?1:-1,b=o;for(;(o?f<s:f>=r)&&p<d.length;)e.get(f,c)===b?(d[p]++,f+=w):(p++,b=!b);return p===d.length||f===(o?s:r)&&p===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,s,o,a,c){let f=a,d=o?-1:1;for(let p=0;p<2;p++){for(;(o?f>=r:f<s)&&o===e.get(f,c);){if(Math.abs(a-f)>Xe.CODEWORD_SKEW_SIZE)return a;f+=d}d=-d,o=!o}return f}static checkCodewordSkew(e,r,s){return r-Xe.CODEWORD_SKEW_SIZE<=e&&e<=s+Xe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,s){if(e.length===0)throw P.getFormatInstance();let o=1<<r+1,a=Xe.correctErrors(e,s,o);Xe.verifyCodewordCount(e,o);let c=W.decode(e,""+r);return c.setErrorsCorrected(a),c.setErasures(s.length),c}static correctErrors(e,r,s){if(r!=null&&r.length>s/2+Xe.MAX_ERRORS||s<0||s>Xe.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return Xe.errorCorrection.decode(e,s,r)}static verifyCodewordCount(e,r){if(e.length<4)throw P.getFormatInstance();let s=e[0];if(s>e.length)throw P.getFormatInstance();if(s===0)if(r<e.length)e[0]=e.length-r;else throw P.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((e&1)!==s&&(s=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Xe.getCodewordBucketNumber(Xe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Qs;for(let s=0;s<e.length;s++){r.format("Row %2d: ",s);for(let o=0;o<e[s].length;o++){let a=e[s][o];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()}}Xe.CODEWORD_SKEW_SIZE=2,Xe.MAX_ERRORS=3,Xe.MAX_EC_CODEWORDS=512,Xe.errorCorrection=new Gc;class Xt{decode(e,r=null){let s=Xt.decode(e,r,!1);if(s==null||s.length===0||s[0]==null)throw X.getNotFoundInstance();return s[0]}decodeMultiple(e,r=null){try{return Xt.decode(e,r,!0)}catch(s){throw s instanceof P||s instanceof O?X.getNotFoundInstance():s}}static decode(e,r,s){const o=new Array,a=Ge.detectMultiple(e,r,s);for(const c of a.getPoints()){const f=Xe.decode(a.getBits(),c[4],c[5],c[6],c[7],Xt.getMinCodewordWidth(c),Xt.getMaxCodewordWidth(c)),d=new ot(f.getText(),f.getRawBytes(),void 0,c,we.PDF_417);d.putMetadata(ce.ERROR_CORRECTION_LEVEL,f.getECLevel());const p=f.getOther();p!=null&&d.putMetadata(ce.PDF417_EXTRA_METADATA,p),o.push(d)}return o.map(c=>c)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(e[0],e[4]),Xt.getMaxWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(e[1],e[5]),Xt.getMaxWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Xt.getMinWidth(e[0],e[4]),Xt.getMinWidth(e[6],e[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(e[1],e[5]),Xt.getMinWidth(e[7],e[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xi extends x{}Xi.kind="ReaderException";class Kc{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!l(e)&&e.get(Y.TRY_HARDER)===!0,s=l(e)?null:e.get(Y.POSSIBLE_FORMATS),o=new Array;if(!l(s)){const a=s.some(c=>c===we.UPC_A||c===we.UPC_E||c===we.EAN_13||c===we.EAN_8||c===we.CODABAR||c===we.CODE_39||c===we.CODE_93||c===we.CODE_128||c===we.ITF||c===we.RSS_14||c===we.RSS_EXPANDED);a&&!r&&o.push(new ds(e,this.verbose)),s.includes(we.QR_CODE)&&o.push(new gr),s.includes(we.DATA_MATRIX)&&o.push(new dr),s.includes(we.AZTEC)&&o.push(new zt),s.includes(we.PDF_417)&&o.push(new Xt),a&&r&&o.push(new ds(e,this.verbose))}o.length===0&&(r||o.push(new ds(e,this.verbose)),o.push(new gr),o.push(new dr),o.push(new zt),o.push(new Xt),r&&o.push(new ds(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Xi("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(s){if(s instanceof Xi)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Id extends Lt{constructor(e=null,r=500){const s=new Kc;s.setHints(e),super(s,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Od extends Lt{constructor(e=500){super(new Xt,e)}}class Nd extends Lt{constructor(e=500){super(new gr,e)}}var ya;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(ya||(ya={}));var Bt=ya;class Ta{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Pe(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let s=r[r.length-1];const o=this.field;for(let a=r.length;a<=e;a++){const c=s.multiply(new Pe(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));r.push(c),s=c}}return r[e]}encode(e,r){if(r===0)throw new C("No error correction bytes");const s=e.length-r;if(s<=0)throw new C("No data bytes provided");const o=this.buildGenerator(r),a=new Int32Array(s);D.arraycopy(e,0,a,0,s);let c=new Pe(this.field,a);c=c.multiplyByMonomial(r,1);const d=c.divide(o)[1].getCoefficients(),p=r-d.length;for(let w=0;w<p;w++)e[s+w]=0;D.arraycopy(d,0,e,s+p,d.length)}}class It{constructor(){}static applyMaskPenaltyRule1(e){return It.applyMaskPenaltyRule1Internal(e,!0)+It.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a-1;c++){const f=s[c];for(let d=0;d<o-1;d++){const p=f[d];p===f[d+1]&&p===s[c+1][d]&&p===s[c+1][d+1]&&r++}}return It.N2*r}static applyMaskPenaltyRule3(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a;c++)for(let f=0;f<o;f++){const d=s[c];f+6<o&&d[f]===1&&d[f+1]===0&&d[f+2]===1&&d[f+3]===1&&d[f+4]===1&&d[f+5]===0&&d[f+6]===1&&(It.isWhiteHorizontal(d,f-4,f)||It.isWhiteHorizontal(d,f+7,f+11))&&r++,c+6<a&&s[c][f]===1&&s[c+1][f]===0&&s[c+2][f]===1&&s[c+3][f]===1&&s[c+4][f]===1&&s[c+5][f]===0&&s[c+6][f]===1&&(It.isWhiteVertical(s,f,c-4,c)||It.isWhiteVertical(s,f,c+7,c+11))&&r++}return r*It.N3}static isWhiteHorizontal(e,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,s,o){s=Math.max(s,0),o=Math.min(o,e.length);for(let a=s;a<o;a++)if(e[a][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let d=0;d<a;d++){const p=s[d];for(let w=0;w<o;w++)p[w]===1&&r++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*It.N4}static getDataMaskBit(e,r,s){let o,a;switch(e){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:a=s*r,o=(a&1)+a%3;break;case 6:a=s*r,o=(a&1)+a%3&1;break;case 7:a=s*r,o=a%3+(s+r&1)&1;break;default:throw new C("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let s=0;const o=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),c=e.getArray();for(let f=0;f<o;f++){let d=0,p=-1;for(let w=0;w<a;w++){const b=r?c[f][w]:c[w][f];b===p?d++:(d>=5&&(s+=It.N1+(d-5)),d=1,p=b)}d>=5&&(s+=It.N1+(d-5))}return s}}It.N1=3,It.N2=3,It.N3=40,It.N4=10;class ji{constructor(e,r){this.width=e,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(e);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,s){this.bytes[r][e]=s}setBoolean(e,r,s){this.bytes[r][e]=s?1:0}clear(e){for(const r of this.bytes)Q.fill(r,e)}equals(e){if(!(e instanceof ji))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const a=this.bytes[s],c=r.bytes[s];for(let f=0,d=this.width;f<d;++f)if(a[f]!==c[f])return!1}return!0}toString(){const e=new ve;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let a=0,c=this.width;a<c;++a)switch(o[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Wr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ve;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Wr.NUM_MASK_PATTERNS}}Wr.NUM_MASK_PATTERNS=8;class ut extends x{}ut.kind="WriterException";class De{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,s,o,a){De.clearMatrix(a),De.embedBasicPatterns(s,a),De.embedTypeInfo(r,o,a),De.maybeEmbedVersionInfo(s,a),De.embedDataBits(e,o,a)}static embedBasicPatterns(e,r){De.embedPositionDetectionPatternsAndSeparators(r),De.embedDarkDotAtLeftBottomCorner(r),De.maybeEmbedPositionAdjustmentPatterns(e,r),De.embedTimingPatterns(r)}static embedTypeInfo(e,r,s){const o=new J;De.makeTypeInfoBits(e,r,o);for(let a=0,c=o.getSize();a<c;++a){const f=o.get(o.getSize()-1-a),d=De.TYPE_INFO_COORDINATES[a],p=d[0],w=d[1];if(s.setBoolean(p,w,f),a<8){const b=s.getWidth()-a-1;s.setBoolean(b,8,f)}else{const y=s.getHeight()-7+(a-8);s.setBoolean(8,y,f)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const s=new J;De.makeVersionInfoBits(e,s);let o=6*3-1;for(let a=0;a<6;++a)for(let c=0;c<3;++c){const f=s.get(o);o--,r.setBoolean(a,r.getHeight()-11+c,f),r.setBoolean(r.getHeight()-11+c,a,f)}}static embedDataBits(e,r,s){let o=0,a=-1,c=s.getWidth()-1,f=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<s.getHeight();){for(let d=0;d<2;++d){const p=c-d;if(!De.isEmpty(s.get(p,f)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,r!==255&&It.getDataMaskBit(r,p,f)&&(w=!w),s.setBoolean(p,f,w)}f+=a}a=-a,f+=a,c-=2}if(o!==e.getSize())throw new ut("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new C("0 polynomial");const s=De.findMSBSet(r);for(e<<=s-1;De.findMSBSet(e)>=s;)e^=r<<De.findMSBSet(e)-s;return e}static makeTypeInfoBits(e,r,s){if(!Wr.isValidMaskPattern(r))throw new ut("Invalid mask pattern");const o=e.getBits()<<3|r;s.appendBits(o,5);const a=De.calculateBCHCode(o,De.TYPE_INFO_POLY);s.appendBits(a,10);const c=new J;if(c.appendBits(De.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new ut("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const s=De.calculateBCHCode(e.getVersionNumber(),De.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new ut("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const s=(r+1)%2;De.isEmpty(e.get(r,6))&&e.setNumber(r,6,s),De.isEmpty(e.get(6,r))&&e.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new ut;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,s){for(let o=0;o<8;++o){if(!De.isEmpty(s.get(e+o,r)))throw new ut;s.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,s){for(let o=0;o<7;++o){if(!De.isEmpty(s.get(e,r+o)))throw new ut;s.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,s){for(let o=0;o<5;++o){const a=De.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)s.setNumber(e+c,r+o,a[c])}}static embedPositionDetectionPattern(e,r,s){for(let o=0;o<7;++o){const a=De.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)s.setNumber(e+c,r+o,a[c])}}static embedPositionDetectionPatternsAndSeparators(e){const r=De.POSITION_DETECTION_PATTERN[0].length;De.embedPositionDetectionPattern(0,0,e),De.embedPositionDetectionPattern(e.getWidth()-r,0,e),De.embedPositionDetectionPattern(0,e.getWidth()-r,e);const s=8;De.embedHorizontalSeparationPattern(0,s-1,e),De.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),De.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);const o=7;De.embedVerticalSeparationPattern(o,0,e),De.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),De.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const s=e.getVersionNumber()-1,o=De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let a=0,c=o.length;a!==c;a++){const f=o[a];if(f>=0)for(let d=0;d!==c;d++){const p=o[d];p>=0&&De.isEmpty(r.get(p,f))&&De.embedPositionAdjustmentPattern(p-2,f-2,r)}}}}De.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),De.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),De.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),De.VERSION_INFO_POLY=7973,De.TYPE_INFO_POLY=1335,De.TYPE_INFO_MASK_PATTERN=21522;class Rd{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xt{constructor(){}static calculateMaskPenalty(e){return It.applyMaskPenaltyRule1(e)+It.applyMaskPenaltyRule2(e)+It.applyMaskPenaltyRule3(e)+It.applyMaskPenaltyRule4(e)}static encode(e,r,s=null){let o=xt.DEFAULT_BYTE_MODE_ENCODING;const a=s!==null&&s.get(Bt.CHARACTER_SET)!==void 0;a&&(o=s.get(Bt.CHARACTER_SET).toString());const c=this.chooseMode(e,o),f=new J;if(c===Ne.BYTE&&(a||xt.DEFAULT_BYTE_MODE_ENCODING!==o)){const he=V.getCharacterSetECIByName(o);he!==void 0&&this.appendECI(he,f)}this.appendModeInfo(c,f);const d=new J;this.appendBytes(e,c,d,o);let p;if(s!==null&&s.get(Bt.QR_VERSION)!==void 0){const he=Number.parseInt(s.get(Bt.QR_VERSION).toString(),10);p=Oe.getVersionForNumber(he);const ae=this.calculateBitsNeeded(c,f,d,p);if(!this.willFit(ae,p,r))throw new ut("Data too big for requested version")}else p=this.recommendVersion(r,c,f,d);const w=new J;w.appendBitArray(f);const b=c===Ne.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(b,p,c,w),w.appendBitArray(d);const y=p.getECBlocksForLevel(r),S=p.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(S,w);const R=this.interleaveWithECBytes(w,p.getTotalCodewords(),S,y.getNumBlocks()),M=new Wr;M.setECLevel(r),M.setMode(c),M.setVersion(p);const B=p.getDimensionForVersion(),G=new ji(B,B),ue=this.chooseMaskPattern(R,r,p,G);return M.setMaskPattern(ue),De.buildMatrix(R,r,p,ue,G),M.setMatrix(G),M}static recommendVersion(e,r,s,o){const a=this.calculateBitsNeeded(r,s,o,Oe.getVersionForNumber(1)),c=this.chooseVersion(a,e),f=this.calculateBitsNeeded(r,s,o,c);return this.chooseVersion(f,e)}static calculateBitsNeeded(e,r,s,o){return r.getSize()+e.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(e){return e<xt.ALPHANUMERIC_TABLE.length?xt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(V.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ne.KANJI;let s=!1,o=!1;for(let a=0,c=e.length;a<c;++a){const f=e.charAt(a);if(xt.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return Ne.BYTE}return o?Ne.ALPHANUMERIC:s?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=ye.encode(e,V.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const a=r[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(e,r,s,o){let a=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<Wr.NUM_MASK_PATTERNS;f++){De.buildMatrix(e,r,s,f,o);let d=this.calculateMaskPenalty(o);d<a&&(a=d,c=f)}return c}static chooseVersion(e,r){for(let s=1;s<=40;s++){const o=Oe.getVersionForNumber(s);if(xt.willFit(e,o,r))return o}throw new ut("Data too big")}static willFit(e,r,s){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(s).getTotalECCodewords(),f=o-c,d=(e+7)/8;return f>=d}static terminateBits(e,r){const s=e*8;if(r.getSize()>s)throw new ut("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let c=0;c<4&&r.getSize()<s;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const a=e-r.getSizeInBytes();for(let c=0;c<a;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==s)throw new ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,s,o,a,c){if(o>=s)throw new ut("Block ID too large");const f=e%s,d=s-f,p=Math.floor(e/s),w=p+1,b=Math.floor(r/s),y=b+1,S=p-b,R=w-y;if(S!==R)throw new ut("EC bytes mismatch");if(s!==d+f)throw new ut("RS blocks mismatch");if(e!==(b+S)*d+(y+R)*f)throw new ut("Total bytes mismatch");o<d?(a[0]=b,c[0]=S):(a[0]=y,c[0]=R)}static interleaveWithECBytes(e,r,s,o){if(e.getSizeInBytes()!==s)throw new ut("Number of bits and data bytes does not match");let a=0,c=0,f=0;const d=new Array;for(let w=0;w<o;++w){const b=new Int32Array(1),y=new Int32Array(1);xt.getNumDataBytesAndNumECBytesForBlockID(r,s,o,w,b,y);const S=b[0],R=new Uint8Array(S);e.toBytes(8*a,R,0,S);const M=xt.generateECBytes(R,y[0]);d.push(new Rd(R,M)),c=Math.max(c,S),f=Math.max(f,M.length),a+=b[0]}if(s!==a)throw new ut("Data bytes does not match offset");const p=new J;for(let w=0;w<c;++w)for(const b of d){const y=b.getDataBytes();w<y.length&&p.appendBits(y[w],8)}for(let w=0;w<f;++w)for(const b of d){const y=b.getErrorCorrectionBytes();w<y.length&&p.appendBits(y[w],8)}if(r!==p.getSizeInBytes())throw new ut("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,r){const s=e.length,o=new Int32Array(s+r);for(let c=0;c<s;c++)o[c]=e[c]&255;new Ta(T.QR_CODE_FIELD_256).encode(o,r);const a=new Uint8Array(r);for(let c=0;c<r;c++)a[c]=o[s+c];return a}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,s,o){const a=s.getCharacterCountBits(r);if(e>=1<<a)throw new ut(e+" is bigger than "+((1<<a)-1));o.appendBits(e,a)}static appendBytes(e,r,s,o){switch(r){case Ne.NUMERIC:xt.appendNumericBytes(e,s);break;case Ne.ALPHANUMERIC:xt.appendAlphanumericBytes(e,s);break;case Ne.BYTE:xt.append8BitBytes(e,s,o);break;case Ne.KANJI:xt.appendKanjiBytes(e,s);break;default:throw new ut("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=xt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const s=e.length;let o=0;for(;o<s;){const a=xt.getDigit(e.charAt(o));if(o+2<s){const c=xt.getDigit(e.charAt(o+1)),f=xt.getDigit(e.charAt(o+2));r.appendBits(a*100+c*10+f,10),o+=3}else if(o+1<s){const c=xt.getDigit(e.charAt(o+1));r.appendBits(a*10+c,7),o+=2}else r.appendBits(a,4),o++}}static appendAlphanumericBytes(e,r){const s=e.length;let o=0;for(;o<s;){const a=xt.getAlphanumericCode(e.charCodeAt(o));if(a===-1)throw new ut;if(o+1<s){const c=xt.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new ut;r.appendBits(a*45+c,11),o+=2}else r.appendBits(a,6),o++}}static append8BitBytes(e,r,s){let o;try{o=ye.encode(e,s)}catch(a){throw new ut(a)}for(let a=0,c=o.length;a!==c;a++){const f=o[a];r.appendBits(f,8)}}static appendKanjiBytes(e,r){let s;try{s=ye.encode(e,V.SJIS)}catch(a){throw new ut(a)}const o=s.length;for(let a=0;a<o;a+=2){const c=s[a]&255,f=s[a+1]&255,d=c<<8&4294967295|f;let p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new ut("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(e,r){r.appendBits(Ne.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xt.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Gr{write(e,r,s,o=null){if(e.length===0)throw new C("Found empty contents");if(r<0||s<0)throw new C("Requested dimensions are too small: "+r+"x"+s);let a=gt.L,c=Gr.QUIET_ZONE_SIZE;o!==null&&(o.get(Bt.ERROR_CORRECTION)!==void 0&&(a=gt.fromString(o.get(Bt.ERROR_CORRECTION).toString())),o.get(Bt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Bt.MARGIN).toString(),10)));const f=xt.encode(e,a,o);return this.renderResult(f,r,s,c)}writeToDom(e,r,s,o,a=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(r,s,o,a);e&&e.appendChild(c)}renderResult(e,r,s,o){const a=e.getMatrix();if(a===null)throw new F;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,p=f+o*2,w=Math.max(r,d),b=Math.max(s,p),y=Math.min(Math.floor(w/d),Math.floor(b/p)),S=Math.floor((w-c*y)/2),R=Math.floor((b-f*y)/2),M=this.createSVGElement(w,b);for(let B=0,G=R;B<f;B++,G+=y)for(let ue=0,he=S;ue<c;ue++,he+=y)if(a.get(ue,B)===1){const ae=this.createSvgRectElement(he,G,y,y);M.appendChild(ae)}return M}createSVGElement(e,r){const s=document.createElementNS(Gr.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(e,r,s,o){const a=document.createElementNS(Gr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"height",s.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Gr.QUIET_ZONE_SIZE=4,Gr.SVG_NS="http://www.w3.org/2000/svg";class ps{encode(e,r,s,o,a){if(e.length===0)throw new C("Found empty contents");if(r!==we.QR_CODE)throw new C("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new C(`Requested dimensions are too small: ${s}x${o}`);let c=gt.L,f=ps.QUIET_ZONE_SIZE;a!==null&&(a.get(Bt.ERROR_CORRECTION)!==void 0&&(c=gt.fromString(a.get(Bt.ERROR_CORRECTION).toString())),a.get(Bt.MARGIN)!==void 0&&(f=Number.parseInt(a.get(Bt.MARGIN).toString(),10)));const d=xt.encode(e,c,a);return ps.renderResult(d,s,o,f)}static renderResult(e,r,s,o){const a=e.getMatrix();if(a===null)throw new F;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,p=f+o*2,w=Math.max(r,d),b=Math.max(s,p),y=Math.min(Math.floor(w/d),Math.floor(b/p)),S=Math.floor((w-c*y)/2),R=Math.floor((b-f*y)/2),M=new qe(w,b);for(let B=0,G=R;B<f;B++,G+=y)for(let ue=0,he=S;ue<c;ue++,he+=y)a.get(ue,B)===1&&M.setRegion(he,G,y,y);return M}}ps.QUIET_ZONE_SIZE=4;class Dd{encode(e,r,s,o,a){let c;switch(r){case we.QR_CODE:c=new ps;break;default:throw new C("No encoder available for format "+r)}return c.encode(e,r,s,o,a)}}class Gn extends He{constructor(e,r,s,o,a,c,f,d){if(super(c,f),this.yuvData=e,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=a,o+c>r||a+f>s)throw new C("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(c,f)}getRow(e,r){if(e<0||e>=this.getHeight())throw new C("Requested row is outside the image: "+e);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=e*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.yuvData,a,o,0,s),o;for(let c=0;c<r;c++){const f=c*e;D.arraycopy(this.yuvData,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,s,o){return new Gn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,s,o,!1)}renderThumbnail(){const e=this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(e*r),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const f=c*e;for(let d=0;d<e;d++){const p=o[a+d*Gn.THUMBNAIL_SCALE_FACTOR]&255;s[f+d]=4278190080|p*65793}a+=this.dataWidth*Gn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const s=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth){const c=a+e/2;for(let f=a,d=a+e-1;f<c;f++,d--){const p=s[f];s[f]=s[d],s[d]=p}}}invert(){return new dt(this)}}Gn.THUMBNAIL_SCALE_FACTOR=2;class va extends He{constructor(e,r,s,o,a,c,f){if(super(r,s),this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=f,e.BYTES_PER_ELEMENT===4){const d=r*s,p=new Uint8ClampedArray(d);for(let w=0;w<d;w++){const b=e[w],y=b>>16&255,S=b>>7&510,R=b&255;p[w]=(y+S+R)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),a===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new C("Requested row is outside the image: "+e);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=e*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.luminances,a,o,0,s),o;for(let c=0;c<r;c++){const f=c*e;D.arraycopy(this.luminances,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,s,o){return new va(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new dt(this)}}class qc extends V{static forName(e){return this.getCharacterSetECIByName(e)}}class Sa{}Sa.ISO_8859_1=V.ISO8859_1;class Zc{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Qc{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Md{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ms extends Md{constructor(e,r,s){super(e),this.value=r,this.bitCount=s}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new ms(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ms(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ia extends ms{constructor(e,r,s){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(e,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):s===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(e,r){return new Ia(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ld(A,e,r){return new Ia(A,e,r)}function ri(A,e,r){return new ms(A,e,r)}const Pd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mr=0,$i=1,Cn=2,Jc=3,Xn=4,Bd=new ms(null,0,0),Oa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function kd(A){for(let e of A)Q.fill(e,-1);return A[mr][Xn]=0,A[$i][Xn]=0,A[$i][mr]=28,A[Jc][Xn]=0,A[Cn][Xn]=0,A[Cn][mr]=15,A}const eu=kd(Q.createInt32Array(6,6));class jn{constructor(e,r,s,o){this.token=e,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let s=this.bitCount,o=this.token;if(e!==this.mode){let c=Oa[this.mode][e];o=ri(o,c&65535,c>>16),s+=c>>16}let a=e===Cn?4:5;return o=ri(o,r,a),new jn(o,e,0,s+a)}shiftAndAppend(e,r){let s=this.token,o=this.mode===Cn?4:5;return s=ri(s,eu[this.mode][e],o),s=ri(s,r,5),new jn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Xn||this.mode===Cn){let f=Oa[s][mr];r=ri(r,f&65535,f>>16),o+=f>>16,s=mr}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new jn(r,s,this.binaryShiftByteCount+1,o+a);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ld(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(Oa[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=jn.calculateBinaryShiftCost(e)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new J;for(const o of r)o.appendTo(s,e);return s}toString(){return de.format("%s bits=%d bytes=%d",Pd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn(Bd,mr,0,0);function Fd(A){const e=de.getCharCode(" "),r=de.getCharCode("."),s=de.getCharCode(",");A[mr][e]=1;const o=de.getCharCode("Z"),a=de.getCharCode("A");for(let y=a;y<=o;y++)A[mr][y]=y-a+2;A[$i][e]=1;const c=de.getCharCode("z"),f=de.getCharCode("a");for(let y=f;y<=c;y++)A[$i][y]=y-f+2;A[Cn][e]=1;const d=de.getCharCode("9"),p=de.getCharCode("0");for(let y=p;y<=d;y++)A[Cn][y]=y-p+2;A[Cn][s]=12,A[Cn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<w.length;y++)A[Jc][de.getCharCode(w[y])]=y;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<b.length;y++)de.getCharCode(b[y])>0&&(A[Xn][de.getCharCode(b[y])]=y);return A}const Na=Fd(Q.createInt32Array(5,256));class si{constructor(e){this.text=e}encode(){const e=de.getCharCode(" "),r=de.getCharCode(`
`);let s=Qc.singletonList(jn.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let c,f=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case de.getCharCode("\r"):c=f===r?2:0;break;case de.getCharCode("."):c=f===e?3:0;break;case de.getCharCode(","):c=f===e?4:0;break;case de.getCharCode(":"):c=f===e?5:0;break;default:c=0}c>0?(s=si.updateStateListForPair(s,a,c),a++):s=this.updateStateListForChar(s,a)}return Qc.min(s,(a,c)=>a.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const s=[];for(let o of e)this.updateStateForChar(o,r,s);return si.simplifyStates(s)}updateStateForChar(e,r,s){let o=this.text[r]&255,a=Na[e.getMode()][o]>0,c=null;for(let f=0;f<=Xn;f++){let d=Na[f][o];if(d>0){if(c==null&&(c=e.endBinaryShift(r)),!a||f===e.getMode()||f===Cn){const p=c.latchAndAppend(f,d);s.push(p)}if(!a&&eu[e.getMode()][f]>=0){const p=c.shiftAndAppend(f,d);s.push(p)}}}if(e.getBinaryShiftByteCount()>0||Na[e.getMode()][o]===0){let f=e.addBinaryShiftChar(r);s.push(f)}}static updateStateListForPair(e,r,s){const o=[];for(let a of e)this.updateStateForPair(a,r,s,o);return this.simplifyStates(o)}static updateStateForPair(e,r,s,o){let a=e.endBinaryShift(r);if(o.push(a.latchAndAppend(Xn,s)),e.getMode()!==Xn&&o.push(a.shiftAndAppend(Xn,s)),s===3||s===4){let c=a.latchAndAppend(Cn,16-s).latchAndAppend(Cn,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(e){let r=[];for(const s of e){let o=!0;for(const a of r){if(a.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(a)&&(r=r.filter(c=>c!==a))}o&&r.push(s)}return r}}class Qe{constructor(){}static encodeBytes(e){return Qe.encode(e,Qe.DEFAULT_EC_PERCENT,Qe.DEFAULT_AZTEC_LAYERS)}static encode(e,r,s){let o=new si(e).encode(),a=U.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+a,f,d,p,w,b;if(s!==Qe.DEFAULT_AZTEC_LAYERS){if(f=s<0,d=Math.abs(s),d>(f?Qe.MAX_NB_BITS_COMPACT:Qe.MAX_NB_BITS))throw new C(de.format("Illegal value %s for layers",s));p=Qe.totalBitsInLayer(d,f),w=Qe.WORD_SIZE[d];let ae=p-p%w;if(b=Qe.stuffBits(o,w),b.getSize()+a>ae)throw new C("Data to large for user specified layer");if(f&&b.getSize()>w*64)throw new C("Data to large for user specified layer")}else{w=0,b=null;for(let ae=0;;ae++){if(ae>Qe.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(f=ae<=3,d=f?ae+1:ae,p=Qe.totalBitsInLayer(d,f),c>p)continue;(b==null||w!==Qe.WORD_SIZE[d])&&(w=Qe.WORD_SIZE[d],b=Qe.stuffBits(o,w));let Ye=p-p%w;if(!(f&&b.getSize()>w*64)&&b.getSize()+a<=Ye)break}}let y=Qe.generateCheckWords(b,p,w),S=b.getSize()/w,R=Qe.generateModeMessage(f,d,S),M=(f?11:14)+d*4,B=new Int32Array(M),G;if(f){G=M;for(let ae=0;ae<B.length;ae++)B[ae]=ae}else{G=M+1+2*U.truncDivision(U.truncDivision(M,2)-1,15);let ae=U.truncDivision(M,2),Ye=U.truncDivision(G,2);for(let Fe=0;Fe<ae;Fe++){let on=Fe+U.truncDivision(Fe,15);B[ae-Fe-1]=Ye-on-1,B[ae+Fe]=Ye+on+1}}let ue=new qe(G);for(let ae=0,Ye=0;ae<d;ae++){let Fe=(d-ae)*4+(f?9:12);for(let on=0;on<Fe;on++){let Mn=on*2;for(let an=0;an<2;an++)y.get(Ye+Mn+an)&&ue.set(B[ae*2+an],B[ae*2+on]),y.get(Ye+Fe*2+Mn+an)&&ue.set(B[ae*2+on],B[M-1-ae*2-an]),y.get(Ye+Fe*4+Mn+an)&&ue.set(B[M-1-ae*2-an],B[M-1-ae*2-on]),y.get(Ye+Fe*6+Mn+an)&&ue.set(B[M-1-ae*2-on],B[ae*2+an])}Ye+=Fe*8}if(Qe.drawModeMessage(ue,f,G,R),f)Qe.drawBullsEye(ue,U.truncDivision(G,2),5);else{Qe.drawBullsEye(ue,U.truncDivision(G,2),7);for(let ae=0,Ye=0;ae<U.truncDivision(M,2)-1;ae+=15,Ye+=16)for(let Fe=U.truncDivision(G,2)&1;Fe<G;Fe+=2)ue.set(U.truncDivision(G,2)-Ye,Fe),ue.set(U.truncDivision(G,2)+Ye,Fe),ue.set(Fe,U.truncDivision(G,2)-Ye),ue.set(Fe,U.truncDivision(G,2)+Ye)}let he=new Zc;return he.setCompact(f),he.setSize(G),he.setLayers(d),he.setCodeWords(S),he.setMatrix(ue),he}static drawBullsEye(e,r,s){for(let o=0;o<s;o+=2)for(let a=r-o;a<=r+o;a++)e.set(a,r-o),e.set(a,r+o),e.set(r-o,a),e.set(r+o,a);e.set(r-s,r-s),e.set(r-s+1,r-s),e.set(r-s,r-s+1),e.set(r+s,r-s),e.set(r+s,r-s+1),e.set(r+s,r+s-1)}static generateModeMessage(e,r,s){let o=new J;return e?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Qe.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Qe.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,s,o){let a=U.truncDivision(s,2);if(r)for(let c=0;c<7;c++){let f=a-3+c;o.get(c)&&e.set(f,a-5),o.get(c+7)&&e.set(a+5,f),o.get(20-c)&&e.set(f,a+5),o.get(27-c)&&e.set(a-5,f)}else for(let c=0;c<10;c++){let f=a-5+c+U.truncDivision(c,5);o.get(c)&&e.set(f,a-7),o.get(c+10)&&e.set(a+7,f),o.get(29-c)&&e.set(f,a+7),o.get(39-c)&&e.set(a-7,f)}}static generateCheckWords(e,r,s){let o=e.getSize()/s,a=new Ta(Qe.getGF(s)),c=U.truncDivision(r,s),f=Qe.bitsToWords(e,s,c);a.encode(f,c-o);let d=r%s,p=new J;p.appendBits(0,d);for(const w of Array.from(f))p.appendBits(w,s);return p}static bitsToWords(e,r,s){let o=new Int32Array(s),a,c;for(a=0,c=e.getSize()/r;a<c;a++){let f=0;for(let d=0;d<r;d++)f|=e.get(a*r+d)?1<<r-d-1:0;o[a]=f}return o}static getGF(e){switch(e){case 4:return T.AZTEC_PARAM;case 6:return T.AZTEC_DATA_6;case 8:return T.AZTEC_DATA_8;case 10:return T.AZTEC_DATA_10;case 12:return T.AZTEC_DATA_12;default:throw new C("Unsupported word size "+e)}}static stuffBits(e,r){let s=new J,o=e.getSize(),a=(1<<r)-2;for(let c=0;c<o;c+=r){let f=0;for(let d=0;d<r;d++)(c+d>=o||e.get(c+d))&&(f|=1<<r-1-d);(f&a)===a?(s.appendBits(f&a,r),c--):f&a?s.appendBits(f,r):(s.appendBits(f|1,r),c--)}return s}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}Qe.DEFAULT_EC_PERCENT=33,Qe.DEFAULT_AZTEC_LAYERS=0,Qe.MAX_NB_BITS=32,Qe.MAX_NB_BITS_COMPACT=4,Qe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zi{encode(e,r,s,o){return this.encodeWithHints(e,r,s,o,null)}encodeWithHints(e,r,s,o,a){let c=Sa.ISO_8859_1,f=Qe.DEFAULT_EC_PERCENT,d=Qe.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Bt.CHARACTER_SET)&&(c=qc.forName(a.get(Bt.CHARACTER_SET).toString())),a.has(Bt.ERROR_CORRECTION)&&(f=U.parseInt(a.get(Bt.ERROR_CORRECTION).toString())),a.has(Bt.AZTEC_LAYERS)&&(d=U.parseInt(a.get(Bt.AZTEC_LAYERS).toString()))),zi.encodeLayers(e,r,s,o,c,f,d)}static encodeLayers(e,r,s,o,a,c,f){if(r!==we.AZTEC)throw new C("Can only encode AZTEC, but got "+r);let d=Qe.encode(de.getBytes(e,a),c,f);return zi.renderResult(d,s,o)}static renderResult(e,r,s){let o=e.getMatrix();if(o==null)throw new F;let a=o.getWidth(),c=o.getHeight(),f=Math.max(r,a),d=Math.max(s,c),p=Math.min(f/a,d/c),w=(f-a*p)/2,b=(d-c*p)/2,y=new qe(f,d);for(let S=0,R=b;S<c;S++,R+=p)for(let M=0,B=w;M<a;M++,B+=p)o.get(M,S)&&y.setRegion(B,R,p,p);return y}}i.AbstractExpandedDecoder=pa,i.ArgumentException=_,i.ArithmeticException=st,i.AztecCode=Zc,i.AztecCodeReader=zt,i.AztecCodeWriter=zi,i.AztecDecoder=q,i.AztecDetector=Nt,i.AztecDetectorResult=Ee,i.AztecEncoder=Qe,i.AztecHighLevelEncoder=si,i.AztecPoint=Be,i.BarcodeFormat=we,i.Binarizer=L,i.BinaryBitmap=I,i.BitArray=J,i.BitMatrix=qe,i.BitSource=wa,i.BrowserAztecCodeReader=cr,i.BrowserBarcodeReader=pd,i.BrowserCodeReader=Lt,i.BrowserDatamatrixCodeReader=xd,i.BrowserMultiFormatReader=Id,i.BrowserPDF417Reader=Od,i.BrowserQRCodeReader=Nd,i.BrowserQRCodeSvgWriter=Gr,i.CharacterSetECI=V,i.ChecksumException=O,i.Code128Reader=ge,i.Code39Reader=vt,i.DataMatrixDecodedBitStreamParser=hr,i.DataMatrixReader=dr,i.DecodeHintType=Y,i.DecoderResult=pe,i.DefaultGridSampler=ke,i.DetectorResult=ie,i.EAN13Reader=Fr,i.EncodeHintType=Bt,i.Exception=x,i.FormatException=P,i.GenericGF=T,i.GenericGFPoly=Pe,i.GlobalHistogramBinarizer=Ie,i.GridSampler=Te,i.GridSamplerInstance=$e,i.HTMLCanvasElementLuminanceSource=Tt,i.HybridBinarizer=le,i.ITFReader=We,i.IllegalArgumentException=C,i.IllegalStateException=F,i.InvertedLuminanceSource=dt,i.LuminanceSource=He,i.MathUtils=te,i.MultiFormatOneDReader=ds,i.MultiFormatReader=Kc,i.MultiFormatWriter=Dd,i.NotFoundException=X,i.OneDReader=bt,i.PDF417DecodedBitStreamParser=W,i.PDF417DecoderErrorCorrection=Gc,i.PDF417Reader=Xt,i.PDF417ResultMetadata=jc,i.PerspectiveTransform=Se,i.PlanarYUVLuminanceSource=Gn,i.QRCodeByteMatrix=ji,i.QRCodeDataMask=An,i.QRCodeDecodedBitStreamParser=Ct,i.QRCodeDecoderErrorCorrectionLevel=gt,i.QRCodeDecoderFormatInformation=Kt,i.QRCodeEncoder=xt,i.QRCodeEncoderQRCode=Wr,i.QRCodeMaskUtil=It,i.QRCodeMatrixUtil=De,i.QRCodeMode=Ne,i.QRCodeReader=gr,i.QRCodeVersion=Oe,i.QRCodeWriter=ps,i.RGBLuminanceSource=va,i.RSS14Reader=St,i.RSSExpandedReader=re,i.ReaderException=Xi,i.ReedSolomonDecoder=ee,i.ReedSolomonEncoder=Ta,i.ReedSolomonException=N,i.Result=ot,i.ResultMetadataType=ce,i.ResultPoint=H,i.StringUtils=de,i.UnsupportedOperationException=me,i.VideoInputDevice=Ht,i.WhiteRectangleDetector=_e,i.WriterException=ut,i.ZXingArrays=Q,i.ZXingCharset=qc,i.ZXingInteger=U,i.ZXingStandardCharsets=Sa,i.ZXingStringBuilder=ve,i.ZXingStringEncoding=ye,i.ZXingSystem=D,i.createAbstractExpandedDecoder=Hc,Object.defineProperty(i,"__esModule",{value:!0})})})(Ll,Ll.exports);var Et=Ll.exports;const qw=Kw(Et),Zw=Hd({__proto__:null,default:qw},[Et]);var _f=function(){function n(t,i,l){if(this.formatMap=new Map([[be.QR_CODE,Et.BarcodeFormat.QR_CODE],[be.AZTEC,Et.BarcodeFormat.AZTEC],[be.CODABAR,Et.BarcodeFormat.CODABAR],[be.CODE_39,Et.BarcodeFormat.CODE_39],[be.CODE_93,Et.BarcodeFormat.CODE_93],[be.CODE_128,Et.BarcodeFormat.CODE_128],[be.DATA_MATRIX,Et.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,Et.BarcodeFormat.MAXICODE],[be.ITF,Et.BarcodeFormat.ITF],[be.EAN_13,Et.BarcodeFormat.EAN_13],[be.EAN_8,Et.BarcodeFormat.EAN_8],[be.PDF_417,Et.BarcodeFormat.PDF_417],[be.RSS_14,Et.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,Et.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,Et.BarcodeFormat.UPC_A],[be.UPC_E,Et.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,Et.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Zw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=l;var u=this.createZXingFormats(t),h=new Map;h.set(Et.DecodeHintType.POSSIBLE_FORMATS,u),h.set(Et.DecodeHintType.TRY_HARDER,!1),this.hints=h}return n.prototype.decodeAsync=function(t){var i=this;return new Promise(function(l,u){try{l(i.decode(t))}catch(h){u(h)}})},n.prototype.decode=function(t){var i=new Et.MultiFormatReader(this.verbose,this.hints),l=new Et.HTMLCanvasElementLuminanceSource(t),u=new Et.BinaryBitmap(new Et.HybridBinarizer(l)),h=i.decode(u);return{text:h.text,format:a0.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,l,u){t.set(i,l)}),t},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createZXingFormats=function(t){for(var i=[],l=0,u=t;l<u.length;l++){var h=u[l];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return i},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),Qw=function(n,t,i,l){function u(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(C){g(C)}}function E(_){try{x(l.throw(_))}catch(C){g(C)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Jw=function(n,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(n,i)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Af=function(){function n(t,i,l){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=l;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},n.prototype.decodeAsync=function(t){return Qw(this,void 0,void 0,function(){var i,l;return Jw(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(i),[2,{text:l.rawValue,format:a0.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(t){for(var i=null,l=0,u=0,h=t;u<h.length;u++){var g=h[u],m=g.boundingBox.width*g.boundingBox.height;m>l&&(l=m,i=g)}if(!i)throw"No largest barcode found";return i},n.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],l=0,u=t;l<u.length;l++){var h=u[l];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,l,u){t.set(i,l)}),t},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),bf=function(n,t,i,l){function u(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(C){g(C)}}function E(_){try{x(l.throw(_))}catch(C){g(C)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Cf=function(n,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(n,i)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},e_=function(){function n(t,i,l,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,i&&Af.isSupported()?(this.primaryDecoder=new Af(t,l,u),this.secondaryDecoder=new _f(t,l,u)):this.primaryDecoder=new _f(t,l,u)}return n.prototype.decodeAsync=function(t){return bf(this,void 0,void 0,function(){var i;return Cf(this,function(l){switch(l.label){case 0:i=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(t){return bf(this,void 0,void 0,function(){var i,l;return Cf(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(l=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw l;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,l=this.executionResults;i<l.length;i++){var u=l[i];t+=u}var h=t/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Ec=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function l(){this.constructor=t}t.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}}(),Io=function(n,t,i,l){function u(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(C){g(C)}}function E(_){try{x(l.throw(_))}catch(C){g(C)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Oo=function(n,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(n,i)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},c0=function(){function n(t,i){this.name=t,this.track=i}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(t){var i={};i[this.name]=t;var l={advanced:[i]};return this.track.applyConstraints(l)},n.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},n}(),t_=function(n){Ec(t,n);function t(i,l){return n.call(this,i,l)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var l={};l[this.name]=i;var u={advanced:[l]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),l=i[this.name];return{min:l.min,max:l.max,step:l.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(c0),n_=function(n){Ec(t,n);function t(i){return n.call(this,"zoom",i)||this}return t}(t_),r_=function(n){Ec(t,n);function t(i){return n.call(this,"torch",i)||this}return t}(c0),s_=function(){function n(t){this.track=t}return n.prototype.zoomFeature=function(){return new n_(this.track)},n.prototype.torchFeature=function(){return new r_(this.track)},n}(),i_=function(){function n(t,i,l){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return n.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},n.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var l=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(l,u),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(t,i,l,u){return Io(this,void 0,void 0,function(){var h,g;return Oo(this,function(m){switch(m.label){case 0:return h=new n(t,i,u),l.aspectRatio?(g={aspectRatio:l.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return h.setupSurface(),[2,h]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(t){this.failIfClosed();var i=this,l=function(){setTimeout(t,200),i.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(t){return Io(this,void 0,void 0,function(){return Oo(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,l){var u=t.mediaStream.getVideoTracks(),h=u.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=h&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},n.prototype.getCapabilities=function(){return new s_(this.getFirstTrackOrFail())},n}(),o_=function(){function n(t){this.mediaStream=t}return n.prototype.render=function(t,i,l){return Io(this,void 0,void 0,function(){return Oo(this,function(u){return[2,i_.create(t,this.mediaStream,i,l)]})})},n.create=function(t){return Io(this,void 0,void 0,function(){var i,l;return Oo(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return l=u.sent(),[2,new n(l)]}})})},n}(),yf=function(n,t,i,l){function u(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(C){g(C)}}function E(_){try{x(l.throw(_))}catch(C){g(C)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},Tf=function(n,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(n,i)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},a_=function(){function n(){}return n.failIfNotSupported=function(){return yf(this,void 0,void 0,function(){return Tf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(t){return yf(this,void 0,void 0,function(){return Tf(this,function(i){return[2,o_.create(t)]})})},n}(),l_=function(n,t,i,l){function u(h){return h instanceof i?h:new i(function(g){g(h)})}return new(i||(i=Promise))(function(h,g){function m(_){try{x(l.next(_))}catch(C){g(C)}}function E(_){try{x(l.throw(_))}catch(C){g(C)}}function x(_){_.done?h(_.value):u(_.value).then(m,E)}x((l=l.apply(n,t||[])).next())})},c_=function(n,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(_){return E([x,_])}}function E(x){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(l=1,u&&(h=x[0]&2?u.return:x[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,x[1])).done)return h;switch(u=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(n,i)}catch(_){x=[6,_],u=0}finally{l=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},u_=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var t=vs.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(t=vs.insecureContextCameraQueryError()),Promise.reject(t)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},n.getCamerasFromMediaDevices=function(){return l_(this,void 0,void 0,function(){var t,i,l,u,h,g,m;return c_(this,function(E){switch(E.label){case 0:return t=function(x){for(var _=x.getVideoTracks(),C=0,I=_;C<I.length;C++){var O=I[C];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=E.sent(),u=[],h=0,g=l;h<g.length;h++)m=g[h],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return t(i),[2,u]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var l=function(h){for(var g=[],m=0,E=h;m<E.length;m++){var x=E[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},u=MediaStreamTrack;u.getSources(l)})},n}(),Ot;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Ot||(Ot={}));var f_=function(){function n(){this.state=Ot.NOT_STARTED,this.onGoingTransactionNewState=Ot.UNKNOWN}return n.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},n.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ot.UNKNOWN,this.directTransition(t)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ot.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(t){switch(this.state){case Ot.UNKNOWN:throw"Transition from unknown is not allowed";case Ot.NOT_STARTED:this.failIfNewStateIs(t,[Ot.PAUSED]);break;case Ot.SCANNING:break;case Ot.PAUSED:break}},n.prototype.failIfNewStateIs=function(t,i){for(var l=0,u=i;l<u.length;l++){var h=u[l];if(t===h)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},n}(),h_=function(){function n(t){this.stateManager=t}return n.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},n.prototype.directTransition=function(t){this.stateManager.directTransition(t)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Ot.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Ot.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ot.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Ot.PAUSED},n}(),d_=function(){function n(){}return n.create=function(){return new h_(new f_)},n}(),g_=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},n(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function l(){this.constructor=t}t.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}}(),gn=function(n){g_(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}($w),p_=function(){function n(t,i){this.logger=i,this.fps=gn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gn.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?l0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!tr(this.qrbox)},n.create=function(t,i){return new n(t,i)},n}(),m_=function(){function n(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var l;typeof i=="boolean"?this.verbose=i===!0:i&&(l=i,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new Yw(this.verbose),this.qrcode=new e_(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=d_.create()}return n.prototype.start=function(t,i,l,u){var h=this;if(!t)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var m=p_.create(i,this.logger);this.clearElement();var E=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=E,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:gn.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var C=this,I=this.stateManagerProxy.startTransition(Ot.SCANNING);return new Promise(function(O,L){var D=x?m.videoConstraints:C.createVideoConstraints(t);if(!D){I.cancel(),L("videoConstraints should be defined");return}var z={};(!x||m.aspectRatio)&&(z.aspectRatio=m.aspectRatio);var ne={onRenderSurfaceReady:function(Q,U){C.setupUi(Q,U,m),C.isScanning=!0,C.foreverScan(m,l,g)}};a_.failIfNotSupported().then(function(Q){Q.create(D).then(function(U){return U.render(h.element,z,ne).then(function(J){C.renderedCamera=J,I.execute(),O(null)}).catch(function(J){I.cancel(),L(J)})}).catch(function(U){I.cancel(),L(vs.errorGettingUserMedia(U))})}).catch(function(Q){I.cancel(),L(vs.cameraStreamingNotSupported())})})},n.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ot.PAUSED),this.showPausedState(),(tr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(Ot.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(t.element){var h=document.getElementById(gn.SHADED_REGION_ELEMENT_ID);h&&t.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),l(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(l){return l.decodedText})},n.prototype.scanFileV2=function(t,i){var l=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tr(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,E=g.height,x=document.getElementById(l.elementId),_=x.clientWidth?x.clientWidth:gn.DEFAULT_WIDTH,C=Math.max(x.clientHeight?x.clientHeight:E,gn.FILE_SCAN_MIN_HEIGHT),I=l.computeCanvasDrawConfig(m,E,_,C);if(i){var O=l.createCanvasElement(_,C,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var L=O.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=_,L.canvas.height=C,L.drawImage(g,0,0,m,E,I.x,I.y,I.width,I.height)}var D=gn.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(g.width,I.width),ne=Math.max(g.height,I.height),Q=z+2*D,U=ne+2*D,J=l.createCanvasElement(Q,U);x.appendChild(J);var xe=J.getContext("2d");if(!xe)throw"Unable to get 2d context from canvas";xe.canvas.width=Q,xe.canvas.height=U,xe.drawImage(g,0,0,m,E,D,D,z,ne);try{l.qrcode.decodeRobustlyAsync(J).then(function(Y){u(wf.createFromQrcodeResult(Y))}).catch(h)}catch(Y){h("QR code parse error, error = ".concat(Y))}},g.onerror=h,g.onabort=h,g.onstalled=h,g.onsuspend=h,g.src=URL.createObjectURL(t)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return u_.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(t){if(t){if(!l0.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(t){var i=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],u=0,h=t.formatsToSupport;u<h.length;u++){var g=h[u];jw(g)?l.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},n.prototype.getUseBarCodeDetectorIfSupported=function(t){if(tr(t))return!0;if(!tr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(tr(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return tr(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(t,i,l){var u=this,h=l.qrbox;this.validateQrboxConfig(h);var g=this.toQrdimensions(t,i,h),m=function(x){if(x<gn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gn.MIN_QR_BOX_SIZE,"px.")},E=function(x){return x>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=E(g.width)},n.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(t,i,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(t,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return l},n.prototype.setupUi=function(t,i,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,l);var u=tr(l.qrbox)?{width:t,height:i}:l.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,i,u);h.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=l.isShadedBoxEnabled()&&h.height<=i,m={x:0,y:0,width:t,height:i},E=g?this.getShadedRegionBounds(t,i,h):m,x=this.createCanvasElement(E.width,E.height),_={willReadFrequently:!0},C=x.getContext("2d",_);C.canvas.width=E.width,C.canvas.height=E.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,i,h),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=C,this.canvasElement=x},n.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=vs.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},n.prototype.scanContext=function(t,i){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,wf.createFromQrcodeResult(u)),l.possiblyUpdateShaders(!0),!0}).catch(function(u){l.possiblyUpdateShaders(!1);var h=vs.codeParseError(u);return i(h,zw.createFrom(h)),!1})},n.prototype.foreverScan=function(t,i,l){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),g=h.videoWidth/h.clientWidth,m=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*g,x=this.qrRegion.height*m,_=this.qrRegion.x*g,C=this.qrRegion.y*m;this.context.drawImage(h,_,C,E,x,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,i,l)},u.getTimeoutFps(t.fps))};this.scanContext(i,l).then(function(O){!O&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,l).finally(function(){I()})):I()}).catch(function(O){u.logger.logError("Error happend while scanning context",O),I()})}},n.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",l="deviceId",u={user:!0,environment:!0},h="exact",g=function(L){if(L in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var E=Object.keys(t)[0];if(E!==i&&E!==l)throw"Only '".concat(i,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(E===i){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(h in x){if(g(x["".concat(h)]))return{facingMode:{exact:x["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var _=typeof x;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(h in C)return{deviceId:{exact:C["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var I=typeof C;throw"Invalid type of 'deviceId' = ".concat(I)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},n.prototype.computeCanvasDrawConfig=function(t,i,l,u){if(t<=l&&i<=u){var h=(l-t)/2,g=(u-i)/2;return{x:h,y:g,width:t,height:i}}else{var m=t,E=i;return t>l&&(i=l/t*i,t=l),i>u&&(t=u/i*t,i=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(E)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,l,u)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},n.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?gn.BORDER_SHADER_MATCH_COLOR:gn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(t,i,l){var u=t,h=i,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(h,"px"),g.style.display="none",g.id=tr(l)?"qr-canvas":l,g},n.prototype.getShadedRegionBounds=function(t,i,l){if(l.width>t||l.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-l.width)/2,y:(i-l.height)/2,width:l.width,height:l.height}},n.prototype.possiblyInsertShadingElement=function(t,i,l,u){if(!(i-u.width<1||l-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var g=(i-u.width)/2,m=(l-u.height)/2;if(h.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(gn.SHADED_REGION_ELEMENT_ID),i-u.width<11||l-u.height<11)this.hasBorderShaders=!1;else{var E=5,x=40;this.insertShaderBorders(h,x,E,-E,null,0,!0),this.insertShaderBorders(h,x,E,-E,null,0,!1),this.insertShaderBorders(h,x,E,null,-E,0,!0),this.insertShaderBorders(h,x,E,null,-E,0,!1),this.insertShaderBorders(h,E,x+E,-E,null,-E,!0),this.insertShaderBorders(h,E,x+E,null,-E,-E,!0),this.insertShaderBorders(h,E,x+E,-E,null,-E,!1),this.insertShaderBorders(h,E,x+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(h)}},n.prototype.insertShaderBorders=function(t,i,l,u,h,g,m){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=gn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(i,"px"),E.style.height="".concat(l,"px"),u!==null&&(E.style.top="".concat(u,"px")),h!==null&&(E.style.bottom="".concat(h,"px")),m?E.style.left="".concat(g,"px"):E.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(t){return 1e3/t},n}(),vf;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(vf||(vf={}));const x_={class:"card",style:{overflow:"hidden"}},E_={class:"card-body p-0",style:{overflow:"hidden"}},w_={key:0,class:"ratio ratio-1x1",id:"qr-reader"},__={class:"d-grid col-6 mx-auto my-4"},A_={__name:"QRcodeReader",emits:["scan-success"],setup(n,{emit:t}){const i=ta(),l=je(!1),u=je("");let h=null;const g=t,m=()=>{if(!(!i.isLoggedIn||!i.is_club))try{h=new m_("qr-reader");const D=document.getElementById("qr-reader").offsetWidth,z=document.getElementById("qr-reader").offsetHeight,ne={fps:10,qrbox:{width:250,height:250},aspectRatio:1,width:D*.7,height:z*.7};h.start({facingMode:"environment"},ne,E,x)}catch(D){console.log("init scanner failed: "+D),I.value="btn btn-primary",O.value="開啟相機",C.value=!1}},E=D=>{u.value=D,g("scan-success",D),_()},x=D=>{console.warn(`QR Code scanning failed: ${D}`)};sc(()=>{L()}),q1(()=>{_()});const _=async()=>{if(h)try{await h.stop()}catch(D){console.error("Failed to stop scanner:",D)}I.value="btn btn-primary",O.value="開啟相機",C.value=!1},C=je(!1),I=je("btn btn-primary"),O=je("關閉相機"),L=async()=>{C.value=!C.value,C.value?(m(),I.value="btn btn-danger",O.value="關閉相機"):(_(),I.value="btn btn-primary",O.value="開啟相機")};return(D,z)=>(ct(),ht(yn,null,[se("div",x_,[se("div",E_,[l.value?Kn("",!0):(ct(),ht("div",w_))])]),se("div",__,[se("button",{class:Vt(I.value),type:"button",onClick:L},wt(O.value),3)])],64))}},u0=n=>(G1("data-v-5806eb4a"),n=n(),X1(),n),b_={key:0},C_={class:"mb-4"},y_={key:1},T_=u0(()=>se("h1",{class:"mb-4"},"社團登入",-1)),v_={class:"col-md-6"},S_={class:"invalid-feedback"},I_={class:"col-md-6"},O_={class:"invalid-feedback"},N_={class:"col-6 d-grid mx-auto"},R_=["disabled"],D_={key:1,class:"loading-overlay"},M_=u0(()=>se("div",{class:"spinner-border text-primary",role:"status"},[se("span",{class:"visually-hidden"},"Loading...")],-1)),L_=[M_],P_={__name:"ScanView",setup(n){const t=dc(),i=ea(),l=gc(),u=ta();i.callAPI(),t.callAPI(),l.callAPI();const h=je(!1),g=async()=>{if(z.value=!0,!await m(u.email,E.value))try{const me=new FormData;me.append("entry.1180634340",u.email),me.append("entry.1788223982",E.value),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLScMibiJl3amUlq6x91EwApaW7XqnRTl51ZQagvWz3vNftR3tw/formResponse",{method:"POST",mode:"no-cors",body:me}),console.log("Form submitted successfully"),I.value=!1,C.value="提交 "+x.value+" 蓋章紀錄成功！"}catch(me){I.value=!0,C.value="紀錄提交錯誤："+me,console.error("Error submitting form:",me)}finally{z.value=!1}},m=async(me,ye)=>await l.query_record(me,ye)?(I.value=!0,C.value="已經蓋過章了！",!0):(I.value=!1,C.value="",!1),E=je(""),x=je(""),_=async me=>{if(h.value)return;h.value=!0,E.value=me;let ye=await t.get_user_by_email(me);if(console.log(ye),ye)ye.nick_name!=""?x.value=ye.nick_name:x.value=ye.name,I.value=!1,C.value="掃描成功！"+x.value;else{I.value=!0,C.value="找不到 email: "+me+" 的帳號。";return}await g(),h.value=!1},C=je(""),I=je(!1),O=je("");u.isLoggedIn&&u.is_club&&(O.value=u.name);let L=je(""),D=je("");const z=je(!1),ne=je({email:"",password:""});var Q=je("row g-3 my-3 needs-validation");const U=async()=>{z.value=!0;try{const me=await Z();await u.club_login(L.value,D.value),me&&u.isLoggedIn&&u.is_club?(console.log("Club login successfully"),I.value=!1,C.value="登入成功！",console.log(u.name,u.email,u.is_club),O.value=u.name,V()):(I.value=!0,C.value="帳號密碼錯誤",console.log("帳號密碼錯誤"))}catch(me){I.value=!0,C.value="登入表單錯誤："+me,console.error("Error submitting form:",me)}finally{z.value=!1}},J=(me,ye,de)=>de.required&&!ye?(ne.value[me]="此欄位為必填",!1):de.minLength&&ye.length<de.minLength?(ne.value[me]=`最少需要 ${de.minLength} 個字符`,!1):de.pattern&&!de.pattern.test(ye)?(ne.value[me]="格式不正確",!1):(ne.value[me]="",Q.value="row g-3 my-3 needs-validation was-validated",!0),xe=Dt(()=>J("email",L.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),Y=Dt(()=>J("password",D.value,{required:!0,minLength:6})),P=Dt(()=>xe.value&&Y.value);async function Z(){return P.value?!0:(Q.value="row g-3 my-3 needs-validation was-validated",!1)}const V=()=>{L.value="",D.value=""};return(me,ye)=>et(u).isLoggedIn&&et(u).is_club?(ct(),ht("div",b_,[se("h1",C_,wt(O.value)+"：掃描",1),C.value?(ct(),ht("div",{key:0,class:Vt(["mt-3 text-break",["alert",I.value?"alert-danger":"alert-success"]]),role:"alert"},wt(C.value),3)):Kn("",!0),Mt(A_,{onScanSuccess:_})])):(ct(),ht("div",y_,[T_,C.value?(ct(),ht("div",{key:0,class:Vt(["mt-3 text-break",["alert",I.value?"alert-danger":"alert-success"]]),role:"alert"},wt(C.value),3)):Kn("",!0),se("form",{class:Vt(et(Q)),onSubmit:Ah(U,["prevent"]),novalidate:""},[se("div",v_,[Tr(se("input",{type:"email","onUpdate:modelValue":ye[0]||(ye[0]=de=>pt(L)?L.value=de:L=de),class:Vt(["form-control",{"is-invalid":!xe.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[Yr,et(L)]]),se("div",S_,wt(ne.value.email),1)]),se("div",I_,[Tr(se("input",{type:"password","onUpdate:modelValue":ye[1]||(ye[1]=de=>pt(D)?D.value=de:D=de),class:Vt(["form-control",{"is-invalid":!Y.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[Yr,et(D)]]),se("div",O_,wt(ne.value.password),1)]),se("div",N_,[se("button",{type:"submit",class:"btn btn-primary",disabled:!P.value||z.value},wt(z.value?"提交中...":"登入"),9,R_)])],34),z.value?(ct(),ht("div",D_,L_)):Kn("",!0)]))}},B_=$s(P_,[["__scopeId","data-v-5806eb4a"]]),k_=nE({linkActiveClass:"active",linkExactActiveClass:"",history:Nx("/Earth_Game/"),routes:[{path:"/",name:"home",component:DE},{path:"/stamp",name:"stamp",component:fw},{path:"/rank",name:"rank",component:kE},{path:"/partner",component:ww},{path:"/register",component:Xw},{path:"/scan",component:B_},{path:"/user/:id",component:dw},{path:"/404",name:"NotFound",component:mf},{path:"/:pathMatch(.*)*",name:"NotFound",component:mf}]});var en="top",xn="bottom",En="right",tn="left",sa="auto",zs=[en,xn,En,tn],is="start",ks="end",f0="clippingParents",wc="viewport",Cs="popper",h0="reference",Pl=zs.reduce(function(n,t){return n.concat([t+"-"+is,t+"-"+ks])},[]),_c=[].concat(zs,[sa]).reduce(function(n,t){return n.concat([t,t+"-"+is,t+"-"+ks])},[]),d0="beforeRead",g0="read",p0="afterRead",m0="beforeMain",x0="main",E0="afterMain",w0="beforeWrite",_0="write",A0="afterWrite",b0=[d0,g0,p0,m0,x0,E0,w0,_0,A0];function Jn(n){return n?(n.nodeName||"").toLowerCase():null}function wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function os(n){var t=wn(n).Element;return n instanceof t||n instanceof Element}function In(n){var t=wn(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Ac(n){if(typeof ShadowRoot>"u")return!1;var t=wn(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function F_(n){var t=n.state;Object.keys(t.elements).forEach(function(i){var l=t.styles[i]||{},u=t.attributes[i]||{},h=t.elements[i];!In(h)||!Jn(h)||(Object.assign(h.style,l),Object.keys(u).forEach(function(g){var m=u[g];m===!1?h.removeAttribute(g):h.setAttribute(g,m===!0?"":m)}))})}function U_(n){var t=n.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(l){var u=t.elements[l],h=t.attributes[l]||{},g=Object.keys(t.styles.hasOwnProperty(l)?t.styles[l]:i[l]),m=g.reduce(function(E,x){return E[x]="",E},{});!In(u)||!Jn(u)||(Object.assign(u.style,m),Object.keys(h).forEach(function(E){u.removeAttribute(E)}))})}}const bc={name:"applyStyles",enabled:!0,phase:"write",fn:F_,effect:U_,requires:["computeStyles"]};function qn(n){return n.split("-")[0]}var ts=Math.max,No=Math.min,Fs=Math.round;function Bl(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function C0(){return!/^((?!chrome|android).)*safari/i.test(Bl())}function Us(n,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var l=n.getBoundingClientRect(),u=1,h=1;t&&In(n)&&(u=n.offsetWidth>0&&Fs(l.width)/n.offsetWidth||1,h=n.offsetHeight>0&&Fs(l.height)/n.offsetHeight||1);var g=os(n)?wn(n):window,m=g.visualViewport,E=!C0()&&i,x=(l.left+(E&&m?m.offsetLeft:0))/u,_=(l.top+(E&&m?m.offsetTop:0))/h,C=l.width/u,I=l.height/h;return{width:C,height:I,top:_,right:x+C,bottom:_+I,left:x,x,y:_}}function Cc(n){var t=Us(n),i=n.offsetWidth,l=n.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-l)<=1&&(l=t.height),{x:n.offsetLeft,y:n.offsetTop,width:i,height:l}}function y0(n,t){var i=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(i&&Ac(i)){var l=t;do{if(l&&n.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function or(n){return wn(n).getComputedStyle(n)}function V_(n){return["table","td","th"].indexOf(Jn(n))>=0}function Pr(n){return((os(n)?n.ownerDocument:n.document)||window.document).documentElement}function ia(n){return Jn(n)==="html"?n:n.assignedSlot||n.parentNode||(Ac(n)?n.host:null)||Pr(n)}function Sf(n){return!In(n)||or(n).position==="fixed"?null:n.offsetParent}function H_(n){var t=/firefox/i.test(Bl()),i=/Trident/i.test(Bl());if(i&&In(n)){var l=or(n);if(l.position==="fixed")return null}var u=ia(n);for(Ac(u)&&(u=u.host);In(u)&&["html","body"].indexOf(Jn(u))<0;){var h=or(u);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return u;u=u.parentNode}return null}function Li(n){for(var t=wn(n),i=Sf(n);i&&V_(i)&&or(i).position==="static";)i=Sf(i);return i&&(Jn(i)==="html"||Jn(i)==="body"&&or(i).position==="static")?t:i||H_(n)||t}function yc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function wi(n,t,i){return ts(n,No(t,i))}function W_(n,t,i){var l=wi(n,t,i);return l>i?i:l}function T0(){return{top:0,right:0,bottom:0,left:0}}function v0(n){return Object.assign({},T0(),n)}function S0(n,t){return t.reduce(function(i,l){return i[l]=n,i},{})}var G_=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,v0(typeof t!="number"?t:S0(t,zs))};function X_(n){var t,i=n.state,l=n.name,u=n.options,h=i.elements.arrow,g=i.modifiersData.popperOffsets,m=qn(i.placement),E=yc(m),x=[tn,En].indexOf(m)>=0,_=x?"height":"width";if(!(!h||!g)){var C=G_(u.padding,i),I=Cc(h),O=E==="y"?en:tn,L=E==="y"?xn:En,D=i.rects.reference[_]+i.rects.reference[E]-g[E]-i.rects.popper[_],z=g[E]-i.rects.reference[E],ne=Li(h),Q=ne?E==="y"?ne.clientHeight||0:ne.clientWidth||0:0,U=D/2-z/2,J=C[O],xe=Q-I[_]-C[L],Y=Q/2-I[_]/2+U,P=wi(J,Y,xe),Z=E;i.modifiersData[l]=(t={},t[Z]=P,t.centerOffset=P-Y,t)}}function j_(n){var t=n.state,i=n.options,l=i.element,u=l===void 0?"[data-popper-arrow]":l;u!=null&&(typeof u=="string"&&(u=t.elements.popper.querySelector(u),!u)||y0(t.elements.popper,u)&&(t.elements.arrow=u))}const I0={name:"arrow",enabled:!0,phase:"main",fn:X_,effect:j_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vs(n){return n.split("-")[1]}var $_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z_(n,t){var i=n.x,l=n.y,u=t.devicePixelRatio||1;return{x:Fs(i*u)/u||0,y:Fs(l*u)/u||0}}function If(n){var t,i=n.popper,l=n.popperRect,u=n.placement,h=n.variation,g=n.offsets,m=n.position,E=n.gpuAcceleration,x=n.adaptive,_=n.roundOffsets,C=n.isFixed,I=g.x,O=I===void 0?0:I,L=g.y,D=L===void 0?0:L,z=typeof _=="function"?_({x:O,y:D}):{x:O,y:D};O=z.x,D=z.y;var ne=g.hasOwnProperty("x"),Q=g.hasOwnProperty("y"),U=tn,J=en,xe=window;if(x){var Y=Li(i),P="clientHeight",Z="clientWidth";if(Y===wn(i)&&(Y=Pr(i),or(Y).position!=="static"&&m==="absolute"&&(P="scrollHeight",Z="scrollWidth")),Y=Y,u===en||(u===tn||u===En)&&h===ks){J=xn;var V=C&&Y===xe&&xe.visualViewport?xe.visualViewport.height:Y[P];D-=V-l.height,D*=E?1:-1}if(u===tn||(u===en||u===xn)&&h===ks){U=En;var me=C&&Y===xe&&xe.visualViewport?xe.visualViewport.width:Y[Z];O-=me-l.width,O*=E?1:-1}}var ye=Object.assign({position:m},x&&$_),de=_===!0?z_({x:O,y:D},wn(i)):{x:O,y:D};if(O=de.x,D=de.y,E){var ve;return Object.assign({},ye,(ve={},ve[J]=Q?"0":"",ve[U]=ne?"0":"",ve.transform=(xe.devicePixelRatio||1)<=1?"translate("+O+"px, "+D+"px)":"translate3d("+O+"px, "+D+"px, 0)",ve))}return Object.assign({},ye,(t={},t[J]=Q?D+"px":"",t[U]=ne?O+"px":"",t.transform="",t))}function Y_(n){var t=n.state,i=n.options,l=i.gpuAcceleration,u=l===void 0?!0:l,h=i.adaptive,g=h===void 0?!0:h,m=i.roundOffsets,E=m===void 0?!0:m,x={placement:qn(t.placement),variation:Vs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:u,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,If(Object.assign({},x,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:g,roundOffsets:E})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,If(Object.assign({},x,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:E})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Tc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Y_,data:{}};var eo={passive:!0};function K_(n){var t=n.state,i=n.instance,l=n.options,u=l.scroll,h=u===void 0?!0:u,g=l.resize,m=g===void 0?!0:g,E=wn(t.elements.popper),x=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&x.forEach(function(_){_.addEventListener("scroll",i.update,eo)}),m&&E.addEventListener("resize",i.update,eo),function(){h&&x.forEach(function(_){_.removeEventListener("scroll",i.update,eo)}),m&&E.removeEventListener("resize",i.update,eo)}}const vc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:K_,data:{}};var q_={left:"right",right:"left",bottom:"top",top:"bottom"};function xo(n){return n.replace(/left|right|bottom|top/g,function(t){return q_[t]})}var Z_={start:"end",end:"start"};function Of(n){return n.replace(/start|end/g,function(t){return Z_[t]})}function Sc(n){var t=wn(n),i=t.pageXOffset,l=t.pageYOffset;return{scrollLeft:i,scrollTop:l}}function Ic(n){return Us(Pr(n)).left+Sc(n).scrollLeft}function Q_(n,t){var i=wn(n),l=Pr(n),u=i.visualViewport,h=l.clientWidth,g=l.clientHeight,m=0,E=0;if(u){h=u.width,g=u.height;var x=C0();(x||!x&&t==="fixed")&&(m=u.offsetLeft,E=u.offsetTop)}return{width:h,height:g,x:m+Ic(n),y:E}}function J_(n){var t,i=Pr(n),l=Sc(n),u=(t=n.ownerDocument)==null?void 0:t.body,h=ts(i.scrollWidth,i.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),g=ts(i.scrollHeight,i.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),m=-l.scrollLeft+Ic(n),E=-l.scrollTop;return or(u||i).direction==="rtl"&&(m+=ts(i.clientWidth,u?u.clientWidth:0)-h),{width:h,height:g,x:m,y:E}}function Oc(n){var t=or(n),i=t.overflow,l=t.overflowX,u=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+u+l)}function O0(n){return["html","body","#document"].indexOf(Jn(n))>=0?n.ownerDocument.body:In(n)&&Oc(n)?n:O0(ia(n))}function _i(n,t){var i;t===void 0&&(t=[]);var l=O0(n),u=l===((i=n.ownerDocument)==null?void 0:i.body),h=wn(l),g=u?[h].concat(h.visualViewport||[],Oc(l)?l:[]):l,m=t.concat(g);return u?m:m.concat(_i(ia(g)))}function kl(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function eA(n,t){var i=Us(n,!1,t==="fixed");return i.top=i.top+n.clientTop,i.left=i.left+n.clientLeft,i.bottom=i.top+n.clientHeight,i.right=i.left+n.clientWidth,i.width=n.clientWidth,i.height=n.clientHeight,i.x=i.left,i.y=i.top,i}function Nf(n,t,i){return t===wc?kl(Q_(n,i)):os(t)?eA(t,i):kl(J_(Pr(n)))}function tA(n){var t=_i(ia(n)),i=["absolute","fixed"].indexOf(or(n).position)>=0,l=i&&In(n)?Li(n):n;return os(l)?t.filter(function(u){return os(u)&&y0(u,l)&&Jn(u)!=="body"}):[]}function nA(n,t,i,l){var u=t==="clippingParents"?tA(n):[].concat(t),h=[].concat(u,[i]),g=h[0],m=h.reduce(function(E,x){var _=Nf(n,x,l);return E.top=ts(_.top,E.top),E.right=No(_.right,E.right),E.bottom=No(_.bottom,E.bottom),E.left=ts(_.left,E.left),E},Nf(n,g,l));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function N0(n){var t=n.reference,i=n.element,l=n.placement,u=l?qn(l):null,h=l?Vs(l):null,g=t.x+t.width/2-i.width/2,m=t.y+t.height/2-i.height/2,E;switch(u){case en:E={x:g,y:t.y-i.height};break;case xn:E={x:g,y:t.y+t.height};break;case En:E={x:t.x+t.width,y:m};break;case tn:E={x:t.x-i.width,y:m};break;default:E={x:t.x,y:t.y}}var x=u?yc(u):null;if(x!=null){var _=x==="y"?"height":"width";switch(h){case is:E[x]=E[x]-(t[_]/2-i[_]/2);break;case ks:E[x]=E[x]+(t[_]/2-i[_]/2);break}}return E}function Hs(n,t){t===void 0&&(t={});var i=t,l=i.placement,u=l===void 0?n.placement:l,h=i.strategy,g=h===void 0?n.strategy:h,m=i.boundary,E=m===void 0?f0:m,x=i.rootBoundary,_=x===void 0?wc:x,C=i.elementContext,I=C===void 0?Cs:C,O=i.altBoundary,L=O===void 0?!1:O,D=i.padding,z=D===void 0?0:D,ne=v0(typeof z!="number"?z:S0(z,zs)),Q=I===Cs?h0:Cs,U=n.rects.popper,J=n.elements[L?Q:I],xe=nA(os(J)?J:J.contextElement||Pr(n.elements.popper),E,_,g),Y=Us(n.elements.reference),P=N0({reference:Y,element:U,strategy:"absolute",placement:u}),Z=kl(Object.assign({},U,P)),V=I===Cs?Z:Y,me={top:xe.top-V.top+ne.top,bottom:V.bottom-xe.bottom+ne.bottom,left:xe.left-V.left+ne.left,right:V.right-xe.right+ne.right},ye=n.modifiersData.offset;if(I===Cs&&ye){var de=ye[u];Object.keys(me).forEach(function(ve){var qe=[En,xn].indexOf(ve)>=0?1:-1,X=[en,xn].indexOf(ve)>=0?"y":"x";me[ve]+=de[X]*qe})}return me}function rA(n,t){t===void 0&&(t={});var i=t,l=i.placement,u=i.boundary,h=i.rootBoundary,g=i.padding,m=i.flipVariations,E=i.allowedAutoPlacements,x=E===void 0?_c:E,_=Vs(l),C=_?m?Pl:Pl.filter(function(L){return Vs(L)===_}):zs,I=C.filter(function(L){return x.indexOf(L)>=0});I.length===0&&(I=C);var O=I.reduce(function(L,D){return L[D]=Hs(n,{placement:D,boundary:u,rootBoundary:h,padding:g})[qn(D)],L},{});return Object.keys(O).sort(function(L,D){return O[L]-O[D]})}function sA(n){if(qn(n)===sa)return[];var t=xo(n);return[Of(n),t,Of(t)]}function iA(n){var t=n.state,i=n.options,l=n.name;if(!t.modifiersData[l]._skip){for(var u=i.mainAxis,h=u===void 0?!0:u,g=i.altAxis,m=g===void 0?!0:g,E=i.fallbackPlacements,x=i.padding,_=i.boundary,C=i.rootBoundary,I=i.altBoundary,O=i.flipVariations,L=O===void 0?!0:O,D=i.allowedAutoPlacements,z=t.options.placement,ne=qn(z),Q=ne===z,U=E||(Q||!L?[xo(z)]:sA(z)),J=[z].concat(U).reduce(function(ot,Wt){return ot.concat(qn(Wt)===sa?rA(t,{placement:Wt,boundary:_,rootBoundary:C,padding:x,flipVariations:L,allowedAutoPlacements:D}):Wt)},[]),xe=t.rects.reference,Y=t.rects.popper,P=new Map,Z=!0,V=J[0],me=0;me<J.length;me++){var ye=J[me],de=qn(ye),ve=Vs(ye)===is,qe=[en,xn].indexOf(de)>=0,X=qe?"width":"height",Ie=Hs(t,{placement:ye,boundary:_,rootBoundary:C,altBoundary:I,padding:x}),le=qe?ve?En:tn:ve?xn:en;xe[X]>Y[X]&&(le=xo(le));var He=xo(le),dt=[];if(h&&dt.push(Ie[de]<=0),m&&dt.push(Ie[le]<=0,Ie[He]<=0),dt.every(function(ot){return ot})){V=ye,Z=!1;break}P.set(ye,dt)}if(Z)for(var Tt=L?3:1,Ht=function(Wt){var we=J.find(function(K){var ce=P.get(K);if(ce)return ce.slice(0,Wt).every(function(pe){return pe})});if(we)return V=we,"break"},ze=Tt;ze>0;ze--){var Lt=Ht(ze);if(Lt==="break")break}t.placement!==V&&(t.modifiersData[l]._skip=!0,t.placement=V,t.reset=!0)}}const R0={name:"flip",enabled:!0,phase:"main",fn:iA,requiresIfExists:["offset"],data:{_skip:!1}};function Rf(n,t,i){return i===void 0&&(i={x:0,y:0}),{top:n.top-t.height-i.y,right:n.right-t.width+i.x,bottom:n.bottom-t.height+i.y,left:n.left-t.width-i.x}}function Df(n){return[en,En,xn,tn].some(function(t){return n[t]>=0})}function oA(n){var t=n.state,i=n.name,l=t.rects.reference,u=t.rects.popper,h=t.modifiersData.preventOverflow,g=Hs(t,{elementContext:"reference"}),m=Hs(t,{altBoundary:!0}),E=Rf(g,l),x=Rf(m,u,h),_=Df(E),C=Df(x);t.modifiersData[i]={referenceClippingOffsets:E,popperEscapeOffsets:x,isReferenceHidden:_,hasPopperEscaped:C},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":C})}const D0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oA};function aA(n,t,i){var l=qn(n),u=[tn,en].indexOf(l)>=0?-1:1,h=typeof i=="function"?i(Object.assign({},t,{placement:n})):i,g=h[0],m=h[1];return g=g||0,m=(m||0)*u,[tn,En].indexOf(l)>=0?{x:m,y:g}:{x:g,y:m}}function lA(n){var t=n.state,i=n.options,l=n.name,u=i.offset,h=u===void 0?[0,0]:u,g=_c.reduce(function(_,C){return _[C]=aA(C,t.rects,h),_},{}),m=g[t.placement],E=m.x,x=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=E,t.modifiersData.popperOffsets.y+=x),t.modifiersData[l]=g}const M0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lA};function cA(n){var t=n.state,i=n.name;t.modifiersData[i]=N0({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Nc={name:"popperOffsets",enabled:!0,phase:"read",fn:cA,data:{}};function uA(n){return n==="x"?"y":"x"}function fA(n){var t=n.state,i=n.options,l=n.name,u=i.mainAxis,h=u===void 0?!0:u,g=i.altAxis,m=g===void 0?!1:g,E=i.boundary,x=i.rootBoundary,_=i.altBoundary,C=i.padding,I=i.tether,O=I===void 0?!0:I,L=i.tetherOffset,D=L===void 0?0:L,z=Hs(t,{boundary:E,rootBoundary:x,padding:C,altBoundary:_}),ne=qn(t.placement),Q=Vs(t.placement),U=!Q,J=yc(ne),xe=uA(J),Y=t.modifiersData.popperOffsets,P=t.rects.reference,Z=t.rects.popper,V=typeof D=="function"?D(Object.assign({},t.rects,{placement:t.placement})):D,me=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),ye=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(Y){if(h){var ve,qe=J==="y"?en:tn,X=J==="y"?xn:En,Ie=J==="y"?"height":"width",le=Y[J],He=le+z[qe],dt=le-z[X],Tt=O?-Z[Ie]/2:0,Ht=Q===is?P[Ie]:Z[Ie],ze=Q===is?-Z[Ie]:-P[Ie],Lt=t.elements.arrow,ot=O&&Lt?Cc(Lt):{width:0,height:0},Wt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:T0(),we=Wt[qe],K=Wt[X],ce=wi(0,P[Ie],ot[Ie]),pe=U?P[Ie]/2-Tt-ce-we-me.mainAxis:Ht-ce-we-me.mainAxis,Ce=U?-P[Ie]/2+Tt+ce+K+me.mainAxis:ze+ce+K+me.mainAxis,Pe=t.elements.arrow&&Li(t.elements.arrow),st=Pe?J==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,T=(ve=ye==null?void 0:ye[J])!=null?ve:0,N=le+pe-T-st,F=le+Ce-T,ee=wi(O?No(He,N):He,le,O?ts(dt,F):dt);Y[J]=ee,de[J]=ee-le}if(m){var j,q=J==="x"?en:tn,te=J==="x"?xn:En,fe=Y[xe],H=xe==="y"?"height":"width",ie=fe+z[q],Ee=fe-z[te],_e=[en,tn].indexOf(ne)!==-1,Te=(j=ye==null?void 0:ye[xe])!=null?j:0,Se=_e?ie:fe-P[H]-Z[H]-Te+me.altAxis,ke=_e?fe+P[H]+Z[H]-Te-me.altAxis:Ee,$e=O&&_e?W_(Se,fe,ke):wi(O?Se:ie,fe,O?ke:Ee);Y[xe]=$e,de[xe]=$e-fe}t.modifiersData[l]=de}}const L0={name:"preventOverflow",enabled:!0,phase:"main",fn:fA,requiresIfExists:["offset"]};function hA(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function dA(n){return n===wn(n)||!In(n)?Sc(n):hA(n)}function gA(n){var t=n.getBoundingClientRect(),i=Fs(t.width)/n.offsetWidth||1,l=Fs(t.height)/n.offsetHeight||1;return i!==1||l!==1}function pA(n,t,i){i===void 0&&(i=!1);var l=In(t),u=In(t)&&gA(t),h=Pr(t),g=Us(n,u,i),m={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(l||!l&&!i)&&((Jn(t)!=="body"||Oc(h))&&(m=dA(t)),In(t)?(E=Us(t,!0),E.x+=t.clientLeft,E.y+=t.clientTop):h&&(E.x=Ic(h))),{x:g.left+m.scrollLeft-E.x,y:g.top+m.scrollTop-E.y,width:g.width,height:g.height}}function mA(n){var t=new Map,i=new Set,l=[];n.forEach(function(h){t.set(h.name,h)});function u(h){i.add(h.name);var g=[].concat(h.requires||[],h.requiresIfExists||[]);g.forEach(function(m){if(!i.has(m)){var E=t.get(m);E&&u(E)}}),l.push(h)}return n.forEach(function(h){i.has(h.name)||u(h)}),l}function xA(n){var t=mA(n);return b0.reduce(function(i,l){return i.concat(t.filter(function(u){return u.phase===l}))},[])}function EA(n){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(n())})})),t}}function wA(n){var t=n.reduce(function(i,l){var u=i[l.name];return i[l.name]=u?Object.assign({},u,l,{options:Object.assign({},u.options,l.options),data:Object.assign({},u.data,l.data)}):l,i},{});return Object.keys(t).map(function(i){return t[i]})}var Mf={placement:"bottom",modifiers:[],strategy:"absolute"};function Lf(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return!t.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function oa(n){n===void 0&&(n={});var t=n,i=t.defaultModifiers,l=i===void 0?[]:i,u=t.defaultOptions,h=u===void 0?Mf:u;return function(m,E,x){x===void 0&&(x=h);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mf,h),modifiersData:{},elements:{reference:m,popper:E},attributes:{},styles:{}},C=[],I=!1,O={state:_,setOptions:function(ne){var Q=typeof ne=="function"?ne(_.options):ne;D(),_.options=Object.assign({},h,_.options,Q),_.scrollParents={reference:os(m)?_i(m):m.contextElement?_i(m.contextElement):[],popper:_i(E)};var U=xA(wA([].concat(l,_.options.modifiers)));return _.orderedModifiers=U.filter(function(J){return J.enabled}),L(),O.update()},forceUpdate:function(){if(!I){var ne=_.elements,Q=ne.reference,U=ne.popper;if(Lf(Q,U)){_.rects={reference:pA(Q,Li(U),_.options.strategy==="fixed"),popper:Cc(U)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(me){return _.modifiersData[me.name]=Object.assign({},me.data)});for(var J=0;J<_.orderedModifiers.length;J++){if(_.reset===!0){_.reset=!1,J=-1;continue}var xe=_.orderedModifiers[J],Y=xe.fn,P=xe.options,Z=P===void 0?{}:P,V=xe.name;typeof Y=="function"&&(_=Y({state:_,options:Z,name:V,instance:O})||_)}}}},update:EA(function(){return new Promise(function(z){O.forceUpdate(),z(_)})}),destroy:function(){D(),I=!0}};if(!Lf(m,E))return O;O.setOptions(x).then(function(z){!I&&x.onFirstUpdate&&x.onFirstUpdate(z)});function L(){_.orderedModifiers.forEach(function(z){var ne=z.name,Q=z.options,U=Q===void 0?{}:Q,J=z.effect;if(typeof J=="function"){var xe=J({state:_,name:ne,instance:O,options:U}),Y=function(){};C.push(xe||Y)}})}function D(){C.forEach(function(z){return z()}),C=[]}return O}}var _A=oa(),AA=[vc,Nc,Tc,bc],bA=oa({defaultModifiers:AA}),CA=[vc,Nc,Tc,bc,M0,R0,L0,I0,D0],Rc=oa({defaultModifiers:CA});const P0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:E0,afterRead:p0,afterWrite:A0,applyStyles:bc,arrow:I0,auto:sa,basePlacements:zs,beforeMain:m0,beforeRead:d0,beforeWrite:w0,bottom:xn,clippingParents:f0,computeStyles:Tc,createPopper:Rc,createPopperBase:_A,createPopperLite:bA,detectOverflow:Hs,end:ks,eventListeners:vc,flip:R0,hide:D0,left:tn,main:x0,modifierPhases:b0,offset:M0,placements:_c,popper:Cs,popperGenerator:oa,popperOffsets:Nc,preventOverflow:L0,read:g0,reference:h0,right:En,start:is,top:en,variationPlacements:Pl,viewport:wc,write:_0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const _r=new Map,$a={set(n,t,i){_r.has(n)||_r.set(n,new Map);const l=_r.get(n);if(!l.has(t)&&l.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`);return}l.set(t,i)},get(n,t){return _r.has(n)&&_r.get(n).get(t)||null},remove(n,t){if(!_r.has(n))return;const i=_r.get(n);i.delete(t),i.size===0&&_r.delete(n)}},yA=1e6,TA=1e3,Fl="transitionend",B0=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,i)=>`#${CSS.escape(i)}`)),n),vA=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),SA=n=>{do n+=Math.floor(Math.random()*yA);while(document.getElementById(n));return n},IA=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(n);const l=Number.parseFloat(t),u=Number.parseFloat(i);return!l&&!u?0:(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*TA)},k0=n=>{n.dispatchEvent(new Event(Fl))},sr=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Nr=n=>sr(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(B0(n)):null,Ys=n=>{if(!sr(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",i=n.closest("details:not([open])");if(!i)return t;if(i!==n){const l=n.closest("summary");if(l&&l.parentNode!==i||l===null)return!1}return t},Rr=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",F0=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?F0(n.parentNode):null},Ro=()=>{},Pi=n=>{n.offsetHeight},U0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,za=[],OA=n=>{document.readyState==="loading"?(za.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of za)t()}),za.push(n)):n()},On=()=>document.documentElement.dir==="rtl",Rn=n=>{OA(()=>{const t=U0();if(t){const i=n.NAME,l=t.fn[i];t.fn[i]=n.jQueryInterface,t.fn[i].Constructor=n,t.fn[i].noConflict=()=>(t.fn[i]=l,n.jQueryInterface)}})},cn=(n,t=[],i=n)=>typeof n=="function"?n(...t):i,V0=(n,t,i=!0)=>{if(!i){cn(n);return}const u=IA(t)+5;let h=!1;const g=({target:m})=>{m===t&&(h=!0,t.removeEventListener(Fl,g),cn(n))};t.addEventListener(Fl,g),setTimeout(()=>{h||k0(t)},u)},Dc=(n,t,i,l)=>{const u=n.length;let h=n.indexOf(t);return h===-1?!i&&l?n[u-1]:n[0]:(h+=i?1:-1,l&&(h=(h+u)%u),n[Math.max(0,Math.min(h,u-1))])},NA=/[^.]*(?=\..*)\.|.*/,RA=/\..*/,DA=/::\d+$/,Ya={};let Pf=1;const H0={mouseenter:"mouseover",mouseleave:"mouseout"},MA=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function W0(n,t){return t&&`${t}::${Pf++}`||n.uidEvent||Pf++}function G0(n){const t=W0(n);return n.uidEvent=t,Ya[t]=Ya[t]||{},Ya[t]}function LA(n,t){return function i(l){return Mc(l,{delegateTarget:n}),i.oneOff&&oe.off(n,l.type,t),t.apply(n,[l])}}function PA(n,t,i){return function l(u){const h=n.querySelectorAll(t);for(let{target:g}=u;g&&g!==this;g=g.parentNode)for(const m of h)if(m===g)return Mc(u,{delegateTarget:g}),l.oneOff&&oe.off(n,u.type,t,i),i.apply(g,[u])}}function X0(n,t,i=null){return Object.values(n).find(l=>l.callable===t&&l.delegationSelector===i)}function j0(n,t,i){const l=typeof t=="string",u=l?i:t||i;let h=$0(n);return MA.has(h)||(h=n),[l,u,h]}function Bf(n,t,i,l,u){if(typeof t!="string"||!n)return;let[h,g,m]=j0(t,i,l);t in H0&&(g=(L=>function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return L.call(this,D)})(g));const E=G0(n),x=E[m]||(E[m]={}),_=X0(x,g,h?i:null);if(_){_.oneOff=_.oneOff&&u;return}const C=W0(g,t.replace(NA,"")),I=h?PA(n,i,g):LA(n,g);I.delegationSelector=h?i:null,I.callable=g,I.oneOff=u,I.uidEvent=C,x[C]=I,n.addEventListener(m,I,h)}function Ul(n,t,i,l,u){const h=X0(t[i],l,u);h&&(n.removeEventListener(i,h,!!u),delete t[i][h.uidEvent])}function BA(n,t,i,l){const u=t[i]||{};for(const[h,g]of Object.entries(u))h.includes(l)&&Ul(n,t,i,g.callable,g.delegationSelector)}function $0(n){return n=n.replace(RA,""),H0[n]||n}const oe={on(n,t,i,l){Bf(n,t,i,l,!1)},one(n,t,i,l){Bf(n,t,i,l,!0)},off(n,t,i,l){if(typeof t!="string"||!n)return;const[u,h,g]=j0(t,i,l),m=g!==t,E=G0(n),x=E[g]||{},_=t.startsWith(".");if(typeof h<"u"){if(!Object.keys(x).length)return;Ul(n,E,g,h,u?i:null);return}if(_)for(const C of Object.keys(E))BA(n,E,C,t.slice(1));for(const[C,I]of Object.entries(x)){const O=C.replace(DA,"");(!m||t.includes(O))&&Ul(n,E,g,I.callable,I.delegationSelector)}},trigger(n,t,i){if(typeof t!="string"||!n)return null;const l=U0(),u=$0(t),h=t!==u;let g=null,m=!0,E=!0,x=!1;h&&l&&(g=l.Event(t,i),l(n).trigger(g),m=!g.isPropagationStopped(),E=!g.isImmediatePropagationStopped(),x=g.isDefaultPrevented());const _=Mc(new Event(t,{bubbles:m,cancelable:!0}),i);return x&&_.preventDefault(),E&&n.dispatchEvent(_),_.defaultPrevented&&g&&g.preventDefault(),_}};function Mc(n,t={}){for(const[i,l]of Object.entries(t))try{n[i]=l}catch{Object.defineProperty(n,i,{configurable:!0,get(){return l}})}return n}function kf(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Ka(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ir={setDataAttribute(n,t,i){n.setAttribute(`data-bs-${Ka(t)}`,i)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${Ka(t)}`)},getDataAttributes(n){if(!n)return{};const t={},i=Object.keys(n.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of i){let u=l.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),t[u]=kf(n.dataset[l])}return t},getDataAttribute(n,t){return kf(n.getAttribute(`data-bs-${Ka(t)}`))}};class Bi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){const l=sr(i)?ir.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...sr(i)?ir.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const[l,u]of Object.entries(i)){const h=t[l],g=sr(h)?"element":vA(h);if(!new RegExp(u).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${g}" but expected type "${u}".`)}}}const kA="5.3.3";class Un extends Bi{constructor(t,i){super(),t=Nr(t),t&&(this._element=t,this._config=this._getConfig(i),$a.set(this._element,this.constructor.DATA_KEY,this))}dispose(){$a.remove(this._element,this.constructor.DATA_KEY),oe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,i,l=!0){V0(t,i,l)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return $a.get(Nr(t),this.DATA_KEY)}static getOrCreateInstance(t,i={}){return this.getInstance(t)||new this(t,typeof i=="object"?i:null)}static get VERSION(){return kA}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const qa=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let i=n.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?i.trim():null}return t?t.split(",").map(i=>B0(i)).join(","):null},Re={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(i=>i.matches(t))},parents(n,t){const i=[];let l=n.parentNode.closest(t);for(;l;)i.push(l),l=l.parentNode.closest(t);return i},prev(n,t){let i=n.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(n,t){let i=n.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(i=>!Rr(i)&&Ys(i))},getSelectorFromElement(n){const t=qa(n);return t&&Re.findOne(t)?t:null},getElementFromSelector(n){const t=qa(n);return t?Re.findOne(t):null},getMultipleElementsFromSelector(n){const t=qa(n);return t?Re.find(t):[]}},aa=(n,t="hide")=>{const i=`click.dismiss${n.EVENT_KEY}`,l=n.NAME;oe.on(document,i,`[data-bs-dismiss="${l}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Rr(this))return;const h=Re.getElementFromSelector(this)||this.closest(`.${l}`);n.getOrCreateInstance(h)[t]()})},FA="alert",UA="bs.alert",z0=`.${UA}`,VA=`close${z0}`,HA=`closed${z0}`,WA="fade",GA="show";class la extends Un{static get NAME(){return FA}close(){if(oe.trigger(this._element,VA).defaultPrevented)return;this._element.classList.remove(GA);const i=this._element.classList.contains(WA);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),oe.trigger(this._element,HA),this.dispose()}static jQueryInterface(t){return this.each(function(){const i=la.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}aa(la,"close");Rn(la);const XA="button",jA="bs.button",$A=`.${jA}`,zA=".data-api",YA="active",Ff='[data-bs-toggle="button"]',KA=`click${$A}${zA}`;class ca extends Un{static get NAME(){return XA}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(YA))}static jQueryInterface(t){return this.each(function(){const i=ca.getOrCreateInstance(this);t==="toggle"&&i[t]()})}}oe.on(document,KA,Ff,n=>{n.preventDefault();const t=n.target.closest(Ff);ca.getOrCreateInstance(t).toggle()});Rn(ca);const qA="swipe",Ks=".bs.swipe",ZA=`touchstart${Ks}`,QA=`touchmove${Ks}`,JA=`touchend${Ks}`,eb=`pointerdown${Ks}`,tb=`pointerup${Ks}`,nb="touch",rb="pen",sb="pointer-event",ib=40,ob={endCallback:null,leftCallback:null,rightCallback:null},ab={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Do extends Bi{constructor(t,i){super(),this._element=t,!(!t||!Do.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ob}static get DefaultType(){return ab}static get NAME(){return qA}dispose(){oe.off(this._element,Ks)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),cn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=ib)return;const i=t/this._deltaX;this._deltaX=0,i&&cn(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(oe.on(this._element,eb,t=>this._start(t)),oe.on(this._element,tb,t=>this._end(t)),this._element.classList.add(sb)):(oe.on(this._element,ZA,t=>this._start(t)),oe.on(this._element,QA,t=>this._move(t)),oe.on(this._element,JA,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===rb||t.pointerType===nb)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const lb="carousel",cb="bs.carousel",Br=`.${cb}`,Y0=".data-api",ub="ArrowLeft",fb="ArrowRight",hb=500,ci="next",_s="prev",ys="left",Eo="right",db=`slide${Br}`,Za=`slid${Br}`,gb=`keydown${Br}`,pb=`mouseenter${Br}`,mb=`mouseleave${Br}`,xb=`dragstart${Br}`,Eb=`load${Br}${Y0}`,wb=`click${Br}${Y0}`,K0="carousel",to="active",_b="slide",Ab="carousel-item-end",bb="carousel-item-start",Cb="carousel-item-next",yb="carousel-item-prev",q0=".active",Z0=".carousel-item",Tb=q0+Z0,vb=".carousel-item img",Sb=".carousel-indicators",Ib="[data-bs-slide], [data-bs-slide-to]",Ob='[data-bs-ride="carousel"]',Nb={[ub]:Eo,[fb]:ys},Rb={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Db={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ki extends Un{constructor(t,i){super(t,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Re.findOne(Sb,this._element),this._addEventListeners(),this._config.ride===K0&&this.cycle()}static get Default(){return Rb}static get DefaultType(){return Db}static get NAME(){return lb}next(){this._slide(ci)}nextWhenVisible(){!document.hidden&&Ys(this._element)&&this.next()}prev(){this._slide(_s)}pause(){this._isSliding&&k0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){oe.one(this._element,Za,()=>this.cycle());return}this.cycle()}}to(t){const i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding){oe.one(this._element,Za,()=>this.to(t));return}const l=this._getItemIndex(this._getActive());if(l===t)return;const u=t>l?ci:_s;this._slide(u,i[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&oe.on(this._element,gb,t=>this._keydown(t)),this._config.pause==="hover"&&(oe.on(this._element,pb,()=>this.pause()),oe.on(this._element,mb,()=>this._maybeEnableCycle())),this._config.touch&&Do.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of Re.find(vb,this._element))oe.on(l,xb,u=>u.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(ys)),rightCallback:()=>this._slide(this._directionToOrder(Eo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),hb+this._config.interval))}};this._swipeHelper=new Do(this._element,i)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const i=Nb[t.key];i&&(t.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const i=Re.findOne(q0,this._indicatorsElement);i.classList.remove(to),i.removeAttribute("aria-current");const l=Re.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);l&&(l.classList.add(to),l.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const i=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;const l=this._getActive(),u=t===ci,h=i||Dc(this._getItems(),l,u,this._config.wrap);if(h===l)return;const g=this._getItemIndex(h),m=O=>oe.trigger(this._element,O,{relatedTarget:h,direction:this._orderToDirection(t),from:this._getItemIndex(l),to:g});if(m(db).defaultPrevented||!l||!h)return;const x=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=h;const _=u?bb:Ab,C=u?Cb:yb;h.classList.add(C),Pi(h),l.classList.add(_),h.classList.add(_);const I=()=>{h.classList.remove(_,C),h.classList.add(to),l.classList.remove(to,C,_),this._isSliding=!1,m(Za)};this._queueCallback(I,l,this._isAnimated()),x&&this.cycle()}_isAnimated(){return this._element.classList.contains(_b)}_getActive(){return Re.findOne(Tb,this._element)}_getItems(){return Re.find(Z0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return On()?t===ys?_s:ci:t===ys?ci:_s}_orderToDirection(t){return On()?t===_s?ys:Eo:t===_s?Eo:ys}static jQueryInterface(t){return this.each(function(){const i=ki.getOrCreateInstance(this,t);if(typeof t=="number"){i.to(t);return}if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}oe.on(document,wb,Ib,function(n){const t=Re.getElementFromSelector(this);if(!t||!t.classList.contains(K0))return;n.preventDefault();const i=ki.getOrCreateInstance(t),l=this.getAttribute("data-bs-slide-to");if(l){i.to(l),i._maybeEnableCycle();return}if(ir.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});oe.on(window,Eb,()=>{const n=Re.find(Ob);for(const t of n)ki.getOrCreateInstance(t)});Rn(ki);const Mb="collapse",Lb="bs.collapse",Fi=`.${Lb}`,Pb=".data-api",Bb=`show${Fi}`,kb=`shown${Fi}`,Fb=`hide${Fi}`,Ub=`hidden${Fi}`,Vb=`click${Fi}${Pb}`,Qa="show",Ss="collapse",no="collapsing",Hb="collapsed",Wb=`:scope .${Ss} .${Ss}`,Gb="collapse-horizontal",Xb="width",jb="height",$b=".collapse.show, .collapse.collapsing",Vl='[data-bs-toggle="collapse"]',zb={parent:null,toggle:!0},Yb={parent:"(null|element)",toggle:"boolean"};class Ii extends Un{constructor(t,i){super(t,i),this._isTransitioning=!1,this._triggerArray=[];const l=Re.find(Vl);for(const u of l){const h=Re.getSelectorFromElement(u),g=Re.find(h).filter(m=>m===this._element);h!==null&&g.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zb}static get DefaultType(){return Yb}static get NAME(){return Mb}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren($b).filter(m=>m!==this._element).map(m=>Ii.getOrCreateInstance(m,{toggle:!1}))),t.length&&t[0]._isTransitioning||oe.trigger(this._element,Bb).defaultPrevented)return;for(const m of t)m.hide();const l=this._getDimension();this._element.classList.remove(Ss),this._element.classList.add(no),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(no),this._element.classList.add(Ss,Qa),this._element.style[l]="",oe.trigger(this._element,kb)},g=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[l]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||oe.trigger(this._element,Fb).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Pi(this._element),this._element.classList.add(no),this._element.classList.remove(Ss,Qa);for(const u of this._triggerArray){const h=Re.getElementFromSelector(u);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(no),this._element.classList.add(Ss),oe.trigger(this._element,Ub)};this._element.style[i]="",this._queueCallback(l,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Qa)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Nr(t.parent),t}_getDimension(){return this._element.classList.contains(Gb)?Xb:jb}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Vl);for(const i of t){const l=Re.getElementFromSelector(i);l&&this._addAriaAndCollapsedClass([i],this._isShown(l))}}_getFirstLevelChildren(t){const i=Re.find(Wb,this._config.parent);return Re.find(t,this._config.parent).filter(l=>!i.includes(l))}_addAriaAndCollapsedClass(t,i){if(t.length)for(const l of t)l.classList.toggle(Hb,!i),l.setAttribute("aria-expanded",i)}static jQueryInterface(t){const i={};return typeof t=="string"&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){const l=Ii.getOrCreateInstance(this,i);if(typeof t=="string"){if(typeof l[t]>"u")throw new TypeError(`No method named "${t}"`);l[t]()}})}}oe.on(document,Vb,Vl,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of Re.getMultipleElementsFromSelector(this))Ii.getOrCreateInstance(t,{toggle:!1}).toggle()});Rn(Ii);const Uf="dropdown",Kb="bs.dropdown",ls=`.${Kb}`,Lc=".data-api",qb="Escape",Vf="Tab",Zb="ArrowUp",Hf="ArrowDown",Qb=2,Jb=`hide${ls}`,e3=`hidden${ls}`,t3=`show${ls}`,n3=`shown${ls}`,Q0=`click${ls}${Lc}`,J0=`keydown${ls}${Lc}`,r3=`keyup${ls}${Lc}`,Ts="show",s3="dropup",i3="dropend",o3="dropstart",a3="dropup-center",l3="dropdown-center",Kr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',c3=`${Kr}.${Ts}`,wo=".dropdown-menu",u3=".navbar",f3=".navbar-nav",h3=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",d3=On()?"top-end":"top-start",g3=On()?"top-start":"top-end",p3=On()?"bottom-end":"bottom-start",m3=On()?"bottom-start":"bottom-end",x3=On()?"left-start":"right-start",E3=On()?"right-start":"left-start",w3="top",_3="bottom",A3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},b3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zn extends Un{constructor(t,i){super(t,i),this._popper=null,this._parent=this._element.parentNode,this._menu=Re.next(this._element,wo)[0]||Re.prev(this._element,wo)[0]||Re.findOne(wo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return A3}static get DefaultType(){return b3}static get NAME(){return Uf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rr(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!oe.trigger(this._element,t3,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(f3))for(const l of[].concat(...document.body.children))oe.on(l,"mouseover",Ro);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ts),this._element.classList.add(Ts),oe.trigger(this._element,n3,t)}}hide(){if(Rr(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!oe.trigger(this._element,Jb,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))oe.off(l,"mouseover",Ro);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ts),this._element.classList.remove(Ts),this._element.setAttribute("aria-expanded","false"),ir.removeDataAttribute(this._menu,"popper"),oe.trigger(this._element,e3,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!sr(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Uf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof P0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:sr(this._config.reference)?t=Nr(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const i=this._getPopperConfig();this._popper=Rc(t,this._menu,i)}_isShown(){return this._menu.classList.contains(Ts)}_getPlacement(){const t=this._parent;if(t.classList.contains(i3))return x3;if(t.classList.contains(o3))return E3;if(t.classList.contains(a3))return w3;if(t.classList.contains(l3))return _3;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(s3)?i?g3:d3:i?m3:p3}_detectNavbar(){return this._element.closest(u3)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ir.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...cn(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:i}){const l=Re.find(h3,this._menu).filter(u=>Ys(u));l.length&&Dc(l,i,t===Hf,!l.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){const i=Zn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}static clearMenus(t){if(t.button===Qb||t.type==="keyup"&&t.key!==Vf)return;const i=Re.find(c3);for(const l of i){const u=Zn.getInstance(l);if(!u||u._config.autoClose===!1)continue;const h=t.composedPath(),g=h.includes(u._menu);if(h.includes(u._element)||u._config.autoClose==="inside"&&!g||u._config.autoClose==="outside"&&g||u._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Vf||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const m={relatedTarget:u._element};t.type==="click"&&(m.clickEvent=t),u._completeHide(m)}}static dataApiKeydownHandler(t){const i=/input|textarea/i.test(t.target.tagName),l=t.key===qb,u=[Zb,Hf].includes(t.key);if(!u&&!l||i&&!l)return;t.preventDefault();const h=this.matches(Kr)?this:Re.prev(this,Kr)[0]||Re.next(this,Kr)[0]||Re.findOne(Kr,t.delegateTarget.parentNode),g=Zn.getOrCreateInstance(h);if(u){t.stopPropagation(),g.show(),g._selectMenuItem(t);return}g._isShown()&&(t.stopPropagation(),g.hide(),h.focus())}}oe.on(document,J0,Kr,Zn.dataApiKeydownHandler);oe.on(document,J0,wo,Zn.dataApiKeydownHandler);oe.on(document,Q0,Zn.clearMenus);oe.on(document,r3,Zn.clearMenus);oe.on(document,Q0,Kr,function(n){n.preventDefault(),Zn.getOrCreateInstance(this).toggle()});Rn(Zn);const ed="backdrop",C3="fade",Wf="show",Gf=`mousedown.bs.${ed}`,y3={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},T3={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class td extends Bi{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return y3}static get DefaultType(){return T3}static get NAME(){return ed}show(t){if(!this._config.isVisible){cn(t);return}this._append();const i=this._getElement();this._config.isAnimated&&Pi(i),i.classList.add(Wf),this._emulateAnimation(()=>{cn(t)})}hide(t){if(!this._config.isVisible){cn(t);return}this._getElement().classList.remove(Wf),this._emulateAnimation(()=>{this.dispose(),cn(t)})}dispose(){this._isAppended&&(oe.off(this._element,Gf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(C3),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Nr(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),oe.on(t,Gf,()=>{cn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){V0(t,this._getElement(),this._config.isAnimated)}}const v3="focustrap",S3="bs.focustrap",Mo=`.${S3}`,I3=`focusin${Mo}`,O3=`keydown.tab${Mo}`,N3="Tab",R3="forward",Xf="backward",D3={autofocus:!0,trapElement:null},M3={autofocus:"boolean",trapElement:"element"};class nd extends Bi{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return D3}static get DefaultType(){return M3}static get NAME(){return v3}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),oe.off(document,Mo),oe.on(document,I3,t=>this._handleFocusin(t)),oe.on(document,O3,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,oe.off(document,Mo))}_handleFocusin(t){const{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;const l=Re.focusableChildren(i);l.length===0?i.focus():this._lastTabNavDirection===Xf?l[l.length-1].focus():l[0].focus()}_handleKeydown(t){t.key===N3&&(this._lastTabNavDirection=t.shiftKey?Xf:R3)}}const jf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$f=".sticky-top",ro="padding-right",zf="margin-right";class Hl{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ro,i=>i+t),this._setElementAttributes(jf,ro,i=>i+t),this._setElementAttributes($f,zf,i=>i-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ro),this._resetElementAttributes(jf,ro),this._resetElementAttributes($f,zf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,l){const u=this.getWidth(),h=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+u)return;this._saveInitialAttribute(g,i);const m=window.getComputedStyle(g).getPropertyValue(i);g.style.setProperty(i,`${l(Number.parseFloat(m))}px`)};this._applyManipulationCallback(t,h)}_saveInitialAttribute(t,i){const l=t.style.getPropertyValue(i);l&&ir.setDataAttribute(t,i,l)}_resetElementAttributes(t,i){const l=u=>{const h=ir.getDataAttribute(u,i);if(h===null){u.style.removeProperty(i);return}ir.removeDataAttribute(u,i),u.style.setProperty(i,h)};this._applyManipulationCallback(t,l)}_applyManipulationCallback(t,i){if(sr(t)){i(t);return}for(const l of Re.find(t,this._element))i(l)}}const L3="modal",P3="bs.modal",Nn=`.${P3}`,B3=".data-api",k3="Escape",F3=`hide${Nn}`,U3=`hidePrevented${Nn}`,rd=`hidden${Nn}`,sd=`show${Nn}`,V3=`shown${Nn}`,H3=`resize${Nn}`,W3=`click.dismiss${Nn}`,G3=`mousedown.dismiss${Nn}`,X3=`keydown.dismiss${Nn}`,j3=`click${Nn}${B3}`,Yf="modal-open",$3="fade",Kf="show",Ja="modal-static",z3=".modal.show",Y3=".modal-dialog",K3=".modal-body",q3='[data-bs-toggle="modal"]',Z3={backdrop:!0,focus:!0,keyboard:!0},Q3={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ws extends Un{constructor(t,i){super(t,i),this._dialog=Re.findOne(Y3,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hl,this._addEventListeners()}static get Default(){return Z3}static get DefaultType(){return Q3}static get NAME(){return L3}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||oe.trigger(this._element,sd,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||oe.trigger(this._element,F3).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Kf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){oe.off(window,Nn),oe.off(this._dialog,Nn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new td({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=Re.findOne(K3,this._dialog);i&&(i.scrollTop=0),Pi(this._element),this._element.classList.add(Kf);const l=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,oe.trigger(this._element,V3,{relatedTarget:t})};this._queueCallback(l,this._dialog,this._isAnimated())}_addEventListeners(){oe.on(this._element,X3,t=>{if(t.key===k3){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),oe.on(window,H3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),oe.on(this._element,G3,t=>{oe.one(this._element,W3,i=>{if(!(this._element!==t.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yf),this._resetAdjustments(),this._scrollBar.reset(),oe.trigger(this._element,rd)})}_isAnimated(){return this._element.classList.contains($3)}_triggerBackdropTransition(){if(oe.trigger(this._element,U3).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(Ja)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Ja),this._queueCallback(()=>{this._element.classList.remove(Ja),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),l=i>0;if(l&&!t){const u=On()?"paddingLeft":"paddingRight";this._element.style[u]=`${i}px`}if(!l&&t){const u=On()?"paddingRight":"paddingLeft";this._element.style[u]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){const l=Ws.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof l[t]>"u")throw new TypeError(`No method named "${t}"`);l[t](i)}})}}oe.on(document,j3,q3,function(n){const t=Re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),oe.one(t,sd,u=>{u.defaultPrevented||oe.one(t,rd,()=>{Ys(this)&&this.focus()})});const i=Re.findOne(z3);i&&Ws.getInstance(i).hide(),Ws.getOrCreateInstance(t).toggle(this)});aa(Ws);Rn(Ws);const J3="offcanvas",eC="bs.offcanvas",lr=`.${eC}`,id=".data-api",tC=`load${lr}${id}`,nC="Escape",qf="show",Zf="showing",Qf="hiding",rC="offcanvas-backdrop",od=".offcanvas.show",sC=`show${lr}`,iC=`shown${lr}`,oC=`hide${lr}`,Jf=`hidePrevented${lr}`,ad=`hidden${lr}`,aC=`resize${lr}`,lC=`click${lr}${id}`,cC=`keydown.dismiss${lr}`,uC='[data-bs-toggle="offcanvas"]',fC={backdrop:!0,keyboard:!0,scroll:!1},hC={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dr extends Un{constructor(t,i){super(t,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fC}static get DefaultType(){return hC}static get NAME(){return J3}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||oe.trigger(this._element,sC,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Zf);const l=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(qf),this._element.classList.remove(Zf),oe.trigger(this._element,iC,{relatedTarget:t})};this._queueCallback(l,this._element,!0)}hide(){if(!this._isShown||oe.trigger(this._element,oC).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Qf),this._backdrop.hide();const i=()=>{this._element.classList.remove(qf,Qf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hl().reset(),oe.trigger(this._element,ad)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){oe.trigger(this._element,Jf);return}this.hide()},i=!!this._config.backdrop;return new td({className:rC,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new nd({trapElement:this._element})}_addEventListeners(){oe.on(this._element,cC,t=>{if(t.key===nC){if(this._config.keyboard){this.hide();return}oe.trigger(this._element,Jf)}})}static jQueryInterface(t){return this.each(function(){const i=Dr.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}oe.on(document,lC,uC,function(n){const t=Re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Rr(this))return;oe.one(t,ad,()=>{Ys(this)&&this.focus()});const i=Re.findOne(od);i&&i!==t&&Dr.getInstance(i).hide(),Dr.getOrCreateInstance(t).toggle(this)});oe.on(window,tC,()=>{for(const n of Re.find(od))Dr.getOrCreateInstance(n).show()});oe.on(window,aC,()=>{for(const n of Re.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Dr.getOrCreateInstance(n).hide()});aa(Dr);Rn(Dr);const dC=/^aria-[\w-]*$/i,ld={"*":["class","dir","id","lang","role",dC],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,mC=(n,t)=>{const i=n.nodeName.toLowerCase();return t.includes(i)?gC.has(i)?!!pC.test(n.nodeValue):!0:t.filter(l=>l instanceof RegExp).some(l=>l.test(i))};function xC(n,t,i){if(!n.length)return n;if(i&&typeof i=="function")return i(n);const u=new window.DOMParser().parseFromString(n,"text/html"),h=[].concat(...u.body.querySelectorAll("*"));for(const g of h){const m=g.nodeName.toLowerCase();if(!Object.keys(t).includes(m)){g.remove();continue}const E=[].concat(...g.attributes),x=[].concat(t["*"]||[],t[m]||[]);for(const _ of E)mC(_,x)||g.removeAttribute(_.nodeName)}return u.body.innerHTML}const EC="TemplateFactory",wC={allowList:ld,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},_C={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},AC={entry:"(string|element|function|null)",selector:"(string|element)"};class bC extends Bi{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return wC}static get DefaultType(){return _C}static get NAME(){return EC}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[u,h]of Object.entries(this._config.content))this._setContent(t,h,u);const i=t.children[0],l=this._resolvePossibleFunction(this._config.extraClass);return l&&i.classList.add(...l.split(" ")),i}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[i,l]of Object.entries(t))super._typeCheckConfig({selector:i,entry:l},AC)}_setContent(t,i,l){const u=Re.findOne(l,t);if(u){if(i=this._resolvePossibleFunction(i),!i){u.remove();return}if(sr(i)){this._putElementInTemplate(Nr(i),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(i);return}u.textContent=i}}_maybeSanitize(t){return this._config.sanitize?xC(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return cn(t,[this])}_putElementInTemplate(t,i){if(this._config.html){i.innerHTML="",i.append(t);return}i.textContent=t.textContent}}const CC="tooltip",yC=new Set(["sanitize","allowList","sanitizeFn"]),el="fade",TC="modal",so="show",vC=".tooltip-inner",e1=`.${TC}`,t1="hide.bs.modal",ui="hover",tl="focus",SC="click",IC="manual",OC="hide",NC="hidden",RC="show",DC="shown",MC="inserted",LC="click",PC="focusin",BC="focusout",kC="mouseenter",FC="mouseleave",UC={AUTO:"auto",TOP:"top",RIGHT:On()?"left":"right",BOTTOM:"bottom",LEFT:On()?"right":"left"},VC={allowList:ld,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},HC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qs extends Un{constructor(t,i){if(typeof P0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return VC}static get DefaultType(){return HC}static get NAME(){return CC}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),oe.off(this._element.closest(e1),t1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=oe.trigger(this._element,this.constructor.eventName(RC)),l=(F0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!l)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(u),oe.trigger(this._element,this.constructor.eventName(MC))),this._popper=this._createPopper(u),u.classList.add(so),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))oe.on(m,"mouseover",Ro);const g=()=>{oe.trigger(this._element,this.constructor.eventName(DC)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||oe.trigger(this._element,this.constructor.eventName(OC)).defaultPrevented)return;if(this._getTipElement().classList.remove(so),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))oe.off(u,"mouseover",Ro);this._activeTrigger[SC]=!1,this._activeTrigger[tl]=!1,this._activeTrigger[ui]=!1,this._isHovered=null;const l=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),oe.trigger(this._element,this.constructor.eventName(NC)))};this._queueCallback(l,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const i=this._getTemplateFactory(t).toHtml();if(!i)return null;i.classList.remove(el,so),i.classList.add(`bs-${this.constructor.NAME}-auto`);const l=SA(this.constructor.NAME).toString();return i.setAttribute("id",l),this._isAnimated()&&i.classList.add(el),i}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new bC({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[vC]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(el)}_isShown(){return this.tip&&this.tip.classList.contains(so)}_createPopper(t){const i=cn(this._config.placement,[this,t,this._element]),l=UC[i.toUpperCase()];return Rc(this._element,t,this._getPopperConfig(l))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_resolvePossibleFunction(t){return cn(t,[this._element])}_getPopperConfig(t){const i={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:l=>{this._getTipElement().setAttribute("data-popper-placement",l.state.placement)}}]};return{...i,...cn(this._config.popperConfig,[i])}}_setListeners(){const t=this._config.trigger.split(" ");for(const i of t)if(i==="click")oe.on(this._element,this.constructor.eventName(LC),this._config.selector,l=>{this._initializeOnDelegatedTarget(l).toggle()});else if(i!==IC){const l=i===ui?this.constructor.eventName(kC):this.constructor.eventName(PC),u=i===ui?this.constructor.eventName(FC):this.constructor.eventName(BC);oe.on(this._element,l,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusin"?tl:ui]=!0,g._enter()}),oe.on(this._element,u,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusout"?tl:ui]=g._element.contains(h.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},oe.on(this._element.closest(e1),t1,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,i){clearTimeout(this._timeout),this._timeout=setTimeout(t,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const i=ir.getDataAttributes(this._element);for(const l of Object.keys(i))yC.has(l)&&delete i[l];return t={...i,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Nr(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[i,l]of Object.entries(this._config))this.constructor.Default[i]!==l&&(t[i]=l);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const i=qs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Rn(qs);const WC="popover",GC=".popover-header",XC=".popover-body",jC={...qs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$C={...qs.DefaultType,content:"(null|string|element|function)"};class Pc extends qs{static get Default(){return jC}static get DefaultType(){return $C}static get NAME(){return WC}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[GC]:this._getTitle(),[XC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const i=Pc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Rn(Pc);const zC="scrollspy",YC="bs.scrollspy",Bc=`.${YC}`,KC=".data-api",qC=`activate${Bc}`,n1=`click${Bc}`,ZC=`load${Bc}${KC}`,QC="dropdown-item",As="active",JC='[data-bs-spy="scroll"]',nl="[href]",ey=".nav, .list-group",r1=".nav-link",ty=".nav-item",ny=".list-group-item",ry=`${r1}, ${ty} > ${r1}, ${ny}`,sy=".dropdown",iy=".dropdown-toggle",oy={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ay={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ua extends Un{constructor(t,i){super(t,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oy}static get DefaultType(){return ay}static get NAME(){return zC}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Nr(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(i=>Number.parseFloat(i))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(oe.off(this._config.target,n1),oe.on(this._config.target,n1,nl,t=>{const i=this._observableSections.get(t.target.hash);if(i){t.preventDefault();const l=this._rootElement||window,u=i.offsetTop-this._element.offsetTop;if(l.scrollTo){l.scrollTo({top:u,behavior:"smooth"});return}l.scrollTop=u}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),t)}_observerCallback(t){const i=g=>this._targetLinks.get(`#${g.target.id}`),l=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(i(g))},u=(this._rootElement||document.documentElement).scrollTop,h=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const g of t){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(g));continue}const m=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&m){if(l(g),!u)return;continue}!h&&!m&&l(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Re.find(nl,this._config.target);for(const i of t){if(!i.hash||Rr(i))continue;const l=Re.findOne(decodeURI(i.hash),this._element);Ys(l)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,l))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(As),this._activateParents(t),oe.trigger(this._element,qC,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(QC)){Re.findOne(iy,t.closest(sy)).classList.add(As);return}for(const i of Re.parents(t,ey))for(const l of Re.prev(i,ry))l.classList.add(As)}_clearActiveClass(t){t.classList.remove(As);const i=Re.find(`${nl}.${As}`,t);for(const l of i)l.classList.remove(As)}static jQueryInterface(t){return this.each(function(){const i=ua.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}oe.on(window,ZC,()=>{for(const n of Re.find(JC))ua.getOrCreateInstance(n)});Rn(ua);const ly="tab",cy="bs.tab",cs=`.${cy}`,uy=`hide${cs}`,fy=`hidden${cs}`,hy=`show${cs}`,dy=`shown${cs}`,gy=`click${cs}`,py=`keydown${cs}`,my=`load${cs}`,xy="ArrowLeft",s1="ArrowRight",Ey="ArrowUp",i1="ArrowDown",rl="Home",o1="End",qr="active",a1="fade",sl="show",wy="dropdown",cd=".dropdown-toggle",_y=".dropdown-menu",il=`:not(${cd})`,Ay='.list-group, .nav, [role="tablist"]',by=".nav-item, .list-group-item",Cy=`.nav-link${il}, .list-group-item${il}, [role="tab"]${il}`,ud='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ol=`${Cy}, ${ud}`,yy=`.${qr}[data-bs-toggle="tab"], .${qr}[data-bs-toggle="pill"], .${qr}[data-bs-toggle="list"]`;class Gs extends Un{constructor(t){super(t),this._parent=this._element.closest(Ay),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),oe.on(this._element,py,i=>this._keydown(i)))}static get NAME(){return ly}show(){const t=this._element;if(this._elemIsActive(t))return;const i=this._getActiveElem(),l=i?oe.trigger(i,uy,{relatedTarget:t}):null;oe.trigger(t,hy,{relatedTarget:i}).defaultPrevented||l&&l.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,i){if(!t)return;t.classList.add(qr),this._activate(Re.getElementFromSelector(t));const l=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(sl);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),oe.trigger(t,dy,{relatedTarget:i})};this._queueCallback(l,t,t.classList.contains(a1))}_deactivate(t,i){if(!t)return;t.classList.remove(qr),t.blur(),this._deactivate(Re.getElementFromSelector(t));const l=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(sl);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),oe.trigger(t,fy,{relatedTarget:i})};this._queueCallback(l,t,t.classList.contains(a1))}_keydown(t){if(![xy,s1,Ey,i1,rl,o1].includes(t.key))return;t.stopPropagation(),t.preventDefault();const i=this._getChildren().filter(u=>!Rr(u));let l;if([rl,o1].includes(t.key))l=i[t.key===rl?0:i.length-1];else{const u=[s1,i1].includes(t.key);l=Dc(i,t.target,u,!0)}l&&(l.focus({preventScroll:!0}),Gs.getOrCreateInstance(l).show())}_getChildren(){return Re.find(ol,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,i){this._setAttributeIfNotExists(t,"role","tablist");for(const l of i)this._setInitialAttributesOnChild(l)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const i=this._elemIsActive(t),l=this._getOuterElement(t);t.setAttribute("aria-selected",i),l!==t&&this._setAttributeIfNotExists(l,"role","presentation"),i||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const i=Re.getElementFromSelector(t);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,i){const l=this._getOuterElement(t);if(!l.classList.contains(wy))return;const u=(h,g)=>{const m=Re.findOne(h,l);m&&m.classList.toggle(g,i)};u(cd,qr),u(_y,sl),l.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(t,i,l){t.hasAttribute(i)||t.setAttribute(i,l)}_elemIsActive(t){return t.classList.contains(qr)}_getInnerElement(t){return t.matches(ol)?t:Re.findOne(ol,t)}_getOuterElement(t){return t.closest(by)||t}static jQueryInterface(t){return this.each(function(){const i=Gs.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}oe.on(document,gy,ud,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Rr(this)&&Gs.getOrCreateInstance(this).show()});oe.on(window,my,()=>{for(const n of Re.find(yy))Gs.getOrCreateInstance(n)});Rn(Gs);const Ty="toast",vy="bs.toast",kr=`.${vy}`,Sy=`mouseover${kr}`,Iy=`mouseout${kr}`,Oy=`focusin${kr}`,Ny=`focusout${kr}`,Ry=`hide${kr}`,Dy=`hidden${kr}`,My=`show${kr}`,Ly=`shown${kr}`,Py="fade",l1="hide",io="show",oo="showing",By={animation:"boolean",autohide:"boolean",delay:"number"},ky={animation:!0,autohide:!0,delay:5e3};class fa extends Un{constructor(t,i){super(t,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ky}static get DefaultType(){return By}static get NAME(){return Ty}show(){if(oe.trigger(this._element,My).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Py);const i=()=>{this._element.classList.remove(oo),oe.trigger(this._element,Ly),this._maybeScheduleHide()};this._element.classList.remove(l1),Pi(this._element),this._element.classList.add(io,oo),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||oe.trigger(this._element,Ry).defaultPrevented)return;const i=()=>{this._element.classList.add(l1),this._element.classList.remove(oo,io),oe.trigger(this._element,Dy)};this._element.classList.add(oo),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(io),super.dispose()}isShown(){return this._element.classList.contains(io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,i){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const l=t.relatedTarget;this._element===l||this._element.contains(l)||this._maybeScheduleHide()}_setListeners(){oe.on(this._element,Sy,t=>this._onInteraction(t,!0)),oe.on(this._element,Iy,t=>this._onInteraction(t,!1)),oe.on(this._element,Oy,t=>this._onInteraction(t,!0)),oe.on(this._element,Ny,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const i=fa.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}aa(fa);Rn(fa);/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2024 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const n=()=>localStorage.getItem("theme"),t=h=>localStorage.setItem("theme",h),i=()=>{const h=n();return h||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},l=h=>{h==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",h)};l(i());const u=(h,g=!1)=>{const m=document.querySelector("#bd-theme");if(!m)return;const E=document.querySelector("#bd-theme-text"),x=document.querySelector(".theme-icon-active use"),_=document.querySelector(`[data-bs-theme-value="${h}"]`),C=_.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(O=>{O.classList.remove("active"),O.setAttribute("aria-pressed","false")}),_.classList.add("active"),_.setAttribute("aria-pressed","true"),x.setAttribute("href",C);const I=`${E.textContent} (${_.dataset.bsThemeValue})`;m.setAttribute("aria-label",I),g&&m.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const h=n();h!=="light"&&h!=="dark"&&l(i())}),window.addEventListener("DOMContentLoaded",()=>{u(i()),document.querySelectorAll("[data-bs-theme-value]").forEach(h=>{h.addEventListener("click",()=>{const g=h.getAttribute("data-bs-theme-value");t(g),l(g),u(g,!0)})})})})();const Fy=w2(),kc=g2(vE);kc.use(k_);kc.use(Fy);kc.mount("#app");
