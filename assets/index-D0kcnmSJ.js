function Dg(t,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in t)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(t,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tc(t,n){const s=new Set(t.split(","));return a=>s.has(a)}const yt={},Ks=[],On=()=>{},Mg=()=>!1,da=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sc=t=>t.startsWith("onUpdate:"),Gt=Object.assign,Ic=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},Lg=Object.prototype.hasOwnProperty,rt=(t,n)=>Lg.call(t,n),Me=Array.isArray,qs=t=>ro(t)==="[object Map]",hi=t=>ro(t)==="[object Set]",Uu=t=>ro(t)==="[object Date]",$e=t=>typeof t=="function",Bt=t=>typeof t=="string",sr=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object",J1=t=>(xt(t)||$e(t))&&$e(t.then)&&$e(t.catch),eh=Object.prototype.toString,ro=t=>eh.call(t),Pg=t=>ro(t).slice(8,-1),th=t=>ro(t)==="[object Object]",Oc=t=>Bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ki=Tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ga=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},Bg=/-(\w)/g,Wn=ga(t=>t.replace(Bg,(n,s)=>s?s.toUpperCase():"")),kg=/\B([A-Z])/g,ys=ga(t=>t.replace(kg,"-$1").toLowerCase()),pa=ga(t=>t.charAt(0).toUpperCase()+t.slice(1)),fl=ga(t=>t?`on${pa(t)}`:""),Hr=(t,n)=>!Object.is(t,n),Uo=(t,...n)=>{for(let s=0;s<t.length;s++)t[s](...n)},nh=(t,n,s,a=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:a,value:s})},qo=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Fg=t=>{const n=Bt(t)?Number(t):NaN;return isNaN(n)?t:n};let Vu;const rh=()=>Vu||(Vu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Js(t){if(Me(t)){const n={};for(let s=0;s<t.length;s++){const a=t[s],u=Bt(a)?Wg(a):Js(a);if(u)for(const f in u)n[f]=u[f]}return n}else if(Bt(t)||xt(t))return t}const Ug=/;(?![^(]*\))/g,Vg=/:([^]+)/,Hg=/\/\*[^]*?\*\//g;function Wg(t){const n={};return t.replace(Hg,"").split(Ug).forEach(s=>{if(s){const a=s.split(Vg);a.length>1&&(n[a[0].trim()]=a[1].trim())}}),n}function lt(t){let n="";if(Bt(t))n=t;else if(Me(t))for(let s=0;s<t.length;s++){const a=lt(t[s]);a&&(n+=a+" ")}else if(xt(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}const $g="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gg=Tc($g);function sh(t){return!!t||t===""}function Xg(t,n){if(t.length!==n.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=so(t[a],n[a]);return s}function so(t,n){if(t===n)return!0;let s=Uu(t),a=Uu(n);if(s||a)return s&&a?t.getTime()===n.getTime():!1;if(s=sr(t),a=sr(n),s||a)return t===n;if(s=Me(t),a=Me(n),s||a)return s&&a?Xg(t,n):!1;if(s=xt(t),a=xt(n),s||a){if(!s||!a)return!1;const u=Object.keys(t).length,f=Object.keys(n).length;if(u!==f)return!1;for(const d in t){const m=t.hasOwnProperty(d),_=n.hasOwnProperty(d);if(m&&!_||!m&&_||!so(t[d],n[d]))return!1}}return String(t)===String(n)}function Nc(t,n){return t.findIndex(s=>so(s,n))}const ih=t=>!!(t&&t.__v_isRef===!0),Ke=t=>Bt(t)?t:t==null?"":Me(t)||xt(t)&&(t.toString===eh||!$e(t.toString))?ih(t)?Ke(t.value):JSON.stringify(t,oh,2):String(t),oh=(t,n)=>ih(n)?oh(t,n.value):qs(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[a,u],f)=>(s[hl(a,f)+" =>"]=u,s),{})}:hi(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>hl(s))}:sr(n)?hl(n):xt(n)&&!Me(n)&&!th(n)?String(n):n,hl=(t,n="")=>{var s;return sr(t)?`Symbol(${(s=t.description)!=null?s:n})`:t};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class ah{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_n,!n&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=_n;try{return _n=this,n()}finally{_n=s}}}on(){_n=this}off(){_n=this.parent}stop(n){if(this._active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function lh(t){return new ah(t)}function jg(t,n=_n){n&&n.active&&n.effects.push(t)}function ch(){return _n}function zg(t){_n&&_n.cleanups.push(t)}let hs;class Rc{constructor(n,s,a,u){this.fn=n,this.trigger=s,this.scheduler=a,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,jg(this,u)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,jr();for(let n=0;n<this._depsLength;n++){const s=this.deps[n];if(s.computed&&(Yg(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),zr()}return this._dirtyLevel>=4}set dirty(n){this._dirtyLevel=n?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=Ur,s=hs;try{return Ur=!0,hs=this,this._runnings++,Hu(this),this.fn()}finally{Wu(this),this._runnings--,hs=s,Ur=n}}stop(){this.active&&(Hu(this),Wu(this),this.onStop&&this.onStop(),this.active=!1)}}function Yg(t){return t.value}function Hu(t){t._trackId++,t._depsLength=0}function Wu(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)uh(t.deps[n],t);t.deps.length=t._depsLength}}function uh(t,n){const s=t.get(n);s!==void 0&&n._trackId!==s&&(t.delete(n),t.size===0&&t.cleanup())}let Ur=!0,Gl=0;const fh=[];function jr(){fh.push(Ur),Ur=!1}function zr(){const t=fh.pop();Ur=t===void 0?!0:t}function Dc(){Gl++}function Mc(){for(Gl--;!Gl&&Xl.length;)Xl.shift()()}function hh(t,n,s){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const a=t.deps[t._depsLength];a!==n?(a&&uh(a,t),t.deps[t._depsLength++]=n):t._depsLength++}}const Xl=[];function dh(t,n,s){Dc();for(const a of t.keys()){let u;a._dirtyLevel<n&&(u??(u=t.get(a)===a._trackId))&&(a._shouldSchedule||(a._shouldSchedule=a._dirtyLevel===0),a._dirtyLevel=n),a._shouldSchedule&&(u??(u=t.get(a)===a._trackId))&&(a.trigger(),(!a._runnings||a.allowRecurse)&&a._dirtyLevel!==2&&(a._shouldSchedule=!1,a.scheduler&&Xl.push(a.scheduler)))}Mc()}const gh=(t,n)=>{const s=new Map;return s.cleanup=t,s.computed=n,s},Zo=new WeakMap,ds=Symbol(""),jl=Symbol("");function pn(t,n,s){if(Ur&&hs){let a=Zo.get(t);a||Zo.set(t,a=new Map);let u=a.get(s);u||a.set(s,u=gh(()=>a.delete(s))),hh(hs,u)}}function fr(t,n,s,a,u,f){const d=Zo.get(t);if(!d)return;let m=[];if(n==="clear")m=[...d.values()];else if(s==="length"&&Me(t)){const _=Number(a);d.forEach((x,E)=>{(E==="length"||!sr(E)&&E>=_)&&m.push(x)})}else switch(s!==void 0&&m.push(d.get(s)),n){case"add":Me(t)?Oc(s)&&m.push(d.get("length")):(m.push(d.get(ds)),qs(t)&&m.push(d.get(jl)));break;case"delete":Me(t)||(m.push(d.get(ds)),qs(t)&&m.push(d.get(jl)));break;case"set":qs(t)&&m.push(d.get(ds));break}Dc();for(const _ of m)_&&dh(_,4);Mc()}function Kg(t,n){const s=Zo.get(t);return s&&s.get(n)}const qg=Tc("__proto__,__v_isRef,__isVue"),ph=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sr)),$u=Zg();function Zg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const a=st(this);for(let f=0,d=this.length;f<d;f++)pn(a,"get",f+"");const u=a[n](...s);return u===-1||u===!1?a[n](...s.map(st)):u}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){jr(),Dc();const a=st(this)[n].apply(this,s);return Mc(),zr(),a}}),t}function Qg(t){sr(t)||(t=String(t));const n=st(this);return pn(n,"has",t),n.hasOwnProperty(t)}class mh{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,a){const u=this._isReadonly,f=this._isShallow;if(s==="__v_isReactive")return!u;if(s==="__v_isReadonly")return u;if(s==="__v_isShallow")return f;if(s==="__v_raw")return a===(u?f?fp:wh:f?Eh:_h).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(a)?n:void 0;const d=Me(n);if(!u){if(d&&rt($u,s))return Reflect.get($u,s,a);if(s==="hasOwnProperty")return Qg}const m=Reflect.get(n,s,a);return(sr(s)?ph.has(s):qg(s))||(u||pn(n,"get",s),f)?m:ct(m)?d&&Oc(s)?m:m.value:xt(m)?u?Ah(m):io(m):m}}class xh extends mh{constructor(n=!1){super(!1,n)}set(n,s,a,u){let f=n[s];if(!this._isShallow){const _=_s(f);if(!ei(a)&&!_s(a)&&(f=st(f),a=st(a)),!Me(n)&&ct(f)&&!ct(a))return _?!1:(f.value=a,!0)}const d=Me(n)&&Oc(s)?Number(s)<n.length:rt(n,s),m=Reflect.set(n,s,a,u);return n===st(u)&&(d?Hr(a,f)&&fr(n,"set",s,a):fr(n,"add",s,a)),m}deleteProperty(n,s){const a=rt(n,s);n[s];const u=Reflect.deleteProperty(n,s);return u&&a&&fr(n,"delete",s,void 0),u}has(n,s){const a=Reflect.has(n,s);return(!sr(s)||!ph.has(s))&&pn(n,"has",s),a}ownKeys(n){return pn(n,"iterate",Me(n)?"length":ds),Reflect.ownKeys(n)}}class Jg extends mh{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const ep=new xh,tp=new Jg,np=new xh(!0);const Lc=t=>t,ma=t=>Reflect.getPrototypeOf(t);function vo(t,n,s=!1,a=!1){t=t.__v_raw;const u=st(t),f=st(n);s||(Hr(n,f)&&pn(u,"get",n),pn(u,"get",f));const{has:d}=ma(u),m=a?Lc:s?Fc:ji;if(d.call(u,n))return m(t.get(n));if(d.call(u,f))return m(t.get(f));t!==u&&t.get(n)}function To(t,n=!1){const s=this.__v_raw,a=st(s),u=st(t);return n||(Hr(t,u)&&pn(a,"has",t),pn(a,"has",u)),t===u?s.has(t):s.has(t)||s.has(u)}function So(t,n=!1){return t=t.__v_raw,!n&&pn(st(t),"iterate",ds),Reflect.get(t,"size",t)}function Gu(t,n=!1){!n&&!ei(t)&&!_s(t)&&(t=st(t));const s=st(this);return ma(s).has.call(s,t)||(s.add(t),fr(s,"add",t,t)),this}function Xu(t,n,s=!1){!s&&!ei(n)&&!_s(n)&&(n=st(n));const a=st(this),{has:u,get:f}=ma(a);let d=u.call(a,t);d||(t=st(t),d=u.call(a,t));const m=f.call(a,t);return a.set(t,n),d?Hr(n,m)&&fr(a,"set",t,n):fr(a,"add",t,n),this}function ju(t){const n=st(this),{has:s,get:a}=ma(n);let u=s.call(n,t);u||(t=st(t),u=s.call(n,t)),a&&a.call(n,t);const f=n.delete(t);return u&&fr(n,"delete",t,void 0),f}function zu(){const t=st(this),n=t.size!==0,s=t.clear();return n&&fr(t,"clear",void 0,void 0),s}function Io(t,n){return function(a,u){const f=this,d=f.__v_raw,m=st(d),_=n?Lc:t?Fc:ji;return!t&&pn(m,"iterate",ds),d.forEach((x,E)=>a.call(u,_(x),_(E),f))}}function Oo(t,n,s){return function(...a){const u=this.__v_raw,f=st(u),d=qs(f),m=t==="entries"||t===Symbol.iterator&&d,_=t==="keys"&&d,x=u[t](...a),E=s?Lc:n?Fc:ji;return!n&&pn(f,"iterate",_?jl:ds),{next(){const{value:b,done:v}=x.next();return v?{value:b,done:v}:{value:m?[E(b[0]),E(b[1])]:E(b),done:v}},[Symbol.iterator](){return this}}}}function Tr(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function rp(){const t={get(f){return vo(this,f)},get size(){return So(this)},has:To,add:Gu,set:Xu,delete:ju,clear:zu,forEach:Io(!1,!1)},n={get(f){return vo(this,f,!1,!0)},get size(){return So(this)},has:To,add(f){return Gu.call(this,f,!0)},set(f,d){return Xu.call(this,f,d,!0)},delete:ju,clear:zu,forEach:Io(!1,!0)},s={get(f){return vo(this,f,!0)},get size(){return So(this,!0)},has(f){return To.call(this,f,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Io(!0,!1)},a={get(f){return vo(this,f,!0,!0)},get size(){return So(this,!0)},has(f){return To.call(this,f,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Io(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=Oo(f,!1,!1),s[f]=Oo(f,!0,!1),n[f]=Oo(f,!1,!0),a[f]=Oo(f,!0,!0)}),[t,s,n,a]}const[sp,ip,op,ap]=rp();function Pc(t,n){const s=n?t?ap:op:t?ip:sp;return(a,u,f)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?a:Reflect.get(rt(s,u)&&u in a?s:a,u,f)}const lp={get:Pc(!1,!1)},cp={get:Pc(!1,!0)},up={get:Pc(!0,!1)};const _h=new WeakMap,Eh=new WeakMap,wh=new WeakMap,fp=new WeakMap;function hp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dp(t){return t.__v_skip||!Object.isExtensible(t)?0:hp(Pg(t))}function io(t){return _s(t)?t:Bc(t,!1,ep,lp,_h)}function bh(t){return Bc(t,!1,np,cp,Eh)}function Ah(t){return Bc(t,!0,tp,up,wh)}function Bc(t,n,s,a,u){if(!xt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const f=u.get(t);if(f)return f;const d=dp(t);if(d===0)return t;const m=new Proxy(t,d===2?a:s);return u.set(t,m),m}function gs(t){return _s(t)?gs(t.__v_raw):!!(t&&t.__v_isReactive)}function _s(t){return!!(t&&t.__v_isReadonly)}function ei(t){return!!(t&&t.__v_isShallow)}function yh(t){return t?!!t.__v_raw:!1}function st(t){const n=t&&t.__v_raw;return n?st(n):t}function kc(t){return Object.isExtensible(t)&&nh(t,"__v_skip",!0),t}const ji=t=>xt(t)?io(t):t,Fc=t=>xt(t)?Ah(t):t;class Ch{constructor(n,s,a,u){this.getter=n,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Rc(()=>n(this._value),()=>Vo(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=a}get value(){const n=st(this);return(!n._cacheable||n.effect.dirty)&&Hr(n._value,n._value=n.effect.run())&&Vo(n,4),vh(n),n.effect._dirtyLevel>=2&&Vo(n,2),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function gp(t,n,s=!1){let a,u;const f=$e(t);return f?(a=t,u=On):(a=t.get,u=t.set),new Ch(a,u,f||!u,s)}function vh(t){var n;Ur&&hs&&(t=st(t),hh(hs,(n=t.dep)!=null?n:t.dep=gh(()=>t.dep=void 0,t instanceof Ch?t:void 0)))}function Vo(t,n=4,s,a){t=st(t);const u=t.dep;u&&dh(u,n)}function ct(t){return!!(t&&t.__v_isRef===!0)}function Oe(t){return Th(t,!1)}function pp(t){return Th(t,!0)}function Th(t,n){return ct(t)?t:new mp(t,n)}class mp{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:st(n),this._value=s?n:ji(n)}get value(){return vh(this),this._value}set value(n){const s=this.__v_isShallow||ei(n)||_s(n);n=s?n:st(n),Hr(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=s?n:ji(n),Vo(this,4))}}function Ae(t){return ct(t)?t.value:t}const xp={get:(t,n,s)=>Ae(Reflect.get(t,n,s)),set:(t,n,s,a)=>{const u=t[n];return ct(u)&&!ct(s)?(u.value=s,!0):Reflect.set(t,n,s,a)}};function Sh(t){return gs(t)?t:new Proxy(t,xp)}function _p(t){const n=Me(t)?new Array(t.length):{};for(const s in t)n[s]=wp(t,s);return n}class Ep{constructor(n,s,a){this._object=n,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Kg(st(this._object),this._key)}}function wp(t,n,s){const a=t[n];return ct(a)?a:new Ep(t,n,s)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vr(t,n,s,a){try{return a?t(...a):t()}catch(u){xa(u,n,s)}}function Nn(t,n,s,a){if($e(t)){const u=Vr(t,n,s,a);return u&&J1(u)&&u.catch(f=>{xa(f,n,s)}),u}if(Me(t)){const u=[];for(let f=0;f<t.length;f++)u.push(Nn(t[f],n,s,a));return u}}function xa(t,n,s,a=!0){const u=n?n.vnode:null;if(n){let f=n.parent;const d=n.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;f;){const x=f.ec;if(x){for(let E=0;E<x.length;E++)if(x[E](t,d,m)===!1)return}f=f.parent}const _=n.appContext.config.errorHandler;if(_){jr(),Vr(_,null,10,[t,d,m]),zr();return}}bp(t,s,u,a)}function bp(t,n,s,a=!0){console.error(t)}let zi=!1,zl=!1;const Jt=[];let tr=0;const Zs=[];let Mr=null,ls=0;const Ih=Promise.resolve();let Uc=null;function oo(t){const n=Uc||Ih;return t?n.then(this?t.bind(this):t):n}function Ap(t){let n=tr+1,s=Jt.length;for(;n<s;){const a=n+s>>>1,u=Jt[a],f=Yi(u);f<t||f===t&&u.pre?n=a+1:s=a}return n}function Vc(t){(!Jt.length||!Jt.includes(t,zi&&t.allowRecurse?tr+1:tr))&&(t.id==null?Jt.push(t):Jt.splice(Ap(t.id),0,t),Oh())}function Oh(){!zi&&!zl&&(zl=!0,Uc=Ih.then(Rh))}function yp(t){const n=Jt.indexOf(t);n>tr&&Jt.splice(n,1)}function Cp(t){Me(t)?Zs.push(...t):(!Mr||!Mr.includes(t,t.allowRecurse?ls+1:ls))&&Zs.push(t),Oh()}function Yu(t,n,s=zi?tr+1:0){for(;s<Jt.length;s++){const a=Jt[s];if(a&&a.pre){if(t&&a.id!==t.uid)continue;Jt.splice(s,1),s--,a()}}}function Nh(t){if(Zs.length){const n=[...new Set(Zs)].sort((s,a)=>Yi(s)-Yi(a));if(Zs.length=0,Mr){Mr.push(...n);return}for(Mr=n,ls=0;ls<Mr.length;ls++){const s=Mr[ls];s.active!==!1&&s()}Mr=null,ls=0}}const Yi=t=>t.id==null?1/0:t.id,vp=(t,n)=>{const s=Yi(t)-Yi(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Rh(t){zl=!1,zi=!0,Jt.sort(vp);try{for(tr=0;tr<Jt.length;tr++){const n=Jt[tr];n&&n.active!==!1&&Vr(n,n.i,n.i?15:14)}}finally{tr=0,Jt.length=0,Nh(),zi=!1,Uc=null,(Jt.length||Zs.length)&&Rh()}}let rn=null,_a=null;function Qo(t){const n=rn;return rn=t,_a=t&&t.type.__scopeId||null,n}function Cs(t){_a=t}function vs(){_a=null}function Jo(t,n=rn,s){if(!n||t._n)return t;const a=(...u)=>{a._d&&lf(-1);const f=Qo(n);let d;try{d=t(...u)}finally{Qo(f),a._d&&lf(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function Wt(t,n){if(rn===null)return t;const s=va(rn),a=t.dirs||(t.dirs=[]);for(let u=0;u<n.length;u++){let[f,d,m,_=yt]=n[u];f&&($e(f)&&(f={mounted:f,updated:f}),f.deep&&kr(d),a.push({dir:f,instance:s,value:d,oldValue:void 0,arg:m,modifiers:_}))}return t}function ss(t,n,s,a){const u=t.dirs,f=n&&n.dirs;for(let d=0;d<u.length;d++){const m=u[d];f&&(m.oldValue=f[d].value);let _=m.dir[a];_&&(jr(),Nn(_,s,8,[t.el,m,t,n]),zr())}}const Lr=Symbol("_leaveCb"),No=Symbol("_enterCb");function Tp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ts(()=>{t.isMounted=!0}),Hc(()=>{t.isUnmounting=!0}),t}const In=[Function,Array],Dh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},Mh=t=>{const n=t.subTree;return n.component?Mh(n.component):n},Sp={name:"BaseTransition",props:Dh,setup(t,{slots:n}){const s=rd(),a=Tp();return()=>{const u=n.default&&Ph(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const v of u)if(v.type!==En){f=v;break}}const d=st(t),{mode:m}=d;if(a.isLeaving)return dl(f);const _=Ku(f);if(!_)return dl(f);let x=Yl(_,d,a,s,v=>x=v);ea(_,x);const E=s.subTree,b=E&&Ku(E);if(b&&b.type!==En&&!cs(_,b)&&Mh(s).type!==En){const v=Yl(b,d,a,s);if(ea(b,v),m==="out-in"&&_.type!==En)return a.isLeaving=!0,v.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},dl(f);m==="in-out"&&_.type!==En&&(v.delayLeave=(I,M,R)=>{const K=Lh(a,b);K[String(b.key)]=b,I[Lr]=()=>{M(),I[Lr]=void 0,delete x.delayedLeave},x.delayedLeave=R})}return f}}},Ip=Sp;function Lh(t,n){const{leavingVNodes:s}=t;let a=s.get(n.type);return a||(a=Object.create(null),s.set(n.type,a)),a}function Yl(t,n,s,a,u){const{appear:f,mode:d,persisted:m=!1,onBeforeEnter:_,onEnter:x,onAfterEnter:E,onEnterCancelled:b,onBeforeLeave:v,onLeave:I,onAfterLeave:M,onLeaveCancelled:R,onBeforeAppear:K,onAppear:J,onAfterAppear:X,onAppearCancelled:L}=n,Z=String(t.key),re=Lh(s,t),W=(F,Ee)=>{F&&Nn(F,a,9,Ee)},k=(F,Ee)=>{const _e=Ee[1];W(F,Ee),Me(F)?F.every($=>$.length<=1)&&_e():F.length<=1&&_e()},le={mode:d,persisted:m,beforeEnter(F){let Ee=_;if(!s.isMounted)if(f)Ee=K||_;else return;F[Lr]&&F[Lr](!0);const _e=re[Z];_e&&cs(t,_e)&&_e.el[Lr]&&_e.el[Lr](),W(Ee,[F])},enter(F){let Ee=x,_e=E,$=b;if(!s.isMounted)if(f)Ee=J||x,_e=X||E,$=L||b;else return;let ne=!1;const Re=F[No]=G=>{ne||(ne=!0,G?W($,[F]):W(_e,[F]),le.delayedLeave&&le.delayedLeave(),F[No]=void 0)};Ee?k(Ee,[F,Re]):Re()},leave(F,Ee){const _e=String(t.key);if(F[No]&&F[No](!0),s.isUnmounting)return Ee();W(v,[F]);let $=!1;const ne=F[Lr]=Re=>{$||($=!0,Ee(),Re?W(R,[F]):W(M,[F]),F[Lr]=void 0,re[_e]===t&&delete re[_e])};re[_e]=t,I?k(I,[F,ne]):ne()},clone(F){const Ee=Yl(F,n,s,a,u);return u&&u(Ee),Ee}};return le}function dl(t){if(Ea(t))return t=Wr(t),t.children=null,t}function Ku(t){if(!Ea(t))return t;const{shapeFlag:n,children:s}=t;if(s){if(n&16)return s[0];if(n&32&&$e(s.default))return s.default()}}function ea(t,n){t.shapeFlag&6&&t.component?ea(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Ph(t,n=!1,s){let a=[],u=0;for(let f=0;f<t.length;f++){let d=t[f];const m=s==null?d.key:String(s)+String(d.key!=null?d.key:f);d.type===nn?(d.patchFlag&128&&u++,a=a.concat(Ph(d.children,n,m))):(n||d.type!==En)&&a.push(m!=null?Wr(d,{key:m}):d)}if(u>1)for(let f=0;f<a.length;f++)a[f].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function Bh(t,n){return $e(t)?Gt({name:t.name},n,{setup:t}):t}const Ho=t=>!!t.type.__asyncLoader,Ea=t=>t.type.__isKeepAlive;function Op(t,n){kh(t,"a",n)}function Np(t,n){kh(t,"da",n)}function kh(t,n,s=$t){const a=t.__wdc||(t.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return t()});if(wa(n,a,s),s){let u=s.parent;for(;u&&u.parent;)Ea(u.parent.vnode)&&Rp(a,n,s,u),u=u.parent}}function Rp(t,n,s,a){const u=wa(n,t,a,!0);Wc(()=>{Ic(a[n],u)},s)}function wa(t,n,s=$t,a=!1){if(s){const u=s[t]||(s[t]=[]),f=n.__weh||(n.__weh=(...d)=>{jr();const m=ao(s),_=Nn(n,s,t,d);return m(),zr(),_});return a?u.unshift(f):u.push(f),f}}const mr=t=>(n,s=$t)=>{(!Ca||t==="sp")&&wa(t,(...a)=>n(...a),s)},Dp=mr("bm"),Ts=mr("m"),Mp=mr("bu"),Lp=mr("u"),Hc=mr("bum"),Wc=mr("um"),Pp=mr("sp"),Bp=mr("rtg"),kp=mr("rtc");function Fp(t,n=$t){wa("ec",t,n)}const Up="components";function Fh(t,n){return Hp(Up,t,!0,n)||t}const Vp=Symbol.for("v-ndc");function Hp(t,n,s=!0,a=!1){const u=rn||$t;if(u){const f=u.type;{const m=Mm(f,!1);if(m&&(m===n||m===Wn(n)||m===pa(Wn(n))))return f}const d=qu(u[t]||f[t],n)||qu(u.appContext[t],n);return!d&&a?f:d}}function qu(t,n){return t&&(t[n]||t[Wn(n)]||t[pa(Wn(n))])}function Uh(t,n,s,a){let u;const f=s;if(Me(t)||Bt(t)){u=new Array(t.length);for(let d=0,m=t.length;d<m;d++)u[d]=n(t[d],d,void 0,f)}else if(typeof t=="number"){u=new Array(t);for(let d=0;d<t;d++)u[d]=n(d+1,d,void 0,f)}else if(xt(t))if(t[Symbol.iterator])u=Array.from(t,(d,m)=>n(d,m,void 0,f));else{const d=Object.keys(t);u=new Array(d.length);for(let m=0,_=d.length;m<_;m++){const x=d[m];u[m]=n(t[x],x,m,f)}}else u=[];return u}const Kl=t=>t?sd(t)?va(t):Kl(t.parent):null,Fi=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kl(t.parent),$root:t=>Kl(t.root),$emit:t=>t.emit,$options:t=>$c(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Vc(t.update)}),$nextTick:t=>t.n||(t.n=oo.bind(t.proxy)),$watch:t=>hm.bind(t)}),gl=(t,n)=>t!==yt&&!t.__isScriptSetup&&rt(t,n),Wp={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:a,data:u,props:f,accessCache:d,type:m,appContext:_}=t;let x;if(n[0]!=="$"){const I=d[n];if(I!==void 0)switch(I){case 1:return a[n];case 2:return u[n];case 4:return s[n];case 3:return f[n]}else{if(gl(a,n))return d[n]=1,a[n];if(u!==yt&&rt(u,n))return d[n]=2,u[n];if((x=t.propsOptions[0])&&rt(x,n))return d[n]=3,f[n];if(s!==yt&&rt(s,n))return d[n]=4,s[n];ql&&(d[n]=0)}}const E=Fi[n];let b,v;if(E)return n==="$attrs"&&pn(t.attrs,"get",""),E(t);if((b=m.__cssModules)&&(b=b[n]))return b;if(s!==yt&&rt(s,n))return d[n]=4,s[n];if(v=_.config.globalProperties,rt(v,n))return v[n]},set({_:t},n,s){const{data:a,setupState:u,ctx:f}=t;return gl(u,n)?(u[n]=s,!0):a!==yt&&rt(a,n)?(a[n]=s,!0):rt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(f[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:a,appContext:u,propsOptions:f}},d){let m;return!!s[d]||t!==yt&&rt(t,d)||gl(n,d)||(m=f[0])&&rt(m,d)||rt(a,d)||rt(Fi,d)||rt(u.config.globalProperties,d)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:rt(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};function Zu(t){return Me(t)?t.reduce((n,s)=>(n[s]=null,n),{}):t}let ql=!0;function $p(t){const n=$c(t),s=t.proxy,a=t.ctx;ql=!1,n.beforeCreate&&Qu(n.beforeCreate,t,"bc");const{data:u,computed:f,methods:d,watch:m,provide:_,inject:x,created:E,beforeMount:b,mounted:v,beforeUpdate:I,updated:M,activated:R,deactivated:K,beforeDestroy:J,beforeUnmount:X,destroyed:L,unmounted:Z,render:re,renderTracked:W,renderTriggered:k,errorCaptured:le,serverPrefetch:F,expose:Ee,inheritAttrs:_e,components:$,directives:ne,filters:Re}=n;if(x&&Gp(x,a,null),d)for(const fe in d){const je=d[fe];$e(je)&&(a[fe]=je.bind(s))}if(u){const fe=u.call(s,s);xt(fe)&&(t.data=io(fe))}if(ql=!0,f)for(const fe in f){const je=f[fe],_t=$e(je)?je.bind(s,s):$e(je.get)?je.get.bind(s,s):On,It=!$e(je)&&$e(je.set)?je.set.bind(s):On,Xt=it({get:_t,set:It});Object.defineProperty(a,fe,{enumerable:!0,configurable:!0,get:()=>Xt.value,set:Qe=>Xt.value=Qe})}if(m)for(const fe in m)Vh(m[fe],a,s,fe);if(_){const fe=$e(_)?_.call(s):_;Reflect.ownKeys(fe).forEach(je=>{Wo(je,fe[je])})}E&&Qu(E,t,"c");function Ie(fe,je){Me(je)?je.forEach(_t=>fe(_t.bind(s))):je&&fe(je.bind(s))}if(Ie(Dp,b),Ie(Ts,v),Ie(Mp,I),Ie(Lp,M),Ie(Op,R),Ie(Np,K),Ie(Fp,le),Ie(kp,W),Ie(Bp,k),Ie(Hc,X),Ie(Wc,Z),Ie(Pp,F),Me(Ee))if(Ee.length){const fe=t.exposed||(t.exposed={});Ee.forEach(je=>{Object.defineProperty(fe,je,{get:()=>s[je],set:_t=>s[je]=_t})})}else t.exposed||(t.exposed={});re&&t.render===On&&(t.render=re),_e!=null&&(t.inheritAttrs=_e),$&&(t.components=$),ne&&(t.directives=ne)}function Gp(t,n,s=On){Me(t)&&(t=Zl(t));for(const a in t){const u=t[a];let f;xt(u)?"default"in u?f=Rn(u.from||a,u.default,!0):f=Rn(u.from||a):f=Rn(u),ct(f)?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:d=>f.value=d}):n[a]=f}}function Qu(t,n,s){Nn(Me(t)?t.map(a=>a.bind(n.proxy)):t.bind(n.proxy),n,s)}function Vh(t,n,s,a){const u=a.includes(".")?Jh(s,a):()=>s[a];if(Bt(t)){const f=n[t];$e(f)&&ps(u,f)}else if($e(t))ps(u,t.bind(s));else if(xt(t))if(Me(t))t.forEach(f=>Vh(f,n,s,a));else{const f=$e(t.handler)?t.handler.bind(s):n[t.handler];$e(f)&&ps(u,f,t)}}function $c(t){const n=t.type,{mixins:s,extends:a}=n,{mixins:u,optionsCache:f,config:{optionMergeStrategies:d}}=t.appContext,m=f.get(n);let _;return m?_=m:!u.length&&!s&&!a?_=n:(_={},u.length&&u.forEach(x=>ta(_,x,d,!0)),ta(_,n,d)),xt(n)&&f.set(n,_),_}function ta(t,n,s,a=!1){const{mixins:u,extends:f}=n;f&&ta(t,f,s,!0),u&&u.forEach(d=>ta(t,d,s,!0));for(const d in n)if(!(a&&d==="expose")){const m=Xp[d]||s&&s[d];t[d]=m?m(t[d],n[d]):n[d]}return t}const Xp={data:Ju,props:ef,emits:ef,methods:Pi,computed:Pi,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:Pi,directives:Pi,watch:zp,provide:Ju,inject:jp};function Ju(t,n){return n?t?function(){return Gt($e(t)?t.call(this,this):t,$e(n)?n.call(this,this):n)}:n:t}function jp(t,n){return Pi(Zl(t),Zl(n))}function Zl(t){if(Me(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function tn(t,n){return t?[...new Set([].concat(t,n))]:n}function Pi(t,n){return t?Gt(Object.create(null),t,n):n}function ef(t,n){return t?Me(t)&&Me(n)?[...new Set([...t,...n])]:Gt(Object.create(null),Zu(t),Zu(n??{})):n}function zp(t,n){if(!t)return n;if(!n)return t;const s=Gt(Object.create(null),t);for(const a in n)s[a]=tn(t[a],n[a]);return s}function Hh(){return{app:null,config:{isNativeTag:Mg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yp=0;function Kp(t,n){return function(a,u=null){$e(a)||(a=Gt({},a)),u!=null&&!xt(u)&&(u=null);const f=Hh(),d=new WeakSet;let m=!1;const _=f.app={_uid:Yp++,_component:a,_props:u,_container:null,_context:f,_instance:null,version:Pm,get config(){return f.config},set config(x){},use(x,...E){return d.has(x)||(x&&$e(x.install)?(d.add(x),x.install(_,...E)):$e(x)&&(d.add(x),x(_,...E))),_},mixin(x){return f.mixins.includes(x)||f.mixins.push(x),_},component(x,E){return E?(f.components[x]=E,_):f.components[x]},directive(x,E){return E?(f.directives[x]=E,_):f.directives[x]},mount(x,E,b){if(!m){const v=Tt(a,u);return v.appContext=f,b===!0?b="svg":b===!1&&(b=void 0),E&&n?n(v,x):t(v,x,b),m=!0,_._container=x,x.__vue_app__=_,va(v.component)}},unmount(){m&&(t(null,_._container),delete _._container.__vue_app__)},provide(x,E){return f.provides[x]=E,_},runWithContext(x){const E=Qs;Qs=_;try{return x()}finally{Qs=E}}};return _}}let Qs=null;function Wo(t,n){if($t){let s=$t.provides;const a=$t.parent&&$t.parent.provides;a===s&&(s=$t.provides=Object.create(a)),s[t]=n}}function Rn(t,n,s=!1){const a=$t||rn;if(a||Qs){const u=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:Qs._context.provides;if(u&&t in u)return u[t];if(arguments.length>1)return s&&$e(n)?n.call(a&&a.proxy):n}}function qp(){return!!($t||rn||Qs)}const Wh={},$h=()=>Object.create(Wh),Gh=t=>Object.getPrototypeOf(t)===Wh;function Zp(t,n,s,a=!1){const u={},f=$h();t.propsDefaults=Object.create(null),Xh(t,n,u,f);for(const d in t.propsOptions[0])d in u||(u[d]=void 0);s?t.props=a?u:bh(u):t.type.props?t.props=u:t.props=f,t.attrs=f}function Qp(t,n,s,a){const{props:u,attrs:f,vnode:{patchFlag:d}}=t,m=st(u),[_]=t.propsOptions;let x=!1;if((a||d>0)&&!(d&16)){if(d&8){const E=t.vnode.dynamicProps;for(let b=0;b<E.length;b++){let v=E[b];if(ba(t.emitsOptions,v))continue;const I=n[v];if(_)if(rt(f,v))I!==f[v]&&(f[v]=I,x=!0);else{const M=Wn(v);u[M]=Ql(_,m,M,I,t,!1)}else I!==f[v]&&(f[v]=I,x=!0)}}}else{Xh(t,n,u,f)&&(x=!0);let E;for(const b in m)(!n||!rt(n,b)&&((E=ys(b))===b||!rt(n,E)))&&(_?s&&(s[b]!==void 0||s[E]!==void 0)&&(u[b]=Ql(_,m,b,void 0,t,!0)):delete u[b]);if(f!==m)for(const b in f)(!n||!rt(n,b))&&(delete f[b],x=!0)}x&&fr(t.attrs,"set","")}function Xh(t,n,s,a){const[u,f]=t.propsOptions;let d=!1,m;if(n)for(let _ in n){if(ki(_))continue;const x=n[_];let E;u&&rt(u,E=Wn(_))?!f||!f.includes(E)?s[E]=x:(m||(m={}))[E]=x:ba(t.emitsOptions,_)||(!(_ in a)||x!==a[_])&&(a[_]=x,d=!0)}if(f){const _=st(s),x=m||yt;for(let E=0;E<f.length;E++){const b=f[E];s[b]=Ql(u,_,b,x[b],t,!rt(x,b))}}return d}function Ql(t,n,s,a,u,f){const d=t[s];if(d!=null){const m=rt(d,"default");if(m&&a===void 0){const _=d.default;if(d.type!==Function&&!d.skipFactory&&$e(_)){const{propsDefaults:x}=u;if(s in x)a=x[s];else{const E=ao(u);a=x[s]=_.call(null,n),E()}}else a=_}d[0]&&(f&&!m?a=!1:d[1]&&(a===""||a===ys(s))&&(a=!0))}return a}const Jp=new WeakMap;function jh(t,n,s=!1){const a=s?Jp:n.propsCache,u=a.get(t);if(u)return u;const f=t.props,d={},m=[];let _=!1;if(!$e(t)){const E=b=>{_=!0;const[v,I]=jh(b,n,!0);Gt(d,v),I&&m.push(...I)};!s&&n.mixins.length&&n.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!f&&!_)return xt(t)&&a.set(t,Ks),Ks;if(Me(f))for(let E=0;E<f.length;E++){const b=Wn(f[E]);tf(b)&&(d[b]=yt)}else if(f)for(const E in f){const b=Wn(E);if(tf(b)){const v=f[E],I=d[b]=Me(v)||$e(v)?{type:v}:Gt({},v);if(I){const M=sf(Boolean,I.type),R=sf(String,I.type);I[0]=M>-1,I[1]=R<0||M<R,(M>-1||rt(I,"default"))&&m.push(b)}}}const x=[d,m];return xt(t)&&a.set(t,x),x}function tf(t){return t[0]!=="$"&&!ki(t)}function nf(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function rf(t,n){return nf(t)===nf(n)}function sf(t,n){return Me(n)?n.findIndex(s=>rf(s,t)):$e(n)&&rf(n,t)?0:-1}const zh=t=>t[0]==="_"||t==="$stable",Gc=t=>Me(t)?t.map(er):[er(t)],em=(t,n,s)=>{if(n._n)return n;const a=Jo((...u)=>Gc(n(...u)),s);return a._c=!1,a},Yh=(t,n,s)=>{const a=t._ctx;for(const u in t){if(zh(u))continue;const f=t[u];if($e(f))n[u]=em(u,f,a);else if(f!=null){const d=Gc(f);n[u]=()=>d}}},Kh=(t,n)=>{const s=Gc(n);t.slots.default=()=>s},qh=(t,n,s)=>{for(const a in n)(s||a!=="_")&&(t[a]=n[a])},tm=(t,n,s)=>{const a=t.slots=$h();if(t.vnode.shapeFlag&32){const u=n._;u?(qh(a,n,s),s&&nh(a,"_",u,!0)):Yh(n,a)}else n&&Kh(t,n)},nm=(t,n,s)=>{const{vnode:a,slots:u}=t;let f=!0,d=yt;if(a.shapeFlag&32){const m=n._;m?s&&m===1?f=!1:qh(u,n,s):(f=!n.$stable,Yh(n,u)),d=n}else n&&(Kh(t,n),d={default:1});if(f)for(const m in u)!zh(m)&&d[m]==null&&delete u[m]};function Jl(t,n,s,a,u=!1){if(Me(t)){t.forEach((v,I)=>Jl(v,n&&(Me(n)?n[I]:n),s,a,u));return}if(Ho(a)&&!u)return;const f=a.shapeFlag&4?va(a.component):a.el,d=u?null:f,{i:m,r:_}=t,x=n&&n.r,E=m.refs===yt?m.refs={}:m.refs,b=m.setupState;if(x!=null&&x!==_&&(Bt(x)?(E[x]=null,rt(b,x)&&(b[x]=null)):ct(x)&&(x.value=null)),$e(_))Vr(_,m,12,[d,E]);else{const v=Bt(_),I=ct(_);if(v||I){const M=()=>{if(t.f){const R=v?rt(b,_)?b[_]:E[_]:_.value;u?Me(R)&&Ic(R,f):Me(R)?R.includes(f)||R.push(f):v?(E[_]=[f],rt(b,_)&&(b[_]=E[_])):(_.value=[f],t.k&&(E[t.k]=_.value))}else v?(E[_]=d,rt(b,_)&&(b[_]=d)):I&&(_.value=d,t.k&&(E[t.k]=d))};d?(M.id=-1,hn(M,s)):M()}}}const rm=Symbol("_vte"),sm=t=>t.__isTeleport,hn=wm;function im(t){return om(t)}function om(t,n){const s=rh();s.__VUE__=!0;const{insert:a,remove:u,patchProp:f,createElement:d,createText:m,createComment:_,setText:x,setElementText:E,parentNode:b,nextSibling:v,setScopeId:I=On,insertStaticContent:M}=t,R=(T,N,H,se=null,q=null,te=null,ie=void 0,ge=null,j=!!N.dynamicChildren)=>{if(T===N)return;T&&!cs(T,N)&&(se=ee(T),Qe(T,q,te,!0),T=null),N.patchFlag===-2&&(j=!1,N.dynamicChildren=null);const{type:ae,ref:we,shapeFlag:ye}=N;switch(ae){case Aa:K(T,N,H,se);break;case En:J(T,N,H,se);break;case Ui:T==null&&X(N,H,se,ie);break;case nn:$(T,N,H,se,q,te,ie,ge,j);break;default:ye&1?re(T,N,H,se,q,te,ie,ge,j):ye&6?ne(T,N,H,se,q,te,ie,ge,j):(ye&64||ye&128)&&ae.process(T,N,H,se,q,te,ie,ge,j,Te)}we!=null&&q&&Jl(we,T&&T.ref,te,N||T,!N)},K=(T,N,H,se)=>{if(T==null)a(N.el=m(N.children),H,se);else{const q=N.el=T.el;N.children!==T.children&&x(q,N.children)}},J=(T,N,H,se)=>{T==null?a(N.el=_(N.children||""),H,se):N.el=T.el},X=(T,N,H,se)=>{[T.el,T.anchor]=M(T.children,N,H,se,T.el,T.anchor)},L=({el:T,anchor:N},H,se)=>{let q;for(;T&&T!==N;)q=v(T),a(T,H,se),T=q;a(N,H,se)},Z=({el:T,anchor:N})=>{let H;for(;T&&T!==N;)H=v(T),u(T),T=H;u(N)},re=(T,N,H,se,q,te,ie,ge,j)=>{N.type==="svg"?ie="svg":N.type==="math"&&(ie="mathml"),T==null?W(N,H,se,q,te,ie,ge,j):F(T,N,q,te,ie,ge,j)},W=(T,N,H,se,q,te,ie,ge)=>{let j,ae;const{props:we,shapeFlag:ye,transition:Se,dirs:Ne}=T;if(j=T.el=d(T.type,te,we&&we.is,we),ye&8?E(j,T.children):ye&16&&le(T.children,j,null,se,q,pl(T,te),ie,ge),Ne&&ss(T,null,se,"created"),k(j,T,T.scopeId,ie,se),we){for(const Ze in we)Ze!=="value"&&!ki(Ze)&&f(j,Ze,null,we[Ze],te,se);"value"in we&&f(j,"value",null,we.value,te),(ae=we.onVnodeBeforeMount)&&Jn(ae,se,T)}Ne&&ss(T,null,se,"beforeMount");const We=am(q,Se);We&&Se.beforeEnter(j),a(j,N,H),((ae=we&&we.onVnodeMounted)||We||Ne)&&hn(()=>{ae&&Jn(ae,se,T),We&&Se.enter(j),Ne&&ss(T,null,se,"mounted")},q)},k=(T,N,H,se,q)=>{if(H&&I(T,H),se)for(let te=0;te<se.length;te++)I(T,se[te]);if(q){let te=q.subTree;if(N===te){const ie=q.vnode;k(T,ie,ie.scopeId,ie.slotScopeIds,q.parent)}}},le=(T,N,H,se,q,te,ie,ge,j=0)=>{for(let ae=j;ae<T.length;ae++){const we=T[ae]=ge?Pr(T[ae]):er(T[ae]);R(null,we,N,H,se,q,te,ie,ge)}},F=(T,N,H,se,q,te,ie)=>{const ge=N.el=T.el;let{patchFlag:j,dynamicChildren:ae,dirs:we}=N;j|=T.patchFlag&16;const ye=T.props||yt,Se=N.props||yt;let Ne;if(H&&is(H,!1),(Ne=Se.onVnodeBeforeUpdate)&&Jn(Ne,H,N,T),we&&ss(N,T,H,"beforeUpdate"),H&&is(H,!0),(ye.innerHTML&&Se.innerHTML==null||ye.textContent&&Se.textContent==null)&&E(ge,""),ae?Ee(T.dynamicChildren,ae,ge,H,se,pl(N,q),te):ie||je(T,N,ge,null,H,se,pl(N,q),te,!1),j>0){if(j&16)_e(ge,ye,Se,H,q);else if(j&2&&ye.class!==Se.class&&f(ge,"class",null,Se.class,q),j&4&&f(ge,"style",ye.style,Se.style,q),j&8){const We=N.dynamicProps;for(let Ze=0;Ze<We.length;Ze++){const Ve=We[Ze],Mt=ye[Ve],qt=Se[Ve];(qt!==Mt||Ve==="value")&&f(ge,Ve,Mt,qt,q,H)}}j&1&&T.children!==N.children&&E(ge,N.children)}else!ie&&ae==null&&_e(ge,ye,Se,H,q);((Ne=Se.onVnodeUpdated)||we)&&hn(()=>{Ne&&Jn(Ne,H,N,T),we&&ss(N,T,H,"updated")},se)},Ee=(T,N,H,se,q,te,ie)=>{for(let ge=0;ge<N.length;ge++){const j=T[ge],ae=N[ge],we=j.el&&(j.type===nn||!cs(j,ae)||j.shapeFlag&70)?b(j.el):H;R(j,ae,we,null,se,q,te,ie,!0)}},_e=(T,N,H,se,q)=>{if(N!==H){if(N!==yt)for(const te in N)!ki(te)&&!(te in H)&&f(T,te,N[te],null,q,se);for(const te in H){if(ki(te))continue;const ie=H[te],ge=N[te];ie!==ge&&te!=="value"&&f(T,te,ge,ie,q,se)}"value"in H&&f(T,"value",N.value,H.value,q)}},$=(T,N,H,se,q,te,ie,ge,j)=>{const ae=N.el=T?T.el:m(""),we=N.anchor=T?T.anchor:m("");let{patchFlag:ye,dynamicChildren:Se,slotScopeIds:Ne}=N;Ne&&(ge=ge?ge.concat(Ne):Ne),T==null?(a(ae,H,se),a(we,H,se),le(N.children||[],H,we,q,te,ie,ge,j)):ye>0&&ye&64&&Se&&T.dynamicChildren?(Ee(T.dynamicChildren,Se,H,q,te,ie,ge),(N.key!=null||q&&N===q.subTree)&&Zh(T,N,!0)):je(T,N,H,we,q,te,ie,ge,j)},ne=(T,N,H,se,q,te,ie,ge,j)=>{N.slotScopeIds=ge,T==null?N.shapeFlag&512?q.ctx.activate(N,H,se,ie,j):Re(N,H,se,q,te,ie,j):G(T,N,j)},Re=(T,N,H,se,q,te,ie)=>{const ge=T.component=Im(T,se,q);if(Ea(T)&&(ge.ctx.renderer=Te),Om(ge,!1,ie),ge.asyncDep){if(q&&q.registerDep(ge,Ie,ie),!T.el){const j=ge.subTree=Tt(En);J(null,j,N,H)}}else Ie(ge,T,N,H,q,te,ie)},G=(T,N,H)=>{const se=N.component=T.component;if(xm(T,N,H))if(se.asyncDep&&!se.asyncResolved){fe(se,N,H);return}else se.next=N,yp(se.update),se.effect.dirty=!0,se.update();else N.el=T.el,se.vnode=N},Ie=(T,N,H,se,q,te,ie)=>{const ge=()=>{if(T.isMounted){let{next:we,bu:ye,u:Se,parent:Ne,vnode:We}=T;{const _r=Qh(T);if(_r){we&&(we.el=We.el,fe(T,we,ie)),_r.asyncDep.then(()=>{T.isUnmounted||ge()});return}}let Ze=we,Ve;is(T,!1),we?(we.el=We.el,fe(T,we,ie)):we=We,ye&&Uo(ye),(Ve=we.props&&we.props.onVnodeBeforeUpdate)&&Jn(Ve,Ne,we,We),is(T,!0);const Mt=ml(T),qt=T.subTree;T.subTree=Mt,R(qt,Mt,b(qt.el),ee(qt),T,q,te),we.el=Mt.el,Ze===null&&_m(T,Mt.el),Se&&hn(Se,q),(Ve=we.props&&we.props.onVnodeUpdated)&&hn(()=>Jn(Ve,Ne,we,We),q)}else{let we;const{el:ye,props:Se}=N,{bm:Ne,m:We,parent:Ze}=T,Ve=Ho(N);if(is(T,!1),Ne&&Uo(Ne),!Ve&&(we=Se&&Se.onVnodeBeforeMount)&&Jn(we,Ze,N),is(T,!0),ye&&ut){const Mt=()=>{T.subTree=ml(T),ut(ye,T.subTree,T,q,null)};Ve?N.type.__asyncLoader().then(()=>!T.isUnmounted&&Mt()):Mt()}else{const Mt=T.subTree=ml(T);R(null,Mt,H,se,T,q,te),N.el=Mt.el}if(We&&hn(We,q),!Ve&&(we=Se&&Se.onVnodeMounted)){const Mt=N;hn(()=>Jn(we,Ze,Mt),q)}(N.shapeFlag&256||Ze&&Ho(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&T.a&&hn(T.a,q),T.isMounted=!0,N=H=se=null}},j=T.effect=new Rc(ge,On,()=>Vc(ae),T.scope),ae=T.update=()=>{j.dirty&&j.run()};ae.i=T,ae.id=T.uid,is(T,!0),ae()},fe=(T,N,H)=>{N.component=T;const se=T.vnode.props;T.vnode=N,T.next=null,Qp(T,N.props,se,H),nm(T,N.children,H),jr(),Yu(T),zr()},je=(T,N,H,se,q,te,ie,ge,j=!1)=>{const ae=T&&T.children,we=T?T.shapeFlag:0,ye=N.children,{patchFlag:Se,shapeFlag:Ne}=N;if(Se>0){if(Se&128){It(ae,ye,H,se,q,te,ie,ge,j);return}else if(Se&256){_t(ae,ye,H,se,q,te,ie,ge,j);return}}Ne&8?(we&16&&be(ae,q,te),ye!==ae&&E(H,ye)):we&16?Ne&16?It(ae,ye,H,se,q,te,ie,ge,j):be(ae,q,te,!0):(we&8&&E(H,""),Ne&16&&le(ye,H,se,q,te,ie,ge,j))},_t=(T,N,H,se,q,te,ie,ge,j)=>{T=T||Ks,N=N||Ks;const ae=T.length,we=N.length,ye=Math.min(ae,we);let Se;for(Se=0;Se<ye;Se++){const Ne=N[Se]=j?Pr(N[Se]):er(N[Se]);R(T[Se],Ne,H,null,q,te,ie,ge,j)}ae>we?be(T,q,te,!0,!1,ye):le(N,H,se,q,te,ie,ge,j,ye)},It=(T,N,H,se,q,te,ie,ge,j)=>{let ae=0;const we=N.length;let ye=T.length-1,Se=we-1;for(;ae<=ye&&ae<=Se;){const Ne=T[ae],We=N[ae]=j?Pr(N[ae]):er(N[ae]);if(cs(Ne,We))R(Ne,We,H,null,q,te,ie,ge,j);else break;ae++}for(;ae<=ye&&ae<=Se;){const Ne=T[ye],We=N[Se]=j?Pr(N[Se]):er(N[Se]);if(cs(Ne,We))R(Ne,We,H,null,q,te,ie,ge,j);else break;ye--,Se--}if(ae>ye){if(ae<=Se){const Ne=Se+1,We=Ne<we?N[Ne].el:se;for(;ae<=Se;)R(null,N[ae]=j?Pr(N[ae]):er(N[ae]),H,We,q,te,ie,ge,j),ae++}}else if(ae>Se)for(;ae<=ye;)Qe(T[ae],q,te,!0),ae++;else{const Ne=ae,We=ae,Ze=new Map;for(ae=We;ae<=Se;ae++){const ze=N[ae]=j?Pr(N[ae]):er(N[ae]);ze.key!=null&&Ze.set(ze.key,ae)}let Ve,Mt=0;const qt=Se-We+1;let _r=!1,Ct=0;const me=new Array(qt);for(ae=0;ae<qt;ae++)me[ae]=0;for(ae=Ne;ae<=ye;ae++){const ze=T[ae];if(Mt>=qt){Qe(ze,q,te,!0);continue}let tt;if(ze.key!=null)tt=Ze.get(ze.key);else for(Ve=We;Ve<=Se;Ve++)if(me[Ve-We]===0&&cs(ze,N[Ve])){tt=Ve;break}tt===void 0?Qe(ze,q,te,!0):(me[tt-We]=ae+1,tt>=Ct?Ct=tt:_r=!0,R(ze,N[tt],H,null,q,te,ie,ge,j),Mt++)}const Ot=_r?lm(me):Ks;for(Ve=Ot.length-1,ae=qt-1;ae>=0;ae--){const ze=We+ae,tt=N[ze],Er=ze+1<we?N[ze+1].el:se;me[ae]===0?R(null,tt,H,Er,q,te,ie,ge,j):_r&&(Ve<0||ae!==Ot[Ve]?Xt(tt,H,Er,2):Ve--)}}},Xt=(T,N,H,se,q=null)=>{const{el:te,type:ie,transition:ge,children:j,shapeFlag:ae}=T;if(ae&6){Xt(T.component.subTree,N,H,se);return}if(ae&128){T.suspense.move(N,H,se);return}if(ae&64){ie.move(T,N,H,Te);return}if(ie===nn){a(te,N,H);for(let ye=0;ye<j.length;ye++)Xt(j[ye],N,H,se);a(T.anchor,N,H);return}if(ie===Ui){L(T,N,H);return}if(se!==2&&ae&1&&ge)if(se===0)ge.beforeEnter(te),a(te,N,H),hn(()=>ge.enter(te),q);else{const{leave:ye,delayLeave:Se,afterLeave:Ne}=ge,We=()=>a(te,N,H),Ze=()=>{ye(te,()=>{We(),Ne&&Ne()})};Se?Se(te,We,Ze):Ze()}else a(te,N,H)},Qe=(T,N,H,se=!1,q=!1)=>{const{type:te,props:ie,ref:ge,children:j,dynamicChildren:ae,shapeFlag:we,patchFlag:ye,dirs:Se,cacheIndex:Ne}=T;if(ye===-2&&(q=!1),ge!=null&&Jl(ge,null,H,T,!0),Ne!=null&&(N.renderCache[Ne]=void 0),we&256){N.ctx.deactivate(T);return}const We=we&1&&Se,Ze=!Ho(T);let Ve;if(Ze&&(Ve=ie&&ie.onVnodeBeforeUnmount)&&Jn(Ve,N,T),we&6)jt(T.component,H,se);else{if(we&128){T.suspense.unmount(H,se);return}We&&ss(T,null,N,"beforeUnmount"),we&64?T.type.remove(T,N,H,Te,se):ae&&!ae.hasOnce&&(te!==nn||ye>0&&ye&64)?be(ae,N,H,!1,!0):(te===nn&&ye&384||!q&&we&16)&&be(j,N,H),se&&kt(T)}(Ze&&(Ve=ie&&ie.onVnodeUnmounted)||We)&&hn(()=>{Ve&&Jn(Ve,N,T),We&&ss(T,null,N,"unmounted")},H)},kt=T=>{const{type:N,el:H,anchor:se,transition:q}=T;if(N===nn){ht(H,se);return}if(N===Ui){Z(T);return}const te=()=>{u(H),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(T.shapeFlag&1&&q&&!q.persisted){const{leave:ie,delayLeave:ge}=q,j=()=>ie(H,te);ge?ge(T.el,te,j):j()}else te()},ht=(T,N)=>{let H;for(;T!==N;)H=v(T),u(T),T=H;u(N)},jt=(T,N,H)=>{const{bum:se,scope:q,update:te,subTree:ie,um:ge,m:j,a:ae}=T;of(j),of(ae),se&&Uo(se),q.stop(),te&&(te.active=!1,Qe(ie,T,N,H)),ge&&hn(ge,N),hn(()=>{T.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},be=(T,N,H,se=!1,q=!1,te=0)=>{for(let ie=te;ie<T.length;ie++)Qe(T[ie],N,H,se,q)},ee=T=>{if(T.shapeFlag&6)return ee(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const N=v(T.anchor||T.el),H=N&&N[rm];return H?v(H):N};let he=!1;const xe=(T,N,H)=>{T==null?N._vnode&&Qe(N._vnode,null,null,!0):R(N._vnode||null,T,N,null,null,null,H),he||(he=!0,Yu(),Nh(),he=!1),N._vnode=T},Te={p:R,um:Qe,m:Xt,r:kt,mt:Re,mc:le,pc:je,pbc:Ee,n:ee,o:t};let Fe,ut;return{render:xe,hydrate:Fe,createApp:Kp(xe,Fe)}}function pl({type:t,props:n},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function is({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function am(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Zh(t,n,s=!1){const a=t.children,u=n.children;if(Me(a)&&Me(u))for(let f=0;f<a.length;f++){const d=a[f];let m=u[f];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[f]=Pr(u[f]),m.el=d.el),!s&&m.patchFlag!==-2&&Zh(d,m)),m.type===Aa&&(m.el=d.el)}}function lm(t){const n=t.slice(),s=[0];let a,u,f,d,m;const _=t.length;for(a=0;a<_;a++){const x=t[a];if(x!==0){if(u=s[s.length-1],t[u]<x){n[a]=u,s.push(a);continue}for(f=0,d=s.length-1;f<d;)m=f+d>>1,t[s[m]]<x?f=m+1:d=m;x<t[s[f]]&&(f>0&&(n[a]=s[f-1]),s[f]=a)}}for(f=s.length,d=s[f-1];f-- >0;)s[f]=d,d=n[d];return s}function Qh(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Qh(n)}function of(t){if(t)for(let n=0;n<t.length;n++)t[n].active=!1}const cm=Symbol.for("v-scx"),um=()=>Rn(cm);function fm(t,n){return Xc(t,null,{flush:"post"})}const Ro={};function ps(t,n,s){return Xc(t,n,s)}function Xc(t,n,{immediate:s,deep:a,flush:u,once:f,onTrack:d,onTrigger:m}=yt){if(n&&f){const W=n;n=(...k)=>{W(...k),re()}}const _=$t,x=W=>a===!0?W:kr(W,a===!1?1:void 0);let E,b=!1,v=!1;if(ct(t)?(E=()=>t.value,b=ei(t)):gs(t)?(E=()=>x(t),b=!0):Me(t)?(v=!0,b=t.some(W=>gs(W)||ei(W)),E=()=>t.map(W=>{if(ct(W))return W.value;if(gs(W))return x(W);if($e(W))return Vr(W,_,2)})):$e(t)?n?E=()=>Vr(t,_,2):E=()=>(I&&I(),Nn(t,_,3,[M])):E=On,n&&a){const W=E;E=()=>kr(W())}let I,M=W=>{I=L.onStop=()=>{Vr(W,_,4),I=L.onStop=void 0}},R;if(Ca)if(M=On,n?s&&Nn(n,_,3,[E(),v?[]:void 0,M]):E(),u==="sync"){const W=um();R=W.__watcherHandles||(W.__watcherHandles=[])}else return On;let K=v?new Array(t.length).fill(Ro):Ro;const J=()=>{if(!(!L.active||!L.dirty))if(n){const W=L.run();(a||b||(v?W.some((k,le)=>Hr(k,K[le])):Hr(W,K)))&&(I&&I(),Nn(n,_,3,[W,K===Ro?void 0:v&&K[0]===Ro?[]:K,M]),K=W)}else L.run()};J.allowRecurse=!!n;let X;u==="sync"?X=J:u==="post"?X=()=>hn(J,_&&_.suspense):(J.pre=!0,_&&(J.id=_.uid),X=()=>Vc(J));const L=new Rc(E,On,X),Z=ch(),re=()=>{L.stop(),Z&&Ic(Z.effects,L)};return n?s?J():K=L.run():u==="post"?hn(L.run.bind(L),_&&_.suspense):L.run(),R&&R.push(re),re}function hm(t,n,s){const a=this.proxy,u=Bt(t)?t.includes(".")?Jh(a,t):()=>a[t]:t.bind(a,a);let f;$e(n)?f=n:(f=n.handler,s=n);const d=ao(this),m=Xc(u,f.bind(a),s);return d(),m}function Jh(t,n){const s=n.split(".");return()=>{let a=t;for(let u=0;u<s.length&&a;u++)a=a[s[u]];return a}}function kr(t,n=1/0,s){if(n<=0||!xt(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),n--,ct(t))kr(t.value,n,s);else if(Me(t))for(let a=0;a<t.length;a++)kr(t[a],n,s);else if(hi(t)||qs(t))t.forEach(a=>{kr(a,n,s)});else if(th(t)){for(const a in t)kr(t[a],n,s);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&kr(t[a],n,s)}return t}const dm=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${Wn(n)}Modifiers`]||t[`${ys(n)}Modifiers`];function gm(t,n,...s){if(t.isUnmounted)return;const a=t.vnode.props||yt;let u=s;const f=n.startsWith("update:"),d=f&&dm(a,n.slice(7));d&&(d.trim&&(u=s.map(E=>Bt(E)?E.trim():E)),d.number&&(u=s.map(qo)));let m,_=a[m=fl(n)]||a[m=fl(Wn(n))];!_&&f&&(_=a[m=fl(ys(n))]),_&&Nn(_,t,6,u);const x=a[m+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[m])return;t.emitted[m]=!0,Nn(x,t,6,u)}}function ed(t,n,s=!1){const a=n.emitsCache,u=a.get(t);if(u!==void 0)return u;const f=t.emits;let d={},m=!1;if(!$e(t)){const _=x=>{const E=ed(x,n,!0);E&&(m=!0,Gt(d,E))};!s&&n.mixins.length&&n.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}return!f&&!m?(xt(t)&&a.set(t,null),null):(Me(f)?f.forEach(_=>d[_]=null):Gt(d,f),xt(t)&&a.set(t,d),d)}function ba(t,n){return!t||!da(n)?!1:(n=n.slice(2).replace(/Once$/,""),rt(t,n[0].toLowerCase()+n.slice(1))||rt(t,ys(n))||rt(t,n))}function ml(t){const{type:n,vnode:s,proxy:a,withProxy:u,propsOptions:[f],slots:d,attrs:m,emit:_,render:x,renderCache:E,props:b,data:v,setupState:I,ctx:M,inheritAttrs:R}=t,K=Qo(t);let J,X;try{if(s.shapeFlag&4){const Z=u||a,re=Z;J=er(x.call(re,Z,E,b,I,v,M)),X=m}else{const Z=n;J=er(Z.length>1?Z(b,{attrs:m,slots:d,emit:_}):Z(b,null)),X=n.props?m:pm(m)}}catch(Z){Vi.length=0,xa(Z,t,1),J=Tt(En)}let L=J;if(X&&R!==!1){const Z=Object.keys(X),{shapeFlag:re}=L;Z.length&&re&7&&(f&&Z.some(Sc)&&(X=mm(X,f)),L=Wr(L,X,!1,!0))}return s.dirs&&(L=Wr(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&(L.transition=s.transition),J=L,Qo(K),J}const pm=t=>{let n;for(const s in t)(s==="class"||s==="style"||da(s))&&((n||(n={}))[s]=t[s]);return n},mm=(t,n)=>{const s={};for(const a in t)(!Sc(a)||!(a.slice(9)in n))&&(s[a]=t[a]);return s};function xm(t,n,s){const{props:a,children:u,component:f}=t,{props:d,children:m,patchFlag:_}=n,x=f.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?af(a,d,x):!!d;if(_&8){const E=n.dynamicProps;for(let b=0;b<E.length;b++){const v=E[b];if(d[v]!==a[v]&&!ba(x,v))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:a===d?!1:a?d?af(a,d,x):!0:!!d;return!1}function af(t,n,s){const a=Object.keys(n);if(a.length!==Object.keys(t).length)return!0;for(let u=0;u<a.length;u++){const f=a[u];if(n[f]!==t[f]&&!ba(s,f))return!0}return!1}function _m({vnode:t,parent:n},s){for(;n;){const a=n.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=n.vnode).el=s,n=n.parent;else break}}const Em=t=>t.__isSuspense;function wm(t,n){n&&n.pendingBranch?Me(t)?n.effects.push(...t):n.effects.push(t):Cp(t)}const nn=Symbol.for("v-fgt"),Aa=Symbol.for("v-txt"),En=Symbol.for("v-cmt"),Ui=Symbol.for("v-stc"),Vi=[];let wn=null;function Ue(t=!1){Vi.push(wn=t?null:[])}function bm(){Vi.pop(),wn=Vi[Vi.length-1]||null}let Ki=1;function lf(t){Ki+=t,t<0&&wn&&(wn.hasOnce=!0)}function td(t){return t.dynamicChildren=Ki>0?wn||Ks:null,bm(),Ki>0&&wn&&wn.push(t),t}function He(t,n,s,a,u,f){return td(B(t,n,s,a,u,f,!0))}function Am(t,n,s,a,u){return td(Tt(t,n,s,a,u,!0))}function ec(t){return t?t.__v_isVNode===!0:!1}function cs(t,n){return t.type===n.type&&t.key===n.key}const nd=({key:t})=>t??null,$o=({ref:t,ref_key:n,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Bt(t)||ct(t)||$e(t)?{i:rn,r:t,k:n,f:!!s}:t:null);function B(t,n=null,s=null,a=0,u=null,f=t===nn?0:1,d=!1,m=!1){const _={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&nd(n),ref:n&&$o(n),scopeId:_a,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:rn};return m?(jc(_,s),f&128&&t.normalize(_)):s&&(_.shapeFlag|=Bt(s)?8:16),Ki>0&&!d&&wn&&(_.patchFlag>0||f&6)&&_.patchFlag!==32&&wn.push(_),_}const Tt=ym;function ym(t,n=null,s=null,a=0,u=null,f=!1){if((!t||t===Vp)&&(t=En),ec(t)){const m=Wr(t,n,!0);return s&&jc(m,s),Ki>0&&!f&&wn&&(m.shapeFlag&6?wn[wn.indexOf(t)]=m:wn.push(m)),m.patchFlag=-2,m}if(Lm(t)&&(t=t.__vccOpts),n){n=Cm(n);let{class:m,style:_}=n;m&&!Bt(m)&&(n.class=lt(m)),xt(_)&&(yh(_)&&!Me(_)&&(_=Gt({},_)),n.style=Js(_))}const d=Bt(t)?1:Em(t)?128:sm(t)?64:xt(t)?4:$e(t)?2:0;return B(t,n,s,a,u,d,f,!0)}function Cm(t){return t?yh(t)||Gh(t)?Gt({},t):t:null}function Wr(t,n,s=!1,a=!1){const{props:u,ref:f,patchFlag:d,children:m,transition:_}=t,x=n?vm(u||{},n):u,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&nd(x),ref:n&&n.ref?s&&f?Me(f)?f.concat($o(n)):[f,$o(n)]:$o(n):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:m,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==nn?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:_,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wr(t.ssContent),ssFallback:t.ssFallback&&Wr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return _&&a&&ea(E,_.clone(E)),E}function Bn(t=" ",n=0){return Tt(Aa,null,t,n)}function ya(t,n){const s=Tt(Ui,null,t);return s.staticCount=n,s}function Pt(t="",n=!1){return n?(Ue(),Am(En,null,t)):Tt(En,null,t)}function er(t){return t==null||typeof t=="boolean"?Tt(En):Me(t)?Tt(nn,null,t.slice()):typeof t=="object"?Pr(t):Tt(Aa,null,String(t))}function Pr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wr(t)}function jc(t,n){let s=0;const{shapeFlag:a}=t;if(n==null)n=null;else if(Me(n))s=16;else if(typeof n=="object")if(a&65){const u=n.default;u&&(u._c&&(u._d=!1),jc(t,u()),u._c&&(u._d=!0));return}else{s=32;const u=n._;!u&&!Gh(n)?n._ctx=rn:u===3&&rn&&(rn.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else $e(n)?(n={default:n,_ctx:rn},s=32):(n=String(n),a&64?(s=16,n=[Bn(n)]):s=8);t.children=n,t.shapeFlag|=s}function vm(...t){const n={};for(let s=0;s<t.length;s++){const a=t[s];for(const u in a)if(u==="class")n.class!==a.class&&(n.class=lt([n.class,a.class]));else if(u==="style")n.style=Js([n.style,a.style]);else if(da(u)){const f=n[u],d=a[u];d&&f!==d&&!(Me(f)&&f.includes(d))&&(n[u]=f?[].concat(f,d):d)}else u!==""&&(n[u]=a[u])}return n}function Jn(t,n,s,a=null){Nn(t,n,7,[s,a])}const Tm=Hh();let Sm=0;function Im(t,n,s){const a=t.type,u=(n?n.appContext:t.appContext)||Tm,f={uid:Sm++,vnode:t,type:a,parent:n,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new ah(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jh(a,u),emitsOptions:ed(a,u),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:a.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=n?n.root:f,f.emit=gm.bind(null,f),t.ce&&t.ce(f),f}let $t=null;const rd=()=>$t||rn;let na,tc;{const t=rh(),n=(s,a)=>{let u;return(u=t[s])||(u=t[s]=[]),u.push(a),f=>{u.length>1?u.forEach(d=>d(f)):u[0](f)}};na=n("__VUE_INSTANCE_SETTERS__",s=>$t=s),tc=n("__VUE_SSR_SETTERS__",s=>Ca=s)}const ao=t=>{const n=$t;return na(t),t.scope.on(),()=>{t.scope.off(),na(n)}},cf=()=>{$t&&$t.scope.off(),na(null)};function sd(t){return t.vnode.shapeFlag&4}let Ca=!1;function Om(t,n=!1,s=!1){n&&tc(n);const{props:a,children:u}=t.vnode,f=sd(t);Zp(t,a,f,n),tm(t,u,s);const d=f?Nm(t,n):void 0;return n&&tc(!1),d}function Nm(t,n){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wp);const{setup:a}=s;if(a){const u=t.setupContext=a.length>1?Dm(t):null,f=ao(t);jr();const d=Vr(a,t,0,[t.props,u]);if(zr(),f(),J1(d)){if(d.then(cf,cf),n)return d.then(m=>{uf(t,m,n)}).catch(m=>{xa(m,t,0)});t.asyncDep=d}else uf(t,d,n)}else id(t,n)}function uf(t,n,s){$e(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:xt(n)&&(t.setupState=Sh(n)),id(t,s)}let ff;function id(t,n,s){const a=t.type;if(!t.render){if(!n&&ff&&!a.render){const u=a.template||$c(t).template;if(u){const{isCustomElement:f,compilerOptions:d}=t.appContext.config,{delimiters:m,compilerOptions:_}=a,x=Gt(Gt({isCustomElement:f,delimiters:m},d),_);a.render=ff(u,x)}}t.render=a.render||On}{const u=ao(t);jr();try{$p(t)}finally{zr(),u()}}}const Rm={get(t,n){return pn(t,"get",""),t[n]}};function Dm(t){const n=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Rm),slots:t.slots,emit:t.emit,expose:n}}function va(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Sh(kc(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in Fi)return Fi[s](t)},has(n,s){return s in n||s in Fi}})):t.proxy}function Mm(t,n=!0){return $e(t)?t.displayName||t.name:t.name||n&&t.__name}function Lm(t){return $e(t)&&"__vccOpts"in t}const it=(t,n)=>gp(t,n,Ca);function zc(t,n,s){const a=arguments.length;return a===2?xt(n)&&!Me(n)?ec(n)?Tt(t,null,[n]):Tt(t,n):Tt(t,null,n):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&ec(s)&&(s=[s]),Tt(t,n,s))}const Pm="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Bm="http://www.w3.org/2000/svg",km="http://www.w3.org/1998/Math/MathML",ur=typeof document<"u"?document:null,hf=ur&&ur.createElement("template"),Fm={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,a)=>{const u=n==="svg"?ur.createElementNS(Bm,t):n==="mathml"?ur.createElementNS(km,t):s?ur.createElement(t,{is:s}):ur.createElement(t);return t==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:t=>ur.createTextNode(t),createComment:t=>ur.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ur.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,a,u,f){const d=s?s.previousSibling:n.lastChild;if(u&&(u===f||u.nextSibling))for(;n.insertBefore(u.cloneNode(!0),s),!(u===f||!(u=u.nextSibling)););else{hf.innerHTML=a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t;const m=hf.content;if(a==="svg"||a==="mathml"){const _=m.firstChild;for(;_.firstChild;)m.appendChild(_.firstChild);m.removeChild(_)}n.insertBefore(m,s)}return[d?d.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},Sr="transition",Si="animation",qi=Symbol("_vtc"),Ta=(t,{slots:n})=>zc(Ip,Um(t),n);Ta.displayName="Transition";const od={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ta.props=Gt({},Dh,od);const os=(t,n=[])=>{Me(t)?t.forEach(s=>s(...n)):t&&t(...n)},df=t=>t?Me(t)?t.some(n=>n.length>1):t.length>1:!1;function Um(t){const n={};for(const $ in t)$ in od||(n[$]=t[$]);if(t.css===!1)return n;const{name:s="v",type:a,duration:u,enterFromClass:f=`${s}-enter-from`,enterActiveClass:d=`${s}-enter-active`,enterToClass:m=`${s}-enter-to`,appearFromClass:_=f,appearActiveClass:x=d,appearToClass:E=m,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:I=`${s}-leave-to`}=t,M=Vm(u),R=M&&M[0],K=M&&M[1],{onBeforeEnter:J,onEnter:X,onEnterCancelled:L,onLeave:Z,onLeaveCancelled:re,onBeforeAppear:W=J,onAppear:k=X,onAppearCancelled:le=L}=n,F=($,ne,Re)=>{as($,ne?E:m),as($,ne?x:d),Re&&Re()},Ee=($,ne)=>{$._isLeaving=!1,as($,b),as($,I),as($,v),ne&&ne()},_e=$=>(ne,Re)=>{const G=$?k:X,Ie=()=>F(ne,$,Re);os(G,[ne,Ie]),gf(()=>{as(ne,$?_:f),Ir(ne,$?E:m),df(G)||pf(ne,a,R,Ie)})};return Gt(n,{onBeforeEnter($){os(J,[$]),Ir($,f),Ir($,d)},onBeforeAppear($){os(W,[$]),Ir($,_),Ir($,x)},onEnter:_e(!1),onAppear:_e(!0),onLeave($,ne){$._isLeaving=!0;const Re=()=>Ee($,ne);Ir($,b),Ir($,v),$m(),gf(()=>{$._isLeaving&&(as($,b),Ir($,I),df(Z)||pf($,a,K,Re))}),os(Z,[$,Re])},onEnterCancelled($){F($,!1),os(L,[$])},onAppearCancelled($){F($,!0),os(le,[$])},onLeaveCancelled($){Ee($),os(re,[$])}})}function Vm(t){if(t==null)return null;if(xt(t))return[xl(t.enter),xl(t.leave)];{const n=xl(t);return[n,n]}}function xl(t){return Fg(t)}function Ir(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[qi]||(t[qi]=new Set)).add(n)}function as(t,n){n.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const s=t[qi];s&&(s.delete(n),s.size||(t[qi]=void 0))}function gf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Hm=0;function pf(t,n,s,a){const u=t._endId=++Hm,f=()=>{u===t._endId&&a()};if(s)return setTimeout(f,s);const{type:d,timeout:m,propCount:_}=Wm(t,n);if(!d)return a();const x=d+"end";let E=0;const b=()=>{t.removeEventListener(x,v),f()},v=I=>{I.target===t&&++E>=_&&b()};setTimeout(()=>{E<_&&b()},m+1),t.addEventListener(x,v)}function Wm(t,n){const s=window.getComputedStyle(t),a=M=>(s[M]||"").split(", "),u=a(`${Sr}Delay`),f=a(`${Sr}Duration`),d=mf(u,f),m=a(`${Si}Delay`),_=a(`${Si}Duration`),x=mf(m,_);let E=null,b=0,v=0;n===Sr?d>0&&(E=Sr,b=d,v=f.length):n===Si?x>0&&(E=Si,b=x,v=_.length):(b=Math.max(d,x),E=b>0?d>x?Sr:Si:null,v=E?E===Sr?f.length:_.length:0);const I=E===Sr&&/\b(transform|all)(,|$)/.test(a(`${Sr}Property`).toString());return{type:E,timeout:b,propCount:v,hasTransform:I}}function mf(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,a)=>xf(s)+xf(t[a])))}function xf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function $m(){return document.body.offsetHeight}function Gm(t,n,s){const a=t[qi];a&&(n=(n?[n,...a]:[...a]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}const ra=Symbol("_vod"),ad=Symbol("_vsh"),Bi={beforeMount(t,{value:n},{transition:s}){t[ra]=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):Ii(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:a}){!n!=!s&&(a?n?(a.beforeEnter(t),Ii(t,!0),a.enter(t)):a.leave(t,()=>{Ii(t,!1)}):Ii(t,n))},beforeUnmount(t,{value:n}){Ii(t,n)}};function Ii(t,n){t.style.display=n?t[ra]:"none",t[ad]=!n}const ld=Symbol("");function Xm(t){const n=rd();if(!n)return;const s=n.ut=(u=t(n.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${n.uid}"]`)).forEach(f=>rc(f,u))},a=()=>{const u=t(n.proxy);nc(n.subTree,u),s(u)};Ts(()=>{fm(a);const u=new MutationObserver(a);u.observe(n.subTree.el.parentNode,{childList:!0}),Wc(()=>u.disconnect())})}function nc(t,n){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{nc(s.activeBranch,n)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)rc(t.el,n);else if(t.type===nn)t.children.forEach(s=>nc(s,n));else if(t.type===Ui){let{el:s,anchor:a}=t;for(;s&&(rc(s,n),s!==a);)s=s.nextSibling}}function rc(t,n){if(t.nodeType===1){const s=t.style;let a="";for(const u in n)s.setProperty(`--${u}`,n[u]),a+=`--${u}: ${n[u]};`;s[ld]=a}}const jm=/(^|;)\s*display\s*:/;function zm(t,n,s){const a=t.style,u=Bt(s);let f=!1;if(s&&!u){if(n)if(Bt(n))for(const d of n.split(";")){const m=d.slice(0,d.indexOf(":")).trim();s[m]==null&&Go(a,m,"")}else for(const d in n)s[d]==null&&Go(a,d,"");for(const d in s)d==="display"&&(f=!0),Go(a,d,s[d])}else if(u){if(n!==s){const d=a[ld];d&&(s+=";"+d),a.cssText=s,f=jm.test(s)}}else n&&t.removeAttribute("style");ra in t&&(t[ra]=f?a.display:"",t[ad]&&(a.display="none"))}const _f=/\s*!important$/;function Go(t,n,s){if(Me(s))s.forEach(a=>Go(t,n,a));else if(s==null&&(s=""),n.startsWith("--"))t.setProperty(n,s);else{const a=Ym(t,n);_f.test(s)?t.setProperty(ys(a),s.replace(_f,""),"important"):t[a]=s}}const Ef=["Webkit","Moz","ms"],_l={};function Ym(t,n){const s=_l[n];if(s)return s;let a=Wn(n);if(a!=="filter"&&a in t)return _l[n]=a;a=pa(a);for(let u=0;u<Ef.length;u++){const f=Ef[u]+a;if(f in t)return _l[n]=f}return n}const wf="http://www.w3.org/1999/xlink";function bf(t,n,s,a,u,f=Gg(n)){a&&n.startsWith("xlink:")?s==null?t.removeAttributeNS(wf,n.slice(6,n.length)):t.setAttributeNS(wf,n,s):s==null||f&&!sh(s)?t.removeAttribute(n):t.setAttribute(n,f?"":sr(s)?String(s):s)}function Km(t,n,s,a){if(n==="innerHTML"||n==="textContent"){if(s==null)return;t[n]=s;return}const u=t.tagName;if(n==="value"&&u!=="PROGRESS"&&!u.includes("-")){const d=u==="OPTION"?t.getAttribute("value")||"":t.value,m=s==null?"":String(s);(d!==m||!("_value"in t))&&(t.value=m),s==null&&t.removeAttribute(n),t._value=s;return}let f=!1;if(s===""||s==null){const d=typeof t[n];d==="boolean"?s=sh(s):s==null&&d==="string"?(s="",f=!0):d==="number"&&(s=0,f=!0)}try{t[n]=s}catch{}f&&t.removeAttribute(n)}function Fr(t,n,s,a){t.addEventListener(n,s,a)}function qm(t,n,s,a){t.removeEventListener(n,s,a)}const Af=Symbol("_vei");function Zm(t,n,s,a,u=null){const f=t[Af]||(t[Af]={}),d=f[n];if(a&&d)d.value=a;else{const[m,_]=Qm(n);if(a){const x=f[n]=t2(a,u);Fr(t,m,x,_)}else d&&(qm(t,m,d,_),f[n]=void 0)}}const yf=/(?:Once|Passive|Capture)$/;function Qm(t){let n;if(yf.test(t)){n={};let a;for(;a=t.match(yf);)t=t.slice(0,t.length-a[0].length),n[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ys(t.slice(2)),n]}let El=0;const Jm=Promise.resolve(),e2=()=>El||(Jm.then(()=>El=0),El=Date.now());function t2(t,n){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Nn(n2(a,s.value),n,5,[a])};return s.value=t,s.attached=e2(),s}function n2(t,n){if(Me(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(a=>u=>!u._stopped&&a&&a(u))}else return n}const Cf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,r2=(t,n,s,a,u,f)=>{const d=u==="svg";n==="class"?Gm(t,a,d):n==="style"?zm(t,s,a):da(n)?Sc(n)||Zm(t,n,s,a,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):s2(t,n,a,d))?(Km(t,n,a),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&bf(t,n,a,d,f,n!=="value")):(n==="true-value"?t._trueValue=a:n==="false-value"&&(t._falseValue=a),bf(t,n,a,d))};function s2(t,n,s,a){if(a)return!!(n==="innerHTML"||n==="textContent"||n in t&&Cf(n)&&$e(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const u=t.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return Cf(n)&&Bt(s)?!1:n in t}const ti=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Me(n)?s=>Uo(n,s):n};function i2(t){t.target.composing=!0}function vf(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const hr=Symbol("_assign"),Vn={created(t,{modifiers:{lazy:n,trim:s,number:a}},u){t[hr]=ti(u);const f=a||u.props&&u.props.type==="number";Fr(t,n?"change":"input",d=>{if(d.target.composing)return;let m=t.value;s&&(m=m.trim()),f&&(m=qo(m)),t[hr](m)}),s&&Fr(t,"change",()=>{t.value=t.value.trim()}),n||(Fr(t,"compositionstart",i2),Fr(t,"compositionend",vf),Fr(t,"change",vf))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:s,modifiers:{lazy:a,trim:u,number:f}},d){if(t[hr]=ti(d),t.composing)return;const m=(f||t.type==="number")&&!/^0\d/.test(t.value)?qo(t.value):t.value,_=n??"";m!==_&&(document.activeElement===t&&t.type!=="range"&&(a&&n===s||u&&t.value.trim()===_)||(t.value=_))}},o2={deep:!0,created(t,n,s){t[hr]=ti(s),Fr(t,"change",()=>{const a=t._modelValue,u=Zi(t),f=t.checked,d=t[hr];if(Me(a)){const m=Nc(a,u),_=m!==-1;if(f&&!_)d(a.concat(u));else if(!f&&_){const x=[...a];x.splice(m,1),d(x)}}else if(hi(a)){const m=new Set(a);f?m.add(u):m.delete(u),d(m)}else d(cd(t,f))})},mounted:Tf,beforeUpdate(t,n,s){t[hr]=ti(s),Tf(t,n,s)}};function Tf(t,{value:n,oldValue:s},a){t._modelValue=n,Me(n)?t.checked=Nc(n,a.props.value)>-1:hi(n)?t.checked=n.has(a.props.value):n!==s&&(t.checked=so(n,cd(t,!0)))}const a2={deep:!0,created(t,{value:n,modifiers:{number:s}},a){const u=hi(n);Fr(t,"change",()=>{const f=Array.prototype.filter.call(t.options,d=>d.selected).map(d=>s?qo(Zi(d)):Zi(d));t[hr](t.multiple?u?new Set(f):f:f[0]),t._assigning=!0,oo(()=>{t._assigning=!1})}),t[hr]=ti(a)},mounted(t,{value:n,modifiers:{number:s}}){Sf(t,n)},beforeUpdate(t,n,s){t[hr]=ti(s)},updated(t,{value:n,modifiers:{number:s}}){t._assigning||Sf(t,n)}};function Sf(t,n,s){const a=t.multiple,u=Me(n);if(!(a&&!u&&!hi(n))){for(let f=0,d=t.options.length;f<d;f++){const m=t.options[f],_=Zi(m);if(a)if(u){const x=typeof _;x==="string"||x==="number"?m.selected=n.some(E=>String(E)===String(_)):m.selected=Nc(n,_)>-1}else m.selected=n.has(_);else if(so(Zi(m),n)){t.selectedIndex!==f&&(t.selectedIndex=f);return}}!a&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zi(t){return"_value"in t?t._value:t.value}function cd(t,n){const s=n?"_trueValue":"_falseValue";return s in t?t[s]:n}const l2=["ctrl","shift","alt","meta"],c2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>l2.some(s=>t[`${s}Key`]&&!n.includes(s))},Sa=(t,n)=>{const s=t._withMods||(t._withMods={}),a=n.join(".");return s[a]||(s[a]=(u,...f)=>{for(let d=0;d<n.length;d++){const m=c2[n[d]];if(m&&m(u,n))return}return t(u,...f)})},u2=Gt({patchProp:r2},Fm);let If;function f2(){return If||(If=im(u2))}const h2=(...t)=>{const n=f2().createApp(...t),{mount:s}=n;return n.mount=a=>{const u=g2(a);if(!u)return;const f=n._component;!$e(f)&&!f.render&&!f.template&&(f.template=u.innerHTML),u.innerHTML="";const d=s(u,!1,d2(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),d},n};function d2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function g2(t){return Bt(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof document<"u";function p2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const dt=Object.assign;function wl(t,n){const s={};for(const a in n){const u=n[a];s[a]=$n(u)?u.map(t):t(u)}return s}const Hi=()=>{},$n=Array.isArray,ud=/#/g,m2=/&/g,x2=/\//g,_2=/=/g,E2=/\?/g,fd=/\+/g,w2=/%5B/g,b2=/%5D/g,hd=/%5E/g,A2=/%60/g,dd=/%7B/g,y2=/%7C/g,gd=/%7D/g,C2=/%20/g;function Yc(t){return encodeURI(""+t).replace(y2,"|").replace(w2,"[").replace(b2,"]")}function v2(t){return Yc(t).replace(dd,"{").replace(gd,"}").replace(hd,"^")}function sc(t){return Yc(t).replace(fd,"%2B").replace(C2,"+").replace(ud,"%23").replace(m2,"%26").replace(A2,"`").replace(dd,"{").replace(gd,"}").replace(hd,"^")}function T2(t){return sc(t).replace(_2,"%3D")}function S2(t){return Yc(t).replace(ud,"%23").replace(E2,"%3F")}function I2(t){return t==null?"":S2(t).replace(x2,"%2F")}function Qi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const O2=/\/$/,N2=t=>t.replace(O2,"");function bl(t,n,s="/"){let a,u={},f="",d="";const m=n.indexOf("#");let _=n.indexOf("?");return m<_&&m>=0&&(_=-1),_>-1&&(a=n.slice(0,_),f=n.slice(_+1,m>-1?m:n.length),u=t(f)),m>-1&&(a=a||n.slice(0,m),d=n.slice(m,n.length)),a=L2(a??n,s),{fullPath:a+(f&&"?")+f+d,path:a,query:u,hash:Qi(d)}}function R2(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Of(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function D2(t,n,s){const a=n.matched.length-1,u=s.matched.length-1;return a>-1&&a===u&&ni(n.matched[a],s.matched[u])&&pd(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function ni(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function pd(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!M2(t[s],n[s]))return!1;return!0}function M2(t,n){return $n(t)?Nf(t,n):$n(n)?Nf(n,t):t===n}function Nf(t,n){return $n(n)?t.length===n.length&&t.every((s,a)=>s===n[a]):t.length===1&&t[0]===n}function L2(t,n){if(t.startsWith("/"))return t;if(!t)return n;const s=n.split("/"),a=t.split("/"),u=a[a.length-1];(u===".."||u===".")&&a.push("");let f=s.length-1,d,m;for(d=0;d<a.length;d++)if(m=a[d],m!==".")if(m==="..")f>1&&f--;else break;return s.slice(0,f).join("/")+"/"+a.slice(d).join("/")}const Or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ji;(function(t){t.pop="pop",t.push="push"})(Ji||(Ji={}));var Wi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wi||(Wi={}));function P2(t){if(!t)if($s){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),N2(t)}const B2=/^[^#]+#/;function k2(t,n){return t.replace(B2,"#")+n}function F2(t,n){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:n.behavior,left:a.left-s.left-(n.left||0),top:a.top-s.top-(n.top||0)}}const Ia=()=>({left:window.scrollX,top:window.scrollY});function U2(t){let n;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;n=F2(u,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Rf(t,n){return(history.state?history.state.position-n:-1)+t}const ic=new Map;function V2(t,n){ic.set(t,n)}function H2(t){const n=ic.get(t);return ic.delete(t),n}let W2=()=>location.protocol+"//"+location.host;function md(t,n){const{pathname:s,search:a,hash:u}=n,f=t.indexOf("#");if(f>-1){let m=u.includes(t.slice(f))?t.slice(f).length:1,_=u.slice(m);return _[0]!=="/"&&(_="/"+_),Of(_,"")}return Of(s,t)+a+u}function $2(t,n,s,a){let u=[],f=[],d=null;const m=({state:v})=>{const I=md(t,location),M=s.value,R=n.value;let K=0;if(v){if(s.value=I,n.value=v,d&&d===M){d=null;return}K=R?v.position-R.position:0}else a(I);u.forEach(J=>{J(s.value,M,{delta:K,type:Ji.pop,direction:K?K>0?Wi.forward:Wi.back:Wi.unknown})})};function _(){d=s.value}function x(v){u.push(v);const I=()=>{const M=u.indexOf(v);M>-1&&u.splice(M,1)};return f.push(I),I}function E(){const{history:v}=window;v.state&&v.replaceState(dt({},v.state,{scroll:Ia()}),"")}function b(){for(const v of f)v();f=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",E,{passive:!0}),{pauseListeners:_,listen:x,destroy:b}}function Df(t,n,s,a=!1,u=!1){return{back:t,current:n,forward:s,replaced:a,position:window.history.length,scroll:u?Ia():null}}function G2(t){const{history:n,location:s}=window,a={value:md(t,s)},u={value:n.state};u.value||f(a.value,{back:null,current:a.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function f(_,x,E){const b=t.indexOf("#"),v=b>-1?(s.host&&document.querySelector("base")?t:t.slice(b))+_:W2()+t+_;try{n[E?"replaceState":"pushState"](x,"",v),u.value=x}catch(I){console.error(I),s[E?"replace":"assign"](v)}}function d(_,x){const E=dt({},n.state,Df(u.value.back,_,u.value.forward,!0),x,{position:u.value.position});f(_,E,!0),a.value=_}function m(_,x){const E=dt({},u.value,n.state,{forward:_,scroll:Ia()});f(E.current,E,!0);const b=dt({},Df(a.value,_,null),{position:E.position+1},x);f(_,b,!1),a.value=_}return{location:a,state:u,push:m,replace:d}}function X2(t){t=P2(t);const n=G2(t),s=$2(t,n.state,n.location,n.replace);function a(f,d=!0){d||s.pauseListeners(),history.go(f)}const u=dt({location:"",base:t,go:a,createHref:k2.bind(null,t)},n,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>n.state.value}),u}function j2(t){return typeof t=="string"||t&&typeof t=="object"}function xd(t){return typeof t=="string"||typeof t=="symbol"}const _d=Symbol("");var Mf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mf||(Mf={}));function ri(t,n){return dt(new Error,{type:t,[_d]:!0},n)}function lr(t,n){return t instanceof Error&&_d in t&&(n==null||!!(t.type&n))}const Lf="[^/]+?",z2={sensitive:!1,strict:!1,start:!0,end:!0},Y2=/[.+*?^${}()[\]/\\]/g;function K2(t,n){const s=dt({},z2,n),a=[];let u=s.start?"^":"";const f=[];for(const x of t){const E=x.length?[]:[90];s.strict&&!x.length&&(u+="/");for(let b=0;b<x.length;b++){const v=x[b];let I=40+(s.sensitive?.25:0);if(v.type===0)b||(u+="/"),u+=v.value.replace(Y2,"\\$&"),I+=40;else if(v.type===1){const{value:M,repeatable:R,optional:K,regexp:J}=v;f.push({name:M,repeatable:R,optional:K});const X=J||Lf;if(X!==Lf){I+=10;try{new RegExp(`(${X})`)}catch(Z){throw new Error(`Invalid custom RegExp for param "${M}" (${X}): `+Z.message)}}let L=R?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;b||(L=K&&x.length<2?`(?:/${L})`:"/"+L),K&&(L+="?"),u+=L,I+=20,K&&(I+=-8),R&&(I+=-20),X===".*"&&(I+=-50)}E.push(I)}a.push(E)}if(s.strict&&s.end){const x=a.length-1;a[x][a[x].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const d=new RegExp(u,s.sensitive?"":"i");function m(x){const E=x.match(d),b={};if(!E)return null;for(let v=1;v<E.length;v++){const I=E[v]||"",M=f[v-1];b[M.name]=I&&M.repeatable?I.split("/"):I}return b}function _(x){let E="",b=!1;for(const v of t){(!b||!E.endsWith("/"))&&(E+="/"),b=!1;for(const I of v)if(I.type===0)E+=I.value;else if(I.type===1){const{value:M,repeatable:R,optional:K}=I,J=M in x?x[M]:"";if($n(J)&&!R)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const X=$n(J)?J.join("/"):J;if(!X)if(K)v.length<2&&(E.endsWith("/")?E=E.slice(0,-1):b=!0);else throw new Error(`Missing required param "${M}"`);E+=X}}return E||"/"}return{re:d,score:a,keys:f,parse:m,stringify:_}}function q2(t,n){let s=0;for(;s<t.length&&s<n.length;){const a=n[s]-t[s];if(a)return a;s++}return t.length<n.length?t.length===1&&t[0]===80?-1:1:t.length>n.length?n.length===1&&n[0]===80?1:-1:0}function Ed(t,n){let s=0;const a=t.score,u=n.score;for(;s<a.length&&s<u.length;){const f=q2(a[s],u[s]);if(f)return f;s++}if(Math.abs(u.length-a.length)===1){if(Pf(a))return 1;if(Pf(u))return-1}return u.length-a.length}function Pf(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Z2={type:0,value:""},Q2=/[a-zA-Z0-9_]/;function J2(t){if(!t)return[[]];if(t==="/")return[[Z2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(I){throw new Error(`ERR (${s})/"${x}": ${I}`)}let s=0,a=s;const u=[];let f;function d(){f&&u.push(f),f=[]}let m=0,_,x="",E="";function b(){x&&(s===0?f.push({type:0,value:x}):s===1||s===2||s===3?(f.length>1&&(_==="*"||_==="+")&&n(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:x,regexp:E,repeatable:_==="*"||_==="+",optional:_==="*"||_==="?"})):n("Invalid state to consume buffer"),x="")}function v(){x+=_}for(;m<t.length;){if(_=t[m++],_==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:_==="/"?(x&&b(),d()):_===":"?(b(),s=1):v();break;case 4:v(),s=a;break;case 1:_==="("?s=2:Q2.test(_)?v():(b(),s=0,_!=="*"&&_!=="?"&&_!=="+"&&m--);break;case 2:_===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+_:s=3:E+=_;break;case 3:b(),s=0,_!=="*"&&_!=="?"&&_!=="+"&&m--,E="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${x}"`),b(),d(),u}function ex(t,n,s){const a=K2(J2(t.path),s),u=dt(a,{record:t,parent:n,children:[],alias:[]});return n&&!u.record.aliasOf==!n.record.aliasOf&&n.children.push(u),u}function tx(t,n){const s=[],a=new Map;n=Ff({strict:!1,end:!0,sensitive:!1},n);function u(b){return a.get(b)}function f(b,v,I){const M=!I,R=nx(b);R.aliasOf=I&&I.record;const K=Ff(n,b),J=[R];if("alias"in b){const Z=typeof b.alias=="string"?[b.alias]:b.alias;for(const re of Z)J.push(dt({},R,{components:I?I.record.components:R.components,path:re,aliasOf:I?I.record:R}))}let X,L;for(const Z of J){const{path:re}=Z;if(v&&re[0]!=="/"){const W=v.record.path,k=W[W.length-1]==="/"?"":"/";Z.path=v.record.path+(re&&k+re)}if(X=ex(Z,v,K),I?I.alias.push(X):(L=L||X,L!==X&&L.alias.push(X),M&&b.name&&!kf(X)&&d(b.name)),wd(X)&&_(X),R.children){const W=R.children;for(let k=0;k<W.length;k++)f(W[k],X,I&&I.children[k])}I=I||X}return L?()=>{d(L)}:Hi}function d(b){if(xd(b)){const v=a.get(b);v&&(a.delete(b),s.splice(s.indexOf(v),1),v.children.forEach(d),v.alias.forEach(d))}else{const v=s.indexOf(b);v>-1&&(s.splice(v,1),b.record.name&&a.delete(b.record.name),b.children.forEach(d),b.alias.forEach(d))}}function m(){return s}function _(b){const v=ix(b,s);s.splice(v,0,b),b.record.name&&!kf(b)&&a.set(b.record.name,b)}function x(b,v){let I,M={},R,K;if("name"in b&&b.name){if(I=a.get(b.name),!I)throw ri(1,{location:b});K=I.record.name,M=dt(Bf(v.params,I.keys.filter(L=>!L.optional).concat(I.parent?I.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),b.params&&Bf(b.params,I.keys.map(L=>L.name))),R=I.stringify(M)}else if(b.path!=null)R=b.path,I=s.find(L=>L.re.test(R)),I&&(M=I.parse(R),K=I.record.name);else{if(I=v.name?a.get(v.name):s.find(L=>L.re.test(v.path)),!I)throw ri(1,{location:b,currentLocation:v});K=I.record.name,M=dt({},v.params,b.params),R=I.stringify(M)}const J=[];let X=I;for(;X;)J.unshift(X.record),X=X.parent;return{name:K,path:R,params:M,matched:J,meta:sx(J)}}t.forEach(b=>f(b));function E(){s.length=0,a.clear()}return{addRoute:f,resolve:x,removeRoute:d,clearRoutes:E,getRoutes:m,getRecordMatcher:u}}function Bf(t,n){const s={};for(const a of n)a in t&&(s[a]=t[a]);return s}function nx(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:rx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function rx(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const a in t.components)n[a]=typeof s=="object"?s[a]:s;return n}function kf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function sx(t){return t.reduce((n,s)=>dt(n,s.meta),{})}function Ff(t,n){const s={};for(const a in t)s[a]=a in n?n[a]:t[a];return s}function ix(t,n){let s=0,a=n.length;for(;s!==a;){const f=s+a>>1;Ed(t,n[f])<0?a=f:s=f+1}const u=ox(t);return u&&(a=n.lastIndexOf(u,a-1)),a}function ox(t){let n=t;for(;n=n.parent;)if(wd(n)&&Ed(t,n)===0)return n}function wd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ax(t){const n={};if(t===""||t==="?")return n;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<a.length;++u){const f=a[u].replace(fd," "),d=f.indexOf("="),m=Qi(d<0?f:f.slice(0,d)),_=d<0?null:Qi(f.slice(d+1));if(m in n){let x=n[m];$n(x)||(x=n[m]=[x]),x.push(_)}else n[m]=_}return n}function Uf(t){let n="";for(let s in t){const a=t[s];if(s=T2(s),a==null){a!==void 0&&(n+=(n.length?"&":"")+s);continue}($n(a)?a.map(f=>f&&sc(f)):[a&&sc(a)]).forEach(f=>{f!==void 0&&(n+=(n.length?"&":"")+s,f!=null&&(n+="="+f))})}return n}function lx(t){const n={};for(const s in t){const a=t[s];a!==void 0&&(n[s]=$n(a)?a.map(u=>u==null?null:""+u):a==null?a:""+a)}return n}const cx=Symbol(""),Vf=Symbol(""),Oa=Symbol(""),Kc=Symbol(""),oc=Symbol("");function Oi(){let t=[];function n(a){return t.push(a),()=>{const u=t.indexOf(a);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:n,list:()=>t.slice(),reset:s}}function Br(t,n,s,a,u,f=d=>d()){const d=a&&(a.enterCallbacks[u]=a.enterCallbacks[u]||[]);return()=>new Promise((m,_)=>{const x=v=>{v===!1?_(ri(4,{from:s,to:n})):v instanceof Error?_(v):j2(v)?_(ri(2,{from:n,to:v})):(d&&a.enterCallbacks[u]===d&&typeof v=="function"&&d.push(v),m())},E=f(()=>t.call(a&&a.instances[u],n,s,x));let b=Promise.resolve(E);t.length<3&&(b=b.then(x)),b.catch(v=>_(v))})}function Al(t,n,s,a,u=f=>f()){const f=[];for(const d of t)for(const m in d.components){let _=d.components[m];if(!(n!=="beforeRouteEnter"&&!d.instances[m]))if(ux(_)){const E=(_.__vccOpts||_)[n];E&&f.push(Br(E,s,a,d,m,u))}else{let x=_();f.push(()=>x.then(E=>{if(!E)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${d.path}"`));const b=p2(E)?E.default:E;d.components[m]=b;const I=(b.__vccOpts||b)[n];return I&&Br(I,s,a,d,m,u)()}))}}return f}function ux(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hf(t){const n=Rn(Oa),s=Rn(Kc),a=it(()=>{const _=Ae(t.to);return n.resolve(_)}),u=it(()=>{const{matched:_}=a.value,{length:x}=_,E=_[x-1],b=s.matched;if(!E||!b.length)return-1;const v=b.findIndex(ni.bind(null,E));if(v>-1)return v;const I=Wf(_[x-2]);return x>1&&Wf(E)===I&&b[b.length-1].path!==I?b.findIndex(ni.bind(null,_[x-2])):v}),f=it(()=>u.value>-1&&gx(s.params,a.value.params)),d=it(()=>u.value>-1&&u.value===s.matched.length-1&&pd(s.params,a.value.params));function m(_={}){return dx(_)?n[Ae(t.replace)?"replace":"push"](Ae(t.to)).catch(Hi):Promise.resolve()}return{route:a,href:it(()=>a.value.href),isActive:f,isExactActive:d,navigate:m}}const fx=Bh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hf,setup(t,{slots:n}){const s=io(Hf(t)),{options:a}=Rn(Oa),u=it(()=>({[$f(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[$f(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const f=n.default&&n.default(s);return t.custom?f:zc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},f)}}}),hx=fx;function dx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function gx(t,n){for(const s in n){const a=n[s],u=t[s];if(typeof a=="string"){if(a!==u)return!1}else if(!$n(u)||u.length!==a.length||a.some((f,d)=>f!==u[d]))return!1}return!0}function Wf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $f=(t,n,s)=>t??n??s,px=Bh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){const a=Rn(oc),u=it(()=>t.route||a.value),f=Rn(Vf,0),d=it(()=>{let x=Ae(f);const{matched:E}=u.value;let b;for(;(b=E[x])&&!b.components;)x++;return x}),m=it(()=>u.value.matched[d.value]);Wo(Vf,it(()=>d.value+1)),Wo(cx,m),Wo(oc,u);const _=Oe();return ps(()=>[_.value,m.value,t.name],([x,E,b],[v,I,M])=>{E&&(E.instances[b]=x,I&&I!==E&&x&&x===v&&(E.leaveGuards.size||(E.leaveGuards=I.leaveGuards),E.updateGuards.size||(E.updateGuards=I.updateGuards))),x&&E&&(!I||!ni(E,I)||!v)&&(E.enterCallbacks[b]||[]).forEach(R=>R(x))},{flush:"post"}),()=>{const x=u.value,E=t.name,b=m.value,v=b&&b.components[E];if(!v)return Gf(s.default,{Component:v,route:x});const I=b.props[E],M=I?I===!0?x.params:typeof I=="function"?I(x):I:null,K=zc(v,dt({},M,n,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(b.instances[E]=null)},ref:_}));return Gf(s.default,{Component:K,route:x})||K}}});function Gf(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const mx=px;function xx(t){const n=tx(t.routes,t),s=t.parseQuery||ax,a=t.stringifyQuery||Uf,u=t.history,f=Oi(),d=Oi(),m=Oi(),_=pp(Or);let x=Or;$s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=wl.bind(null,ee=>""+ee),b=wl.bind(null,I2),v=wl.bind(null,Qi);function I(ee,he){let xe,Te;return xd(ee)?(xe=n.getRecordMatcher(ee),Te=he):Te=ee,n.addRoute(Te,xe)}function M(ee){const he=n.getRecordMatcher(ee);he&&n.removeRoute(he)}function R(){return n.getRoutes().map(ee=>ee.record)}function K(ee){return!!n.getRecordMatcher(ee)}function J(ee,he){if(he=dt({},he||_.value),typeof ee=="string"){const N=bl(s,ee,he.path),H=n.resolve({path:N.path},he),se=u.createHref(N.fullPath);return dt(N,H,{params:v(H.params),hash:Qi(N.hash),redirectedFrom:void 0,href:se})}let xe;if(ee.path!=null)xe=dt({},ee,{path:bl(s,ee.path,he.path).path});else{const N=dt({},ee.params);for(const H in N)N[H]==null&&delete N[H];xe=dt({},ee,{params:b(N)}),he.params=b(he.params)}const Te=n.resolve(xe,he),Fe=ee.hash||"";Te.params=E(v(Te.params));const ut=R2(a,dt({},ee,{hash:v2(Fe),path:Te.path})),T=u.createHref(ut);return dt({fullPath:ut,hash:Fe,query:a===Uf?lx(ee.query):ee.query||{}},Te,{redirectedFrom:void 0,href:T})}function X(ee){return typeof ee=="string"?bl(s,ee,_.value.path):dt({},ee)}function L(ee,he){if(x!==ee)return ri(8,{from:he,to:ee})}function Z(ee){return k(ee)}function re(ee){return Z(dt(X(ee),{replace:!0}))}function W(ee){const he=ee.matched[ee.matched.length-1];if(he&&he.redirect){const{redirect:xe}=he;let Te=typeof xe=="function"?xe(ee):xe;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=X(Te):{path:Te},Te.params={}),dt({query:ee.query,hash:ee.hash,params:Te.path!=null?{}:ee.params},Te)}}function k(ee,he){const xe=x=J(ee),Te=_.value,Fe=ee.state,ut=ee.force,T=ee.replace===!0,N=W(xe);if(N)return k(dt(X(N),{state:typeof N=="object"?dt({},Fe,N.state):Fe,force:ut,replace:T}),he||xe);const H=xe;H.redirectedFrom=he;let se;return!ut&&D2(a,Te,xe)&&(se=ri(16,{to:H,from:Te}),Xt(Te,Te,!0,!1)),(se?Promise.resolve(se):Ee(H,Te)).catch(q=>lr(q)?lr(q,2)?q:It(q):je(q,H,Te)).then(q=>{if(q){if(lr(q,2))return k(dt({replace:T},X(q.to),{state:typeof q.to=="object"?dt({},Fe,q.to.state):Fe,force:ut}),he||H)}else q=$(H,Te,!0,T,Fe);return _e(H,Te,q),q})}function le(ee,he){const xe=L(ee,he);return xe?Promise.reject(xe):Promise.resolve()}function F(ee){const he=ht.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(ee):ee()}function Ee(ee,he){let xe;const[Te,Fe,ut]=_x(ee,he);xe=Al(Te.reverse(),"beforeRouteLeave",ee,he);for(const N of Te)N.leaveGuards.forEach(H=>{xe.push(Br(H,ee,he))});const T=le.bind(null,ee,he);return xe.push(T),be(xe).then(()=>{xe=[];for(const N of f.list())xe.push(Br(N,ee,he));return xe.push(T),be(xe)}).then(()=>{xe=Al(Fe,"beforeRouteUpdate",ee,he);for(const N of Fe)N.updateGuards.forEach(H=>{xe.push(Br(H,ee,he))});return xe.push(T),be(xe)}).then(()=>{xe=[];for(const N of ut)if(N.beforeEnter)if($n(N.beforeEnter))for(const H of N.beforeEnter)xe.push(Br(H,ee,he));else xe.push(Br(N.beforeEnter,ee,he));return xe.push(T),be(xe)}).then(()=>(ee.matched.forEach(N=>N.enterCallbacks={}),xe=Al(ut,"beforeRouteEnter",ee,he,F),xe.push(T),be(xe))).then(()=>{xe=[];for(const N of d.list())xe.push(Br(N,ee,he));return xe.push(T),be(xe)}).catch(N=>lr(N,8)?N:Promise.reject(N))}function _e(ee,he,xe){m.list().forEach(Te=>F(()=>Te(ee,he,xe)))}function $(ee,he,xe,Te,Fe){const ut=L(ee,he);if(ut)return ut;const T=he===Or,N=$s?history.state:{};xe&&(Te||T?u.replace(ee.fullPath,dt({scroll:T&&N&&N.scroll},Fe)):u.push(ee.fullPath,Fe)),_.value=ee,Xt(ee,he,xe,T),It()}let ne;function Re(){ne||(ne=u.listen((ee,he,xe)=>{if(!jt.listening)return;const Te=J(ee),Fe=W(Te);if(Fe){k(dt(Fe,{replace:!0}),Te).catch(Hi);return}x=Te;const ut=_.value;$s&&V2(Rf(ut.fullPath,xe.delta),Ia()),Ee(Te,ut).catch(T=>lr(T,12)?T:lr(T,2)?(k(T.to,Te).then(N=>{lr(N,20)&&!xe.delta&&xe.type===Ji.pop&&u.go(-1,!1)}).catch(Hi),Promise.reject()):(xe.delta&&u.go(-xe.delta,!1),je(T,Te,ut))).then(T=>{T=T||$(Te,ut,!1),T&&(xe.delta&&!lr(T,8)?u.go(-xe.delta,!1):xe.type===Ji.pop&&lr(T,20)&&u.go(-1,!1)),_e(Te,ut,T)}).catch(Hi)}))}let G=Oi(),Ie=Oi(),fe;function je(ee,he,xe){It(ee);const Te=Ie.list();return Te.length?Te.forEach(Fe=>Fe(ee,he,xe)):console.error(ee),Promise.reject(ee)}function _t(){return fe&&_.value!==Or?Promise.resolve():new Promise((ee,he)=>{G.add([ee,he])})}function It(ee){return fe||(fe=!ee,Re(),G.list().forEach(([he,xe])=>ee?xe(ee):he()),G.reset()),ee}function Xt(ee,he,xe,Te){const{scrollBehavior:Fe}=t;if(!$s||!Fe)return Promise.resolve();const ut=!xe&&H2(Rf(ee.fullPath,0))||(Te||!xe)&&history.state&&history.state.scroll||null;return oo().then(()=>Fe(ee,he,ut)).then(T=>T&&U2(T)).catch(T=>je(T,ee,he))}const Qe=ee=>u.go(ee);let kt;const ht=new Set,jt={currentRoute:_,listening:!0,addRoute:I,removeRoute:M,clearRoutes:n.clearRoutes,hasRoute:K,getRoutes:R,resolve:J,options:t,push:Z,replace:re,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:f.add,beforeResolve:d.add,afterEach:m.add,onError:Ie.add,isReady:_t,install(ee){const he=this;ee.component("RouterLink",hx),ee.component("RouterView",mx),ee.config.globalProperties.$router=he,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>Ae(_)}),$s&&!kt&&_.value===Or&&(kt=!0,Z(u.location).catch(Fe=>{}));const xe={};for(const Fe in Or)Object.defineProperty(xe,Fe,{get:()=>_.value[Fe],enumerable:!0});ee.provide(Oa,he),ee.provide(Kc,bh(xe)),ee.provide(oc,_);const Te=ee.unmount;ht.add(ee),ee.unmount=function(){ht.delete(ee),ht.size<1&&(x=Or,ne&&ne(),ne=null,_.value=Or,kt=!1,fe=!1),Te()}}};function be(ee){return ee.reduce((he,xe)=>he.then(()=>F(xe)),Promise.resolve())}return jt}function _x(t,n){const s=[],a=[],u=[],f=Math.max(n.matched.length,t.matched.length);for(let d=0;d<f;d++){const m=n.matched[d];m&&(t.matched.find(x=>ni(x,m))?a.push(m):s.push(m));const _=t.matched[d];_&&(n.matched.find(x=>ni(x,_))||u.push(_))}return[s,a,u]}function Ss(){return Rn(Oa)}function bd(t){return Rn(Kc)}var Ex=!1;/*!
 * pinia v2.2.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Ad;const Na=t=>Ad=t,yd=Symbol();function ac(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $i;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($i||($i={}));function wx(){const t=lh(!0),n=t.run(()=>Oe({}));let s=[],a=[];const u=kc({install(f){Na(u),u._a=f,f.provide(yd,u),f.config.globalProperties.$pinia=u,a.forEach(d=>s.push(d)),a=[]},use(f){return!this._a&&!Ex?a.push(f):s.push(f),this},_p:s,_a:null,_e:t,_s:new Map,state:n});return u}const Cd=()=>{};function Xf(t,n,s,a=Cd){t.push(n);const u=()=>{const f=t.indexOf(n);f>-1&&(t.splice(f,1),a())};return!s&&ch()&&zg(u),u}function Us(t,...n){t.slice().forEach(s=>{s(...n)})}const bx=t=>t(),jf=Symbol(),yl=Symbol();function lc(t,n){t instanceof Map&&n instanceof Map?n.forEach((s,a)=>t.set(a,s)):t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const s in n){if(!n.hasOwnProperty(s))continue;const a=n[s],u=t[s];ac(u)&&ac(a)&&t.hasOwnProperty(s)&&!ct(a)&&!gs(a)?t[s]=lc(u,a):t[s]=a}return t}const Ax=Symbol();function yx(t){return!ac(t)||!t.hasOwnProperty(Ax)}const{assign:Dr}=Object;function Cx(t){return!!(ct(t)&&t.effect)}function vx(t,n,s,a){const{state:u,actions:f,getters:d}=n,m=s.state.value[t];let _;function x(){m||(s.state.value[t]=u?u():{});const E=_p(s.state.value[t]);return Dr(E,f,Object.keys(d||{}).reduce((b,v)=>(b[v]=kc(it(()=>{Na(s);const I=s._s.get(t);return d[v].call(I,I)})),b),{}))}return _=vd(t,x,n,s,a,!0),_}function vd(t,n,s={},a,u,f){let d;const m=Dr({actions:{}},s),_={deep:!0};let x,E,b=[],v=[],I;const M=a.state.value[t];!f&&!M&&(a.state.value[t]={}),Oe({});let R;function K(le){let F;x=E=!1,typeof le=="function"?(le(a.state.value[t]),F={type:$i.patchFunction,storeId:t,events:I}):(lc(a.state.value[t],le),F={type:$i.patchObject,payload:le,storeId:t,events:I});const Ee=R=Symbol();oo().then(()=>{R===Ee&&(x=!0)}),E=!0,Us(b,F,a.state.value[t])}const J=f?function(){const{state:F}=s,Ee=F?F():{};this.$patch(_e=>{Dr(_e,Ee)})}:Cd;function X(){d.stop(),b=[],v=[],a._s.delete(t)}const L=(le,F="")=>{if(jf in le)return le[yl]=F,le;const Ee=function(){Na(a);const _e=Array.from(arguments),$=[],ne=[];function Re(fe){$.push(fe)}function G(fe){ne.push(fe)}Us(v,{args:_e,name:Ee[yl],store:re,after:Re,onError:G});let Ie;try{Ie=le.apply(this&&this.$id===t?this:re,_e)}catch(fe){throw Us(ne,fe),fe}return Ie instanceof Promise?Ie.then(fe=>(Us($,fe),fe)).catch(fe=>(Us(ne,fe),Promise.reject(fe))):(Us($,Ie),Ie)};return Ee[jf]=!0,Ee[yl]=F,Ee},Z={_p:a,$id:t,$onAction:Xf.bind(null,v),$patch:K,$reset:J,$subscribe(le,F={}){const Ee=Xf(b,le,F.detached,()=>_e()),_e=d.run(()=>ps(()=>a.state.value[t],$=>{(F.flush==="sync"?E:x)&&le({storeId:t,type:$i.direct,events:I},$)},Dr({},_,F)));return Ee},$dispose:X},re=io(Z);a._s.set(t,re);const k=(a._a&&a._a.runWithContext||bx)(()=>a._e.run(()=>(d=lh()).run(()=>n({action:L}))));for(const le in k){const F=k[le];if(ct(F)&&!Cx(F)||gs(F))f||(M&&yx(F)&&(ct(F)?F.value=M[le]:lc(F,M[le])),a.state.value[t][le]=F);else if(typeof F=="function"){const Ee=L(F,le);k[le]=Ee,m.actions[le]=F}}return Dr(re,k),Dr(st(re),k),Object.defineProperty(re,"$state",{get:()=>a.state.value[t],set:le=>{K(F=>{Dr(F,le)})}}),a._p.forEach(le=>{Dr(re,d.run(()=>le({store:re,app:a._a,pinia:a,options:m})))}),M&&f&&s.hydrate&&s.hydrate(re.$state,M),x=!0,E=!0,re}function Ra(t,n,s){let a,u;const f=typeof n=="function";typeof t=="string"?(a=t,u=f?s:n):(u=t,a=t.id);function d(m,_){const x=qp();return m=m||(x?Rn(yd,null):null),m&&Na(m),m=Ad,m._s.has(a)||(f?vd(a,n,u,m):vx(a,u,m)),m._s.get(a)}return d.$id=a,d}function Td(t,n){return function(){return t.apply(n,arguments)}}const{toString:Tx}=Object.prototype,{getPrototypeOf:qc}=Object,Da=(t=>n=>{const s=Tx.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Gn=t=>(t=t.toLowerCase(),n=>Da(n)===t),Ma=t=>n=>typeof n===t,{isArray:di}=Array,eo=Ma("undefined");function Sx(t){return t!==null&&!eo(t)&&t.constructor!==null&&!eo(t.constructor)&&Dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Sd=Gn("ArrayBuffer");function Ix(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Sd(t.buffer),n}const Ox=Ma("string"),Dn=Ma("function"),Id=Ma("number"),La=t=>t!==null&&typeof t=="object",Nx=t=>t===!0||t===!1,Xo=t=>{if(Da(t)!=="object")return!1;const n=qc(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rx=Gn("Date"),Dx=Gn("File"),Mx=Gn("Blob"),Lx=Gn("FileList"),Px=t=>La(t)&&Dn(t.pipe),Bx=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Dn(t.append)&&((n=Da(t))==="formdata"||n==="object"&&Dn(t.toString)&&t.toString()==="[object FormData]"))},kx=Gn("URLSearchParams"),[Fx,Ux,Vx,Hx]=["ReadableStream","Request","Response","Headers"].map(Gn),Wx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lo(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,u;if(typeof t!="object"&&(t=[t]),di(t))for(a=0,u=t.length;a<u;a++)n.call(null,t[a],a,t);else{const f=s?Object.getOwnPropertyNames(t):Object.keys(t),d=f.length;let m;for(a=0;a<d;a++)m=f[a],n.call(null,t[m],m,t)}}function Od(t,n){n=n.toLowerCase();const s=Object.keys(t);let a=s.length,u;for(;a-- >0;)if(u=s[a],n===u.toLowerCase())return u;return null}const Nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rd=t=>!eo(t)&&t!==Nd;function cc(){const{caseless:t}=Rd(this)&&this||{},n={},s=(a,u)=>{const f=t&&Od(n,u)||u;Xo(n[f])&&Xo(a)?n[f]=cc(n[f],a):Xo(a)?n[f]=cc({},a):di(a)?n[f]=a.slice():n[f]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&lo(arguments[a],s);return n}const $x=(t,n,s,{allOwnKeys:a}={})=>(lo(n,(u,f)=>{s&&Dn(u)?t[f]=Td(u,s):t[f]=u},{allOwnKeys:a}),t),Gx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xx=(t,n,s,a)=>{t.prototype=Object.create(n.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},jx=(t,n,s,a)=>{let u,f,d;const m={};if(n=n||{},t==null)return n;do{for(u=Object.getOwnPropertyNames(t),f=u.length;f-- >0;)d=u[f],(!a||a(d,t,n))&&!m[d]&&(n[d]=t[d],m[d]=!0);t=s!==!1&&qc(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},zx=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const a=t.indexOf(n,s);return a!==-1&&a===s},Yx=t=>{if(!t)return null;if(di(t))return t;let n=t.length;if(!Id(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},Kx=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&qc(Uint8Array)),qx=(t,n)=>{const a=(t&&t[Symbol.iterator]).call(t);let u;for(;(u=a.next())&&!u.done;){const f=u.value;n.call(t,f[0],f[1])}},Zx=(t,n)=>{let s;const a=[];for(;(s=t.exec(n))!==null;)a.push(s);return a},Qx=Gn("HTMLFormElement"),Jx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),zf=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),e_=Gn("RegExp"),Dd=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),a={};lo(s,(u,f)=>{let d;(d=n(u,f,t))!==!1&&(a[f]=d||u)}),Object.defineProperties(t,a)},t_=t=>{Dd(t,(n,s)=>{if(Dn(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Dn(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},n_=(t,n)=>{const s={},a=u=>{u.forEach(f=>{s[f]=!0})};return di(t)?a(t):a(String(t).split(n)),s},r_=()=>{},s_=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,Cl="abcdefghijklmnopqrstuvwxyz",Yf="0123456789",Md={DIGIT:Yf,ALPHA:Cl,ALPHA_DIGIT:Cl+Cl.toUpperCase()+Yf},i_=(t=16,n=Md.ALPHA_DIGIT)=>{let s="";const{length:a}=n;for(;t--;)s+=n[Math.random()*a|0];return s};function o_(t){return!!(t&&Dn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const a_=t=>{const n=new Array(10),s=(a,u)=>{if(La(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[u]=a;const f=di(a)?[]:{};return lo(a,(d,m)=>{const _=s(d,u+1);!eo(_)&&(f[m]=_)}),n[u]=void 0,f}}return a};return s(t,0)},l_=Gn("AsyncFunction"),c_=t=>t&&(La(t)||Dn(t))&&Dn(t.then)&&Dn(t.catch),Q={isArray:di,isArrayBuffer:Sd,isBuffer:Sx,isFormData:Bx,isArrayBufferView:Ix,isString:Ox,isNumber:Id,isBoolean:Nx,isObject:La,isPlainObject:Xo,isReadableStream:Fx,isRequest:Ux,isResponse:Vx,isHeaders:Hx,isUndefined:eo,isDate:Rx,isFile:Dx,isBlob:Mx,isRegExp:e_,isFunction:Dn,isStream:Px,isURLSearchParams:kx,isTypedArray:Kx,isFileList:Lx,forEach:lo,merge:cc,extend:$x,trim:Wx,stripBOM:Gx,inherits:Xx,toFlatObject:jx,kindOf:Da,kindOfTest:Gn,endsWith:zx,toArray:Yx,forEachEntry:qx,matchAll:Zx,isHTMLForm:Qx,hasOwnProperty:zf,hasOwnProp:zf,reduceDescriptors:Dd,freezeMethods:t_,toObjectSet:n_,toCamelCase:Jx,noop:r_,toFiniteNumber:s_,findKey:Od,global:Nd,isContextDefined:Rd,ALPHABET:Md,generateString:i_,isSpecCompliantForm:o_,toJSONObject:a_,isAsyncFn:l_,isThenable:c_};function Xe(t,n,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}Q.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ld=Xe.prototype,Pd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Pd[t]={value:t}});Object.defineProperties(Xe,Pd);Object.defineProperty(Ld,"isAxiosError",{value:!0});Xe.from=(t,n,s,a,u,f)=>{const d=Object.create(Ld);return Q.toFlatObject(t,d,function(_){return _!==Error.prototype},m=>m!=="isAxiosError"),Xe.call(d,t.message,n,s,a,u),d.cause=t,d.name=t.name,f&&Object.assign(d,f),d};const u_=null;function uc(t){return Q.isPlainObject(t)||Q.isArray(t)}function Bd(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function Kf(t,n,s){return t?t.concat(n).map(function(u,f){return u=Bd(u),!s&&f?"["+u+"]":u}).join(s?".":""):n}function f_(t){return Q.isArray(t)&&!t.some(uc)}const h_=Q.toFlatObject(Q,{},null,function(n){return/^is[A-Z]/.test(n)});function Pa(t,n,s){if(!Q.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=Q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,K){return!Q.isUndefined(K[R])});const a=s.metaTokens,u=s.visitor||E,f=s.dots,d=s.indexes,_=(s.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(n);if(!Q.isFunction(u))throw new TypeError("visitor must be a function");function x(M){if(M===null)return"";if(Q.isDate(M))return M.toISOString();if(!_&&Q.isBlob(M))throw new Xe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(M)||Q.isTypedArray(M)?_&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function E(M,R,K){let J=M;if(M&&!K&&typeof M=="object"){if(Q.endsWith(R,"{}"))R=a?R:R.slice(0,-2),M=JSON.stringify(M);else if(Q.isArray(M)&&f_(M)||(Q.isFileList(M)||Q.endsWith(R,"[]"))&&(J=Q.toArray(M)))return R=Bd(R),J.forEach(function(L,Z){!(Q.isUndefined(L)||L===null)&&n.append(d===!0?Kf([R],Z,f):d===null?R:R+"[]",x(L))}),!1}return uc(M)?!0:(n.append(Kf(K,R,f),x(M)),!1)}const b=[],v=Object.assign(h_,{defaultVisitor:E,convertValue:x,isVisitable:uc});function I(M,R){if(!Q.isUndefined(M)){if(b.indexOf(M)!==-1)throw Error("Circular reference detected in "+R.join("."));b.push(M),Q.forEach(M,function(J,X){(!(Q.isUndefined(J)||J===null)&&u.call(n,J,Q.isString(X)?X.trim():X,R,v))===!0&&I(J,R?R.concat(X):[X])}),b.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return I(t),n}function qf(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function Zc(t,n){this._pairs=[],t&&Pa(t,this,n)}const kd=Zc.prototype;kd.append=function(n,s){this._pairs.push([n,s])};kd.toString=function(n){const s=n?function(a){return n.call(this,a,qf)}:qf;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function d_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fd(t,n,s){if(!n)return t;const a=s&&s.encode||d_,u=s&&s.serialize;let f;if(u?f=u(n,s):f=Q.isURLSearchParams(n)?n.toString():new Zc(n,s).toString(a),f){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class Zf{constructor(){this.handlers=[]}use(n,s,a){return this.handlers.push({fulfilled:n,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Q.forEach(this.handlers,function(a){a!==null&&n(a)})}}const Ud={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g_=typeof URLSearchParams<"u"?URLSearchParams:Zc,p_=typeof FormData<"u"?FormData:null,m_=typeof Blob<"u"?Blob:null,x_={isBrowser:!0,classes:{URLSearchParams:g_,FormData:p_,Blob:m_},protocols:["http","https","file","blob","url","data"]},Qc=typeof window<"u"&&typeof document<"u",__=(t=>Qc&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),E_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w_=Qc&&window.location.href||"http://localhost",b_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qc,hasStandardBrowserEnv:__,hasStandardBrowserWebWorkerEnv:E_,origin:w_},Symbol.toStringTag,{value:"Module"})),Hn={...b_,...x_};function A_(t,n){return Pa(t,new Hn.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,f){return Hn.isNode&&Q.isBuffer(s)?(this.append(a,s.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function y_(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function C_(t){const n={},s=Object.keys(t);let a;const u=s.length;let f;for(a=0;a<u;a++)f=s[a],n[f]=t[f];return n}function Vd(t){function n(s,a,u,f){let d=s[f++];if(d==="__proto__")return!0;const m=Number.isFinite(+d),_=f>=s.length;return d=!d&&Q.isArray(u)?u.length:d,_?(Q.hasOwnProp(u,d)?u[d]=[u[d],a]:u[d]=a,!m):((!u[d]||!Q.isObject(u[d]))&&(u[d]=[]),n(s,a,u[d],f)&&Q.isArray(u[d])&&(u[d]=C_(u[d])),!m)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const s={};return Q.forEachEntry(t,(a,u)=>{n(y_(a),u,s,0)}),s}return null}function v_(t,n,s){if(Q.isString(t))try{return(n||JSON.parse)(t),Q.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const co={transitional:Ud,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,f=Q.isObject(n);if(f&&Q.isHTMLForm(n)&&(n=new FormData(n)),Q.isFormData(n))return u?JSON.stringify(Vd(n)):n;if(Q.isArrayBuffer(n)||Q.isBuffer(n)||Q.isStream(n)||Q.isFile(n)||Q.isBlob(n)||Q.isReadableStream(n))return n;if(Q.isArrayBufferView(n))return n.buffer;if(Q.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return A_(n,this.formSerializer).toString();if((m=Q.isFileList(n))||a.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Pa(m?{"files[]":n}:n,_&&new _,this.formSerializer)}}return f||u?(s.setContentType("application/json",!1),v_(n)):n}],transformResponse:[function(n){const s=this.transitional||co.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(Q.isResponse(n)||Q.isReadableStream(n))return n;if(n&&Q.isString(n)&&(a&&!this.responseType||u)){const d=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(m){if(d)throw m.name==="SyntaxError"?Xe.from(m,Xe.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{co.headers[t]={}});const T_=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S_=t=>{const n={};let s,a,u;return t&&t.split(`
`).forEach(function(d){u=d.indexOf(":"),s=d.substring(0,u).trim().toLowerCase(),a=d.substring(u+1).trim(),!(!s||n[s]&&T_[s])&&(s==="set-cookie"?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},Qf=Symbol("internals");function Ni(t){return t&&String(t).trim().toLowerCase()}function jo(t){return t===!1||t==null?t:Q.isArray(t)?t.map(jo):String(t)}function I_(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)n[a[1]]=a[2];return n}const O_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vl(t,n,s,a,u){if(Q.isFunction(a))return a.call(this,n,s);if(u&&(n=s),!!Q.isString(n)){if(Q.isString(a))return n.indexOf(a)!==-1;if(Q.isRegExp(a))return a.test(n)}}function N_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,a)=>s.toUpperCase()+a)}function R_(t,n){const s=Q.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(u,f,d){return this[a].call(this,n,u,f,d)},configurable:!0})})}class gn{constructor(n){n&&this.set(n)}set(n,s,a){const u=this;function f(m,_,x){const E=Ni(_);if(!E)throw new Error("header name must be a non-empty string");const b=Q.findKey(u,E);(!b||u[b]===void 0||x===!0||x===void 0&&u[b]!==!1)&&(u[b||_]=jo(m))}const d=(m,_)=>Q.forEach(m,(x,E)=>f(x,E,_));if(Q.isPlainObject(n)||n instanceof this.constructor)d(n,s);else if(Q.isString(n)&&(n=n.trim())&&!O_(n))d(S_(n),s);else if(Q.isHeaders(n))for(const[m,_]of n.entries())f(_,m,a);else n!=null&&f(s,n,a);return this}get(n,s){if(n=Ni(n),n){const a=Q.findKey(this,n);if(a){const u=this[a];if(!s)return u;if(s===!0)return I_(u);if(Q.isFunction(s))return s.call(this,u,a);if(Q.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Ni(n),n){const a=Q.findKey(this,n);return!!(a&&this[a]!==void 0&&(!s||vl(this,this[a],a,s)))}return!1}delete(n,s){const a=this;let u=!1;function f(d){if(d=Ni(d),d){const m=Q.findKey(a,d);m&&(!s||vl(a,a[m],m,s))&&(delete a[m],u=!0)}}return Q.isArray(n)?n.forEach(f):f(n),u}clear(n){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const f=s[a];(!n||vl(this,this[f],f,n,!0))&&(delete this[f],u=!0)}return u}normalize(n){const s=this,a={};return Q.forEach(this,(u,f)=>{const d=Q.findKey(a,f);if(d){s[d]=jo(u),delete s[f];return}const m=n?N_(f):String(f).trim();m!==f&&delete s[f],s[m]=jo(u),a[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return Q.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=n&&Q.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const a=new this(n);return s.forEach(u=>a.set(u)),a}static accessor(n){const a=(this[Qf]=this[Qf]={accessors:{}}).accessors,u=this.prototype;function f(d){const m=Ni(d);a[m]||(R_(u,d),a[m]=!0)}return Q.isArray(n)?n.forEach(f):f(n),this}}gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(gn.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(a){this[s]=a}}});Q.freezeMethods(gn);function Tl(t,n){const s=this||co,a=n||s,u=gn.from(a.headers);let f=a.data;return Q.forEach(t,function(m){f=m.call(s,f,u.normalize(),n?n.status:void 0)}),u.normalize(),f}function Hd(t){return!!(t&&t.__CANCEL__)}function gi(t,n,s){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,n,s),this.name="CanceledError"}Q.inherits(gi,Xe,{__CANCEL__:!0});function Wd(t,n,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):n(new Xe("Request failed with status code "+s.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function D_(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function M_(t,n){t=t||10;const s=new Array(t),a=new Array(t);let u=0,f=0,d;return n=n!==void 0?n:1e3,function(_){const x=Date.now(),E=a[f];d||(d=x),s[u]=_,a[u]=x;let b=f,v=0;for(;b!==u;)v+=s[b++],b=b%t;if(u=(u+1)%t,u===f&&(f=(f+1)%t),x-d<n)return;const I=E&&x-E;return I?Math.round(v*1e3/I):void 0}}function L_(t,n){let s=0;const a=1e3/n;let u=null;return function(){const d=this===!0,m=Date.now();if(d||m-s>a)return u&&(clearTimeout(u),u=null),s=m,t.apply(null,arguments);u||(u=setTimeout(()=>(u=null,s=Date.now(),t.apply(null,arguments)),a-(m-s)))}}const sa=(t,n,s=3)=>{let a=0;const u=M_(50,250);return L_(f=>{const d=f.loaded,m=f.lengthComputable?f.total:void 0,_=d-a,x=u(_),E=d<=m;a=d;const b={loaded:d,total:m,progress:m?d/m:void 0,bytes:_,rate:x||void 0,estimated:x&&m&&E?(m-d)/x:void 0,event:f,lengthComputable:m!=null};b[n?"download":"upload"]=!0,t(b)},s)},P_=Hn.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(f){let d=f;return n&&(s.setAttribute("href",d),d=s.href),s.setAttribute("href",d),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(d){const m=Q.isString(d)?u(d):d;return m.protocol===a.protocol&&m.host===a.host}}():function(){return function(){return!0}}(),B_=Hn.hasStandardBrowserEnv?{write(t,n,s,a,u,f){const d=[t+"="+encodeURIComponent(n)];Q.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),Q.isString(a)&&d.push("path="+a),Q.isString(u)&&d.push("domain="+u),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F_(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function $d(t,n){return t&&!k_(n)?F_(t,n):n}const Jf=t=>t instanceof gn?{...t}:t;function Es(t,n){n=n||{};const s={};function a(x,E,b){return Q.isPlainObject(x)&&Q.isPlainObject(E)?Q.merge.call({caseless:b},x,E):Q.isPlainObject(E)?Q.merge({},E):Q.isArray(E)?E.slice():E}function u(x,E,b){if(Q.isUndefined(E)){if(!Q.isUndefined(x))return a(void 0,x,b)}else return a(x,E,b)}function f(x,E){if(!Q.isUndefined(E))return a(void 0,E)}function d(x,E){if(Q.isUndefined(E)){if(!Q.isUndefined(x))return a(void 0,x)}else return a(void 0,E)}function m(x,E,b){if(b in n)return a(x,E);if(b in t)return a(void 0,x)}const _={url:f,method:f,data:f,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(x,E)=>u(Jf(x),Jf(E),!0)};return Q.forEach(Object.keys(Object.assign({},t,n)),function(E){const b=_[E]||u,v=b(t[E],n[E],E);Q.isUndefined(v)&&b!==m||(s[E]=v)}),s}const Gd=t=>{const n=Es({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:f,headers:d,auth:m}=n;n.headers=d=gn.from(d),n.url=Fd($d(n.baseURL,n.url),t.params,t.paramsSerializer),m&&d.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let _;if(Q.isFormData(s)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((_=d.getContentType())!==!1){const[x,...E]=_?_.split(";").map(b=>b.trim()).filter(Boolean):[];d.setContentType([x||"multipart/form-data",...E].join("; "))}}if(Hn.hasStandardBrowserEnv&&(a&&Q.isFunction(a)&&(a=a(n)),a||a!==!1&&P_(n.url))){const x=u&&f&&B_.read(f);x&&d.set(u,x)}return n},U_=typeof XMLHttpRequest<"u",V_=U_&&function(t){return new Promise(function(s,a){const u=Gd(t);let f=u.data;const d=gn.from(u.headers).normalize();let{responseType:m}=u,_;function x(){u.cancelToken&&u.cancelToken.unsubscribe(_),u.signal&&u.signal.removeEventListener("abort",_)}let E=new XMLHttpRequest;E.open(u.method.toUpperCase(),u.url,!0),E.timeout=u.timeout;function b(){if(!E)return;const I=gn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:I,config:t,request:E};Wd(function(J){s(J),x()},function(J){a(J),x()},R),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(a(new Xe("Request aborted",Xe.ECONNABORTED,u,E)),E=null)},E.onerror=function(){a(new Xe("Network Error",Xe.ERR_NETWORK,u,E)),E=null},E.ontimeout=function(){let M=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const R=u.transitional||Ud;u.timeoutErrorMessage&&(M=u.timeoutErrorMessage),a(new Xe(M,R.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,u,E)),E=null},f===void 0&&d.setContentType(null),"setRequestHeader"in E&&Q.forEach(d.toJSON(),function(M,R){E.setRequestHeader(R,M)}),Q.isUndefined(u.withCredentials)||(E.withCredentials=!!u.withCredentials),m&&m!=="json"&&(E.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&E.addEventListener("progress",sa(u.onDownloadProgress,!0)),typeof u.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",sa(u.onUploadProgress)),(u.cancelToken||u.signal)&&(_=I=>{E&&(a(!I||I.type?new gi(null,t,E):I),E.abort(),E=null)},u.cancelToken&&u.cancelToken.subscribe(_),u.signal&&(u.signal.aborted?_():u.signal.addEventListener("abort",_)));const v=D_(u.url);if(v&&Hn.protocols.indexOf(v)===-1){a(new Xe("Unsupported protocol "+v+":",Xe.ERR_BAD_REQUEST,t));return}E.send(f||null)})},H_=(t,n)=>{let s=new AbortController,a;const u=function(_){if(!a){a=!0,d();const x=_ instanceof Error?_:this.reason;s.abort(x instanceof Xe?x:new gi(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{u(new Xe(`timeout ${n} of ms exceeded`,Xe.ETIMEDOUT))},n);const d=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(_=>{_&&(_.removeEventListener?_.removeEventListener("abort",u):_.unsubscribe(u))}),t=null)};t.forEach(_=>_&&_.addEventListener&&_.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=d,[m,()=>{f&&clearTimeout(f),f=null}]},W_=function*(t,n){let s=t.byteLength;if(!n||s<n){yield t;return}let a=0,u;for(;a<s;)u=a+n,yield t.slice(a,u),a=u},$_=async function*(t,n,s){for await(const a of t)yield*W_(ArrayBuffer.isView(a)?a:await s(String(a)),n)},e1=(t,n,s,a,u)=>{const f=$_(t,n,u);let d=0;return new ReadableStream({type:"bytes",async pull(m){const{done:_,value:x}=await f.next();if(_){m.close(),a();return}let E=x.byteLength;s&&s(d+=E),m.enqueue(new Uint8Array(x))},cancel(m){return a(m),f.return()}},{highWaterMark:2})},t1=(t,n)=>{const s=t!=null;return a=>setTimeout(()=>n({lengthComputable:s,total:t,loaded:a}))},Ba=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xd=Ba&&typeof ReadableStream=="function",fc=Ba&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),G_=Xd&&(()=>{let t=!1;const n=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),n1=64*1024,hc=Xd&&!!(()=>{try{return Q.isReadableStream(new Response("").body)}catch{}})(),ia={stream:hc&&(t=>t.body)};Ba&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ia[n]&&(ia[n]=Q.isFunction(t[n])?s=>s[n]():(s,a)=>{throw new Xe(`Response type '${n}' is not supported`,Xe.ERR_NOT_SUPPORT,a)})})})(new Response);const X_=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await fc(t)).byteLength},j_=async(t,n)=>{const s=Q.toFiniteNumber(t.getContentLength());return s??X_(n)},z_=Ba&&(async t=>{let{url:n,method:s,data:a,signal:u,cancelToken:f,timeout:d,onDownloadProgress:m,onUploadProgress:_,responseType:x,headers:E,withCredentials:b="same-origin",fetchOptions:v}=Gd(t);x=x?(x+"").toLowerCase():"text";let[I,M]=u||f||d?H_([u,f],d):[],R,K;const J=()=>{!R&&setTimeout(()=>{I&&I.unsubscribe()}),R=!0};let X;try{if(_&&G_&&s!=="get"&&s!=="head"&&(X=await j_(E,a))!==0){let W=new Request(n,{method:"POST",body:a,duplex:"half"}),k;Q.isFormData(a)&&(k=W.headers.get("content-type"))&&E.setContentType(k),W.body&&(a=e1(W.body,n1,t1(X,sa(_)),null,fc))}Q.isString(b)||(b=b?"cors":"omit"),K=new Request(n,{...v,signal:I,method:s.toUpperCase(),headers:E.normalize().toJSON(),body:a,duplex:"half",withCredentials:b});let L=await fetch(K);const Z=hc&&(x==="stream"||x==="response");if(hc&&(m||Z)){const W={};["status","statusText","headers"].forEach(le=>{W[le]=L[le]});const k=Q.toFiniteNumber(L.headers.get("content-length"));L=new Response(e1(L.body,n1,m&&t1(k,sa(m,!0)),Z&&J,fc),W)}x=x||"text";let re=await ia[Q.findKey(ia,x)||"text"](L,t);return!Z&&J(),M&&M(),await new Promise((W,k)=>{Wd(W,k,{data:re,headers:gn.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:K})})}catch(L){throw J(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,t,K),{cause:L.cause||L}):Xe.from(L,L&&L.code,t,K)}}),dc={http:u_,xhr:V_,fetch:z_};Q.forEach(dc,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const r1=t=>`- ${t}`,Y_=t=>Q.isFunction(t)||t===null||t===!1,jd={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:n}=t;let s,a;const u={};for(let f=0;f<n;f++){s=t[f];let d;if(a=s,!Y_(s)&&(a=dc[(d=String(s)).toLowerCase()],a===void 0))throw new Xe(`Unknown adapter '${d}'`);if(a)break;u[d||"#"+f]=a}if(!a){const f=Object.entries(u).map(([m,_])=>`adapter ${m} `+(_===!1?"is not supported by the environment":"is not available in the build"));let d=n?f.length>1?`since :
`+f.map(r1).join(`
`):" "+r1(f[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:dc};function Sl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gi(null,t)}function s1(t){return Sl(t),t.headers=gn.from(t.headers),t.data=Tl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jd.getAdapter(t.adapter||co.adapter)(t).then(function(a){return Sl(t),a.data=Tl.call(t,t.transformResponse,a),a.headers=gn.from(a.headers),a},function(a){return Hd(a)||(Sl(t),a&&a.response&&(a.response.data=Tl.call(t,t.transformResponse,a.response),a.response.headers=gn.from(a.response.headers))),Promise.reject(a)})}const zd="1.7.2",Jc={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Jc[t]=function(a){return typeof a===t||"a"+(n<1?"n ":" ")+t}});const i1={};Jc.transitional=function(n,s,a){function u(f,d){return"[Axios v"+zd+"] Transitional option '"+f+"'"+d+(a?". "+a:"")}return(f,d,m)=>{if(n===!1)throw new Xe(u(d," has been removed"+(s?" in "+s:"")),Xe.ERR_DEPRECATED);return s&&!i1[d]&&(i1[d]=!0,console.warn(u(d," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(f,d,m):!0}};function K_(t,n,s){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let u=a.length;for(;u-- >0;){const f=a[u],d=n[f];if(d){const m=t[f],_=m===void 0||d(m,f,t);if(_!==!0)throw new Xe("option "+f+" must be "+_,Xe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Xe("Unknown option "+f,Xe.ERR_BAD_OPTION)}}const gc={assertOptions:K_,validators:Jc},Nr=gc.validators;class ms{constructor(n){this.defaults=n,this.interceptors={request:new Zf,response:new Zf}}async request(n,s){try{return await this._request(n,s)}catch(a){if(a instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=Es(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:f}=s;a!==void 0&&gc.assertOptions(a,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),u!=null&&(Q.isFunction(u)?s.paramsSerializer={serialize:u}:gc.assertOptions(u,{encode:Nr.function,serialize:Nr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=f&&Q.merge(f.common,f[s.method]);f&&Q.forEach(["delete","get","head","post","put","patch","common"],M=>{delete f[M]}),s.headers=gn.concat(d,f);const m=[];let _=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(_=_&&R.synchronous,m.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let E,b=0,v;if(!_){const M=[s1.bind(this),void 0];for(M.unshift.apply(M,m),M.push.apply(M,x),v=M.length,E=Promise.resolve(s);b<v;)E=E.then(M[b++],M[b++]);return E}v=m.length;let I=s;for(b=0;b<v;){const M=m[b++],R=m[b++];try{I=M(I)}catch(K){R.call(this,K);break}}try{E=s1.call(this,I)}catch(M){return Promise.reject(M)}for(b=0,v=x.length;b<v;)E=E.then(x[b++],x[b++]);return E}getUri(n){n=Es(this.defaults,n);const s=$d(n.baseURL,n.url);return Fd(s,n.params,n.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(n){ms.prototype[n]=function(s,a){return this.request(Es(a||{},{method:n,url:s,data:(a||{}).data}))}});Q.forEach(["post","put","patch"],function(n){function s(a){return function(f,d,m){return this.request(Es(m||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:d}))}}ms.prototype[n]=s(),ms.prototype[n+"Form"]=s(!0)});class eu{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(f){s=f});const a=this;this.promise.then(u=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](u);a._listeners=null}),this.promise.then=u=>{let f;const d=new Promise(m=>{a.subscribe(m),f=m}).then(u);return d.cancel=function(){a.unsubscribe(f)},d},n(function(f,d,m){a.reason||(a.reason=new gi(f,d,m),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new eu(function(u){n=u}),cancel:n}}}function q_(t){return function(s){return t.apply(null,s)}}function Z_(t){return Q.isObject(t)&&t.isAxiosError===!0}const pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pc).forEach(([t,n])=>{pc[n]=t});function Yd(t){const n=new ms(t),s=Td(ms.prototype.request,n);return Q.extend(s,ms.prototype,n,{allOwnKeys:!0}),Q.extend(s,n,null,{allOwnKeys:!0}),s.create=function(u){return Yd(Es(t,u))},s}const St=Yd(co);St.Axios=ms;St.CanceledError=gi;St.CancelToken=eu;St.isCancel=Hd;St.VERSION=zd;St.toFormData=Pa;St.AxiosError=Xe;St.Cancel=St.CanceledError;St.all=function(n){return Promise.all(n)};St.spread=q_;St.isAxiosError=Z_;St.mergeConfig=Es;St.AxiosHeaders=gn;St.formToJSON=t=>Vd(Q.isHTMLForm(t)?new FormData(t):t);St.getAdapter=jd.getAdapter;St.HttpStatusCode=pc;St.default=St;let Q_="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const ws=Ra("users",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await St.get(Q_,{params:{table:"users"}});this.data=t.data,console.log("useUsersStore:",this.data)}catch(t){console.log("call api error: "+t);return}},async get_user_by_email(t){this.data===null&&await this.callAPI();for(let n=0;n<this.data.length;n++)if(this.data[n].email===t)return console.log("user found: ",this.data[n]),this.data[n];return console.log("user not found."),!1}},getters:{get_data(){return this.data}}});let J_="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const si=Ra("clubs",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await St.get(J_,{params:{table:"clubs"}});this.data=t.data,console.log("useClubsStore:",this.data)}catch(t){console.log("call api error: ",t);return}},async get_club_by_email(t){this.data===null&&await this.callAPI();const n=this.data.find(s=>s.email===t);return n||(console.log("club not found."),null)},async get_user_by_email_password(t,n){this.data===null&&await this.callAPI();for(let s=0;s<this.data.length;s++)if(console.log(this.data[s].email,this.data[s].password),this.data[s].email==t&&this.data[s].password==n)return this.data[s];return console.log("club not found."),!1}},getters:{}});let eE="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const to=Ra("records",{state:()=>({data:null}),actions:{async callAPI(){const t=await St.get(eE,{params:{table:"records"}});this.data=t.data.reverse(),console.log("useRecordsStore:",this.data)},async query_record(t,n,s){console.log("query_record(",t,", ",n,", ",s,")"),await this.callAPI(),console.log(this.data);for(let a=0;a<this.data.length;a++)if(console.log(this.data[a].club_email,this.data[a].user_email,this.data[a].is_ig),this.data[a].club_email==t&&this.data[a].user_email==n&&this.data[a].is_ig==s)return console.log("record found:"),console.log(this.data[a]),this.data[a];return console.log("record not found."),!1},async query_by_user(t){const n=si();await this.callAPI();let s=[];const a=Oe();for(let u=0;u<this.data.length;u++)if(this.data[u].user_email===t){a.value=await n.get_club_by_email(this.data[u].club_email);let f=a.value.name,d=a.value.text_on_stamp;s.push({user_email:this.data[u].user_email,club_name:f,club_stamp:d,club_email:this.data[u].club_email,created_time:this.data[u].created_time,is_ig:this.data[u].is_ig})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s},async query_by_club(t){const n=ws();await this.callAPI();let s=[];const a=Oe();for(let u=0;u<this.data.length;u++)if(console.log(this.data[u].club_email),this.data[u].club_email===t){a.value=await n.get_user_by_email(this.data[u].user_email),console.log(a.value);let f=a.value.name;console.log("user_name: ",f),s.push({user_name:f,created_time:this.data[u].created_time,is_ig:this.data[u].is_ig})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s}},getters:{}}),or=Ra("auth",{state:()=>({name:null,nick_name:null,department:null,email:null,phone:null,stamps:null,is_club:!1,token:null,access_priv:!1,is_staff:!1,records:null}),actions:{async get_user_records(){const t=to();this.isLoggedIn&&(this.records=await t.query_by_user(this.email),console.log("email: "+this.email,this.records))},async get_club_records(){const t=to();this.isLoggedIn&&(this.records=await t.query_by_club(this.email),console.log("email: "+this.email,this.records))},async user_login(t){t=t.toLowerCase();const n=ws();try{const s=await n.get_user_by_email(t);console.log("user:",s),s?(this.token=s.user_id,this.access_priv=s.access_priv,this.name=s.name,this.nick_name=s.nick_name,this.department=s.department,this.email=s.email,this.phone=s.phone_number,console.log("user login successful!")):console.log("login failed :(")}catch(s){return console.error("Login error:",s),!1}},async club_login(t,n){console.log("email:",t,"password:",n);const a=await si().get_user_by_email_password(t,n);if(console.log("club: "+a),a)this.token=a.club_id,this.access_priv=a.access_priv,this.is_staff=a.is_staff,this.is_club=!0,this.name=a.name,this.email=a.email,console.log("club login successful!");else{console.log("login failed :(");return}},logout(){this.token=null,this.is_club=!1,this.records=null,this.name=null,this.nick_name=null,this.department=null,this.email=null,this.phone=null,console.log("logout successed :p")},async update_auth(){if(!this.isLoggedIn)return;const t=ws();await t.callAPI();try{const n=await t.get_user_by_email(this.email);console.log("user:",n),n?(this.token=n.user_id,this.access_priv=n.access_priv,this.name=n.name,this.nick_name=n.nick_name,this.department=n.department,this.email=n.email,this.phone=n.phone_number,this.is_club?this.get_club_records():this.get_user_records(),console.log("Update auth data successful!")):console.log("Update auth data failed, unknown account:",this.email)}catch(n){return console.error("Update auth data error:",n),!1}},async update_club_auth(){if(!this.isLoggedIn)return;const t=si();await t.callAPI();try{const n=await t.get_club_by_email(this.email);console.log("user:",n),n?(this.token=n.club_id,this.access_priv=n.access_priv,this.is_staff=n.is_staff,this.is_club=!0,this.name=n.name,this.email=n.email,this.is_club?this.get_club_records():this.get_user_records(),console.log("Update auth data successful!")):console.log("Update auth data failed, unknown account:",this.email)}catch(n){return console.error("Update auth data error:",n),!1}}},getters:{isLoggedIn:t=>!!t.token,records_len:t=>t.records==null?0:t.records.length,get_access_priv:t=>t.access_priv,get_records:t=>t.records}}),Xn=(t,n)=>{const s=t.__vccOpts||t;for(const[a,u]of n)s[a]=u;return s},Kd=t=>(Cs("data-v-a177fd8c"),t=t(),vs(),t),tE={class:"navbar navbar-expand-md navbar-dark fixed-top bg-danger"},nE={class:"container-fluid"},rE=Kd(()=>B("strong",null,"TTU 社團博覽會",-1)),sE=Kd(()=>B("span",{class:"navbar-toggler-icon"},null,-1)),iE=[sE],oE={class:"navbar-collapse",id:"navbarCollapse"},aE={class:"navbar-nav me-auto mb-2 mb-md-0"},lE={key:0,class:"nav-item"},cE={key:1,class:"nav-item"},uE={key:2,class:"nav-item"},fE={key:3,class:"nav-item"},hE={class:"nav-item"},dE={key:4,class:"nav-item"},gE={key:5,class:"nav-item"},pE={__name:"NavBar",setup(t){Xm(E=>({"0cbf384a":d.value}));const n=or(),s=Ss(),a=bd(),u=Oe(!1),f=Oe(null),d=Oe("0px");function m(){u.value=!u.value,u.value&&oo(()=>{x()})}function _(E){s.push(E),u.value=!1}function x(){f.value&&(d.value=`${f.value.scrollHeight}px`)}return ps(()=>a.path,()=>{u.value=!1}),window.addEventListener("resize",()=>{u.value&&x()}),Ts(()=>{f.value=document.getElementById("navbarCollapse")}),(E,b)=>{const v=Fh("RouterLink");return Ue(),He("nav",tE,[B("div",nE,[Tt(v,{to:"/",class:"navbar-brand"},{default:Jo(()=>[rE]),_:1}),B("button",{class:"navbar-toggler",onClick:b[0]||(b[0]=I=>m()),type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},iE),Tt(Ta,{name:"expand"},{default:Jo(()=>[Wt(B("div",oE,[B("ul",aE,[Ae(n).is_club?Pt("",!0):(Ue(),He("li",lE,[B("button",{onClick:b[1]||(b[1]=I=>_("/")),class:"nav-link"},"首頁")])),Ae(n).is_club?Pt("",!0):(Ue(),He("li",cE,[B("button",{onClick:b[2]||(b[2]=I=>_("/stamp")),class:"nav-link"},"活動蓋章")])),Ae(n).is_club?(Ue(),He("li",uE,[B("button",{onClick:b[3]||(b[3]=I=>_("/panel")),class:"nav-link"},"社團後台")])):Pt("",!0),Ae(n).is_club?(Ue(),He("li",fE,[B("button",{onClick:b[4]||(b[4]=I=>_("/scan")),class:"nav-link"},"掃描新生")])):Pt("",!0),B("li",hE,[B("button",{onClick:b[5]||(b[5]=I=>_("/rules")),class:"nav-link"},"遊戲規則")]),Ae(n).isLoggedIn?Pt("",!0):(Ue(),He("li",dE,[B("button",{onClick:b[6]||(b[6]=I=>_("/register")),class:"nav-link"},"註冊帳號")])),Ae(n).isLoggedIn?Pt("",!0):(Ue(),He("li",gE,[B("button",{onClick:b[7]||(b[7]=I=>_("/club_login")),class:"nav-link"},"社團登入")]))])],512),[[Bi,u.value]])]),_:1})])])}}},mE=Xn(pE,[["__scopeId","data-v-a177fd8c"]]),xE=ya('<svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"><button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg><span class="visually-hidden" id="bd-theme-text">Toggle theme</span></button><ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg> Light <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg> Dark <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg> Auto <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></div>',2),_E={class:"flex-shrink-0"},EE={class:"container",style:{"margin-top":"60px"}},wE=ya('<footer class="footer mt-auto py-3 bg-body-tertiary"><div class="container"><div class="text-body-secondary"> © 2024 <a href="http://ttussc.github.io">TTUSSC</a>. Licensed under <a href="https://github.com/TTUSSC/Earth_Game/blob/main/LICENSE">MIT</a></div></div></footer>',1),bE={__name:"App",setup(t){return(()=>{const s="TTU社團博覽會",a=Oe(s),u=bd();return ps(()=>u.meta.title,f=>{a.value=f?`${s}｜${f}`:s,document.title=a.value},{immediate:!0}),a})(),(s,a)=>{const u=Fh("router-view");return Ue(),He(nn,null,[xE,B("header",null,[Tt(mE)]),B("main",_E,[B("div",EE,[Tt(Ta,{name:"route",mode:"out-in"},{default:Jo(()=>[Tt(u,{class:"pt-3"})]),_:1})])]),wE],64)}}},AE=["src"],tu={__name:"createQRcode",props:{url:String,height:Number},setup(t){const n=t;var s="https://quickchart.io/qr?size=1080&margin=2&text=";return console.log(s+n.url),(a,u)=>(Ue(),He("img",{class:"qrcode img-fluid rounded",src:Ae(s)+n.url,alt:"",style:Js({maxHeight:t.height+"px"})},null,12,AE))}},ar=t=>(Cs("data-v-218a5e82"),t=t(),vs(),t),yE=ar(()=>B("h1",null,"社博大地遊戲",-1)),CE={class:"my-4"},vE=ar(()=>B("div",{class:"card-btn card mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 邀請朋友！ "),B("i",{class:"fa-solid fa-share-from-square bi ms-auto"})])],-1)),TE={class:"collapse mb-3 mx-auto",id:"collapseExample"},SE={class:"card card-body"},IE=ar(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 遊戲規則 "),B("i",{class:"fa-solid fa-scale-balanced bi ms-auto"})],-1)),OE=[IE],NE=ar(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 攤位遊戲蓋章 "),B("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),RE=[NE],DE=ar(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 註冊帳號 "),B("i",{class:"fa-solid fa-right-to-bracket bi ms-auto"})],-1)),ME=[DE],LE=ar(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 社團秘密通道 "),B("i",{class:"fa-solid fa-dungeon bi ms-auto"})],-1)),PE=[LE],BE={class:"card-btn card mb-2"},kE=ar(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"},"data-bs-toggle":"modal","data-bs-target":"#logoutModal"},[Bn(" 我要登出了 "),B("i",{class:"fa-solid fa-right-from-bracket bi ms-auto"})],-1)),FE=[kE],UE={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},VE={class:"modal-dialog modal-dialog-centered"},HE={class:"modal-content"},WE=ar(()=>B("div",{class:"modal-header"},[B("h1",{class:"modal-title fs-5"},"登出確認"),B("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),$E=ar(()=>B("div",{class:"modal-body"},[B("p",null,"確認要登出帳號嗎？")],-1)),GE={class:"modal-footer"},XE=ar(()=>B("button",{type:"button",class:"btn btn-secondary mx-2","data-bs-dismiss":"modal"},"取消",-1)),jE={__name:"HomeView",setup(t){const n=Ss(),s=or();return(a,u)=>(Ue(),He("div",null,[yE,B("section",CE,[vE,B("div",TE,[B("div",SE,[Tt(tu,{url:"https://ttussc.github.io/Earth_Game"})])]),B("div",{class:"card-btn card mb-2",onClick:u[0]||(u[0]=f=>{Ae(n).push({name:"rules"})})},OE),Wt(B("div",{class:"card-btn card mb-2",onClick:u[1]||(u[1]=f=>{Ae(n).push({name:"stamp"})})},RE,512),[[Bi,!Ae(s).is_club]]),Wt(B("div",{class:"card-btn card mb-2",onClick:u[2]||(u[2]=f=>{Ae(n).push({name:"register"})})},ME,512),[[Bi,!Ae(s).isLoggedIn]]),Wt(B("div",{class:"card-btn card mb-2",onClick:u[3]||(u[3]=f=>{Ae(n).push({name:"club_login"})})},PE,512),[[Bi,!Ae(s).isLoggedIn||Ae(s).isLoggedIn&&Ae(s).is_club]]),Wt(B("div",BE,FE,512),[[Bi,Ae(s).isLoggedIn]])]),B("div",UE,[B("div",VE,[B("div",HE,[WE,$E,B("div",GE,[XE,B("button",{type:"button",class:"btn btn-danger mx-2","data-bs-dismiss":"modal",onClick:u[4]||(u[4]=f=>{Ae(s).logout(),Ae(n).push("/")})}," 登出 ")])])])])]))}},zE=Xn(jE,[["__scopeId","data-v-218a5e82"]]),YE={},KE=B("h1",null,"排行榜",-1),qE=[KE];function ZE(t,n){return Ue(),He("div",null,qE)}const QE=Xn(YE,[["render",ZE]]),JE=B("h1",{class:"title"},"蓋章！",-1),ew={class:"col mb-3"},tw=["disabled"],nw=B("div",{class:"valid-feedback"},"Looks good!",-1),rw=B("div",{class:"invalid-feedback"},"Looks bad!",-1),sw={class:"col-3 mb-3"},iw={class:"nav nav-tabs mb-2",id:"myTab",role:"tablist"},ow=B("li",{class:"nav-item",role:"presentation"},[B("button",{class:"nav-link active",id:"qrcode-tab","data-bs-toggle":"tab","data-bs-target":"#qrcode-tab-pane",type:"button",role:"tab","aria-controls":"qrcode-tab-pane","aria-selected":"true"}," QR code ")],-1),aw={class:"nav-item",role:"presentation"},lw={class:"nav-item",role:"presentation"},cw={class:"tab-pane fade show active",id:"qrcode-tab-pane",role:"tabpanel","aria-labelledby":"qrcode-tab",tabindex:"0"},uw={key:1},fw={key:2},hw={class:"tab-pane fade",id:"card-tab-pane",role:"tabpanel","aria-labelledby":"card-tab",tabindex:"0"},dw={key:0},gw={class:"mb-2"},pw={class:"card-header d-flex align-items-center"},mw={class:"card-body"},xw={key:0},_w={key:1},Ew={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},ww={key:0,class:"card"},bw={class:"card-header d-flex align-items-center"},Aw={class:"card-body"},yw={class:"card-text"},Cw=B("br",null,null,-1),vw=B("br",null,null,-1),Tw=B("br",null,null,-1),Sw=B("br",null,null,-1),Iw={key:1},Ow={__name:"StampView",setup(t){const n=ws(),s=to(),a=si();n.callAPI(),s.callAPI(),a.callAPI();const u=or(),f=Oe(""),d=Oe(!1),m=Oe(""),_=it(()=>u.access_priv);let x=Oe(!1),E=Oe("btn btn-primary"),b=Oe("登入");const v=async()=>{console.log("lock btn pushed."),x.value=!x.value,x.value?(E.value="btn btn-danger",b.value="登出"):(E.value="btn btn-primary",b.value="登入"),x.value?(console.log("login account:",m),await u.user_login(m.value),u.isLoggedIn?(d.value=!1,f.value="",await u.get_user_records()):(d.value=!0,f.value="找不到與電子郵件相符的帳號。尚未註冊帳號則點擊選單註冊帳號。",x.value=!1,E.value="btn btn-primary",b.value="登入")):u.logout()},I=Oe(null),M=Oe(0);Ts(()=>{console.log("auth email:",u.email),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,x.value||(x.value=!0,E.value="btn btn-danger",b.value="登出")),R(),window.addEventListener("resize",R)}),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,x.value||(x.value=!0,E.value="btn btn-danger",b.value="登出"));const R=()=>{if(I.value){const J=I.value.getBoundingClientRect(),X=window.innerHeight;M.value=X-J.top-110,console.log("剩餘高度：",M.value)}},K=new Intl.DateTimeFormat("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return(J,X)=>(Ue(),He("div",null,[JE,f.value?(Ue(),He("div",{key:0,class:lt(["mt-3 text-break",["alert",d.value?"alert-danger":"alert-success"]]),role:"alert"},Ke(f.value),3)):Pt("",!0),B("form",{class:"row align-items-center needs-validation my-3",onSubmit:Sa(v,["prevent"])},[B("div",ew,[Wt(B("input",{type:"email",class:"form-control",id:"account","onUpdate:modelValue":X[0]||(X[0]=L=>m.value=L),placeholder:"輸入 Email",required:"",disabled:Ae(x)},null,8,tw),[[Vn,m.value]]),nw,rw]),B("div",sw,[B("button",{type:"submit",class:lt(["btn",Ae(E)])},Ke(Ae(b)),3)])],32),B("ul",iw,[ow,B("li",aw,[B("button",{class:"nav-link",id:"card-tab","data-bs-toggle":"tab","data-bs-target":"#card-tab-pane",type:"button",role:"tab","aria-controls":"card-tab-pane","aria-selected":"false",onClick:X[1]||(X[1]=L=>{Ae(u).update_auth()})}," 集點卡 ")]),B("li",lw,[B("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false",onClick:X[2]||(X[2]=L=>{Ae(u).update_auth()})}," 個人資料 ")])]),B("div",{class:"tab-content",id:"myTabContent",ref_key:"tabContent",ref:I},[B("div",cw,[Ae(u).isLoggedIn&&Ae(u).access_priv?(Ue(),He("div",{key:0,class:"d-flex",style:Js({maxHeight:M.value+"px"})},[Tt(tu,{class:"mx-auto",url:m.value.trim().toLowerCase(),height:M.value},null,8,["url","height"])],4)):Ae(u).isLoggedIn&&!Ae(u).access_priv?(Ue(),He("div",uw," 兌換完抽獎券，帳號已經被鎖定了喔～ ")):(Ue(),He("div",fw," 沒登入不能掃描 QR code 喔 "))]),B("div",hw,[Ae(u).isLoggedIn?(Ue(),He("div",dw,[B("div",gw,"總點數："+Ke(Ae(u).records_len),1),B("div",{class:"overflow-auto",style:Js({maxHeight:M.value+"px"})},[(Ue(!0),He(nn,null,Uh(it(()=>Ae(u).records).value,L=>(Ue(),He("div",{class:"card my-2",key:L.created_time},[B("div",pw,[B("strong",null,Ke(L.club_name)+" ",1),B("span",{class:lt(["badge rounded-pill",{"text-bg-danger":L.is_ig,"text-bg-primary":!L.is_ig}])},Ke(L.is_ig?"限時動態":"攤位集點"),3)]),B("div",mw,[L.club_stamp!=""?(Ue(),He("p",xw,Ke(L.club_stamp),1)):Pt("",!0),Bn(" 蓋章時間："+Ke(Ae(K).format(new Date(L.created_time))),1)])]))),128))],4)])):(Ue(),He("div",_w," 這是一張空的集點卡呢 "))]),B("div",Ew,[Ae(u).isLoggedIn?(Ue(),He("div",ww,[B("div",bw,[B("strong",null,Ke(Ae(u).name)+" ",1),B("span",{class:lt(["badge rounded-pill",{"text-bg-success":_.value,"text-bg-danger":!_.value}])},Ke(_.value?"集點中":"已兌換抽獎券"),3)]),B("div",Aw,[B("p",yw,[B("span",null,"暱稱： "+Ke(Ae(u).nick_name),1),Cw,B("span",null,"科系： "+Ke(Ae(u).department),1),vw,B("span",null,"電子信箱： "+Ke(Ae(u).email),1),Tw,B("span",null,"電話號碼： "+Ke(Ae(u).phone),1),Sw])])])):(Ue(),He("div",Iw," 這裡什麼都沒有喔 (ゝ∀･) "))])],512)]))}},Nw="/Earth_Game/ssc_full_name.png",Rw={},Dw=ya('<h1 class="my-3">主辦單位</h1><div class="text-center"><h2>科學開源服務社</h2></div><img class="img-fluid mt-2 mb-4" src="'+Nw+'" alt=""><p> 大同大學科學開源服務社（TTUSSC）是透過開源的方式做服務的社團。 會有技術型的社課，讓社員們可以學到各種課內學不到的技術與知識。我們也致力於校園內推廣開源文化，希望可以改善整體風氣，提供一個舒適的學習平台。 也會帶社員們參加國內的研討會，如：SITCON、COSCUP，並且在寒暑假一起舉辦營隊。 想要偷偷內卷但找不到同伴嗎？大學生活希望更充實的度過嗎？快來加入科學開源服務社的大家庭吧！ </p><h1 class="mb-4">共同主辦</h1><div class="text-center"><h2>大智佛學社</h2><p></p></div><div class="text-center"><h2>美術社</h2><p></p></div><div class="text-center"><h2>桌上遊戲社</h2><p></p></div><div class="text-center"><h2>飲品社</h2><p></p></div>',9),Mw=[Dw];function Lw(t,n){return Ue(),He("div",null,Mw)}const Pw=Xn(Rw,[["render",Lw]]),Bw={},kw=B("h1",null,"404 Not Found",-1),Fw=B("p",null,"找不到這個網址的網頁餒",-1),Uw=[kw,Fw];function Vw(t,n){return Ue(),He("div",null,Uw)}const o1=Xn(Bw,[["render",Vw]]),ka=t=>(Cs("data-v-946d97f4"),t=t(),vs(),t),Hw=ka(()=>B("h1",null,"註冊",-1)),Ww={class:"col-md-6"},$w={class:"invalid-feedback"},Gw={class:"col-md-6"},Xw={class:"invalid-feedback"},jw={class:"col-md-6"},zw=ya('<option value="" selected disabled data-v-946d97f4>選擇科系</option><hr data-v-946d97f4><option value="機械與材料工程學系" data-v-946d97f4>機械與材料工程學系</option><option value="化學工程與生物科技學系" data-v-946d97f4>化學工程與生物科技學系</option><option value="工程學院學士班" data-v-946d97f4>工程學院學士班</option><option value="電機工程學系" data-v-946d97f4>電機工程學系</option><option value="資訊工程學系" data-v-946d97f4>資訊工程學系</option><option value="事業經營學系" data-v-946d97f4>事業經營學系</option><option value="資訊經營學系" data-v-946d97f4>資訊經營學系</option><option value="工業設計學系" data-v-946d97f4>工業設計學系</option><option value="媒體設計學系" data-v-946d97f4>媒體設計學系</option><option value="應用外語學系" data-v-946d97f4>應用外語學系</option>',12),Yw=[zw],Kw={class:"invalid-feedback"},qw={class:"col-md-6"},Zw={class:"invalid-feedback"},Qw={class:"col-md-6"},Jw={class:"invalid-feedback"},eb={class:"col-12"},tb={class:"form-check"},nb=ka(()=>B("label",{class:"form-check-label",for:"gridCheck"},[Bn(" 同意"),B("a",{"data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"資料使用條款")],-1)),rb={class:"invalid-feedback"},sb=ka(()=>B("div",{class:"collapse mb-3 mx-auto",id:"collapseExample"},[B("div",{class:"card card-body"},[B("h6",null,"資料使用條款"),B("p",null," 大同大學社團博覽會（以下簡稱「本活動」）的「大地遊戲集點活動」旨在 促進參與者對各社團的了解與興趣。參與者需透過系統蓋章和儲存資料來收 集點數。 "),B("p",null," 為了參加本活動，我們需要收集您的個人資料，包括但不限於姓名、 聯絡電話、電子郵件地址等（以下簡稱「個人資料」）。這些資料將用於活 動管理和參與者聯絡。 "),B("p",null," 收集的個人資料僅用於：管理和統計參與情況、向您發送活動相關的通知、 獎品信息及其他必要的溝通。 "),B("p",null," 您有權查詢我們持有的您的個人資料，並要求更正或刪除不正確的資料。 您可隨時撤回對個人資料使用的同意，這可能會影響您參與本活動的資格。 ")])],-1)),ib={class:"col-6 d-grid mx-auto"},ob=["disabled"],ab={key:1,class:"loading-overlay"},lb=ka(()=>B("div",{class:"spinner-border text-primary",role:"status"},[B("span",{class:"visually-hidden"},"Loading...")],-1)),cb=[lb],ub={__name:"RegisterView",setup(t){const n=Ss(),s=ws(),a=or();let u=Oe(""),f=Oe(""),d=Oe(""),m=Oe(""),_=Oe(""),x=Oe(""),E=Oe(!1);const b=Oe(!1),v=Oe(""),I=Oe(!1),M=Oe({name:"",nick_name:"",department:"",email:"",phone:"",password:"",check:""});var R=Oe(!1);const K=async()=>{R.value=!0,b.value=!0;try{if(await F()){const $=new FormData;$.append("entry.1936143612",u.value),$.append("entry.1883933211",f.value),$.append("entry.2093473455",m.value.toLowerCase()),$.append("entry.1241463021",_.value),$.append("entry.1370233916",d.value),await fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfijitS0keu4OKn0P6PdaVg_R9QGPwsP5jl7Wa7RIOnNeNYbA/formResponse",{method:"POST",mode:"no-cors",body:$}),console.log("Form submitted successfully"),console.log("Submitted email:",m.value);let ne=null;for(let Re=0;Re<5;Re++)if(console.log(`Attempt ${Re+1} to fetch user data`),await s.callAPI(),ne=await s.get_user_by_email(m.value),console.log("API response:",ne),ne){console.log("i=",Re,"found updated user:",ne),I.value=!1;break}else I.value=!0;I.value?v.value="資料提交失敗":(v.value="註冊成功！",console.log("trying to login."),await a.user_login(m.value),console.log("name:",a.name),console.log("nick_name:",a.nick_name),console.log("department:",a.department),console.log("email:",a.email),console.log("phone:",a.phone),b.value=!1,Ee(),n.push({name:"stamp"}))}else b.value=!1,console.log("驗證失敗或未勾選同意條款")}catch(_e){I.value=!0,v.value="註冊表單錯誤："+_e,R.value=!1,console.error("Error submitting form:",_e)}finally{b.value=!1}},J=(_e,$,ne)=>ne.required&&(!$||$==="")?(M.value[_e]="此欄位為必填",!1):ne.minLength&&$.length<ne.minLength?(M.value[_e]=`最少需要 ${ne.minLength} 個字符`,!1):ne.pattern&&!ne.pattern.test($)?(M.value[_e]="格式不正確",!1):(M.value[_e]="",!0),X=it(()=>J("name",u.value,{required:!0})),L=it(()=>J("nick_name",f.value,{required:!1})),Z=it(()=>J("department",d.value,{required:!0})),re=it(()=>J("email",m.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),W=it(()=>J("phone",_.value,{required:!0,pattern:/^\d{10}$/})),k=it(()=>J("check",E.value,{required:!0})),le=it(()=>X.value&&L.value&&Z.value&&re.value&&W.value&&k.value);async function F(){let _e="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";var $=!0;if(!le.value)return!1;try{const Re=await St.get(_e,{params:{table:"users"}});console.log("get users data:"),console.log(Re.data);const G=Re.data;for(var ne=0;ne<G.length;ne++)if(G[ne].email===m.value||G[ne].phone_number===_.value)return console.log("data conflict."),I.value=!0,v.value="電子信箱或電話號碼已經被註冊過了。",R.value=!1,!1;return console.log("data valid passed."),$}catch(Re){return console.error("Error validating form:",Re),!1}}const Ee=()=>{u.value="",f.value="",m.value="",_.value="",x.value="",E.value=!1};return(_e,$)=>(Ue(),He("div",null,[Hw,v.value?(Ue(),He("div",{key:0,class:lt(["mt-3",["alert",I.value?"alert-danger":"alert-success"]]),role:"alert"},Ke(v.value),3)):Pt("",!0),B("form",{class:lt(["row g-3 my-3 needs-validation",{"was-validated":Ae(R)}]),onSubmit:Sa(K,["prevent"]),novalidate:""},[B("div",Ww,[Wt(B("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=ne=>ct(u)?u.value=ne:u=ne),class:lt(["form-control",{"is-invalid":!X.value}]),name:"name",id:"name",placeholder:"姓名",required:""},null,2),[[Vn,Ae(u)]]),B("div",$w,Ke(M.value.name),1)]),B("div",Gw,[Wt(B("input",{type:"text","onUpdate:modelValue":$[1]||($[1]=ne=>ct(f)?f.value=ne:f=ne),class:lt(["form-control",{"is-invalid":!L.value}]),name:"nick_name",id:"nick_name",placeholder:"暱稱",required:""},null,2),[[Vn,Ae(f)]]),B("div",Xw,Ke(M.value.nick_name),1)]),B("div",jw,[Wt(B("select",{"onUpdate:modelValue":$[2]||($[2]=ne=>ct(d)?d.value=ne:d=ne),class:lt(["form-select",{"is-invalid":!Z.value}]),name:"department",id:"department",required:""},Yw,2),[[a2,Ae(d)]]),B("div",Kw,Ke(M.value.department),1)]),B("div",qw,[Wt(B("input",{type:"email","onUpdate:modelValue":$[3]||($[3]=ne=>ct(m)?m.value=ne:m=ne),class:lt(["form-control",{"is-invalid":!re.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[Vn,Ae(m)]]),B("div",Zw,Ke(M.value.email),1)]),B("div",Qw,[Wt(B("input",{type:"tel","onUpdate:modelValue":$[4]||($[4]=ne=>ct(_)?_.value=ne:_=ne),class:lt(["form-control",{"is-invalid":!W.value}]),name:"phone",id:"phone",placeholder:"電話號碼",required:""},null,2),[[Vn,Ae(_)]]),B("div",Jw,Ke(M.value.phone),1)]),B("div",eb,[B("div",tb,[Wt(B("input",{type:"checkbox",class:lt(["form-check-input",{"is-invalid":!k.value}]),"onUpdate:modelValue":$[5]||($[5]=ne=>ct(E)?E.value=ne:E=ne),id:"gridCheck",required:""},null,2),[[o2,Ae(E)]]),nb,B("div",rb,Ke(M.value.check),1)])]),sb,B("div",ib,[B("button",{type:"submit",class:"btn btn-primary",disabled:!le.value||b.value},Ke(b.value?"提交中...":"註冊"),9,ob)])],34),b.value?(Ue(),He("div",ab,cb)):Pt("",!0)]))}},fb=Xn(ub,[["__scopeId","data-v-946d97f4"]]);var ve;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ve||(ve={}));var a1=new Map([[ve.QR_CODE,"QR_CODE"],[ve.AZTEC,"AZTEC"],[ve.CODABAR,"CODABAR"],[ve.CODE_39,"CODE_39"],[ve.CODE_93,"CODE_93"],[ve.CODE_128,"CODE_128"],[ve.DATA_MATRIX,"DATA_MATRIX"],[ve.MAXICODE,"MAXICODE"],[ve.ITF,"ITF"],[ve.EAN_13,"EAN_13"],[ve.EAN_8,"EAN_8"],[ve.PDF_417,"PDF_417"],[ve.RSS_14,"RSS_14"],[ve.RSS_EXPANDED,"RSS_EXPANDED"],[ve.UPC_A,"UPC_A"],[ve.UPC_E,"UPC_E"],[ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),l1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(l1||(l1={}));function hb(t){return Object.values(ve).includes(t)}var oa;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(oa||(oa={}));var db=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[oa.SCAN_TYPE_CAMERA,oa.SCAN_TYPE_FILE],t}(),qd=function(){function t(n,s){this.format=n,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!a1.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,a1.get(n))},t}(),c1=function(){function t(){}return t.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t}(),mc;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(mc||(mc={}));var gb=function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:mc.UNKWOWN_ERROR}},t}(),pb=function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t}();function cr(t){return typeof t>"u"||t===null}var zs=function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Zd=function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),d=Object.keys(n),m=0,_=d;m<_.length;m++){var x=_[m];if(f.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xc={exports:{}};(function(t,n){(function(s,a){a(n)})(Ri,function(s){function a(A){return A==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var r in e)e.hasOwnProperty(r)&&(A[r]=e[r])};function f(A,e){u(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function d(A,e){var r=Object.setPrototypeOf;r?r(A,e):A.__proto__=e}function m(A,e){e===void 0&&(e=A.constructor);var r=Error.captureStackTrace;r&&r(A,e)}var _=function(A){f(e,A);function e(r){var i=this.constructor,o=A.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),d(o,i.prototype),m(o),o}return e}(Error);class x extends _{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class b extends x{}b.kind="IllegalArgumentException";class v{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,i,o){const l=this.binarizer.getLuminanceSource().crop(e,r,i,o);return new v(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends x{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class M{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(e,r,i,o,l){for(;l--;)i[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class K extends x{}K.kind="IndexOutOfBoundsException";class J extends K{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}J.kind="ArrayIndexOutOfBoundsException";class X{static fill(e,r){for(let i=0,o=e.length;i<o;i++)e[i]=r}static fillWithin(e,r,i,o){X.rangeCheck(e.length,r,i);for(let l=r;l<i;l++)e[l]=o}static rangeCheck(e,r,i){if(r>i)throw new b("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new J(r);if(i>e)throw new J(i)}static asList(...e){return e}static create(e,r,i){return Array.from({length:e}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(e,r,i){return Array.from({length:e}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==r[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const i of e)r=31*r+i;return r}static fillUint8Array(e,r){for(let i=0;i!==e.length;i++)e[i]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const i=new Uint8Array(r);return i.set(e),i}return e.slice(0,r)}static copyOfRange(e,r,i){const o=i-r,l=new Int32Array(o);return R.arraycopy(e,r,l,0,o),l}static binarySearch(e,r,i){i===void 0&&(i=X.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const c=l+o>>1,h=i(r,e[c]);if(h>0)o=c+1;else if(h<0)l=c-1;else return c}return-o-1}static numberComparator(e,r){return e-r}}class L{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let i=31;return r=e<<16,r!==0&&(i-=16,e=r),r=e<<8,r!==0&&(i-=8,e=r),r=e<<4,r!==0&&(i-=4,e=r),r=e<<2,r!==0&&(i-=2,e=r),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=Z.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=Z.makeArray(e);R.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=i[o]}const h=o*32+L.numberOfTrailingZeros(l);return h>r?r:h}getNextUnset(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=~i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=~i[o]}const h=o*32+L.numberOfTrailingZeros(l);return h>r?r:h}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new b;if(r===e)return;r--;const i=Math.floor(e/32),o=Math.floor(r/32),l=this.bits;for(let c=i;c<=o;c++){const h=c>i?0:e&31,p=(2<<(c<o?31:r&31))-(1<<h);l[c]|=p}}clear(){const e=this.bits.length,r=this.bits;for(let i=0;i<e;i++)r[i]=0}isRange(e,r,i){if(r<e||e<0||r>this.size)throw new b;if(r===e)return!0;r--;const o=Math.floor(e/32),l=Math.floor(r/32),c=this.bits;for(let h=o;h<=l;h++){const g=h>o?0:e&31,w=(2<<(h<l?31:r&31))-(1<<g)&4294967295;if((c[h]&w)!==(i?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=e.bits[i]}toBytes(e,r,i,o){for(let l=0;l<o;l++){let c=0;for(let h=0;h<8;h++)this.get(e)&&(c|=1<<7-h),e++;r[i+l]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[r-l]=c}if(this.size!==i*32){const l=i*32-this.size;let c=e[0]>>>l;for(let h=1;h<i;h++){const g=e[h];c|=g<<32-l,e[h-1]=c,c=g>>>l}e[i-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Z))return!1;const r=e;return this.size===r.size&&X.equals(this.bits,r.bits)}hashCode(){return 31*this.size+X.hashCode(this.bits)}toString(){let e="";for(let r=0,i=this.size;r<i;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new Z(this.size,this.bits.slice())}}var re;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(re||(re={}));var W=re;class k extends x{static getFormatInstance(){return new k}}k.kind="FormatException";var le;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(le||(le={}));class F{constructor(e,r,i,...o){this.valueIdentifier=e,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,F.VALUE_IDENTIFIER_TO_ECI.set(e,this),F.NAME_TO_ECI.set(i,this);const l=this.values;for(let c=0,h=l.length;c!==h;c++){const g=l[c];F.VALUES_TO_ECI.set(g,this)}for(const c of o)F.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new k("incorect value");const r=F.VALUES_TO_ECI.get(e);if(r===void 0)throw new k("incorect value");return r}static getCharacterSetECIByName(e){const r=F.NAME_TO_ECI.get(e);if(r===void 0)throw new k("incorect value");return r}equals(e){if(!(e instanceof F))return!1;const r=e;return this.getName()===r.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(le.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(le.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(le.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(le.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(le.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(le.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(le.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(le.Big5,28,"Big5"),F.GB18030=new F(le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(le.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends x{}Ee.kind="UnsupportedOperationException";class _e{static decode(e,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!_e.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof F?e:F.getCharacterSetECIByName(e)}static decodeFallback(e,r){const i=this.encodingCharacterSet(r);if(_e.isDecodeFallbackSupported(i)){let o="";for(let l=0,c=e.length;l<c;l++){let h=e[l].toString(16);h.length<2&&(h="0"+h),o+="%"+h}return decodeURIComponent(o)}if(i.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ee(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(F.UTF8)||e.equals(F.ISO8859_1)||e.equals(F.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class ${static castAsNonUtf8Char(e,r=null){const i=r?r.getName():this.ISO88591;return _e.decode(new Uint8Array([e]),i)}static guessEncoding(e,r){if(r!=null&&r.get(W.CHARACTER_SET)!==void 0)return r.get(W.CHARACTER_SET).toString();const i=e.length;let o=!0,l=!0,c=!0,h=0,g=0,p=0,w=0,y=0,C=0,O=0,D=0,P=0,U=0,Y=0;const de=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let pe=0;pe<i&&(o||l||c);pe++){const ue=e[pe]&255;c&&(h>0?ue&128?h--:c=!1:ue&128&&(ue&64?(h++,ue&32?(h++,ue&16?(h++,ue&8?c=!1:w++):p++):g++):c=!1)),o&&(ue>127&&ue<160?o=!1:ue>159&&(ue<192||ue===215||ue===247)&&Y++),l&&(y>0?ue<64||ue===127||ue>252?l=!1:y--:ue===128||ue===160||ue>239?l=!1:ue>160&&ue<224?(C++,D=0,O++,O>P&&(P=O)):ue>127?(y++,O=0,D++,D>U&&(U=D)):(O=0,D=0))}return c&&h>0&&(c=!1),l&&y>0&&(l=!1),c&&(de||g+p+w>0)?$.UTF8:l&&($.ASSUME_SHIFT_JIS||P>=3||U>=3)?$.SHIFT_JIS:o&&l?P===2&&C===2||Y*10>=i?$.SHIFT_JIS:$.ISO88591:o?$.ISO88591:l?$.SHIFT_JIS:c?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let i=-1;function o(c,h,g,p,w,y){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=w?parseInt(w.substr(1)):void 0,O;switch(y){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(C||16);break;case"d":O=parseFloat(parseInt(r[i],C||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(C);let D=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;O.length<D;)O=h!==void 0?O+P:P+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}static getBytes(e,r){return _e.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}$.SHIFT_JIS=F.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=F.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=F.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class ne{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=$.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,i){for(let o=r;r<r+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Re{constructor(e,r,i,o){if(this.width=e,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new b("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,i=e[0].length,o=new Re(i,r);for(let l=0;l<r;l++){const c=e[l];for(let h=0;h<i;h++)c[h]&&o.set(h,l)}return o}static parseFromString(e,r,i){if(e===null)throw new b("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,c=0,h=-1,g=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(l>c){if(h===-1)h=l-c;else if(l-c!==h)throw new b("row lengths do not match");c=l,g++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(e.substring(p,p+i.length)===i)p+=i.length,o[l]=!1,l++;else throw new b("illegal character encountered: "+e.substring(p));if(l>c){if(h===-1)h=l-c;else if(l-c!==h)throw new b("row lengths do not match");g++}const w=new Re(h,g);for(let y=0;y<l;y++)o[y]&&w.set(Math.floor(y%h),Math.floor(y/h));return w}get(e,r){const i=r*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const r=new Z(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const h=l*i,g=e.getRow(l,r).getBitArray();for(let p=0;p<i;p++)o[h+p]^=g[p]}}clear(){const e=this.bits,r=e.length;for(let i=0;i<r;i++)e[i]=0}setRegion(e,r,i,o){if(r<0||e<0)throw new b("Left and top must be nonnegative");if(o<1||i<1)throw new b("Height and width must be at least 1");const l=e+i,c=r+o;if(c>this.height||l>this.width)throw new b("The region must fit inside the matrix");const h=this.rowSize,g=this.bits;for(let p=r;p<c;p++){const w=p*h;for(let y=e;y<l;y++)g[w+Math.floor(y/32)]|=1<<(y&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new Z(this.width):r.clear();const i=this.rowSize,o=this.bits,l=e*i;for(let c=0;c<i;c++)r.setBulk(c*32,o[l+c]);return r}setRow(e,r){R.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let i=new Z(e),o=new Z(e);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const e=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=e,c=r,h=-1,g=-1;for(let p=0;p<r;p++)for(let w=0;w<i;w++){const y=o[p*i+w];if(y!==0){if(p<c&&(c=p),p>g&&(g=p),w*32<l){let C=0;for(;!(y<<31-C&4294967295);)C++;w*32+C<l&&(l=w*32+C)}if(w*32+31>h){let C=31;for(;!(y>>>C);)C--;w*32+C>h&&(h=w*32+C)}}}return h<l||g<c?null:Int32Array.from([l,c,h-l+1,g-c+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/e;let l=i%e*32;const c=r[i];let h=0;for(;!(c<<31-h&4294967295);)h++;return l+=h,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let l=Math.floor(i%e)*32;const c=r[i];let h=31;for(;!(c>>>h);)h--;return l+=h,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Re))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&X.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+X.hashCode(this.bits),e}toString(e="X ",r="  ",i=`
`){return this.buildToString(e,r,i)}buildToString(e,r,i){let o=new ne;for(let l=0,c=this.height;l<c;l++){for(let h=0,g=this.width;h<g;h++)o.append(this.get(h,l)?e:r);o.append(i)}return o.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends x{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class Ie extends M{constructor(e){super(e),this.luminances=Ie.EMPTY,this.buckets=new Int32Array(Ie.LUMINANCE_BUCKETS)}getBlackRow(e,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new Z(o):r.clear(),this.initArrays(o);const l=i.getRow(e,this.luminances),c=this.buckets;for(let g=0;g<o;g++)c[(l[g]&255)>>Ie.LUMINANCE_SHIFT]++;const h=Ie.estimateBlackPoint(c);if(o<3)for(let g=0;g<o;g++)(l[g]&255)<h&&r.set(g);else{let g=l[0]&255,p=l[1]&255;for(let w=1;w<o-1;w++){const y=l[w+1]&255;(p*4-g-y)/2<h&&r.set(w),g=p,p=y}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new Re(r,i);this.initArrays(r);const l=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(i*g/5),w=e.getRow(p,this.luminances),y=Math.floor(r*4/5);for(let C=Math.floor(r/5);C<y;C++){const O=w[C]&255;l[O>>Ie.LUMINANCE_SHIFT]++}}const c=Ie.estimateBlackPoint(l),h=e.getMatrix();for(let g=0;g<i;g++){const p=g*r;for(let w=0;w<r;w++)(h[p+w]&255)<c&&o.set(w,g)}return o}createBinarizer(e){return new Ie(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let i=0;i<Ie.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(e){const r=e.length;let i=0,o=0,l=0;for(let w=0;w<r;w++)e[w]>l&&(o=w,l=e[w]),e[w]>i&&(i=e[w]);let c=0,h=0;for(let w=0;w<r;w++){const y=w-o,C=e[w]*y*y;C>h&&(c=w,h=C)}if(o>c){const w=o;o=c,c=w}if(c-o<=r/16)throw new G;let g=c-1,p=-1;for(let w=c-1;w>o;w--){const y=w-o,C=y*y*(c-w)*(i-e[w]);C>p&&(g=w,p=C)}return g<<Ie.LUMINANCE_SHIFT}}Ie.LUMINANCE_BITS=5,Ie.LUMINANCE_SHIFT=8-Ie.LUMINANCE_BITS,Ie.LUMINANCE_BUCKETS=1<<Ie.LUMINANCE_BITS,Ie.EMPTY=Uint8ClampedArray.from([0]);class fe extends Ie{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=fe.MINIMUM_DIMENSION&&i>=fe.MINIMUM_DIMENSION){const o=e.getMatrix();let l=r>>fe.BLOCK_SIZE_POWER;r&fe.BLOCK_SIZE_MASK&&l++;let c=i>>fe.BLOCK_SIZE_POWER;i&fe.BLOCK_SIZE_MASK&&c++;const h=fe.calculateBlackPoints(o,l,c,r,i),g=new Re(r,i);fe.calculateThresholdForBlock(o,l,c,r,i,h,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new fe(e)}static calculateThresholdForBlock(e,r,i,o,l,c,h){const g=l-fe.BLOCK_SIZE,p=o-fe.BLOCK_SIZE;for(let w=0;w<i;w++){let y=w<<fe.BLOCK_SIZE_POWER;y>g&&(y=g);const C=fe.cap(w,2,i-3);for(let O=0;O<r;O++){let D=O<<fe.BLOCK_SIZE_POWER;D>p&&(D=p);const P=fe.cap(O,2,r-3);let U=0;for(let de=-2;de<=2;de++){const pe=c[C+de];U+=pe[P-2]+pe[P-1]+pe[P]+pe[P+1]+pe[P+2]}const Y=U/25;fe.thresholdBlock(e,D,y,Y,o,h)}}}static cap(e,r,i){return e<r?r:e>i?i:e}static thresholdBlock(e,r,i,o,l,c){for(let h=0,g=i*l+r;h<fe.BLOCK_SIZE;h++,g+=l)for(let p=0;p<fe.BLOCK_SIZE;p++)(e[g+p]&255)<=o&&c.set(r+p,i+h)}static calculateBlackPoints(e,r,i,o,l){const c=l-fe.BLOCK_SIZE,h=o-fe.BLOCK_SIZE,g=new Array(i);for(let p=0;p<i;p++){g[p]=new Int32Array(r);let w=p<<fe.BLOCK_SIZE_POWER;w>c&&(w=c);for(let y=0;y<r;y++){let C=y<<fe.BLOCK_SIZE_POWER;C>h&&(C=h);let O=0,D=255,P=0;for(let Y=0,de=w*o+C;Y<fe.BLOCK_SIZE;Y++,de+=o){for(let pe=0;pe<fe.BLOCK_SIZE;pe++){const ue=e[de+pe]&255;O+=ue,ue<D&&(D=ue),ue>P&&(P=ue)}if(P-D>fe.MIN_DYNAMIC_RANGE)for(Y++,de+=o;Y<fe.BLOCK_SIZE;Y++,de+=o)for(let pe=0;pe<fe.BLOCK_SIZE;pe++)O+=e[de+pe]&255}let U=O>>fe.BLOCK_SIZE_POWER*2;if(P-D<=fe.MIN_DYNAMIC_RANGE&&(U=D/2,p>0&&y>0)){const Y=(g[p-1][y]+2*g[p][y-1]+g[p-1][y-1])/4;D<Y&&(U=Y)}g[p][y]=U}}return g}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class je{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,i,o){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new ne;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let l=0;l<this.width;l++){const c=o[l]&255;let h;c<64?h="#":c<128?h="+":c<192?h=".":h=" ",r.append(h)}r.append(`
`)}return r.toString()}}class _t extends je{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const i=this.delegate.getRow(e,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,i,o){return new _t(this.delegate.crop(e,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _t(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _t(this.delegate.rotateCounterClockwise45())}}class It extends je{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=It.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return It.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,c=0,h=e.length;l<h;l+=4,c++){let g;if(e[l+3]===0)g=255;else{const w=e[l],y=e[l+1],C=e[l+2];g=306*w+601*y+117*C+512>>10}o[c]=g}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,i,o){return super.crop(e,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*It.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),g=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=h,r.height=g,i.translate(h/2,g/2),i.rotate(o),i.drawImage(this.canvas,l/-2,c/-2),this.buffer=It.makeBufferFromCanvasImageData(r),this}invert(){return new _t(this)}}It.DEGREE_TO_RADIANS=Math.PI/180;class Xt{constructor(e,r,i){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Qe=(globalThis||Ri||self||window||void 0)&&(globalThis||Ri||self||window||void 0).__awaiter||function(A,e,r,i){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(w){try{p(i.next(w))}catch(y){c(y)}}function g(w){try{p(i.throw(w))}catch(y){c(y)}}function p(w){w.done?l(w.value):o(w.value).then(h,g)}p((i=i.apply(A,e||[])).next())})};class kt{constructor(e,r=500,i){this.reader=e,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,c=i.label||`Video device ${r.length+1}`,h=i.groupId,g={deviceId:l,label:c,kind:o,groupId:h};r.push(g)}return r})}getVideoInputDevices(){return Qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Xt(r.deviceId,r.label))})}findDeviceById(e){return Qe(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return Qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return Qe(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return Qe(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(e,r){return Qe(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,r,i){return Qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,i)})}decodeFromVideoDevice(e,r,i){return Qe(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(e,r,i){return Qe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(e,r,i){return Qe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return Qe(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((r,i)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const i=document.getElementById(e);if(!i)throw new E(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${e}' must be an ${r} element`);return i}decodeFromImage(e,r){if(!e&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,i){if(e===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(e){if(!e)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=e,i}decodeFromVideoUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=e,i}decodeFromVideoUrlContinuously(e,r){if(!e)throw new E("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return Qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);l(h)}catch(h){const g=r&&h instanceof G,w=(h instanceof I||h instanceof k)&&i;if(g||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(h)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof I||o instanceof k,c=o instanceof G;(l||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,i){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),i=new It(r),o=new fe(i);return new v(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ht{constructor(e,r,i=r==null?0:8*r.length,o,l,c=R.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=e,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=R.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(r.length+e.length);R.arraycopy(r,0,i,0,r.length),R.arraycopy(e,0,i,r.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var jt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jt||(jt={}));var be=jt,ee;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ee||(ee={}));var he=ee;class xe{constructor(e,r,i,o,l=-1,c=-1){this.rawBytes=e,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class Fe{constructor(e,r){if(r.length===0)throw new b;this.field=e;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),R.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(e===1){i=0;for(let c=0,h=r.length;c!==h;c++){const g=r[c];i=Te.addOrSubtract(i,g)}return i}i=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)i=Te.addOrSubtract(l.multiply(e,i),r[c]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){const c=r;r=i,i=c}let o=new Int32Array(i.length);const l=i.length-r.length;R.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=Te.addOrSubtract(r[c-l],i[c]);return new Fe(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1),h=this.field;for(let g=0;g<i;g++){const p=r[g];for(let w=0;w<l;w++)c[g+w]=Te.addOrSubtract(c[g+w],h.multiply(p,o[w]))}return new Fe(h,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=i.multiply(l[c],e);return new Fe(i,o)}multiplyByMonomial(e,r){if(e<0)throw new b;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+e),c=this.field;for(let h=0;h<o;h++)l[h]=c.multiply(i[h],r);return new Fe(c,l)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),c=r.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const h=o.getDegree()-e.getDegree(),g=r.multiply(o.getCoefficient(o.getDegree()),c),p=e.multiplyByMonomial(h,g),w=r.buildMonomial(h,g);i=i.addOrSubtract(w),o=o.addOrSubtract(p)}return[i,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class ut extends x{}ut.kind="ArithmeticException";class T extends Te{constructor(e,r,i){super(),this.primitive=e,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let h=0;h<r;h++)o[h]=l,l*=2,l>=r&&(l^=e,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let h=0;h<r-1;h++)c[o[h]]=h;this.logTable=c,this.zero=new Fe(this,Int32Array.from([0])),this.one=new Fe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new b;if(r===0)return this.zero;const i=new Int32Array(e+1);return i[0]=r,new Fe(this,i)}inverse(e){if(e===0)throw new ut;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}T.AZTEC_DATA_12=new T(4201,4096,1),T.AZTEC_DATA_10=new T(1033,1024,1),T.AZTEC_DATA_6=new T(67,64,1),T.AZTEC_PARAM=new T(19,16,1),T.QR_CODE_FIELD_256=new T(285,256,0),T.DATA_MATRIX_FIELD_256=new T(301,256,1),T.AZTEC_DATA_8=T.DATA_MATRIX_FIELD_256,T.MAXICODE_FIELD_64=T.AZTEC_DATA_6;class N extends x{}N.kind="ReedSolomonException";class H extends x{}H.kind="IllegalStateException";class se{constructor(e){this.field=e}decode(e,r){const i=this.field,o=new Fe(i,e),l=new Int32Array(r);let c=!0;for(let O=0;O<r;O++){const D=o.evaluateAt(i.exp(O+i.getGeneratorBase()));l[l.length-1-O]=D,D!==0&&(c=!1)}if(c)return;const h=new Fe(i,l),g=this.runEuclideanAlgorithm(i.buildMonomial(r,1),h,r),p=g[0],w=g[1],y=this.findErrorLocations(p),C=this.findErrorMagnitudes(w,y);for(let O=0;O<y.length;O++){const D=e.length-1-i.log(y[O]);if(D<0)throw new N("Bad error location");e[D]=T.addOrSubtract(e[D],C[O])}}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){const O=e;e=r,r=O}const o=this.field;let l=e,c=r,h=o.getZero(),g=o.getOne();for(;c.getDegree()>=(i/2|0);){let O=l,D=h;if(l=c,h=g,l.isZero())throw new N("r_{i-1} was zero");c=O;let P=o.getZero();const U=l.getCoefficient(l.getDegree()),Y=o.inverse(U);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const de=c.getDegree()-l.getDegree(),pe=o.multiply(c.getCoefficient(c.getDegree()),Y);P=P.addOrSubtract(o.buildMonomial(de,pe)),c=c.addOrSubtract(l.multiplyByMonomial(de,pe))}if(g=P.multiply(h).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new H("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new N("sigmaTilde(0) was zero");const w=o.inverse(p),y=g.multiplyScalar(w),C=c.multiplyScalar(w);return[y,C]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)e.evaluateAt(c)===0&&(i[o]=l.inverse(c),o++);if(o!==r)throw new N("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let c=0;c<i;c++){const h=l.inverse(r[c]);let g=1;for(let p=0;p<i;p++)if(c!==p){const w=l.multiply(r[p],h),y=w&1?w&-2:w|1;g=l.multiply(g,y)}o[c]=l.multiply(e.evaluateAt(h),l.inverse(g)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],h))}return o}}var q;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(q||(q={}));class te{decode(e){this.ddata=e;let r=e.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=te.convertBoolArrayToByteArray(o),c=te.getEncodedData(o),h=new xe(l,c,null,null);return h.setNumBits(o.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,i=q.UPPER,o=q.UPPER,l="",c=0;for(;c<r;)if(o===q.BINARY){if(r-c<5)break;let h=te.readCode(e,c,5);if(c+=5,h===0){if(r-c<11)break;h=te.readCode(e,c,11)+31,c+=11}for(let g=0;g<h;g++){if(r-c<8){c=r;break}const p=te.readCode(e,c,8);l+=$.castAsNonUtf8Char(p),c+=8}o=i}else{let h=o===q.DIGIT?4:5;if(r-c<h)break;let g=te.readCode(e,c,h);c+=h;let p=te.getCharacter(o,g);p.startsWith("CTRL_")?(i=o,o=te.getTable(p.charAt(5)),p.charAt(6)==="L"&&(i=o)):(l+=p,o=i)}return l}static getTable(e){switch(e){case"L":return q.LOWER;case"P":return q.PUNCT;case"M":return q.MIXED;case"D":return q.DIGIT;case"B":return q.BINARY;case"U":default:return q.UPPER}}static getCharacter(e,r){switch(e){case q.UPPER:return te.UPPER_TABLE[r];case q.LOWER:return te.LOWER_TABLE[r];case q.MIXED:return te.MIXED_TABLE[r];case q.PUNCT:return te.PUNCT_TABLE[r];case q.DIGIT:return te.DIGIT_TABLE[r];default:throw new H("Bad table")}}correctBits(e){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=T.AZTEC_DATA_10):(i=12,r=T.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=e.length/i;if(l<o)throw new k;let c=e.length%i,h=new Int32Array(l);for(let C=0;C<l;C++,c+=i)h[C]=te.readCode(e,c,i);try{new se(r).decode(h,l-o)}catch(C){throw new k(C)}let g=(1<<i)-1,p=0;for(let C=0;C<o;C++){let O=h[C];if(O===0||O===g)throw new k;(O===1||O===g-1)&&p++}let w=new Array(o*i-p),y=0;for(let C=0;C<o;C++){let O=h[C];if(O===1||O===g-1)w.fill(O>1,y,y+i-1),y+=i-1;else for(let D=i-1;D>=0;--D)w[y++]=(O&1<<D)!==0}return w}extractBits(e){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,r));if(r)for(let h=0;h<l.length;h++)l[h]=h;else{let h=o+1+2*L.truncDivision(L.truncDivision(o,2)-1,15),g=o/2,p=L.truncDivision(h,2);for(let w=0;w<g;w++){let y=w+L.truncDivision(w,15);l[g-w-1]=p-y-1,l[g+w]=p+y+1}}for(let h=0,g=0;h<i;h++){let p=(i-h)*4+(r?9:12),w=h*2,y=o-1-w;for(let C=0;C<p;C++){let O=C*2;for(let D=0;D<2;D++)c[g+O+D]=e.get(l[w+D],l[w+C]),c[g+2*p+O+D]=e.get(l[w+C],l[y-D]),c[g+4*p+O+D]=e.get(l[y-D],l[y-C]),c[g+6*p+O+D]=e.get(l[y-C],l[w+D])}g+=p*8}return c}static readCode(e,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,e[l]&&(o|=1);return o}static readByte(e,r){let i=e.length-r;return i>=8?te.readCode(e,r,8):te.readCode(e,r,i)<<8-i}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let i=0;i<r.length;i++)r[i]=te.readByte(e,8*i);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}te.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],te.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],te.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],te.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],te.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ie{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,i,o){const l=e-i,c=r-o;return Math.sqrt(l*l+c*c)}static sum(e){let r=0;for(let i=0,o=e.length;i!==o;i++){const l=e[i];r+=l}return r}}class ge{static floatToIntBits(e){return e}}ge.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof j){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ge.floatToIntBits(this.x)+ge.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,c,h;if(i>=r&&i>=o?(c=e[0],l=e[1],h=e[2]):o>=i&&o>=r?(c=e[1],l=e[0],h=e[2]):(c=e[2],l=e[0],h=e[1]),this.crossProductZ(l,c,h)<0){const g=l;l=h,h=g}e[0]=l,e[1]=c,e[2]=h}static distance(e,r){return ie.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,i){const o=r.x,l=r.y;return(i.x-o)*(e.y-l)-(i.y-l)*(e.x-o)}}class ae{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we extends ae{constructor(e,r,i,o,l){super(e,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ye{constructor(e,r,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=ye.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let e=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,c=!0,h=!1,g=!1,p=!1,w=!1,y=!1;const C=this.width,O=this.height;for(;c;){c=!1;let D=!0;for(;(D||!g)&&r<C;)D=this.containsBlackPoint(i,o,r,!1),D?(r++,c=!0,g=!0):g||r++;if(r>=C){l=!0;break}let P=!0;for(;(P||!p)&&o<O;)P=this.containsBlackPoint(e,r,o,!0),P?(o++,c=!0,p=!0):p||o++;if(o>=O){l=!0;break}let U=!0;for(;(U||!w)&&e>=0;)U=this.containsBlackPoint(i,o,e,!1),U?(e--,c=!0,w=!0):w||e--;if(e<0){l=!0;break}let Y=!0;for(;(Y||!y)&&i>=0;)Y=this.containsBlackPoint(e,r,i,!0),Y?(i--,c=!0,y=!0):y||i--;if(i<0){l=!0;break}c&&(h=!0)}if(!l&&h){const D=r-e;let P=null;for(let pe=1;P===null&&pe<D;pe++)P=this.getBlackPointOnSegment(e,o-pe,e+pe,o);if(P==null)throw new G;let U=null;for(let pe=1;U===null&&pe<D;pe++)U=this.getBlackPointOnSegment(e,i+pe,e+pe,i);if(U==null)throw new G;let Y=null;for(let pe=1;Y===null&&pe<D;pe++)Y=this.getBlackPointOnSegment(r,i+pe,r-pe,i);if(Y==null)throw new G;let de=null;for(let pe=1;de===null&&pe<D;pe++)de=this.getBlackPointOnSegment(r,o-pe,r-pe,o);if(de==null)throw new G;return this.centerEdges(de,P,Y,U)}else throw new G}getBlackPointOnSegment(e,r,i,o){const l=ie.round(ie.distance(e,r,i,o)),c=(i-e)/l,h=(o-r)/l,g=this.image;for(let p=0;p<l;p++){const w=ie.round(e+p*c),y=ie.round(r+p*h);if(g.get(w,y))return new j(w,y)}return null}centerEdges(e,r,i,o){const l=e.getX(),c=e.getY(),h=r.getX(),g=r.getY(),p=i.getX(),w=i.getY(),y=o.getX(),C=o.getY(),O=ye.CORR;return l<this.width/2?[new j(y-O,C+O),new j(h+O,g+O),new j(p-O,w-O),new j(l+O,c-O)]:[new j(y+O,C+O),new j(h+O,g-O),new j(p-O,w+O),new j(l-O,c-O)]}containsBlackPoint(e,r,i,o){const l=this.image;if(o){for(let c=e;c<=r;c++)if(l.get(c,i))return!0}else for(let c=e;c<=r;c++)if(l.get(i,c))return!0;return!1}}ye.INIT_SIZE=10,ye.CORR=1;class Se{static checkAndNudgePoints(e,r){const i=e.getWidth(),o=e.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const h=Math.floor(r[c]),g=Math.floor(r[c+1]);if(h<-1||h>i||g<-1||g>o)throw new G;l=!1,h===-1?(r[c]=0,l=!0):h===i&&(r[c]=i-1,l=!0),g===-1?(r[c+1]=0,l=!0):g===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const h=Math.floor(r[c]),g=Math.floor(r[c+1]);if(h<-1||h>i||g<-1||g>o)throw new G;l=!1,h===-1?(r[c]=0,l=!0):h===i&&(r[c]=i-1,l=!0),g===-1?(r[c+1]=0,l=!0):g===o&&(r[c+1]=o-1,l=!0)}}}class Ne{constructor(e,r,i,o,l,c,h,g,p){this.a11=e,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=c,this.a13=h,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(e,r,i,o,l,c,h,g,p,w,y,C,O,D,P,U){const Y=Ne.quadrilateralToSquare(e,r,i,o,l,c,h,g);return Ne.squareToQuadrilateral(p,w,y,C,O,D,P,U).times(Y)}transformPoints(e){const r=e.length,i=this.a11,o=this.a12,l=this.a13,c=this.a21,h=this.a22,g=this.a23,p=this.a31,w=this.a32,y=this.a33;for(let C=0;C<r;C+=2){const O=e[C],D=e[C+1],P=l*O+g*D+y;e[C]=(i*O+c*D+p)/P,e[C+1]=(o*O+h*D+w)/P}}transformPointsWithValues(e,r){const i=this.a11,o=this.a12,l=this.a13,c=this.a21,h=this.a22,g=this.a23,p=this.a31,w=this.a32,y=this.a33,C=e.length;for(let O=0;O<C;O++){const D=e[O],P=r[O],U=l*D+g*P+y;e[O]=(i*D+c*P+p)/U,r[O]=(o*D+h*P+w)/U}}static squareToQuadrilateral(e,r,i,o,l,c,h,g){const p=e-i+l-h,w=r-o+c-g;if(p===0&&w===0)return new Ne(i-e,l-i,e,o-r,c-o,r,0,0,1);{const y=i-l,C=h-l,O=o-c,D=g-c,P=y*D-C*O,U=(p*D-C*w)/P,Y=(y*w-p*O)/P;return new Ne(i-e+U*i,h-e+Y*h,e,o-r+U*o,g-r+Y*g,r,U,Y,1)}}static quadrilateralToSquare(e,r,i,o,l,c,h,g){return Ne.squareToQuadrilateral(e,r,i,o,l,c,h,g).buildAdjoint()}buildAdjoint(){return new Ne(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ne(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class We extends Se{sampleGrid(e,r,i,o,l,c,h,g,p,w,y,C,O,D,P,U,Y,de,pe){const ue=Ne.quadrilateralToQuadrilateral(o,l,c,h,g,p,w,y,C,O,D,P,U,Y,de,pe);return this.sampleGridWithTransform(e,r,i,ue)}sampleGridWithTransform(e,r,i,o){if(r<=0||i<=0)throw new G;const l=new Re(r,i),c=new Float32Array(2*r);for(let h=0;h<i;h++){const g=c.length,p=h+.5;for(let w=0;w<g;w+=2)c[w]=w/2+.5,c[w+1]=p;o.transformPoints(c),Se.checkAndNudgePoints(e,c);try{for(let w=0;w<g;w+=2)e.get(Math.floor(c[w]),Math.floor(c[w+1]))&&l.set(w/2,h)}catch{throw new G}}return l}}class Ze{static setGridSampler(e){Ze.gridSampler=e}static getInstance(){return Ze.gridSampler}}Ze.gridSampler=new We;class Ve{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new j(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(e){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new we(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new G;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let c=0;c<4;c++){let h=i[(this.shift+c)%4];this.compact?(o<<=7,o+=h>>1&127):(o<<=10,o+=(h>>2&992)+(h>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(e,r){let i=0;e.forEach((o,l,c)=>{let h=(o>>r-2<<1)+(o&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(L.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new G}getCorrectedParameterData(e,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,c=new Int32Array(i);for(let g=i-1;g>=0;--g)c[g]=e&15,e>>=4;try{new se(T.AZTEC_PARAM).decode(c,l)}catch{throw new G}let h=0;for(let g=0;g<o;g++)h=(h<<4)+c[g];return h}getBullsEyeCorners(e){let r=e,i=e,o=e,l=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let y=this.getFirstDifferent(r,c,1,-1),C=this.getFirstDifferent(i,c,1,1),O=this.getFirstDifferent(o,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(D,y)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(y,C,O,D))break}r=y,i=C,o=O,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let h=new j(r.getX()+.5,r.getY()-.5),g=new j(i.getX()+.5,i.getY()+.5),p=new j(o.getX()-.5,o.getY()+.5),w=new j(l.getX()-.5,l.getY()-.5);return this.expandSquare([h,g,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,i,o;try{let h=new ye(this.image).detect();e=h[0],r=h[1],i=h[2],o=h[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new Ve(g+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ve(g+7,p+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ve(g-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ve(g-7,p-7),!1,-1,-1).toResultPoint()}let l=ie.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=ie.round((e.getY()+o.getY()+r.getY()+i.getY())/4);try{let h=new ye(this.image,15,l,c).detect();e=h[0],r=h[1],i=h[2],o=h[3]}catch{e=this.getFirstDifferent(new Ve(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ve(l+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Ve(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ve(l-7,c-7),!1,-1,-1).toResultPoint()}return l=ie.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=ie.round((e.getY()+o.getY()+r.getY()+i.getY())/4),new Ve(l,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,i,o,l){let c=Ze.getInstance(),h=this.getDimension(),g=h/2-this.nbCenterLayers,p=h/2+this.nbCenterLayers;return c.sampleGrid(e,h,h,g,g,p,g,p,p,g,p,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,r,i){let o=0,l=this.distanceResultPoint(e,r),c=l/i,h=e.getX(),g=e.getY(),p=c*(r.getX()-e.getX())/l,w=c*(r.getY()-e.getY())/l;for(let y=0;y<i;y++)this.image.get(ie.round(h+y*p),ie.round(g+y*w))&&(o|=1<<i-y-1);return o}isWhiteOrBlackRectangle(e,r,i,o){let l=3;e=new Ve(e.getX()-l,e.getY()+l),r=new Ve(r.getX()-l,r.getY()-l),i=new Ve(i.getX()+l,i.getY()-l),o=new Ve(o.getX()+l,o.getY()+l);let c=this.getColor(o,e);if(c===0)return!1;let h=this.getColor(e,r);return h!==c||(h=this.getColor(r,i),h!==c)?!1:(h=this.getColor(i,o),h===c)}getColor(e,r){let i=this.distancePoint(e,r),o=(r.getX()-e.getX())/i,l=(r.getY()-e.getY())/i,c=0,h=e.getX(),g=e.getY(),p=this.image.get(e.getX(),e.getY()),w=Math.ceil(i);for(let C=0;C<w;C++)h+=o,g+=l,this.image.get(ie.round(h),ie.round(g))!==p&&c++;let y=c/i;return y>.1&&y<.9?0:y<=.1===p?1:-1}getFirstDifferent(e,r,i,o){let l=e.getX()+i,c=e.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i,c+=o;for(l-=i,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i;for(l-=i;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new Ve(l,c)}expandSquare(e,r,i){let o=i/(2*r),l=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,g=(e[0].getY()+e[2].getY())/2,p=new j(h+o*l,g+o*c),w=new j(h-o*l,g-o*c);l=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,g=(e[1].getY()+e[3].getY())/2;let y=new j(h+o*l,g+o*c),C=new j(h-o*l,g-o*c);return[p,y,w,C]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=ie.round(e.getX()),i=ie.round(e.getY());return this.isValid(r,i)}distancePoint(e,r){return ie.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return ie.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(e,r=null){let i=null,o=new Mt(e.getBlackMatrix()),l=null,c=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new te().decode(w)}catch(w){i=w}if(c==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new te().decode(w)}catch(w){throw i??w}let h=new ht(c.getText(),c.getRawBytes(),c.getNumBits(),l,be.AZTEC,R.currentTimeMillis()),g=c.getByteSegments();g!=null&&h.putMetadata(he.BYTE_SEGMENTS,g);let p=c.getECLevel();return p!=null&&h.putMetadata(he.ERROR_CORRECTION_LEVEL,p),h}reportFoundResultPoints(e,r){if(e!=null){let i=e.get(W.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class _r extends kt{constructor(e=500){super(new qt,e)}}class Ct{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(W.TRY_HARDER)===!0&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),c=this.doDecode(l,r),h=c.getResultMetadata();let g=270;h!==null&&h.get(he.ORIENTATION)===!0&&(g=g+h.get(he.ORIENTATION)%360),c.putMetadata(he.ORIENTATION,g);const p=c.getResultPoints();if(p!==null){const w=l.getHeight();for(let y=0;y<p.length;y++)p[y]=new j(w-p[y].getY()-1,p[y].getX())}return c}else throw new G}}reset(){}doDecode(e,r){const i=e.getWidth(),o=e.getHeight();let l=new Z(i);const c=r&&r.get(W.TRY_HARDER)===!0,h=Math.max(1,o>>(c?8:5));let g;c?g=o:g=15;const p=Math.trunc(o/2);for(let w=0;w<g;w++){const y=Math.trunc((w+1)/2),C=(w&1)===0,O=p+h*(C?y:-y);if(O<0||O>=o)break;try{l=e.getBlackRow(O,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;r.forEach((U,Y)=>P.set(Y,U)),P.delete(W.NEED_RESULT_POINT_CALLBACK),r=P}try{const P=this.decodeRow(O,l,r);if(D===1){P.putMetadata(he.ORIENTATION,180);const U=P.getResultPoints();U!==null&&(U[0]=new j(i-U[0].getX()-1,U[0].getY()),U[1]=new j(i-U[1].getX()-1,U[1].getY()))}return P}catch{}}}throw new G}static recordPattern(e,r,i){const o=i.length;for(let p=0;p<o;p++)i[p]=0;const l=e.getSize();if(r>=l)throw new G;let c=!e.get(r),h=0,g=r;for(;g<l;){if(e.get(g)!==c)i[h]++;else{if(++h===o)break;i[h]=1,c=!c}g++}if(!(h===o||h===o-1&&g===l))throw new G}static recordPatternInReverse(e,r,i){let o=i.length,l=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new G;Ct.recordPattern(e,r+1,i)}static patternMatchVariance(e,r,i){const o=e.length;let l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return Number.POSITIVE_INFINITY;const h=l/c;i*=h;let g=0;for(let p=0;p<o;p++){const w=e[p],y=r[p]*h,C=w>y?w-y:y-w;if(C>i)return Number.POSITIVE_INFINITY;g+=C}return g/l}}class me extends Ct{static findStartPattern(e){const r=e.getSize(),i=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=i,h=!1;const g=6;for(let p=i;p<r;p++)if(e.get(p)!==h)l[o]++;else{if(o===g-1){let w=me.MAX_AVG_VARIANCE,y=-1;for(let C=me.CODE_START_A;C<=me.CODE_START_C;C++){const O=Ct.patternMatchVariance(l,me.CODE_PATTERNS[C],me.MAX_INDIVIDUAL_VARIANCE);O<w&&(w=O,y=C)}if(y>=0&&e.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,y]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,h=!h}throw new G}static decodeCode(e,r,i){Ct.recordPattern(e,i,r);let o=me.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<me.CODE_PATTERNS.length;c++){const h=me.CODE_PATTERNS[c],g=this.patternMatchVariance(r,h,me.MAX_INDIVIDUAL_VARIANCE);g<o&&(o=g,l=c)}if(l>=0)return l;throw new G}decodeRow(e,r,i){const o=i&&i.get(W.ASSUME_GS1)===!0,l=me.findStartPattern(r),c=l[2];let h=0;const g=new Uint8Array(20);g[h++]=c;let p;switch(c){case me.CODE_START_A:p=me.CODE_CODE_A;break;case me.CODE_START_B:p=me.CODE_CODE_B;break;case me.CODE_START_C:p=me.CODE_CODE_C;break;default:throw new k}let w=!1,y=!1,C="",O=l[0],D=l[1];const P=Int32Array.from([0,0,0,0,0,0]);let U=0,Y=0,de=c,pe=0,ue=!0,Je=!1,Ge=!1;for(;!w;){const Fs=y;switch(y=!1,U=Y,Y=me.decodeCode(r,P,D),g[h++]=Y,Y!==me.CODE_STOP&&(ue=!0),Y!==me.CODE_STOP&&(pe++,de+=pe*Y),O=D,D+=P.reduce((Ng,Rg)=>Ng+Rg,0),Y){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new k}switch(p){case me.CODE_CODE_A:if(Y<64)Ge===Je?C+=String.fromCharCode(32+Y):C+=String.fromCharCode(32+Y+128),Ge=!1;else if(Y<96)Ge===Je?C+=String.fromCharCode(Y-64):C+=String.fromCharCode(Y+64),Ge=!1;else switch(Y!==me.CODE_STOP&&(ue=!1),Y){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!Je&&Ge?(Je=!0,Ge=!1):Je&&Ge?(Je=!1,Ge=!1):Ge=!0;break;case me.CODE_SHIFT:y=!0,p=me.CODE_CODE_B;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:w=!0;break}break;case me.CODE_CODE_B:if(Y<96)Ge===Je?C+=String.fromCharCode(32+Y):C+=String.fromCharCode(32+Y+128),Ge=!1;else switch(Y!==me.CODE_STOP&&(ue=!1),Y){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!Je&&Ge?(Je=!0,Ge=!1):Je&&Ge?(Je=!1,Ge=!1):Ge=!0;break;case me.CODE_SHIFT:y=!0,p=me.CODE_CODE_A;break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:w=!0;break}break;case me.CODE_CODE_C:if(Y<100)Y<10&&(C+="0"),C+=Y;else switch(Y!==me.CODE_STOP&&(ue=!1),Y){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_STOP:w=!0;break}break}Fs&&(p=p===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const un=D-O;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-O)/2),!1))throw new G;if(de-=pe*U,de%103!==U)throw new I;const Un=C.length;if(Un===0)throw new G;Un>0&&ue&&(p===me.CODE_CODE_C?C=C.substring(0,Un-2):C=C.substring(0,Un-1));const fn=(l[1]+l[0])/2,mt=O+un/2,Kt=g.length,mn=new Uint8Array(Kt);for(let Fs=0;Fs<Kt;Fs++)mn[Fs]=g[Fs];const ks=[new j(fn,e),new j(mt,e)];return new ht(C,mn,0,ks,be.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Ot extends Ct{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=Ot.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),h=r.getSize(),g,p;do{Ot.recordPattern(r,c,o);let P=Ot.toNarrowWidePattern(o);if(P<0)throw new G;g=Ot.patternToChar(P),this.decodeRowResult+=g,p=c;for(let U of o)c+=U;c=r.getNextSet(c)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let P of o)w+=P;let y=c-p-w;if(c!==h&&y*2<w)throw new G;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,U=0;for(let Y=0;Y<P;Y++)U+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(P)!==Ot.ALPHABET_STRING.charAt(U%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new G;let C;this.extendedMode?C=Ot.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let O=(l[1]+l[0])/2,D=p+w/2;return new ht(C,null,0,[new j(O,e),new j(D,e)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let i=e.getSize(),o=e.getNextSet(0),l=0,c=o,h=!1,g=r.length;for(let p=o;p<i;p++)if(e.get(p)!==h)r[l]++;else{if(l===g-1){if(this.toNarrowWidePattern(r)===Ot.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,h=!h}throw new G}static toNarrowWidePattern(e){let r=e.length,i=0,o;do{let l=2147483647;for(let g of e)g<l&&g>i&&(l=g);i=l,o=0;let c=0,h=0;for(let g=0;g<r;g++){let p=e[g];p>i&&(h|=1<<r-1-g,o++,c+=p)}if(o===3){for(let g=0;g<r&&o>0;g++){let p=e[g];if(p>i&&(o--,p*2>=c))return-1}return h}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<Ot.CHARACTER_ENCODINGS.length;r++)if(Ot.CHARACTER_ENCODINGS[r]===e)return Ot.ALPHABET_STRING.charAt(r);if(e===Ot.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(e){let r=e.length,i="";for(let o=0;o<r;o++){let l=e.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=e.charAt(o+1),h="\0";switch(l){case"+":if(c>="A"&&c<="Z")h=String.fromCharCode(c.charCodeAt(0)+32);else throw new k;break;case"$":if(c>="A"&&c<="Z")h=String.fromCharCode(c.charCodeAt(0)-64);else throw new k;break;case"%":if(c>="A"&&c<="E")h=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")h=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")h=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")h=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")h="\0";else if(c==="V")h="@";else if(c==="W")h="`";else if(c==="X"||c==="Y"||c==="Z")h="";else throw new k;break;case"/":if(c>="A"&&c<="O")h=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")h=":";else throw new k;break}i+=h,o++}else i+=l}return i}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class ze extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new ne;ze.decodeMiddle(r,o[1],l[0],c);let h=c.toString(),g=null;i!=null&&(g=i.get(W.ALLOWED_LENGTHS)),g==null&&(g=ze.DEFAULT_ALLOWED_LENGTHS);let p=h.length,w=!1,y=0;for(let D of g){if(p===D){w=!0;break}D>y&&(y=D)}if(!w&&p>y&&(w=!0),!w)throw new k;const C=[new j(o[1],e),new j(l[0],e)];return new ht(h,null,0,C,be.ITF,new Date().getTime())}static decodeMiddle(e,r,i,o){let l=new Int32Array(10),c=new Int32Array(5),h=new Int32Array(5);for(l.fill(0),c.fill(0),h.fill(0);r<i;){Ct.recordPattern(e,r,l);for(let p=0;p<5;p++){let w=2*p;c[p]=l[w],h[p]=l[w+1]}let g=ze.decodeDigit(c);o.append(g.toString()),g=this.decodeDigit(h),o.append(g.toString()),l.forEach(function(p){r+=p})}}decodeStart(e){let r=ze.skipWhiteSpace(e),i=ze.findGuardPattern(e,r,ze.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new G}static skipWhiteSpace(e){const r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new G;return i}decodeEnd(e){e.reverse();try{let r=ze.skipWhiteSpace(e),i;try{i=ze.findGuardPattern(e,r,ze.END_PATTERN_REVERSED[0])}catch(l){l instanceof G&&(i=ze.findGuardPattern(e,r,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,r,i){let o=i.length,l=new Int32Array(o),c=e.getSize(),h=!1,g=0,p=r;l.fill(0);for(let w=r;w<c;w++)if(e.get(w)!==h)l[g]++;else{if(g===o-1){if(Ct.patternMatchVariance(l,i,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],R.arraycopy(l,2,l,0,g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,h=!h}throw new G}static decodeDigit(e){let r=ze.MAX_AVG_VARIANCE,i=-1,o=ze.PATTERNS.length;for(let l=0;l<o;l++){let c=ze.PATTERNS[l],h=Ct.patternMatchVariance(e,c,ze.MAX_INDIVIDUAL_VARIANCE);h<r?(r=h,i=l):h===r&&(i=-1)}if(i>=0)return i%10;throw new G}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=tt.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let c=i[0];o=i[1];let h=c-(o-c);h>=0&&(r=e.isRange(h,c,!1))}return i}static checkChecksum(e){return tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return tt.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new k;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new k;i+=l}return(1e3-i)%10}static decodeEnd(e,r){return tt.findGuardPattern(e,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))}static findGuardPattern(e,r,i,o,l){let c=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);let h=0,g=r,p=o.length,w=i;for(let y=r;y<c;y++)if(e.get(y)!==w)l[h]++;else{if(h===p-1){if(Ct.patternMatchVariance(l,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([g,y]);g+=l[0]+l[1];let C=l.slice(2,l.length-1);for(let O=0;O<h-1;O++)l[O]=C[O];l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,w=!w}throw new G}static decodeDigit(e,r,i,o){this.recordPattern(e,i,r);let l=this.MAX_AVG_VARIANCE,c=-1,h=o.length;for(let g=0;g<h;g++){let p=o[g],w=Ct.patternMatchVariance(r,p,tt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,c=g)}if(c>=0)return c;throw new G}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Er{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),h=Er.parseExtensionString(c),g=[new j((i[0]+i[1])/2,e),new j(l,e)],p=new ht(c,null,0,g,be.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&p.putAllMetadata(h),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let p=0;p<5&&c<l;p++){let w=tt.decodeDigit(e,o,c,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==5)throw new G;let g=this.determineCheckDigit(h);if(Er.extensionChecksum(i.toString())!==g)throw new G;return c}static extensionChecksum(e){let r=e.length,i=0;for(let o=r-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new G}static parseExtensionString(e){if(e.length!==5)return null;let r=Er.parseExtension5String(e);return r==null?null:new Map([[he.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),l=i%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),h=ja.parseExtensionString(c),g=[new j((i[0]+i[1])/2,e),new j(l,e)],p=new ht(c,null,0,g,be.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&p.putAllMetadata(h),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let g=0;g<2&&c<l;g++){let p=tt.decodeDigit(e,o,c,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of o)c+=w;p>=10&&(h|=1<<1-g),g!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==2)throw new G;if(parseInt(i.toString())%4!==h)throw new G;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[he.ISSUE_NUMBER,parseInt(e)]])}}class Au{static decodeRow(e,r,i){let o=tt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Er().decodeRow(e,r,o)}catch{return new ja().decodeRow(e,r,o)}}}Au.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends tt{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=ot.L_PATTERNS[e-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];ot.L_AND_G_PATTERNS[e]=i}}decodeRow(e,r,i){let o=ot.findStartGuardPattern(r),l=i==null?null:i.get(W.NEED_RESULT_POINT_CALLBACK);if(l!=null){const ue=new j((o[0]+o[1])/2,e);l.foundPossibleResultPoint(ue)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),h=c.rowOffset,g=c.resultString;if(l!=null){const ue=new j(h,e);l.foundPossibleResultPoint(ue)}let p=this.decodeEnd(r,h);if(l!=null){const ue=new j((p[0]+p[1])/2,e);l.foundPossibleResultPoint(ue)}let w=p[1],y=w+(w-p[0]);if(y>=r.getSize()||!r.isRange(w,y,!1))throw new G;let C=g.toString();if(C.length<8)throw new k;if(!ot.checkChecksum(C))throw new I;let O=(o[1]+o[0])/2,D=(p[1]+p[0])/2,P=this.getBarcodeFormat(),U=[new j(O,e),new j(D,e)],Y=new ht(C,null,0,U,P,new Date().getTime()),de=0;try{let ue=Au.decodeRow(e,r,p[1]);Y.putMetadata(he.UPC_EAN_EXTENSION,ue.getText()),Y.putAllMetadata(ue.getResultMetadata()),Y.addResultPoints(ue.getResultPoints()),de=ue.getText().length}catch{}let pe=i==null?null:i.get(W.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let ue=!1;for(let Je in pe)if(de.toString()===Je){ue=!0;break}if(!ue)throw new G}return Y}decodeEnd(e,r){return ot.findGuardPattern(e,r,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ot.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return ot.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new k;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new k;i+=l}return(1e3-i)%10}}class Qr extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],h=0;for(let p=0;p<6&&c<l;p++){let w=ot.decodeDigit(e,o,c,ot.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(h|=1<<5-p)}i=Qr.determineFirstDigit(i,h),c=ot.findGuardPattern(e,c,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let w=ot.decodeDigit(e,o,c,ot.L_PATTERNS);i+=String.fromCharCode(48+w);for(let y of o)c+=y}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(e,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new G}}Qr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class yu extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1];for(let g=0;g<4&&c<l;g++){let p=ot.decodeDigit(e,o,c,ot.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}c=ot.findGuardPattern(e,c,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&c<l;g++){let p=ot.decodeDigit(e,o,c,ot.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return be.EAN_8}}class Cu extends ot{constructor(){super(...arguments),this.ean13Reader=new Qr}getBarcodeFormat(){return be.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))}decodeMiddle(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let i=new ht(r.substring(1),null,null,e.getResultPoints(),be.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new G}reset(){this.ean13Reader.reset()}}class Fn extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let c=r[1],h=0;for(let p=0;p<6&&c<l;p++){const w=Fn.decodeDigit(e,o,c,Fn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(h|=1<<5-p)}let g=Fn.determineNumSysAndCheckDigit(i,h);return{rowOffset:c,resultString:g}}decodeEnd(e,r){return Fn.findGuardPatternWithoutCounters(e,r,!0,Fn.MIDDLE_END_PATTERN)}checkChecksum(e){return ot.checkChecksum(Fn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),c=String.fromCharCode(48+o);return l+e+c}throw G.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new ne;i.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class za extends Ct{constructor(e){super();let r=e==null?null:e.get(W.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new Qr),i.push(new Cu),i.push(new yu),i.push(new Fn)):(r.indexOf(be.EAN_13)>-1&&i.push(new Qr),r.indexOf(be.UPC_A)>-1&&i.push(new Cu),r.indexOf(be.EAN_8)>-1&&i.push(new yu),r.indexOf(be.UPC_E)>-1&&i.push(new Fn)),this.readers=i}decodeRow(e,r,i){for(let o of this.readers)try{const l=o.decodeRow(e,r,i),c=l.getBarcodeFormat()===be.EAN_13&&l.getText().charAt(0)==="0",h=i==null?null:i.get(W.POSSIBLE_FORMATS),g=h==null||h.includes(be.UPC_A);if(c&&g){const p=l.getRawBytes(),w=new ht(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),be.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new G}reset(){for(let e of this.readers)e.reset()}}class Zt extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let i=0;i<r.length;i++)if(Ct.patternMatchVariance(e,r[i],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return i;throw new G}static count(e){return ie.sum(new Int32Array(e))}static increment(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]>o&&(o=r[l],i=l);e[i]++}static decrement(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]<o&&(o=r[l],i=l);e[i]--}static isFinderPattern(e){let r=e[0]+e[1],i=r+e[2]+e[3],o=r/i;if(o>=Zt.MIN_FINDER_PATTERN_RATIO&&o<=Zt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let h of e)h>c&&(c=h),h<l&&(l=h);return c<10*l}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ns{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ns))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mo{constructor(e,r,i,o,l){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new j(i,l)),this.resultPoints.push(new j(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof mo))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class zn{constructor(){}static getRSSvalue(e,r,i){let o=0;for(let g of e)o+=g;let l=0,c=0,h=e.length;for(let g=0;g<h-1;g++){let p;for(p=1,c|=1<<g;p<e[g];p++,c&=~(1<<g)){let w=zn.combins(o-p-1,h-g-2);if(i&&c===0&&o-p-(h-g-1)>=h-g-1&&(w-=zn.combins(o-p-(h-g),h-g-2)),h-g-1>1){let y=0;for(let C=o-p-(h-g-2);C>r;C--)y+=zn.combins(o-p-C-1,h-g-3);w-=y*(h-1-g)}else o-p>r&&w--;l+=w}o-=p}return l}static combins(e,r){let i,o;e-r>r?(o=r,i=e-r):(o=e-r,i=r);let l=1,c=1;for(let h=e;h>i;h--)l*=h,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class ng{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new Z(i),l=0,h=e[0].getRightChar().getValue();for(let g=11;g>=0;--g)h&1<<g&&o.set(l),l++;for(let g=1;g<e.length;++g){let p=e[g],w=p.getLeftChar().getValue();for(let y=11;y>=0;--y)w&1<<y&&o.set(l),l++;if(p.getRightChar()!=null){let y=p.getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&o.set(l),l++}}return o}}class Jr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ya{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class an extends Ya{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===an.FNC1}}an.FNC1="$";class es extends Ya{constructor(e,r,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Cn extends Ya{constructor(e,r,i){if(super(e),r<0||r>10||i<0||i>10)throw new k;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Cn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Cn.FNC1}isAnyFNC1(){return this.firstDigit===Cn.FNC1||this.secondDigit===Cn.FNC1}}Cn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new G;let r=e.substring(0,2);for(let l of Ce.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,l[2],e):Ce.processFixedAI(2,l[1],e);if(e.length<3)throw new G;let i=e.substring(0,3);for(let l of Ce.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,l[2],e):Ce.processFixedAI(3,l[1],e);for(let l of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,l[2],e):Ce.processFixedAI(4,l[1],e);if(e.length<4)throw new G;let o=e.substring(0,4);for(let l of Ce.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,l[2],e):Ce.processFixedAI(4,l[1],e);throw new G}static processFixedAI(e,r,i){if(i.length<e)throw new G;let o=i.substring(0,e);if(i.length<e+r)throw new G;let l=i.substring(e,e+r),c=i.substring(e+r),h="("+o+")"+l,g=Ce.parseFieldsInGeneralPurpose(c);return g==null?h:h+g}static processVariableAI(e,r,i){let o=i.substring(0,e),l;i.length<e+r?l=i.length:l=e+r;let c=i.substring(e,l),h=i.substring(l),g="("+o+")"+c,p=Ce.parseFieldsInGeneralPurpose(h);return p==null?g:g+p}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class Rs{constructor(e){this.buffer=new ne,this.information=e}decodeAllCodes(e,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),c=Ce.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&e.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return l===0?new Cn(this.information.getSize(),Cn.FNC1,Cn.FNC1):new Cn(this.information.getSize(),l-1,Cn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new Cn(e+7,i,o)}extractNumericValueFromBitArray(e,r){return Rs.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,i){let o=0;for(let l=0;l<i;++l)e.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new es(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new es(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new es(this.current.getPosition(),this.buffer.toString()):r=new es(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Jr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new an(e+5,an.FNC1);if(r>=5&&r<15)return new an(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new an(e+7,""+(i+1));if(i>=90&&i<116)return new an(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new k}return new an(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new an(e+5,an.FNC1);if(r>=5&&r<15)return new an(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new an(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new H("Decoding invalid alphanumeric value: "+i)}return new an(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class Ka{constructor(e){this.information=e,this.generalDecoder=new Rs(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ln extends Ka{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)}encodeCompressedGtinWithoutAI(e,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&e.append("0"),l/10===0&&e.append("0"),e.append(l)}ln.appendCheckDigit(e,i)}static appendCheckDigit(e,r){let i=0;for(let o=0;o<13;o++){let l=e.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),e.append(i)}}ln.GTIN_SIZE=40;class Ds extends ln{constructor(e){super(e)}parseInformation(){let e=new ne;e.append("(01)");let r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ds.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Ds.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,Ds.HEADER_SIZE+44)}}Ds.HEADER_SIZE=4;class xo extends Ka{constructor(e){super(e)}parseInformation(){let e=new ne;return this.getGeneralDecoder().decodeAllCodes(e,xo.HEADER_SIZE)}}xo.HEADER_SIZE=5;class _o extends ln{constructor(e){super(e)}encodeCompressedWeight(e,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);let l=this.checkWeight(o),c=1e5;for(let h=0;h<5;++h)l/c===0&&e.append("0"),c/=10;e.append(l)}}class Yn extends _o{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Yn.HEADER_SIZE+_o.GTIN_SIZE+Yn.WEIGHT_SIZE)throw new G;let e=new ne;return this.encodeCompressedGtin(e,Yn.HEADER_SIZE),this.encodeCompressedWeight(e,Yn.HEADER_SIZE+_o.GTIN_SIZE,Yn.WEIGHT_SIZE),e.toString()}}Yn.HEADER_SIZE=5,Yn.WEIGHT_SIZE=15;class rg extends Yn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class sg extends Yn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Kn extends ln{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+ln.GTIN_SIZE)throw new G;let e=new ne;this.encodeCompressedGtin(e,Kn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+ln.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+ln.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class en extends ln{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+ln.GTIN_SIZE)throw new G;let e=new ne;this.encodeCompressedGtin(e,en.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE,en.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class At extends _o{constructor(e,r,i){super(e),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new G;let e=new ne;return this.encodeCompressedGtin(e,At.HEADER_SIZE),this.encodeCompressedWeight(e,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(e,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,At.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let c=i;c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function vu(A){try{if(A.get(1))return new Ds(A);if(!A.get(2))return new xo(A);switch(Rs.extractNumericValueFromBitArray(A,1,4)){case 4:return new rg(A);case 5:return new sg(A)}switch(Rs.extractNumericValueFromBitArray(A,1,5)){case 12:return new Kn(A);case 13:return new en(A)}switch(Rs.extractNumericValueFromBitArray(A,1,7)){case 56:return new At(A,"310","11");case 57:return new At(A,"320","11");case 58:return new At(A,"310","13");case 59:return new At(A,"320","13");case 60:return new At(A,"310","15");case 61:return new At(A,"320","15");case 62:return new At(A,"310","17");case 63:return new At(A,"320","17")}}catch(e){throw console.log(e),new H("unknown decoder: "+A)}}class wr{constructor(e,r,i,o){this.leftchar=e,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof wr?wr.equalsOrNull(e.leftchar,r.leftchar)&&wr.equalsOrNull(e.rightchar,r.rightchar)&&wr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:wr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qa{constructor(e,r,i){this.pairs=e,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof qa?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let i;return e.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class oe extends Zt{constructor(e){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(l){if(l instanceof G){if(!this.pairs.length)throw new G;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new G}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,i+1)}catch(c){this.verbose&&console.log(c)}}throw new G}static isValidSequence(e){for(let r of oe.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>e){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}l||o||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new qa(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let i of r)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let l of e)if(wr.equals(o,l))break}}static isPartialRow(e,r){for(let i of r){let o=!0;for(let l of e){let c=!1;for(let h of i.getPairs())if(l.equals(h)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=ng.buildBitArray(e),o=vu(r).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),h=[l[0],l[1],c[0],c[1]];return new ht(o,null,null,h,be.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let h=1;h<this.pairs.size();++h){let g=this.pairs.get(h);o+=g.getLeftChar().getChecksumPortion(),l++;let p=g.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(e,r){let i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i}retrieveNextPair(e,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,h=-1;do this.findNextPair(e,r,h),l=this.parseFoundFinderPattern(e,i,o),l==null?h=oe.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let g=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new G;let p;try{p=this.decodeDataCharacter(e,l,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new wr(g,p,l,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c;i>=0?c=i:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let h=r.length%2!=0;this.startFromEven&&(h=!h);let g=!1;for(;c<l&&(g=!e.get(c),!!g);)c++;let p=0,w=c;for(let y=c;y<l;y++)if(e.get(y)!=g)o[p]++;else{if(p==3){if(h&&oe.reverseCounters(o),oe.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=y;return}h&&oe.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,g=!g}throw new G}static reverseCounters(e){let r=e.length;for(let i=0;i<r/2;++i){let o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}}parseFoundFinderPattern(e,r,i){let o,l,c;if(i){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let h=this.getDecodeFinderCounters();R.arraycopy(h,0,h,1,h.length-1),h[0]=o;let g;try{g=this.parseFinderValue(h,oe.FINDER_PATTERNS)}catch{return null}return new mo(g,[l,c],l,c,r)}decodeDataCharacter(e,r,i,o){let l=this.getDataCharacterCounters();for(let mt=0;mt<l.length;mt++)l[mt]=0;if(o)oe.recordPatternInReverse(e,r.getStartEnd()[0],l);else{oe.recordPattern(e,r.getStartEnd()[1],l);for(let mt=0,Kt=l.length-1;mt<Kt;mt++,Kt--){let mn=l[mt];l[mt]=l[Kt],l[Kt]=mn}}let c=17,h=ie.sum(new Int32Array(l))/c,g=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(h-g)/g>.3)throw new G;let p=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let mt=0;mt<l.length;mt++){let Kt=1*l[mt]/h,mn=Kt+.5;if(mn<1){if(Kt<.3)throw new G;mn=1}else if(mn>8){if(Kt>8.7)throw new G;mn=8}let ks=mt/2;mt&1?(w[ks]=mn,C[ks]=Kt-mn):(p[ks]=mn,y[ks]=Kt-mn)}this.adjustOddEvenCounts(c);let O=4*r.getValue()+(i?0:2)+(o?0:1)-1,D=0,P=0;for(let mt=p.length-1;mt>=0;mt--){if(oe.isNotA1left(r,i,o)){let Kt=oe.WEIGHTS[O][2*mt];P+=p[mt]*Kt}D+=p[mt]}let U=0;for(let mt=w.length-1;mt>=0;mt--)if(oe.isNotA1left(r,i,o)){let Kt=oe.WEIGHTS[O][2*mt+1];U+=w[mt]*Kt}let Y=P+U;if(D&1||D>13||D<4)throw new G;let de=(13-D)/2,pe=oe.SYMBOL_WIDEST[de],ue=9-pe,Je=zn.getRSSvalue(p,pe,!0),Ge=zn.getRSSvalue(w,ue,!1),un=oe.EVEN_TOTAL_SUBSET[de],Un=oe.GSUM[de],fn=Je*un+Ge+Un;return new Ns(fn,Y)}static isNotA1left(e,r,i){return!(e.getValue()==0&&r&&i)}adjustOddEvenCounts(e){let r=ie.sum(new Int32Array(this.getOddCounts())),i=ie.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,h=!1;i>13?h=!0:i<4&&(c=!0);let g=r+i-e,p=(r&1)==1,w=(i&1)==0;if(g==1)if(p){if(w)throw new G;l=!0}else{if(!w)throw new G;h=!0}else if(g==-1)if(p){if(w)throw new G;o=!0}else{if(!w)throw new G;c=!0}else if(g==0){if(p){if(!w)throw new G;r<i?(o=!0,h=!0):(l=!0,c=!0)}else if(w)throw new G}else throw new G;if(o){if(l)throw new G;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new G;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class ig extends Ns{constructor(e,r,i){super(e,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,i){const o=this.decodePair(r,!1,e,i);Nt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,e,i);Nt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Nt.checkChecksum(c,h))return Nt.constructResult(c,h)}throw new G}static addOrTally(e,r){if(r==null)return;let i=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),l=new ne;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let c=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-48;c+=p&1?w:3*w}c=10-c%10,c===10&&(c=0),l.append(c.toString());let h=e.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new ht(l.toString(),null,0,[h[0],h[1],g[0],g[1]],be.RSS_14,new Date().getTime())}static checkChecksum(e,r){let i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,r,i,o){try{let l=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,i,r,l),h=o==null?null:o.get(W.NEED_RESULT_POINT_CALLBACK);if(h!=null){let w=(l[0]+l[1])/2;r&&(w=e.getSize()-1-w),h.foundPossibleResultPoint(new j(w,i))}let g=this.decodeDataCharacter(e,c,!0),p=this.decodeDataCharacter(e,c,!1);return new ig(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,r,i){let o=this.getDataCharacterCounters();for(let U=0;U<o.length;U++)o[U]=0;if(i)Ct.recordPatternInReverse(e,r.getStartEnd()[0],o);else{Ct.recordPattern(e,r.getStartEnd()[1]+1,o);for(let U=0,Y=o.length-1;U<Y;U++,Y--){let de=o[U];o[U]=o[Y],o[Y]=de}}let l=i?16:15,c=ie.sum(new Int32Array(o))/l,h=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let U=0;U<o.length;U++){let Y=o[U]/c,de=Math.floor(Y+.5);de<1?de=1:de>8&&(de=8);let pe=Math.floor(U/2);U&1?(g[pe]=de,w[pe]=Y-de):(h[pe]=de,p[pe]=Y-de)}this.adjustOddEvenCounts(i,l);let y=0,C=0;for(let U=h.length-1;U>=0;U--)C*=9,C+=h[U],y+=h[U];let O=0,D=0;for(let U=g.length-1;U>=0;U--)O*=9,O+=g[U],D+=g[U];let P=C+3*O;if(i){if(y&1||y>12||y<4)throw new G;let U=(12-y)/2,Y=Nt.OUTSIDE_ODD_WIDEST[U],de=9-Y,pe=zn.getRSSvalue(h,Y,!1),ue=zn.getRSSvalue(g,de,!0),Je=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[U],Ge=Nt.OUTSIDE_GSUM[U];return new Ns(pe*Je+ue+Ge,P)}else{if(D&1||D>10||D<4)throw new G;let U=(10-D)/2,Y=Nt.INSIDE_ODD_WIDEST[U],de=9-Y,pe=zn.getRSSvalue(h,Y,!0),ue=zn.getRSSvalue(g,de,!1),Je=Nt.INSIDE_ODD_TOTAL_SUBSET[U],Ge=Nt.INSIDE_GSUM[U];return new Ns(ue*Je+pe+Ge,P)}}findFinderPattern(e,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),l=!1,c=0;for(;c<o&&(l=!e.get(c),r!==l);)c++;let h=0,g=c;for(let p=c;p<o;p++)if(e.get(p)!==l)i[h]++;else{if(h===3){if(Zt.isFinderPattern(i))return[g,p];g+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,l=!l}throw new G}parseFoundFinderPattern(e,r,i,o){let l=e.get(o[0]),c=o[0]-1;for(;c>=0&&l!==e.get(c);)c--;c++;const h=o[0]-c,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);R.arraycopy(g,0,p,1,g.length-1),p[0]=h;const w=this.parseFinderValue(p,Nt.FINDER_PATTERNS);let y=c,C=o[1];return i&&(y=e.getSize()-1-y,C=e.getSize()-1-C),new mo(w,[c,o[1]],y,C,r)}adjustOddEvenCounts(e,r){let i=ie.sum(new Int32Array(this.getOddCounts())),o=ie.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,h=!1,g=!1;e?(i>12?c=!0:i<4&&(l=!0),o>12?g=!0:o<4&&(h=!0)):(i>11?c=!0:i<5&&(l=!0),o>10?g=!0:o<4&&(h=!0));let p=i+o-r,w=(i&1)===(e?1:0),y=(o&1)===1;if(p===1)if(w){if(y)throw new G;c=!0}else{if(!y)throw new G;g=!0}else if(p===-1)if(w){if(y)throw new G;l=!0}else{if(!y)throw new G;h=!0}else if(p===0){if(w){if(!y)throw new G;i<o?(l=!0,g=!0):(c=!0,h=!0)}else if(y)throw new G}else throw new G;if(l){if(c)throw new G;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new G;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ms extends Ct{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const i=e?e.get(W.POSSIBLE_FORMATS):null,o=e&&e.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(be.EAN_13)||i.includes(be.UPC_A)||i.includes(be.EAN_8)||i.includes(be.UPC_E))&&this.readers.push(new za(e)),i.includes(be.CODE_39)&&this.readers.push(new Ot(o)),i.includes(be.CODE_128)&&this.readers.push(new me),i.includes(be.ITF)&&this.readers.push(new ze),i.includes(be.RSS_14)&&this.readers.push(new Nt),i.includes(be.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new za(e)),this.readers.push(new Ot),this.readers.push(new za(e)),this.readers.push(new me),this.readers.push(new ze),this.readers.push(new Nt),this.readers.push(new oe(this.verbose)))}decodeRow(e,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new G}reset(){this.readers.forEach(e=>e.reset())}}class og extends kt{constructor(e=500,r){super(new Ms(r),e,r)}}class ft{constructor(e,r,i){this.ecCodewords=e,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(e,r,i,o,l,c){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let h=0;const g=c.getECCodewords(),p=c.getECBlocks();for(let w of p)h+=w.getCount()*(w.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new k;for(let i of et.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===r)return i;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new ft(5,new at(1,3))),new et(2,12,12,10,10,new ft(7,new at(1,5))),new et(3,14,14,12,12,new ft(10,new at(1,8))),new et(4,16,16,14,14,new ft(12,new at(1,12))),new et(5,18,18,16,16,new ft(14,new at(1,18))),new et(6,20,20,18,18,new ft(18,new at(1,22))),new et(7,22,22,20,20,new ft(20,new at(1,30))),new et(8,24,24,22,22,new ft(24,new at(1,36))),new et(9,26,26,24,24,new ft(28,new at(1,44))),new et(10,32,32,14,14,new ft(36,new at(1,62))),new et(11,36,36,16,16,new ft(42,new at(1,86))),new et(12,40,40,18,18,new ft(48,new at(1,114))),new et(13,44,44,20,20,new ft(56,new at(1,144))),new et(14,48,48,22,22,new ft(68,new at(1,174))),new et(15,52,52,24,24,new ft(42,new at(2,102))),new et(16,64,64,14,14,new ft(56,new at(2,140))),new et(17,72,72,16,16,new ft(36,new at(4,92))),new et(18,80,80,18,18,new ft(48,new at(4,114))),new et(19,88,88,20,20,new ft(56,new at(4,144))),new et(20,96,96,22,22,new ft(68,new at(4,174))),new et(21,104,104,24,24,new ft(56,new at(6,136))),new et(22,120,120,18,18,new ft(68,new at(6,175))),new et(23,132,132,20,20,new ft(62,new at(8,163))),new et(24,144,144,22,22,new ft(62,new at(8,156),new at(2,155))),new et(25,8,18,6,16,new ft(7,new at(1,5))),new et(26,8,32,6,14,new ft(11,new at(1,10))),new et(27,12,26,10,24,new ft(14,new at(1,16))),new et(28,12,36,10,16,new ft(18,new at(1,22))),new et(29,16,36,14,16,new ft(24,new at(1,32))),new et(30,16,48,14,22,new ft(28,new at(1,49)))]}}et.VERSIONS=et.buildVersions();class Za{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new k;this.version=Za.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),i=e.getWidth();return et.getVersionForDimensions(r,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let h=!1,g=!1,p=!1,w=!1;do if(i===l&&o===0&&!h)e[r++]=this.readCorner1(l,c)&255,i-=2,o+=2,h=!0;else if(i===l-2&&o===0&&c&3&&!g)e[r++]=this.readCorner2(l,c)&255,i-=2,o+=2,g=!0;else if(i===l+4&&o===2&&!(c&7)&&!p)e[r++]=this.readCorner3(l,c)&255,i-=2,o+=2,p=!0;else if(i===l-2&&o===0&&(c&7)===4&&!w)e[r++]=this.readCorner4(l,c)&255,i-=2,o+=2,w=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<c);if(r!==this.version.getTotalCodewords())throw new k;return e}readModule(e,r,i,o){return e<0&&(e+=i,r+=4-(i+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,i,o){let l=0;return this.readModule(e-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r,i,o)&&(l|=1),l<<=1,this.readModule(e,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e,r,i,o)&&(l|=1),l}readCorner1(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,1,e,r)&&(i|=1),i<<=1,this.readModule(e-1,2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}readCorner2(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-4,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner3(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-3,e,r)&&(i|=1),i<<=1,this.readModule(1,r-2,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner4(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new b("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,h=i/l|0,g=c*o,p=h*l,w=new Re(p,g);for(let y=0;y<c;++y){const C=y*o;for(let O=0;O<h;++O){const D=O*l;for(let P=0;P<o;++P){const U=y*(o+2)+1+P,Y=C+P;for(let de=0;de<l;++de){const pe=O*(l+2)+1+de;if(e.get(pe,U)){const ue=D+de;w.set(ue,Y)}}}}}return w}}class Qa{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let P of l)o+=P.getCount();const c=new Array(o);let h=0;for(let P of l)for(let U=0;U<P.getCount();U++){const Y=P.getDataCodewords(),de=i.getECCodewords()+Y;c[h++]=new Qa(Y,new Uint8Array(de))}const p=c[0].codewords.length-i.getECCodewords(),w=p-1;let y=0;for(let P=0;P<w;P++)for(let U=0;U<h;U++)c[U].codewords[P]=e[y++];const C=r.getVersionNumber()===24,O=C?8:h;for(let P=0;P<O;P++)c[P].codewords[p-1]=e[y++];const D=c[0].codewords.length;for(let P=p;P<D;P++)for(let U=0;U<h;U++){const Y=C?(U+8)%h:U,de=C&&Y>7?P-1:P;c[Y].codewords[de]=e[y++]}if(y!==e.length)throw new b;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ja{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const c=8-i,h=e<c?e:c,g=c-h,p=255>>8-h<<g;r=(l[o]&p)>>g,e-=h,i+=h,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)r=r<<8|l[o]&255,o++,e-=8;if(e>0){const c=8-e,h=255>>c<<c;r=r<<e|(l[o]&h)>>c,i+=e}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class br{static decode(e){const r=new Ja(e),i=new ne,o=new ne,l=new Array;let c=Ft.ASCII_ENCODE;do if(c===Ft.ASCII_ENCODE)c=this.decodeAsciiSegment(r,i,o);else{switch(c){case Ft.C40_ENCODE:this.decodeC40Segment(r,i);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new k}c=Ft.ASCII_ENCODE}while(c!==Ft.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new xe(e,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(e,r,i){let o=!1;do{let l=e.readBits(8);if(l===0)throw new k;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),Ft.ASCII_ENCODE;if(l===129)return Ft.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(l!==254||e.available()!==0)throw new k;break}}while(e.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(e,r){let i=!1;const o=[];let l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let h=0;h<3;h++){const g=o[h];switch(l){case 0:if(g<3)l=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new k;break;case 1:i?(r.append(String.fromCharCode(g+128)),i=!1):r.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(g){case 27:r.append("");break;case 30:i=!0;break;default:throw new k}l=0;break;case 3:i?(r.append(String.fromCharCode(g+224)),i=!1):r.append(String.fromCharCode(g+96)),l=0;break;default:throw new k}}}while(e.available()>0)}static decodeTextSegment(e,r){let i=!1,o=[],l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let h=0;h<3;h++){const g=o[h];switch(l){case 0:if(g<3)l=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new k;break;case 1:i?(r.append(String.fromCharCode(g+128)),i=!1):r.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(g){case 27:r.append("");break;case 30:i=!0;break;default:throw new k}l=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p),l=0}else throw new k;break;default:throw new k}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let l=0;l<3;l++){const c=i[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new k;break}}}while(e.available()>0)}static parseTwoBytes(e,r,i){let o=(e<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const l=8-e.getBitOffset();l!==8&&e.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,i){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let c;if(l===0?c=e.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new k;const h=new Uint8Array(c);for(let g=0;g<c;g++){if(e.available()<8)throw new k;h[g]=this.unrandomize255State(e.readBits(8),o++)}i.push(h);try{r.append(_e.decode(h,$.ISO88591))}catch(g){throw new H("Platform does not support required encoding: "+g.message)}}static unrandomize255State(e,r){const i=149*r%255+1,o=e-i;return o>=0?o:o+256}}br.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],br.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],br.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],br.TEXT_SHIFT2_SET_CHARS=br.C40_SHIFT2_SET_CHARS,br.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ag{constructor(){this.rsDecoder=new se(T.DATA_MATRIX_FIELD_256)}decode(e){const r=new Za(e),i=r.getVersion(),o=r.readCodewords(),l=Qa.getDataBlocks(o,i);let c=0;for(let p of l)c+=p.getNumDataCodewords();const h=new Uint8Array(c),g=l.length;for(let p=0;p<g;p++){const w=l[p],y=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(y,C);for(let O=0;O<C;O++)h[O*g+p]=y[O]}return br.decode(h)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=i[o]}}class Lt{constructor(e){this.image=e,this.rectangleDetector=new ye(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new G;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],c=r[3];let h=this.transitionsBetween(i,c)+1,g=this.transitionsBetween(l,c)+1;(h&1)===1&&(h+=1),(g&1)===1&&(g+=1),4*h<7*g&&4*g<7*h&&(h=g=Math.max(h,g));let p=Lt.sampleGrid(this.image,i,o,l,c,h,g);return new ae(p,[i,o,l,c])}static shiftPoint(e,r,i){let o=(r.getX()-e.getX())/(i+1),l=(r.getY()-e.getY())/(i+1);return new j(e.getX()+o,e.getY()+l)}static moveAway(e,r,i){let o=e.getX(),l=e.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new j(o,l)}detectSolid1(e){let r=e[0],i=e[1],o=e[3],l=e[2],c=this.transitionsBetween(r,i),h=this.transitionsBetween(i,o),g=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),w=c,y=[l,r,i,o];return w>h&&(w=h,y[0]=r,y[1]=i,y[2]=o,y[3]=l),w>g&&(w=g,y[0]=i,y[1]=o,y[2]=l,y[3]=r),w>p&&(y[0]=o,y[1]=l,y[2]=r,y[3]=i),y}detectSolid2(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),h=Lt.shiftPoint(i,o,(c+1)*4),g=Lt.shiftPoint(o,i,(c+1)*4),p=this.transitionsBetween(h,r),w=this.transitionsBetween(g,l);return p<w?(e[0]=r,e[1]=i,e[2]=o,e[3]=l):(e[0]=i,e[1]=o,e[2]=l,e[3]=r),e}correctTopRight(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),h=this.transitionsBetween(i,l),g=Lt.shiftPoint(r,i,(h+1)*4),p=Lt.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(g,l),h=this.transitionsBetween(p,l);let w=new j(l.getX()+(o.getX()-i.getX())/(c+1),l.getY()+(o.getY()-i.getY())/(c+1)),y=new j(l.getX()+(r.getX()-i.getX())/(h+1),l.getY()+(r.getY()-i.getY())/(h+1));if(!this.isValid(w))return this.isValid(y)?y:null;if(!this.isValid(y))return w;let C=this.transitionsBetween(g,w)+this.transitionsBetween(p,w),O=this.transitionsBetween(g,y)+this.transitionsBetween(p,y);return C>O?w:y}shiftToModuleCenter(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l)+1,h=this.transitionsBetween(o,l)+1,g=Lt.shiftPoint(r,i,h*4),p=Lt.shiftPoint(o,i,c*4);c=this.transitionsBetween(g,l)+1,h=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(h&1)===1&&(h+=1);let w=(r.getX()+i.getX()+o.getX()+l.getX())/4,y=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=Lt.moveAway(r,w,y),i=Lt.moveAway(i,w,y),o=Lt.moveAway(o,w,y),l=Lt.moveAway(l,w,y);let C,O;return g=Lt.shiftPoint(r,i,h*4),g=Lt.shiftPoint(g,l,c*4),C=Lt.shiftPoint(i,r,h*4),C=Lt.shiftPoint(C,o,c*4),p=Lt.shiftPoint(o,l,h*4),p=Lt.shiftPoint(p,i,c*4),O=Lt.shiftPoint(l,o,h*4),O=Lt.shiftPoint(O,r,c*4),[g,C,p,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,i,o,l,c,h){return Ze.getInstance().sampleGrid(e,c,h,.5,.5,c-.5,.5,c-.5,h-.5,.5,h-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,r){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),h=Math.abs(c-o)>Math.abs(l-i);if(h){let P=i;i=o,o=P,P=l,l=c,c=P}let g=Math.abs(l-i),p=Math.abs(c-o),w=-g/2,y=o<c?1:-1,C=i<l?1:-1,O=0,D=this.image.get(h?o:i,h?i:o);for(let P=i,U=o;P!==l;P+=C){let Y=this.image.get(h?U:P,h?P:U);if(Y!==D&&(O++,D=Y),w+=p,w>0){if(U===c)break;U+=y,w-=g}}return O}}class Ar{constructor(){this.decoder=new ag}decode(e,r=null){let i,o;if(r!=null&&r.has(W.PURE_BARCODE)){const p=Ar.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(p),o=Ar.NO_POINTS}else{const p=new Lt(e.getBlackMatrix()).detect();i=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=i.getRawBytes(),c=new ht(i.getText(),l,8*l.length,o,be.DATA_MATRIX,R.currentTimeMillis()),h=i.getByteSegments();h!=null&&c.putMetadata(he.BYTE_SEGMENTS,h);const g=i.getECLevel();return g!=null&&c.putMetadata(he.ERROR_CORRECTION_LEVEL,g),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r==null||i==null)throw new G;const o=this.moduleSize(r,e);let l=r[1];const c=i[1];let h=r[0];const p=(i[0]-h+1)/o,w=(c-l+1)/o;if(p<=0||w<=0)throw new G;const y=o/2;l+=y,h+=y;const C=new Re(p,w);for(let O=0;O<w;O++){const D=l+O*o;for(let P=0;P<p;P++)e.get(h+P*o,D)&&C.set(P,O)}return C}static moduleSize(e,r){const i=r.getWidth();let o=e[0];const l=e[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new G;const c=o-e[0];if(c===0)throw new G;return c}}Ar.NO_POINTS=[];class lg extends kt{constructor(e=500){super(new Ar,e)}}var Ls;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Ls||(Ls={}));class Et{constructor(e,r,i){this.value=e,this.stringValue=r,this.bits=i,Et.FOR_BITS.set(i,this),Et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new E(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Et))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=Et.FOR_BITS.size)throw new b;return Et.FOR_BITS.get(e)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(Ls.L,"L",1),Et.M=new Et(Ls.M,"M",0),Et.Q=new Et(Ls.Q,"Q",3),Et.H=new Et(Ls.H,"H",2);class Qt{constructor(e){this.errorCorrectionLevel=Et.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return L.bitCount(e^r)}static decodeFormatInformation(e,r){const i=Qt.doDecodeFormatInformation(e,r);return i!==null?i:Qt.doDecodeFormatInformation(e^Qt.FORMAT_INFO_MASK_QR,r^Qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of Qt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===e||c===r)return new Qt(l[1]);let h=Qt.numBitsDiffering(e,c);h<i&&(o=l[1],i=h),e!==r&&(h=Qt.numBitsDiffering(r,c),h<i&&(o=l[1],i=h))}return i<=3?new Qt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Qt))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Qt.FORMAT_INFO_MASK_QR=21522,Qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const i of r)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class S{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(e,r,...i){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const h of c)o+=h.getCount()*(h.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new k;try{return this.getVersionForNumber((e-17)/4)}catch{throw new k}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return De.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<De.VERSION_DECODE_INFO.length;o++){const l=De.VERSION_DECODE_INFO[o];if(l===e)return De.getVersionForNumber(o+7);const c=Qt.numBitsDiffering(e,l);c<r&&(i=o+7,r=c)}return r<=3?De.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Re(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new V(7,new S(1,19)),new V(10,new S(1,16)),new V(13,new S(1,13)),new V(17,new S(1,9))),new De(2,Int32Array.from([6,18]),new V(10,new S(1,34)),new V(16,new S(1,28)),new V(22,new S(1,22)),new V(28,new S(1,16))),new De(3,Int32Array.from([6,22]),new V(15,new S(1,55)),new V(26,new S(1,44)),new V(18,new S(2,17)),new V(22,new S(2,13))),new De(4,Int32Array.from([6,26]),new V(20,new S(1,80)),new V(18,new S(2,32)),new V(26,new S(2,24)),new V(16,new S(4,9))),new De(5,Int32Array.from([6,30]),new V(26,new S(1,108)),new V(24,new S(2,43)),new V(18,new S(2,15),new S(2,16)),new V(22,new S(2,11),new S(2,12))),new De(6,Int32Array.from([6,34]),new V(18,new S(2,68)),new V(16,new S(4,27)),new V(24,new S(4,19)),new V(28,new S(4,15))),new De(7,Int32Array.from([6,22,38]),new V(20,new S(2,78)),new V(18,new S(4,31)),new V(18,new S(2,14),new S(4,15)),new V(26,new S(4,13),new S(1,14))),new De(8,Int32Array.from([6,24,42]),new V(24,new S(2,97)),new V(22,new S(2,38),new S(2,39)),new V(22,new S(4,18),new S(2,19)),new V(26,new S(4,14),new S(2,15))),new De(9,Int32Array.from([6,26,46]),new V(30,new S(2,116)),new V(22,new S(3,36),new S(2,37)),new V(20,new S(4,16),new S(4,17)),new V(24,new S(4,12),new S(4,13))),new De(10,Int32Array.from([6,28,50]),new V(18,new S(2,68),new S(2,69)),new V(26,new S(4,43),new S(1,44)),new V(24,new S(6,19),new S(2,20)),new V(28,new S(6,15),new S(2,16))),new De(11,Int32Array.from([6,30,54]),new V(20,new S(4,81)),new V(30,new S(1,50),new S(4,51)),new V(28,new S(4,22),new S(4,23)),new V(24,new S(3,12),new S(8,13))),new De(12,Int32Array.from([6,32,58]),new V(24,new S(2,92),new S(2,93)),new V(22,new S(6,36),new S(2,37)),new V(26,new S(4,20),new S(6,21)),new V(28,new S(7,14),new S(4,15))),new De(13,Int32Array.from([6,34,62]),new V(26,new S(4,107)),new V(22,new S(8,37),new S(1,38)),new V(24,new S(8,20),new S(4,21)),new V(22,new S(12,11),new S(4,12))),new De(14,Int32Array.from([6,26,46,66]),new V(30,new S(3,115),new S(1,116)),new V(24,new S(4,40),new S(5,41)),new V(20,new S(11,16),new S(5,17)),new V(24,new S(11,12),new S(5,13))),new De(15,Int32Array.from([6,26,48,70]),new V(22,new S(5,87),new S(1,88)),new V(24,new S(5,41),new S(5,42)),new V(30,new S(5,24),new S(7,25)),new V(24,new S(11,12),new S(7,13))),new De(16,Int32Array.from([6,26,50,74]),new V(24,new S(5,98),new S(1,99)),new V(28,new S(7,45),new S(3,46)),new V(24,new S(15,19),new S(2,20)),new V(30,new S(3,15),new S(13,16))),new De(17,Int32Array.from([6,30,54,78]),new V(28,new S(1,107),new S(5,108)),new V(28,new S(10,46),new S(1,47)),new V(28,new S(1,22),new S(15,23)),new V(28,new S(2,14),new S(17,15))),new De(18,Int32Array.from([6,30,56,82]),new V(30,new S(5,120),new S(1,121)),new V(26,new S(9,43),new S(4,44)),new V(28,new S(17,22),new S(1,23)),new V(28,new S(2,14),new S(19,15))),new De(19,Int32Array.from([6,30,58,86]),new V(28,new S(3,113),new S(4,114)),new V(26,new S(3,44),new S(11,45)),new V(26,new S(17,21),new S(4,22)),new V(26,new S(9,13),new S(16,14))),new De(20,Int32Array.from([6,34,62,90]),new V(28,new S(3,107),new S(5,108)),new V(26,new S(3,41),new S(13,42)),new V(30,new S(15,24),new S(5,25)),new V(28,new S(15,15),new S(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new V(28,new S(4,116),new S(4,117)),new V(26,new S(17,42)),new V(28,new S(17,22),new S(6,23)),new V(30,new S(19,16),new S(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new V(28,new S(2,111),new S(7,112)),new V(28,new S(17,46)),new V(30,new S(7,24),new S(16,25)),new V(24,new S(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new V(30,new S(4,121),new S(5,122)),new V(28,new S(4,47),new S(14,48)),new V(30,new S(11,24),new S(14,25)),new V(30,new S(16,15),new S(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new V(30,new S(6,117),new S(4,118)),new V(28,new S(6,45),new S(14,46)),new V(30,new S(11,24),new S(16,25)),new V(30,new S(30,16),new S(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new V(26,new S(8,106),new S(4,107)),new V(28,new S(8,47),new S(13,48)),new V(30,new S(7,24),new S(22,25)),new V(30,new S(22,15),new S(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new V(28,new S(10,114),new S(2,115)),new V(28,new S(19,46),new S(4,47)),new V(28,new S(28,22),new S(6,23)),new V(30,new S(33,16),new S(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new V(30,new S(8,122),new S(4,123)),new V(28,new S(22,45),new S(3,46)),new V(30,new S(8,23),new S(26,24)),new V(30,new S(12,15),new S(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new S(3,117),new S(10,118)),new V(28,new S(3,45),new S(23,46)),new V(30,new S(4,24),new S(31,25)),new V(30,new S(11,15),new S(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new S(7,116),new S(7,117)),new V(28,new S(21,45),new S(7,46)),new V(30,new S(1,23),new S(37,24)),new V(30,new S(19,15),new S(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new S(5,115),new S(10,116)),new V(28,new S(19,47),new S(10,48)),new V(30,new S(15,24),new S(25,25)),new V(30,new S(23,15),new S(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new S(13,115),new S(3,116)),new V(28,new S(2,46),new S(29,47)),new V(30,new S(42,24),new S(1,25)),new V(30,new S(23,15),new S(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new S(17,115)),new V(28,new S(10,46),new S(23,47)),new V(30,new S(10,24),new S(35,25)),new V(30,new S(19,15),new S(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new S(17,115),new S(1,116)),new V(28,new S(14,46),new S(21,47)),new V(30,new S(29,24),new S(19,25)),new V(30,new S(11,15),new S(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new S(13,115),new S(6,116)),new V(28,new S(14,46),new S(23,47)),new V(30,new S(44,24),new S(7,25)),new V(30,new S(59,16),new S(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new S(12,121),new S(7,122)),new V(28,new S(12,47),new S(26,48)),new V(30,new S(39,24),new S(14,25)),new V(30,new S(22,15),new S(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new S(6,121),new S(14,122)),new V(28,new S(6,47),new S(34,48)),new V(30,new S(46,24),new S(10,25)),new V(30,new S(2,15),new S(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new S(17,122),new S(4,123)),new V(28,new S(29,46),new S(14,47)),new V(30,new S(49,24),new S(10,25)),new V(30,new S(24,15),new S(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new S(4,122),new S(18,123)),new V(28,new S(13,46),new S(32,47)),new V(30,new S(48,24),new S(14,25)),new V(30,new S(42,15),new S(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new S(20,117),new S(4,118)),new V(28,new S(40,47),new S(7,48)),new V(30,new S(43,24),new S(22,25)),new V(30,new S(10,15),new S(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new S(19,118),new S(6,119)),new V(28,new S(18,47),new S(31,48)),new V(30,new S(34,24),new S(34,25)),new V(30,new S(20,15),new S(61,16)))];var Vt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Vt||(Vt={}));class vn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&e.flip(o,i)}}vn.values=new Map([[Vt.DATA_MASK_000,new vn(Vt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Vt.DATA_MASK_001,new vn(Vt.DATA_MASK_001,(A,e)=>(A&1)===0)],[Vt.DATA_MASK_010,new vn(Vt.DATA_MASK_010,(A,e)=>e%3===0)],[Vt.DATA_MASK_011,new vn(Vt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Vt.DATA_MASK_100,new vn(Vt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Vt.DATA_MASK_101,new vn(Vt.DATA_MASK_101,(A,e)=>A*e%6===0)],[Vt.DATA_MASK_110,new vn(Vt.DATA_MASK_110,(A,e)=>A*e%6<3)],[Vt.DATA_MASK_111,new vn(Vt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class cg{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new k;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=Qt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return De.getVersionForNumber(r);let i=0;const o=e-11;for(let c=5;c>=0;c--)for(let h=e-9;h>=o;h--)i=this.copyBit(h,c,i);let l=De.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;i=0;for(let c=5;c>=0;c--)for(let h=e-9;h>=o;h--)i=this.copyBit(c,h,i);if(l=De.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new k}copyBit(e,r,i){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),i=vn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const h=new Uint8Array(r.getTotalCodewords());let g=0,p=0,w=0;for(let y=o-1;y>0;y-=2){y===6&&y--;for(let C=0;C<o;C++){const O=c?o-1-C:C;for(let D=0;D<2;D++)l.get(y-D,O)||(w++,p<<=1,this.bitMatrix.get(y-D,O)&&(p|=1),w===8&&(h[g++]=p,w=0,p=0))}c=!c}if(g!==r.getTotalCodewords())throw new k;return h}remask(){if(this.parsedFormatInfo===null)return;const e=vn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,i=e.getWidth();r<i;r++)for(let o=r+1,l=e.getHeight();o<l;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class el{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,i){if(e.length!==r.getTotalCodewords())throw new b;const o=r.getECBlocksForLevel(i);let l=0;const c=o.getECBlocks();for(const D of c)l+=D.getCount();const h=new Array(l);let g=0;for(const D of c)for(let P=0;P<D.getCount();P++){const U=D.getDataCodewords(),Y=o.getECCodewordsPerBlock()+U;h[g++]=new el(U,new Uint8Array(Y))}const p=h[0].codewords.length;let w=h.length-1;for(;w>=0&&h[w].codewords.length!==p;)w--;w++;const y=p-o.getECCodewordsPerBlock();let C=0;for(let D=0;D<y;D++)for(let P=0;P<g;P++)h[P].codewords[D]=e[C++];for(let D=w;D<g;D++)h[D].codewords[y]=e[C++];const O=h[0].codewords.length;for(let D=y;D<O;D++)for(let P=0;P<g;P++){const U=P<w?D:D+1;h[P].codewords[U]=e[C++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Tn||(Tn={}));class Le{constructor(e,r,i,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,Le.FOR_BITS.set(o,this),Le.FOR_VALUE.set(e,this)}static forBits(e){const r=Le.FOR_BITS.get(e);if(r===void 0)throw new b;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Le))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Tn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Tn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Tn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Tn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Tn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Tn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Tn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Tn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Tn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Tn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vt{static decode(e,r,i,o){const l=new Ja(e);let c=new ne;const h=new Array;let g=-1,p=-1;try{let w=null,y=!1,C;do{if(l.available()<4)C=Le.TERMINATOR;else{const O=l.readBits(4);C=Le.forBits(O)}switch(C){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:y=!0;break;case Le.STRUCTURED_APPEND:if(l.available()<16)throw new k;g=l.readBits(8),p=l.readBits(8);break;case Le.ECI:const O=vt.parseECIValue(l);if(w=F.getCharacterSetECIByValue(O),w===null)throw new k;break;case Le.HANZI:const D=l.readBits(4),P=l.readBits(C.getCharacterCountBits(r));D===vt.GB2312_SUBSET&&vt.decodeHanziSegment(l,c,P);break;default:const U=l.readBits(C.getCharacterCountBits(r));switch(C){case Le.NUMERIC:vt.decodeNumericSegment(l,c,U);break;case Le.ALPHANUMERIC:vt.decodeAlphanumericSegment(l,c,U,y);break;case Le.BYTE:vt.decodeByteSegment(l,c,U,w,h,o);break;case Le.KANJI:vt.decodeKanjiSegment(l,c,U);break;default:throw new k}break}}while(C!==Le.TERMINATOR)}catch{throw new k}return new xe(e,c.toString(),h.length===0?null:h,i===null?null:i.toString(),g,p)}static decodeHanziSegment(e,r,i){if(i*13>e.available())throw new k;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let h=c/96<<8&4294967295|c%96;h<959?h+=41377:h+=42657,o[l]=h>>8&255,o[l+1]=h&255,l+=2,i--}try{r.append(_e.decode(o,$.GB2312))}catch(c){throw new k(c)}}static decodeKanjiSegment(e,r,i){if(i*13>e.available())throw new k;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let h=c/192<<8&4294967295|c%192;h<7936?h+=33088:h+=49472,o[l]=h>>8,o[l+1]=h,l+=2,i--}try{r.append(_e.decode(o,$.SHIFT_JIS))}catch(c){throw new k(c)}}static decodeByteSegment(e,r,i,o,l,c){if(8*i>e.available())throw new k;const h=new Uint8Array(i);for(let p=0;p<i;p++)h[p]=e.readBits(8);let g;o===null?g=$.guessEncoding(h,c):g=o.getName();try{r.append(_e.decode(h,g))}catch(p){throw new k(p)}l.push(h)}static toAlphaNumericChar(e){if(e>=vt.ALPHANUMERIC_CHARS.length)throw new k;return vt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,i,o){const l=r.length();for(;i>1;){if(e.available()<11)throw new k;const c=e.readBits(11);r.append(vt.toAlphaNumericChar(Math.floor(c/45))),r.append(vt.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(e.available()<6)throw new k;r.append(vt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(e,r,i){for(;i>=3;){if(e.available()<10)throw new k;const o=e.readBits(10);if(o>=1e3)throw new k;r.append(vt.toAlphaNumericChar(Math.floor(o/100))),r.append(vt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(vt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new k;const o=e.readBits(7);if(o>=100)throw new k;r.append(vt.toAlphaNumericChar(Math.floor(o/10))),r.append(vt.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new k;const o=e.readBits(4);if(o>=10)throw new k;r.append(vt.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=e.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new k}}vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vt.GB2312_SUBSET=1;class Tu{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class ug{constructor(){this.rsDecoder=new se(T.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Re.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const i=new cg(e);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Tu(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(e,r){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=el.getDataBlocks(l,i,o);let h=0;for(const w of c)h+=w.getNumDataCodewords();const g=new Uint8Array(h);let p=0;for(const w of c){const y=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(y,C);for(let O=0;O<C;O++)g[p++]=y[O]}return vt.decode(g,i,o,r)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=i[o]}}class tl extends j{constructor(e,r,i){super(e,r),this.estimatedModuleSize=i}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=(this.getX()+r)/2,l=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new tl(o,l,c)}}class Eo{constructor(e,r,i,o,l,c,h){this.image=e,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,i=this.width,o=e+i,l=this.startY+r/2,c=new Int32Array(3),h=this.image;for(let g=0;g<r;g++){const p=l+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=e;for(;w<o&&!h.get(w,p);)w++;let y=0;for(;w<o;){if(h.get(w,p))if(y===1)c[1]++;else if(y===2){if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,w);if(C!==null)return C}c[0]=c[2],c[1]=1,c[2]=0,y=1}else c[++y]++;else y===1&&y++,c[y]++;w++}if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,o);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=i)return!1;return!0}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let g=e;for(;g>=0&&l.get(r,g)&&h[1]<=i;)h[1]++,g--;if(g<0||h[1]>i)return NaN;for(;g>=0&&!l.get(r,g)&&h[0]<=i;)h[0]++,g--;if(h[0]>i)return NaN;for(g=e+1;g<c&&l.get(r,g)&&h[1]<=i;)h[1]++,g++;if(g===c||h[1]>i)return NaN;for(;g<c&&!l.get(r,g)&&h[2]<=i;)h[2]++,g++;if(h[2]>i)return NaN;const p=h[0]+h[1]+h[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(h)?Eo.centerFromEnd(h,g):NaN}handlePossibleCenter(e,r,i){const o=e[0]+e[1]+e[2],l=Eo.centerFromEnd(e,i),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){const h=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(h,c,l))return p.combineEstimate(c,l,h);const g=new tl(l,c,h);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class nl extends j{constructor(e,r,i,o){super(e,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,h=(this.count*this.estimatedModuleSize+i)/o;return new nl(l,c,h,o)}}class fg{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ht{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(W.TRY_HARDER)!==void 0,i=e!=null&&e.get(W.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let h=Math.floor(3*l/(4*Ht.MAX_MODULES));(h<Ht.MIN_SKIP||r)&&(h=Ht.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let y=h-1;y<l&&!g;y+=h){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let C=0;for(let O=0;O<c;O++)if(o.get(O,y))(C&1)===1&&C++,p[C]++;else if(C&1)p[C]++;else if(C===4)if(Ht.foundPatternCross(p)){if(this.handlePossibleCenter(p,y,O,i)===!0)if(h=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>p[2]&&(y+=P-p[2]-h,O=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;continue}C=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;else p[++C]++;Ht.foundPatternCross(p)&&this.handlePossibleCenter(p,y,c,i)===!0&&(h=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return j.orderBestPatterns(w),new fg(w)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let l=0;l<5;l++){const c=e[l];if(c===0)return!1;r+=c}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,i,o){const l=this.getCrossCheckStateCount();let c=0;const h=this.image;for(;e>=c&&r>=c&&h.get(r-c,e-c);)l[2]++,c++;if(e<c||r<c)return!1;for(;e>=c&&r>=c&&!h.get(r-c,e-c)&&l[1]<=i;)l[1]++,c++;if(e<c||r<c||l[1]>i)return!1;for(;e>=c&&r>=c&&h.get(r-c,e-c)&&l[0]<=i;)l[0]++,c++;if(l[0]>i)return!1;const g=h.getHeight(),p=h.getWidth();for(c=1;e+c<g&&r+c<p&&h.get(r+c,e+c);)l[2]++,c++;if(e+c>=g||r+c>=p)return!1;for(;e+c<g&&r+c<p&&!h.get(r+c,e+c)&&l[3]<i;)l[3]++,c++;if(e+c>=g||r+c>=p||l[3]>=i)return!1;for(;e+c<g&&r+c<p&&h.get(r+c,e+c)&&l[4]<i;)l[4]++,c++;if(l[4]>=i)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&Ht.foundPatternCross(l)}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),h=this.getCrossCheckStateCount();let g=e;for(;g>=0&&l.get(r,g);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(r,g)&&h[1]<=i;)h[1]++,g--;if(g<0||h[1]>i)return NaN;for(;g>=0&&l.get(r,g)&&h[0]<=i;)h[0]++,g--;if(h[0]>i)return NaN;for(g=e+1;g<c&&l.get(r,g);)h[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(r,g)&&h[3]<i;)h[3]++,g++;if(g===c||h[3]>=i)return NaN;for(;g<c&&l.get(r,g)&&h[4]<i;)h[4]++,g++;if(h[4]>=i)return NaN;const p=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(p-o)>=2*o?NaN:Ht.foundPatternCross(h)?Ht.centerFromEnd(h,g):NaN}crossCheckHorizontal(e,r,i,o){const l=this.image,c=l.getWidth(),h=this.getCrossCheckStateCount();let g=e;for(;g>=0&&l.get(g,r);)h[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(g,r)&&h[1]<=i;)h[1]++,g--;if(g<0||h[1]>i)return NaN;for(;g>=0&&l.get(g,r)&&h[0]<=i;)h[0]++,g--;if(h[0]>i)return NaN;for(g=e+1;g<c&&l.get(g,r);)h[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(g,r)&&h[3]<i;)h[3]++,g++;if(g===c||h[3]>=i)return NaN;for(;g<c&&l.get(g,r)&&h[4]<i;)h[4]++,g++;if(h[4]>=i)return NaN;const p=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(p-o)>=o?NaN:Ht.foundPatternCross(h)?Ht.centerFromEnd(h,g):NaN}handlePossibleCenter(e,r,i,o){const l=e[0]+e[1]+e[2]+e[3]+e[4];let c=Ht.centerFromEnd(e,i),h=this.crossCheckVertical(r,Math.floor(c),e[2],l);if(!isNaN(h)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(h),e[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(h),Math.floor(c),e[2],l)))){const g=l/7;let p=!1;const w=this.possibleCenters;for(let y=0,C=w.length;y<C;y++){const O=w[y];if(O.aboutEquals(g,h,c)){w[y]=O.combineEstimate(h,c,g),p=!0;break}}if(!p){const y=new nl(c,h,g);w.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Ht.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Ht.CENTER_QUORUM&&(e++,r+=c.getEstimatedModuleSize());if(e<3)return!1;const o=r/i;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new G;const r=this.possibleCenters;let i;if(e>3){let o=0,l=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();o+=p,l+=p*p}i=o/e;let c=Math.sqrt(l/e-i*i);r.sort((g,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-i),y=Math.abs(g.getEstimatedModuleSize()-i);return w<y?-1:w>y?1:0});const h=Math.max(.2*i,c);for(let g=0;g<r.length&&r.length>3;g++){const p=r[g];Math.abs(p.getEstimatedModuleSize()-i)>h&&(r.splice(g,1),g--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const h=Math.abs(c.getEstimatedModuleSize()-i),g=Math.abs(l.getEstimatedModuleSize()-i);return h<g?1:h>g?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Ht.CENTER_QUORUM=2,Ht.MIN_SKIP=3,Ht.MAX_MODULES=57;class Ei{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(W.NEED_RESULT_POINT_CALLBACK);const i=new Ht(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const r=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new G("No pattern found in proccess finder.");const c=Ei.computeDimension(r,i,o,l),h=De.getProvisionalVersionForDimension(c),g=h.getDimensionForVersion()-7;let p=null;if(h.getAlignmentPatternCenters().length>0){const O=i.getX()-r.getX()+o.getX(),D=i.getY()-r.getY()+o.getY(),P=1-3/g,U=Math.floor(r.getX()+P*(O-r.getX())),Y=Math.floor(r.getY()+P*(D-r.getY()));for(let de=4;de<=16;de<<=1)try{p=this.findAlignmentInRegion(l,U,Y,de);break}catch(pe){if(!(pe instanceof G))throw pe}}const w=Ei.createTransform(r,i,o,p,c),y=Ei.sampleGrid(this.image,w,c);let C;return p===null?C=[o,r,i]:C=[o,r,i,p],new ae(y,C)}static createTransform(e,r,i,o,l){const c=l-3.5;let h,g,p,w;return o!==null?(h=o.getX(),g=o.getY(),p=c-3,w=p):(h=r.getX()-e.getX()+i.getX(),g=r.getY()-e.getY()+i.getY(),p=c,w=c),Ne.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,w,3.5,c,e.getX(),e.getY(),r.getX(),r.getY(),h,g,i.getX(),i.getY())}static sampleGrid(e,r,i){return Ze.getInstance().sampleGridWithTransform(e,i,i,r)}static computeDimension(e,r,i,o){const l=ie.round(j.distance(e,r)/o),c=ie.round(j.distance(e,i)/o);let h=Math.floor((l+c)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new G("Dimensions could be not found.")}return h}calculateModuleSize(e,r,i){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(e,r,i,o),c=1,h=e-(i-e);h<0?(c=e/(e-h),h=0):h>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let g=Math.floor(r-(o-r)*c);return c=1,g<0?(c=r/(r-g),g=0):g>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(g-r),g=this.image.getHeight()-1),h=Math.floor(e+(h-e)*c),l+=this.sizeOfBlackWhiteBlackRun(e,r,h,g),l-1}sizeOfBlackWhiteBlackRun(e,r,i,o){const l=Math.abs(o-r)>Math.abs(i-e);if(l){let O=e;e=r,r=O,O=i,i=o,o=O}const c=Math.abs(i-e),h=Math.abs(o-r);let g=-c/2;const p=e<i?1:-1,w=r<o?1:-1;let y=0;const C=i+p;for(let O=e,D=r;O!==C;O+=p){const P=l?D:O,U=l?O:D;if(y===1===this.image.get(P,U)){if(y===2)return ie.distance(O,D,e,r);y++}if(g+=h,g>0){if(D===o)break;D+=w,g-=c}}return y===2?ie.distance(i+p,o,e,r):NaN}findAlignmentInRegion(e,r,i,o){const l=Math.floor(o*e),c=Math.max(0,r-l),h=Math.min(this.image.getWidth()-1,r+l);if(h-c<e*3)throw new G("Alignment top exceeds estimated module size.");const g=Math.max(0,i-l),p=Math.min(this.image.getHeight()-1,i+l);if(p-g<e*3)throw new G("Alignment bottom exceeds estimated module size.");return new Eo(this.image,c,g,h-c,p-g,e,this.resultPointCallback).find()}}class yr{constructor(){this.decoder=new ug}getDecoder(){return this.decoder}decode(e,r){let i,o;if(r!=null&&r.get(W.PURE_BARCODE)!==void 0){const g=yr.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(g,r),o=yr.NO_POINTS}else{const g=new Ei(e.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(g.getBits(),r),o=g.getPoints()}i.getOther()instanceof Tu&&i.getOther().applyMirroredCorrection(o);const l=new ht(i.getText(),i.getRawBytes(),void 0,o,be.QR_CODE,void 0),c=i.getByteSegments();c!==null&&l.putMetadata(he.BYTE_SEGMENTS,c);const h=i.getECLevel();return h!==null&&l.putMetadata(he.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(l.putMetadata(he.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(he.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r===null||i===null)throw new G;const o=this.moduleSize(r,e);let l=r[1],c=i[1],h=r[0],g=i[0];if(h>=g||l>=c)throw new G;if(c-l!==g-h&&(g=h+(c-l),g>=e.getWidth()))throw new G;const p=Math.round((g-h+1)/o),w=Math.round((c-l+1)/o);if(p<=0||w<=0)throw new G;if(w!==p)throw new G;const y=Math.floor(o/2);l+=y,h+=y;const C=h+Math.floor((p-1)*o)-g;if(C>0){if(C>y)throw new G;h-=C}const O=l+Math.floor((w-1)*o)-c;if(O>0){if(O>y)throw new G;l-=O}const D=new Re(p,w);for(let P=0;P<w;P++){const U=l+Math.floor(P*o);for(let Y=0;Y<p;Y++)e.get(h+Math.floor(Y*o),U)&&D.set(Y,P)}return D}static moduleSize(e,r){const i=r.getHeight(),o=r.getWidth();let l=e[0],c=e[1],h=!0,g=0;for(;l<o&&c<i;){if(h!==r.get(l,c)){if(++g===5)break;h=!h}l++,c++}if(l===o||c===i)throw new G;return(l-e[0])/7}}yr.NO_POINTS=new Array;class ke{PDF417Common(){}static getBitCountSum(e){return ie.sum(e)}static toIntArray(e){if(e==null||!e.length)return ke.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let i=0;for(const o of e)r[i++]=o;return r}static getCodeword(e){const r=X.binarySearch(ke.SYMBOL_TABLE,e&262143);return r<0?-1:(ke.CODEWORD_TABLE[r]-1)%ke.NUMBER_OF_CODEWORDS}}ke.NUMBER_OF_CODEWORDS=929,ke.MAX_CODEWORDS_IN_BARCODE=ke.NUMBER_OF_CODEWORDS-1,ke.MIN_ROWS_IN_BARCODE=3,ke.MAX_ROWS_IN_BARCODE=90,ke.MODULES_IN_CODEWORD=17,ke.MODULES_IN_STOP_PATTERN=18,ke.BARS_IN_MODULE=8,ke.EMPTY_INT_ARRAY=new Int32Array([]),ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hg{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(e,r,i){let o=e.getBlackMatrix(),l=Ye.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=Ye.detect(i,o)),new hg(o,l)}static detect(e,r){const i=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const h=Ye.findVertices(r,o,l);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,l=0;for(const g of i)g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())));o+=Ye.ROW_STEP;continue}if(c=!0,i.push(h),!e)break;h[2]!=null?(l=Math.trunc(h[2].getX()),o=Math.trunc(h[2].getY())):(l=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY()))}return i}static findVertices(e,r,i){const o=e.getHeight(),l=e.getWidth(),c=new Array(8);return Ye.copyToResult(c,Ye.findRowsWithPattern(e,o,l,r,i,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ye.copyToResult(c,Ye.findRowsWithPattern(e,o,l,r,i,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),c}static copyToResult(e,r,i){for(let o=0;o<i.length;o++)e[i[o]]=r[o]}static findRowsWithPattern(e,r,i,o,l,c){const h=new Array(4);let g=!1;const p=new Int32Array(c.length);for(;o<r;o+=Ye.ROW_STEP){let y=Ye.findGuardPattern(e,l,o,i,!1,c,p);if(y!=null){for(;o>0;){const C=Ye.findGuardPattern(e,l,--o,i,!1,c,p);if(C!=null)y=C;else{o++;break}}h[0]=new j(y[0],o),h[1]=new j(y[1],o),g=!0;break}}let w=o+1;if(g){let y=0,C=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;w<r;w++){const O=Ye.findGuardPattern(e,C[0],w,i,!1,c,p);if(O!=null&&Math.abs(C[0]-O[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(C[1]-O[1])<Ye.MAX_PATTERN_DRIFT)C=O,y=0;else{if(y>Ye.SKIPPED_ROW_COUNT_MAX)break;y++}}w-=y+1,h[2]=new j(C[0],w),h[3]=new j(C[1],w)}return w-o<Ye.BARCODE_MIN_HEIGHT&&X.fill(h,null),h}static findGuardPattern(e,r,i,o,l,c,h){X.fillWithin(h,0,h.length,0);let g=r,p=0;for(;e.get(g,i)&&g>0&&p++<Ye.MAX_PIXEL_DRIFT;)g--;let w=g,y=0,C=c.length;for(let O=l;w<o;w++)if(e.get(w,i)!==O)h[y]++;else{if(y===C-1){if(Ye.patternMatchVariance(h,c,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([g,w]);g+=h[0]+h[1],R.arraycopy(h,2,h,0,y-1),h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,O=!O}return y===C-1&&Ye.patternMatchVariance(h,c,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([g,w-1]):null}static patternMatchVariance(e,r,i){let o=e.length,l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return 1/0;let h=l/c;i*=h;let g=0;for(let p=0;p<o;p++){let w=e[p],y=r[p]*h,C=w>y?w-y:y-w;if(C>i)return 1/0;g+=C}return g/l}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class zt{constructor(e,r){if(r.length===0)throw new b;this.field=e;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),R.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){let c=r;r=i,i=c}let o=new Int32Array(i.length),l=i.length-r.length;R.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=this.field.add(r[c-l],i[c]);return new zt(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof zt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new zt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1);for(let h=0;h<i;h++){let g=r[h];for(let p=0;p<l;p++)c[h+p]=this.field.add(c[h+p],this.field.multiply(g,o[p]))}return new zt(this.field,c)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let i=0;i<e;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new zt(this.field,r)}multiplyScalar(e){if(e===0)return new zt(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new zt(this.field,i)}multiplyByMonomial(e,r){if(e<0)throw new b;if(r===0)return new zt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new zt(this.field,o)}toString(){let e=new ne;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(r===0||i!==1)&&e.append(i),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class dg{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new ut;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class rl extends dg{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new b;if(r===0)return this.zero;let i=new Int32Array(e+1);return i[0]=r,new zt(this,i)}}rl.PDF417_GF=new rl(ke.NUMBER_OF_CODEWORDS,3);class Su{constructor(){this.field=rl.PDF417_GF}decode(e,r,i){let o=new zt(this.field,e),l=new Int32Array(r),c=!1;for(let D=r;D>0;D--){let P=o.evaluateAt(this.field.exp(D));l[r-D]=P,P!==0&&(c=!0)}if(!c)return 0;let h=this.field.getOne();if(i!=null)for(const D of i){let P=this.field.exp(e.length-1-D),U=new zt(this.field,new Int32Array([this.field.subtract(0,P),1]));h=h.multiply(U)}let g=new zt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),g,r),w=p[0],y=p[1],C=this.findErrorLocations(w),O=this.findErrorMagnitudes(y,w,C);for(let D=0;D<C.length;D++){let P=e.length-1-this.field.log(C[D]);if(P<0)throw I.getChecksumInstance();e[P]=this.field.subtract(e[P],O[D])}return C.length}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){let C=e;e=r,r=C}let o=e,l=r,c=this.field.getZero(),h=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let C=o,O=c;if(o=l,c=h,o.isZero())throw I.getChecksumInstance();l=C;let D=this.field.getZero(),P=o.getCoefficient(o.getDegree()),U=this.field.inverse(P);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let Y=l.getDegree()-o.getDegree(),de=this.field.multiply(l.getCoefficient(l.getDegree()),U);D=D.add(this.field.buildMonomial(Y,de)),l=l.subtract(o.multiplyByMonomial(Y,de))}h=D.multiply(c).subtract(O).negative()}let g=h.getCoefficient(0);if(g===0)throw I.getChecksumInstance();let p=this.field.inverse(g),w=h.multiply(p),y=l.multiply(p);return[w,y]}findErrorLocations(e){let r=e.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)e.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw I.getChecksumInstance();return i}findErrorMagnitudes(e,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new zt(this.field,l),h=i.length,g=new Int32Array(h);for(let p=0;p<h;p++){let w=this.field.inverse(i[p]),y=this.field.subtract(0,e.evaluateAt(w)),C=this.field.inverse(c.evaluateAt(w));g[p]=this.field.multiply(y,C)}return g}}class ts{constructor(e,r,i,o,l){e instanceof ts?this.constructor_2(e):this.constructor_1(e,r,i,o,l)}constructor_1(e,r,i,o,l){const c=r==null||i==null,h=o==null||l==null;if(c&&h)throw new G;c?(r=new j(0,o.getY()),i=new j(0,l.getY())):h&&(o=new j(e.getWidth()-1,r.getY()),l=new j(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new ts(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,i){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,h=this.bottomRight;if(e>0){let g=i?this.topLeft:this.topRight,p=Math.trunc(g.getY()-e);p<0&&(p=0);let w=new j(g.getX(),p);i?o=w:c=w}if(r>0){let g=i?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new j(g.getX(),p);i?l=w:h=w}return new ts(this.image,o,l,c,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class gg{constructor(e,r,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class wi{constructor(){this.buffer=""}static form(e,r){let i=-1;function o(c,h,g,p,w,y){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=w?parseInt(w.substr(1)):void 0,O;switch(y){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(C||16);break;case"d":O=parseFloat(parseInt(r[i],C||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(C);let D=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;O.length<D;)O=h!==void 0?O+P:P+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}format(e,...r){this.buffer+=wi.form(e,r)}toString(){return this.buffer}}class bi{constructor(e){this.boundingBox=new ts(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let i=1;i<bi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new wi;let r=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return e.toString()}}bi.MAX_NEARBY_DISTANCE=5;class Ai{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>e?(e=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===e&&r.push(l.getKey())}return ke.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Iu extends bi{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=-1,p=1,w=0;for(let y=c;y<h;y++){if(r[y]==null)continue;let C=r[y],O=C.getRowNumber()-g;if(O===0)w++;else if(O===1)p=Math.max(p,w),w=1,g=C.getRowNumber();else if(O<0||C.getRowNumber()>=e.getRowCount()||O>y)r[y]=null;else{let D;p>2?D=(p-2)*O:D=O;let P=D>=y;for(let U=1;U<=D&&!P;U++)P=r[y-U]!=null;P?r[y]=null:(g=C.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.getCodewords(),g=-1;for(let p=l;p<c;p++){if(h[p]==null)continue;let w=h[p];w.setRowNumberAsRowIndicatorColumn();let y=w.getRowNumber()-g;y===0||(y===1?g=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?h[p]=null:g=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new Ai,i=new Ai,o=new Ai,l=new Ai;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let g=h.getValue()%30,p=h.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:i.setValue(g*3+1);break;case 1:l.setValue(g/3),o.setValue(g%3);break;case 2:r.setValue(g+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<ke.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>ke.MAX_ROWS_IN_BARCODE)return null;let c=new gg(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,r){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:l+1!==r.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yi{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=ke.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&r[i]!=null&&e[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(e[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let h=this.detectionResultColumns[c].getCodewords()[i];h!=null&&(l=yi.adjustRowNumberIfValid(o,l,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let h=this.detectionResultColumns[c].getCodewords()[i];h!=null&&(l=yi.adjustRowNumberIfValid(o,l,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,i){if(!this.detectionResultColumns[e-1])return;let o=i[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=l[r],h[3]=c[r],r>0&&(h[0]=i[r-1],h[4]=l[r-1],h[5]=c[r-1]),r>1&&(h[8]=i[r-2],h[10]=l[r-2],h[11]=c[r-2]),r<i.length-1&&(h[1]=i[r+1],h[6]=l[r+1],h[7]=c[r+1]),r<i.length-2&&(h[9]=i[r+2],h[12]=l[r+2],h[13]=c[r+2]);for(let g of h)if(yi.adjustRowNumber(o,g))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new wi;for(let i=0;i<e.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Ci{constructor(e,r,i,o){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class cn{static initialize(){for(let e=0;e<ke.SYMBOL_TABLE.length;e++){let r=ke.SYMBOL_TABLE[e],i=r&1;for(let o=0;o<ke.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,cn.RATIOS_TABLE[e]||(cn.RATIOS_TABLE[e]=new Array(ke.BARS_IN_MODULE)),cn.RATIOS_TABLE[e][ke.BARS_IN_MODULE-o-1]=Math.fround(l/ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=cn.getDecodedCodewordValue(cn.sampleBitCounts(e));return r!==-1?r:cn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=ie.sum(e),i=new Int32Array(ke.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<ke.MODULES_IN_CODEWORD;c++){let h=r/(2*ke.MODULES_IN_CODEWORD)+c*r/ke.MODULES_IN_CODEWORD;l+e[o]<=h&&(l+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let r=cn.getBitValue(e);return ke.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=ie.sum(e),i=new Array(ke.BARS_IN_MODULE);if(r>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(e[c]/r);let o=ge.MAX_VALUE,l=-1;this.bSymbolTableReady||cn.initialize();for(let c=0;c<cn.RATIOS_TABLE.length;c++){let h=0,g=cn.RATIOS_TABLE[c];for(let p=0;p<ke.BARS_IN_MODULE;p++){let w=Math.fround(g[p]-i[p]);if(h+=Math.fround(w*w),h>=o)break}h<o&&(o=h,l=ke.SYMBOL_TABLE[c])}return l}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=new Array(ke.SYMBOL_TABLE.length).map(A=>new Array(ke.BARS_IN_MODULE));class Ou{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Nu{static parseLong(e,r=void 0){return parseInt(e,r)}}class Ru extends x{}Ru.kind="NullPointerException";class pg{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,i){if(e==null)throw new Ru;if(r<0||r>e.length||i<0||r+i>e.length||r+i<0)throw new K;if(i===0)return;for(let o=0;o<i;o++)this.write(e[r+o])}flush(){}close(){}}class mg extends x{}class xg extends pg{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new mg;i=L.MAX_VALUE}this.buf=X.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new K;this.ensureCapacity(this.count+i),R.arraycopy(e,r,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return X.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var gt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(gt||(gt={}));function Du(){if(typeof window<"u")return window.BigInt||null;if(typeof Ri<"u")return Ri.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let wo;function Cr(A){if(typeof wo>"u"&&(wo=Du()),wo===null)throw new Error("BigInt is not supported!");return wo(A)}function _g(){let A=[];A[0]=Cr(1);let e=Cr(900);A[1]=e;for(let r=2;r<16;r++)A[r]=A[r-1]*e;return A}class z{static decode(e,r){let i=new ne(""),o=F.ISO8859_1;i.enableDecoding(o);let l=1,c=e[l++],h=new Ou;for(;l<e[0];){switch(c){case z.TEXT_COMPACTION_MODE_LATCH:l=z.textCompaction(e,l,i);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:l=z.byteCompaction(c,e,o,l,i);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[l++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:l=z.numericCompaction(e,l,i);break;case z.ECI_CHARSET:F.getCharacterSetECIByValue(e[l++]);break;case z.ECI_GENERAL_PURPOSE:l+=2;break;case z.ECI_USER_DEFINED:l++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=z.decodeMacroBlock(e,l,h);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new k;default:l--,l=z.textCompaction(e,l,i);break}if(l<e.length)c=e[l++];else throw k.getFormatInstance()}if(i.length()===0)throw k.getFormatInstance();let g=new xe(null,i.toString(),null,r);return g.setOther(h),g}static decodeMacroBlock(e,r,i){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw k.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<z.NUMBER_OF_SEQUENCE_CODEWORDS;h++,r++)o[h]=e[r];i.setSegmentIndex(L.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ne;r=z.textCompaction(e,r,l),i.setFileId(l.toString());let c=-1;for(e[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ne;r=z.textCompaction(e,r+1,h),i.setFileName(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new ne;r=z.textCompaction(e,r+1,g),i.setSender(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ne;r=z.textCompaction(e,r+1,p),i.setAddressee(p.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ne;r=z.numericCompaction(e,r+1,w),i.setSegmentCount(L.parseInt(w.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let y=new ne;r=z.numericCompaction(e,r+1,y),i.setTimestamp(Nu.parseLong(y.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new ne;r=z.numericCompaction(e,r+1,C),i.setChecksum(L.parseInt(C.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new ne;r=z.numericCompaction(e,r+1,O),i.setFileSize(Nu.parseLong(O.toString()));break;default:throw k.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(c!==-1){let h=r-c;i.isLastSegment()&&h--,i.setOptionalData(X.copyOfRange(e,c,c+h))}return r}static textCompaction(e,r,i){let o=new Int32Array((e[0]-r)*2),l=new Int32Array((e[0]-r)*2),c=0,h=!1;for(;r<e[0]&&!h;){let g=e[r++];if(g<z.TEXT_COMPACTION_MODE_LATCH)o[c]=g/30,o[c+1]=g%30,c+=2;else switch(g){case z.TEXT_COMPACTION_MODE_LATCH:o[c++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,h=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=e[r++],l[c]=g,c++;break}}return z.decodeTextCompaction(o,l,c,i),r}static decodeTextCompaction(e,r,i,o){let l=gt.ALPHA,c=gt.ALPHA,h=0;for(;h<i;){let g=e[h],p="";switch(l){case gt.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case z.LL:l=gt.LOWER;break;case z.ML:l=gt.MIXED;break;case z.PS:c=l,l=gt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case z.AS:c=l,l=gt.ALPHA_SHIFT;break;case z.ML:l=gt.MIXED;break;case z.PS:c=l,l=gt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.MIXED:if(g<z.PL)p=z.MIXED_CHARS[g];else switch(g){case z.PL:l=gt.PUNCT;break;case 26:p=" ";break;case z.LL:l=gt.LOWER;break;case z.AL:l=gt.ALPHA;break;case z.PS:c=l,l=gt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.PUNCT:if(g<z.PAL)p=z.PUNCT_CHARS[g];else switch(g){case z.PAL:l=gt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.ALPHA_SHIFT:if(l=c,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.PUNCT_SHIFT:if(l=c,g<z.PAL)p=z.PUNCT_CHARS[g];else switch(g){case z.PAL:l=gt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[h]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break}p!==""&&o.append(p),h++}}static byteCompaction(e,r,i,o,l){let c=new xg,h=0,g=0,p=!1;switch(e){case z.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),y=r[o++];for(;o<r[0]&&!p;)switch(w[h++]=y,g=900*g+y,y=r[o++],y){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(h%5===0&&h>0){for(let C=0;C<6;++C)c.write(Number(Cr(g)>>Cr(8*(5-C))));g=0,h=0}break}o===r[0]&&y<z.TEXT_COMPACTION_MODE_LATCH&&(w[h++]=y);for(let C=0;C<h;C++)c.write(w[C]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let C=r[o++];if(C<z.TEXT_COMPACTION_MODE_LATCH)h++,g=900*g+C;else switch(C){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(h%5===0&&h>0){for(let O=0;O<6;++O)c.write(Number(Cr(g)>>Cr(8*(5-O))));g=0,h=0}}break}return l.append(_e.decode(c.toByteArray(),i)),o}static numericCompaction(e,r,i){let o=0,l=!1,c=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!l;){let h=e[r++];if(r===e[0]&&(l=!0),h<z.TEXT_COMPACTION_MODE_LATCH)c[o]=h,o++;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||h===z.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(z.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(e,r){let i=Cr(0);for(let l=0;l<r;l++)i+=z.EXP900[r-l-1]*Cr(e[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new k;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Du()?_g():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(e,r,i,o,l,c,h){let g=new ts(e,r,i,o,l),p=null,w=null,y;for(let D=!0;;D=!1){if(r!=null&&(p=qe.getRowIndicatorColumn(e,g,r,!0,c,h)),o!=null&&(w=qe.getRowIndicatorColumn(e,g,o,!1,c,h)),y=qe.merge(p,w),y==null)throw G.getNotFoundInstance();let P=y.getBoundingBox();if(D&&P!=null&&(P.getMinY()<g.getMinY()||P.getMaxY()>g.getMaxY()))g=P;else break}y.setBoundingBox(g);let C=y.getBarcodeColumnCount()+1;y.setDetectionResultColumn(0,p),y.setDetectionResultColumn(C,w);let O=p!=null;for(let D=1;D<=C;D++){let P=O?D:C-D;if(y.getDetectionResultColumn(P)!==void 0)continue;let U;P===0||P===C?U=new Iu(g,P===0):U=new bi(g),y.setDetectionResultColumn(P,U);let Y=-1,de=Y;for(let pe=g.getMinY();pe<=g.getMaxY();pe++){if(Y=qe.getStartColumn(y,P,pe,O),Y<0||Y>g.getMaxX()){if(de===-1)continue;Y=de}let ue=qe.detectCodeword(e,g.getMinX(),g.getMaxX(),O,Y,pe,c,h);ue!=null&&(U.setCodeword(pe,ue),de=Y,c=Math.min(c,ue.getWidth()),h=Math.max(h,ue.getWidth()))}}return qe.createDecoderResult(y)}static merge(e,r){if(e==null&&r==null)return null;let i=qe.getBarcodeMetadata(e,r);if(i==null)return null;let o=ts.merge(qe.adjustBoundingBox(e),qe.adjustBoundingBox(r));return new yi(i,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let i=qe.getMax(r),o=0;for(let h of r)if(o+=i-h,h>0)break;let l=e.getCodewords();for(let h=0;o>0&&l[h]==null;h++)o--;let c=0;for(let h=r.length-1;h>=0&&(c+=i-r[h],!(r[h]>0));h--);for(let h=l.length-1;c>0&&l[h]==null;h--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let r=-1;for(let i of e)r=Math.max(r,i);return r}static getBarcodeMetadata(e,r){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,r,i,o,l,c){let h=new Iu(r,o);for(let g=0;g<2;g++){let p=g===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let y=Math.trunc(Math.trunc(i.getY()));y<=r.getMaxY()&&y>=r.getMinY();y+=p){let C=qe.detectCodeword(e,0,e.getWidth(),o,w,y,l,c);C!=null&&(h.setCodeword(y,C),o?w=C.getStartX():w=C.getEndX())}}return h}static adjustCodewordCount(e,r){let i=r[0][1],o=i.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-qe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(l<1||l>ke.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(e){let r=qe.createBarcodeMatrix(e);qe.adjustCodewordCount(e,r);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],c=new Array;for(let g=0;g<e.getBarcodeRowCount();g++)for(let p=0;p<e.getBarcodeColumnCount();p++){let w=r[g][p+1].getValue(),y=g*e.getBarcodeColumnCount()+p;w.length===0?i.push(y):w.length===1?o[y]=w[0]:(c.push(y),l.push(w))}let h=new Array(l.length);for(let g=0;g<h.length;g++)h[g]=l[g];return qe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,ke.toIntArray(i),ke.toIntArray(c),h)}static createDecoderResultFromAmbiguousValues(e,r,i,o,l){let c=new Int32Array(o.length),h=100;for(;h-- >0;){for(let g=0;g<c.length;g++)r[o[g]]=l[g][c[g]];try{return qe.decodeCodewords(r,e,i)}catch(g){if(!(g instanceof I))throw g}if(c.length===0)throw I.getChecksumInstance();for(let g=0;g<c.length;g++)if(c[g]<l[g].length-1){c[g]++;break}else if(c[g]=0,g===c.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Ai;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,i,o){let l=o?1:-1,c=null;if(qe.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(qe.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let h=0;for(;qe.isValidBarcodeColumn(e,r-l);){r-=l;for(let g of e.getDetectionResultColumn(r).getCodewords())if(g!=null)return(o?g.getEndX():g.getStartX())+l*h*(g.getEndX()-g.getStartX());h++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,i,o,l,c,h,g){l=qe.adjustCodewordStartColumn(e,r,i,o,l,c);let p=qe.getModuleBitCount(e,r,i,o,l,c);if(p==null)return null;let w,y=ie.sum(p);if(o)w=l+y;else{for(let D=0;D<p.length/2;D++){let P=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=P}w=l,l=w-y}if(!qe.checkCodewordSkew(y,h,g))return null;let C=cn.getDecodedValue(p),O=ke.getCodeword(C);return O===-1?null:new Ci(l,w,qe.getCodewordBucketNumber(C),O)}static getModuleBitCount(e,r,i,o,l,c){let h=l,g=new Int32Array(8),p=0,w=o?1:-1,y=o;for(;(o?h<i:h>=r)&&p<g.length;)e.get(h,c)===y?(g[p]++,h+=w):(p++,y=!y);return p===g.length||h===(o?i:r)&&p===g.length-1?g:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,i,o,l,c){let h=l,g=o?-1:1;for(let p=0;p<2;p++){for(;(o?h>=r:h<i)&&o===e.get(h,c);){if(Math.abs(l-h)>qe.CODEWORD_SKEW_SIZE)return l;h+=g}g=-g,o=!o}return h}static checkCodewordSkew(e,r,i){return r-qe.CODEWORD_SKEW_SIZE<=e&&e<=i+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,i){if(e.length===0)throw k.getFormatInstance();let o=1<<r+1,l=qe.correctErrors(e,i,o);qe.verifyCodewordCount(e,o);let c=z.decode(e,""+r);return c.setErrorsCorrected(l),c.setErasures(i.length),c}static correctErrors(e,r,i){if(r!=null&&r.length>i/2+qe.MAX_ERRORS||i<0||i>qe.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return qe.errorCorrection.decode(e,i,r)}static verifyCodewordCount(e,r){if(e.length<4)throw k.getFormatInstance();let i=e[0];if(i>e.length)throw k.getFormatInstance();if(i===0)if(r<e.length)e[0]=e.length-r;else throw k.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new wi;for(let i=0;i<e.length;i++){r.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let l=e[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new Su;class Yt{decode(e,r=null){let i=Yt.decode(e,r,!1);if(i==null||i.length===0||i[0]==null)throw G.getNotFoundInstance();return i[0]}decodeMultiple(e,r=null){try{return Yt.decode(e,r,!0)}catch(i){throw i instanceof k||i instanceof I?G.getNotFoundInstance():i}}static decode(e,r,i){const o=new Array,l=Ye.detectMultiple(e,r,i);for(const c of l.getPoints()){const h=qe.decode(l.getBits(),c[4],c[5],c[6],c[7],Yt.getMinCodewordWidth(c),Yt.getMaxCodewordWidth(c)),g=new ht(h.getText(),h.getRawBytes(),void 0,c,be.PDF_417);g.putMetadata(he.ERROR_CORRECTION_LEVEL,h.getECLevel());const p=h.getOther();p!=null&&g.putMetadata(he.PDF417_EXTRA_METADATA,p),o.push(g)}return o.map(c=>c)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?L.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Yt.getMaxWidth(e[0],e[4]),Yt.getMaxWidth(e[6],e[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.max(Yt.getMaxWidth(e[1],e[5]),Yt.getMaxWidth(e[7],e[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Yt.getMinWidth(e[0],e[4]),Yt.getMinWidth(e[6],e[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.min(Yt.getMinWidth(e[1],e[5]),Yt.getMinWidth(e[7],e[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class bo extends x{}bo.kind="ReaderException";class Mu{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!a(e)&&e.get(W.TRY_HARDER)===!0,i=a(e)?null:e.get(W.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(c=>c===be.UPC_A||c===be.UPC_E||c===be.EAN_13||c===be.EAN_8||c===be.CODABAR||c===be.CODE_39||c===be.CODE_93||c===be.CODE_128||c===be.ITF||c===be.RSS_14||c===be.RSS_EXPANDED);l&&!r&&o.push(new Ms(e,this.verbose)),i.includes(be.QR_CODE)&&o.push(new yr),i.includes(be.DATA_MATRIX)&&o.push(new Ar),i.includes(be.AZTEC)&&o.push(new qt),i.includes(be.PDF_417)&&o.push(new Yt),l&&r&&o.push(new Ms(e,this.verbose))}o.length===0&&(r||o.push(new Ms(e,this.verbose)),o.push(new yr),o.push(new Ar),o.push(new qt),o.push(new Yt),r&&o.push(new Ms(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new bo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(i){if(i instanceof bo)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Eg extends kt{constructor(e=null,r=500){const i=new Mu;i.setHints(e),super(i,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class wg extends kt{constructor(e=500){super(new Yt,e)}}class bg extends kt{constructor(e=500){super(new yr,e)}}var sl;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(sl||(sl={}));var Ut=sl;class il{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Fe(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=e;l++){const c=i.multiply(new Fe(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),i=c}}return r[e]}encode(e,r){if(r===0)throw new b("No error correction bytes");const i=e.length-r;if(i<=0)throw new b("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);R.arraycopy(e,0,l,0,i);let c=new Fe(this.field,l);c=c.multiplyByMonomial(r,1);const g=c.divide(o)[1].getCoefficients(),p=r-g.length;for(let w=0;w<p;w++)e[i+w]=0;R.arraycopy(g,0,e,i+p,g.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(e){return Rt.applyMaskPenaltyRule1Internal(e,!0)+Rt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l-1;c++){const h=i[c];for(let g=0;g<o-1;g++){const p=h[g];p===h[g+1]&&p===i[c+1][g]&&p===i[c+1][g+1]&&r++}}return Rt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l;c++)for(let h=0;h<o;h++){const g=i[c];h+6<o&&g[h]===1&&g[h+1]===0&&g[h+2]===1&&g[h+3]===1&&g[h+4]===1&&g[h+5]===0&&g[h+6]===1&&(Rt.isWhiteHorizontal(g,h-4,h)||Rt.isWhiteHorizontal(g,h+7,h+11))&&r++,c+6<l&&i[c][h]===1&&i[c+1][h]===0&&i[c+2][h]===1&&i[c+3][h]===1&&i[c+4][h]===1&&i[c+5][h]===0&&i[c+6][h]===1&&(Rt.isWhiteVertical(i,h,c-4,c)||Rt.isWhiteVertical(i,h,c+7,c+11))&&r++}return r*Rt.N3}static isWhiteHorizontal(e,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let l=i;l<o;l++)if(e[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let g=0;g<l;g++){const p=i[g];for(let w=0;w<o;w++)p[w]===1&&r++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*Rt.N4}static getDataMaskBit(e,r,i){let o,l;switch(e){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let i=0;const o=r?e.getHeight():e.getWidth(),l=r?e.getWidth():e.getHeight(),c=e.getArray();for(let h=0;h<o;h++){let g=0,p=-1;for(let w=0;w<l;w++){const y=r?c[h][w]:c[w][h];y===p?g++:(g>=5&&(i+=Rt.N1+(g-5)),g=1,p=y)}g>=5&&(i+=Rt.N1+(g-5))}return i}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Ao{constructor(e,r){this.width=e,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,i){this.bytes[r][e]=i}setBoolean(e,r,i){this.bytes[r][e]=i?1:0}clear(e){for(const r of this.bytes)X.fill(r,e)}equals(e){if(!(e instanceof Ao))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],c=r.bytes[i];for(let h=0,g=this.width;h<g;++h)if(l[h]!==c[h])return!1}return!0}toString(){const e=new ne;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class ns{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ne;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<ns.NUM_MASK_PATTERNS}}ns.NUM_MASK_PATTERNS=8;class pt extends x{}pt.kind="WriterException";class Be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,i,o,l){Be.clearMatrix(l),Be.embedBasicPatterns(i,l),Be.embedTypeInfo(r,o,l),Be.maybeEmbedVersionInfo(i,l),Be.embedDataBits(e,o,l)}static embedBasicPatterns(e,r){Be.embedPositionDetectionPatternsAndSeparators(r),Be.embedDarkDotAtLeftBottomCorner(r),Be.maybeEmbedPositionAdjustmentPatterns(e,r),Be.embedTimingPatterns(r)}static embedTypeInfo(e,r,i){const o=new Z;Be.makeTypeInfoBits(e,r,o);for(let l=0,c=o.getSize();l<c;++l){const h=o.get(o.getSize()-1-l),g=Be.TYPE_INFO_COORDINATES[l],p=g[0],w=g[1];if(i.setBoolean(p,w,h),l<8){const y=i.getWidth()-l-1;i.setBoolean(y,8,h)}else{const C=i.getHeight()-7+(l-8);i.setBoolean(8,C,h)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const i=new Z;Be.makeVersionInfoBits(e,i);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const h=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,h),r.setBoolean(r.getHeight()-11+c,l,h)}}static embedDataBits(e,r,i){let o=0,l=-1,c=i.getWidth()-1,h=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);h>=0&&h<i.getHeight();){for(let g=0;g<2;++g){const p=c-g;if(!Be.isEmpty(i.get(p,h)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,r!==255&&Rt.getDataMaskBit(r,p,h)&&(w=!w),i.setBoolean(p,h,w)}h+=l}l=-l,h+=l,c-=2}if(o!==e.getSize())throw new pt("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-L.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new b("0 polynomial");const i=Be.findMSBSet(r);for(e<<=i-1;Be.findMSBSet(e)>=i;)e^=r<<Be.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,r,i){if(!ns.isValidMaskPattern(r))throw new pt("Invalid mask pattern");const o=e.getBits()<<3|r;i.appendBits(o,5);const l=Be.calculateBCHCode(o,Be.TYPE_INFO_POLY);i.appendBits(l,10);const c=new Z;if(c.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new pt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const i=Be.calculateBCHCode(e.getVersionNumber(),Be.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new pt("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const i=(r+1)%2;Be.isEmpty(e.get(r,6))&&e.setNumber(r,6,i),Be.isEmpty(e.get(6,r))&&e.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new pt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,i){for(let o=0;o<8;++o){if(!Be.isEmpty(i.get(e+o,r)))throw new pt;i.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,i){for(let o=0;o<7;++o){if(!Be.isEmpty(i.get(e,r+o)))throw new pt;i.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,i){for(let o=0;o<5;++o){const l=Be.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPattern(e,r,i){for(let o=0;o<7;++o){const l=Be.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,e),Be.embedPositionDetectionPattern(e.getWidth()-r,0,e),Be.embedPositionDetectionPattern(0,e.getWidth()-r,e);const i=8;Be.embedHorizontalSeparationPattern(0,i-1,e),Be.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Be.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;Be.embedVerticalSeparationPattern(o,0,e),Be.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Be.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,c=o.length;l!==c;l++){const h=o[l];if(h>=0)for(let g=0;g!==c;g++){const p=o[g];p>=0&&Be.isEmpty(r.get(p,h))&&Be.embedPositionAdjustmentPattern(p-2,h-2,r)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class Ag{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wt{constructor(){}static calculateMaskPenalty(e){return Rt.applyMaskPenaltyRule1(e)+Rt.applyMaskPenaltyRule2(e)+Rt.applyMaskPenaltyRule3(e)+Rt.applyMaskPenaltyRule4(e)}static encode(e,r,i=null){let o=wt.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(Ut.CHARACTER_SET)!==void 0;l&&(o=i.get(Ut.CHARACTER_SET).toString());const c=this.chooseMode(e,o),h=new Z;if(c===Le.BYTE&&(l||wt.DEFAULT_BYTE_MODE_ENCODING!==o)){const pe=F.getCharacterSetECIByName(o);pe!==void 0&&this.appendECI(pe,h)}this.appendModeInfo(c,h);const g=new Z;this.appendBytes(e,c,g,o);let p;if(i!==null&&i.get(Ut.QR_VERSION)!==void 0){const pe=Number.parseInt(i.get(Ut.QR_VERSION).toString(),10);p=De.getVersionForNumber(pe);const ue=this.calculateBitsNeeded(c,h,g,p);if(!this.willFit(ue,p,r))throw new pt("Data too big for requested version")}else p=this.recommendVersion(r,c,h,g);const w=new Z;w.appendBitArray(h);const y=c===Le.BYTE?g.getSizeInBytes():e.length;this.appendLengthInfo(y,p,c,w),w.appendBitArray(g);const C=p.getECBlocksForLevel(r),O=p.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(O,w);const D=this.interleaveWithECBytes(w,p.getTotalCodewords(),O,C.getNumBlocks()),P=new ns;P.setECLevel(r),P.setMode(c),P.setVersion(p);const U=p.getDimensionForVersion(),Y=new Ao(U,U),de=this.chooseMaskPattern(D,r,p,Y);return P.setMaskPattern(de),Be.buildMatrix(D,r,p,de,Y),P.setMatrix(Y),P}static recommendVersion(e,r,i,o){const l=this.calculateBitsNeeded(r,i,o,De.getVersionForNumber(1)),c=this.chooseVersion(l,e),h=this.calculateBitsNeeded(r,i,o,c);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,r,i,o){return r.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<wt.ALPHANUMERIC_TABLE.length?wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(F.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Le.KANJI;let i=!1,o=!1;for(let l=0,c=e.length;l<c;++l){const h=e.charAt(l);if(wt.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)o=!0;else return Le.BYTE}return o?Le.ALPHANUMERIC:i?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=_e.encode(e,F.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,r,i,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let h=0;h<ns.NUM_MASK_PATTERNS;h++){Be.buildMatrix(e,r,i,h,o);let g=this.calculateMaskPenalty(o);g<l&&(l=g,c=h)}return c}static chooseVersion(e,r){for(let i=1;i<=40;i++){const o=De.getVersionForNumber(i);if(wt.willFit(e,o,r))return o}throw new pt("Data too big")}static willFit(e,r,i){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(i).getTotalECCodewords(),h=o-c,g=(e+7)/8;return h>=g}static terminateBits(e,r){const i=e*8;if(r.getSize()>i)throw new pt("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let c=0;c<4&&r.getSize()<i;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=e-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==i)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,i,o,l,c){if(o>=i)throw new pt("Block ID too large");const h=e%i,g=i-h,p=Math.floor(e/i),w=p+1,y=Math.floor(r/i),C=y+1,O=p-y,D=w-C;if(O!==D)throw new pt("EC bytes mismatch");if(i!==g+h)throw new pt("RS blocks mismatch");if(e!==(y+O)*g+(C+D)*h)throw new pt("Total bytes mismatch");o<g?(l[0]=y,c[0]=O):(l[0]=C,c[0]=D)}static interleaveWithECBytes(e,r,i,o){if(e.getSizeInBytes()!==i)throw new pt("Number of bits and data bytes does not match");let l=0,c=0,h=0;const g=new Array;for(let w=0;w<o;++w){const y=new Int32Array(1),C=new Int32Array(1);wt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,w,y,C);const O=y[0],D=new Uint8Array(O);e.toBytes(8*l,D,0,O);const P=wt.generateECBytes(D,C[0]);g.push(new Ag(D,P)),c=Math.max(c,O),h=Math.max(h,P.length),l+=y[0]}if(i!==l)throw new pt("Data bytes does not match offset");const p=new Z;for(let w=0;w<c;++w)for(const y of g){const C=y.getDataBytes();w<C.length&&p.appendBits(C[w],8)}for(let w=0;w<h;++w)for(const y of g){const C=y.getErrorCorrectionBytes();w<C.length&&p.appendBits(C[w],8)}if(r!==p.getSizeInBytes())throw new pt("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,r){const i=e.length,o=new Int32Array(i+r);for(let c=0;c<i;c++)o[c]=e[c]&255;new il(T.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[i+c];return l}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,i,o){const l=i.getCharacterCountBits(r);if(e>=1<<l)throw new pt(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,r,i,o){switch(r){case Le.NUMERIC:wt.appendNumericBytes(e,i);break;case Le.ALPHANUMERIC:wt.appendAlphanumericBytes(e,i);break;case Le.BYTE:wt.append8BitBytes(e,i,o);break;case Le.KANJI:wt.appendKanjiBytes(e,i);break;default:throw new pt("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=wt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=wt.getDigit(e.charAt(o));if(o+2<i){const c=wt.getDigit(e.charAt(o+1)),h=wt.getDigit(e.charAt(o+2));r.appendBits(l*100+c*10+h,10),o+=3}else if(o+1<i){const c=wt.getDigit(e.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=wt.getAlphanumericCode(e.charCodeAt(o));if(l===-1)throw new pt;if(o+1<i){const c=wt.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new pt;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(e,r,i){let o;try{o=_e.encode(e,i)}catch(l){throw new pt(l)}for(let l=0,c=o.length;l!==c;l++){const h=o[l];r.appendBits(h,8)}}static appendKanjiBytes(e,r){let i;try{i=_e.encode(e,F.SJIS)}catch(l){throw new pt(l)}const o=i.length;for(let l=0;l<o;l+=2){const c=i[l]&255,h=i[l+1]&255,g=c<<8&4294967295|h;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new pt("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(e,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wt.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class rs{write(e,r,i,o=null){if(e.length===0)throw new b("Found empty contents");if(r<0||i<0)throw new b("Requested dimensions are too small: "+r+"x"+i);let l=Et.L,c=rs.QUIET_ZONE_SIZE;o!==null&&(o.get(Ut.ERROR_CORRECTION)!==void 0&&(l=Et.fromString(o.get(Ut.ERROR_CORRECTION).toString())),o.get(Ut.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Ut.MARGIN).toString(),10)));const h=wt.encode(e,l,o);return this.renderResult(h,r,i,c)}writeToDom(e,r,i,o,l=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(r,i,o,l);e&&e.appendChild(c)}renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new H;const c=l.getWidth(),h=l.getHeight(),g=c+o*2,p=h+o*2,w=Math.max(r,g),y=Math.max(i,p),C=Math.min(Math.floor(w/g),Math.floor(y/p)),O=Math.floor((w-c*C)/2),D=Math.floor((y-h*C)/2),P=this.createSVGElement(w,y);for(let U=0,Y=D;U<h;U++,Y+=C)for(let de=0,pe=O;de<c;de++,pe+=C)if(l.get(de,U)===1){const ue=this.createSvgRectElement(pe,Y,C,C);P.appendChild(ue)}return P}createSVGElement(e,r){const i=document.createElementNS(rs.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(e,r,i,o){const l=document.createElementNS(rs.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}rs.QUIET_ZONE_SIZE=4,rs.SVG_NS="http://www.w3.org/2000/svg";class Ps{encode(e,r,i,o,l){if(e.length===0)throw new b("Found empty contents");if(r!==be.QR_CODE)throw new b("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new b(`Requested dimensions are too small: ${i}x${o}`);let c=Et.L,h=Ps.QUIET_ZONE_SIZE;l!==null&&(l.get(Ut.ERROR_CORRECTION)!==void 0&&(c=Et.fromString(l.get(Ut.ERROR_CORRECTION).toString())),l.get(Ut.MARGIN)!==void 0&&(h=Number.parseInt(l.get(Ut.MARGIN).toString(),10)));const g=wt.encode(e,c,l);return Ps.renderResult(g,i,o,h)}static renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new H;const c=l.getWidth(),h=l.getHeight(),g=c+o*2,p=h+o*2,w=Math.max(r,g),y=Math.max(i,p),C=Math.min(Math.floor(w/g),Math.floor(y/p)),O=Math.floor((w-c*C)/2),D=Math.floor((y-h*C)/2),P=new Re(w,y);for(let U=0,Y=D;U<h;U++,Y+=C)for(let de=0,pe=O;de<c;de++,pe+=C)l.get(de,U)===1&&P.setRegion(pe,Y,C,C);return P}}Ps.QUIET_ZONE_SIZE=4;class yg{encode(e,r,i,o,l){let c;switch(r){case be.QR_CODE:c=new Ps;break;default:throw new b("No encoder available for format "+r)}return c.encode(e,r,i,o,l)}}class qn extends je{constructor(e,r,i,o,l,c,h,g){if(super(c,h),this.yuvData=e,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+c>r||l+h>i)throw new b("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(c,h)}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.yuvData,l,o,0,i),o;for(let c=0;c<r;c++){const h=c*e;R.arraycopy(this.yuvData,l,o,h,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new qn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)}renderThumbnail(){const e=this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const h=c*e;for(let g=0;g<e;g++){const p=o[l+g*qn.THUMBNAIL_SCALE_FACTOR]&255;i[h+g]=4278190080|p*65793}l+=this.dataWidth*qn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+e/2;for(let h=l,g=l+e-1;h<c;h++,g--){const p=i[h];i[h]=i[g],i[g]=p}}}invert(){return new _t(this)}}qn.THUMBNAIL_SCALE_FACTOR=2;class ol extends je{constructor(e,r,i,o,l,c,h){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=h,e.BYTES_PER_ELEMENT===4){const g=r*i,p=new Uint8ClampedArray(g);for(let w=0;w<g;w++){const y=e[w],C=y>>16&255,O=y>>7&510,D=y&255;p[w]=(C+O+D)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.luminances,l,o,0,i),o;for(let c=0;c<r;c++){const h=c*e;R.arraycopy(this.luminances,l,o,h,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new ol(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new _t(this)}}class Lu extends F{static forName(e){return this.getCharacterSetECIByName(e)}}class al{}al.ISO_8859_1=F.ISO8859_1;class Pu{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Bu{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Cg{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Bs extends Cg{constructor(e,r,i){super(e),this.value=r,this.bitCount=i}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Bs(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bs(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+L.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ll extends Bs{constructor(e,r,i){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(e,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(e,r){return new ll(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vg(A,e,r){return new ll(A,e,r)}function vi(A,e,r){return new Bs(A,e,r)}const Tg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vr=0,yo=1,Sn=2,ku=3,Zn=4,Sg=new Bs(null,0,0),cl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ig(A){for(let e of A)X.fill(e,-1);return A[vr][Zn]=0,A[yo][Zn]=0,A[yo][vr]=28,A[ku][Zn]=0,A[Sn][Zn]=0,A[Sn][vr]=15,A}const Fu=Ig(X.createInt32Array(6,6));class Qn{constructor(e,r,i,o){this.token=e,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let i=this.bitCount,o=this.token;if(e!==this.mode){let c=cl[this.mode][e];o=vi(o,c&65535,c>>16),i+=c>>16}let l=e===Sn?4:5;return o=vi(o,r,l),new Qn(o,e,0,i+l)}shiftAndAppend(e,r){let i=this.token,o=this.mode===Sn?4:5;return i=vi(i,Fu[this.mode][e],o),i=vi(i,r,5),new Qn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Zn||this.mode===Sn){let h=cl[i][vr];r=vi(r,h&65535,h>>16),o+=h>>16,i=vr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Qn(r,i,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=vg(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Qn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(cl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Qn.calculateBinaryShiftCost(e)-Qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new Z;for(const o of r)o.appendTo(i,e);return i}toString(){return $.format("%s bits=%d bytes=%d",Tg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Qn.INITIAL_STATE=new Qn(Sg,vr,0,0);function Og(A){const e=$.getCharCode(" "),r=$.getCharCode("."),i=$.getCharCode(",");A[vr][e]=1;const o=$.getCharCode("Z"),l=$.getCharCode("A");for(let C=l;C<=o;C++)A[vr][C]=C-l+2;A[yo][e]=1;const c=$.getCharCode("z"),h=$.getCharCode("a");for(let C=h;C<=c;C++)A[yo][C]=C-h+2;A[Sn][e]=1;const g=$.getCharCode("9"),p=$.getCharCode("0");for(let C=p;C<=g;C++)A[Sn][C]=C-p+2;A[Sn][i]=12,A[Sn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<w.length;C++)A[ku][$.getCharCode(w[C])]=C;const y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<y.length;C++)$.getCharCode(y[C])>0&&(A[Zn][$.getCharCode(y[C])]=C);return A}const ul=Og(X.createInt32Array(5,256));class Ti{constructor(e){this.text=e}encode(){const e=$.getCharCode(" "),r=$.getCharCode(`
`);let i=Bu.singletonList(Qn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,h=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case $.getCharCode("\r"):c=h===r?2:0;break;case $.getCharCode("."):c=h===e?3:0;break;case $.getCharCode(","):c=h===e?4:0;break;case $.getCharCode(":"):c=h===e?5:0;break;default:c=0}c>0?(i=Ti.updateStateListForPair(i,l,c),l++):i=this.updateStateListForChar(i,l)}return Bu.min(i,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const i=[];for(let o of e)this.updateStateForChar(o,r,i);return Ti.simplifyStates(i)}updateStateForChar(e,r,i){let o=this.text[r]&255,l=ul[e.getMode()][o]>0,c=null;for(let h=0;h<=Zn;h++){let g=ul[h][o];if(g>0){if(c==null&&(c=e.endBinaryShift(r)),!l||h===e.getMode()||h===Sn){const p=c.latchAndAppend(h,g);i.push(p)}if(!l&&Fu[e.getMode()][h]>=0){const p=c.shiftAndAppend(h,g);i.push(p)}}}if(e.getBinaryShiftByteCount()>0||ul[e.getMode()][o]===0){let h=e.addBinaryShiftChar(r);i.push(h)}}static updateStateListForPair(e,r,i){const o=[];for(let l of e)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(e,r,i,o){let l=e.endBinaryShift(r);if(o.push(l.latchAndAppend(Zn,i)),e.getMode()!==Zn&&o.push(l.shiftAndAppend(Zn,i)),i===3||i===4){let c=l.latchAndAppend(Sn,16-i).latchAndAppend(Sn,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(e){let r=[];for(const i of e){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(i)}return r}}class nt{constructor(){}static encodeBytes(e){return nt.encode(e,nt.DEFAULT_EC_PERCENT,nt.DEFAULT_AZTEC_LAYERS)}static encode(e,r,i){let o=new Ti(e).encode(),l=L.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,h,g,p,w,y;if(i!==nt.DEFAULT_AZTEC_LAYERS){if(h=i<0,g=Math.abs(i),g>(h?nt.MAX_NB_BITS_COMPACT:nt.MAX_NB_BITS))throw new b($.format("Illegal value %s for layers",i));p=nt.totalBitsInLayer(g,h),w=nt.WORD_SIZE[g];let ue=p-p%w;if(y=nt.stuffBits(o,w),y.getSize()+l>ue)throw new b("Data to large for user specified layer");if(h&&y.getSize()>w*64)throw new b("Data to large for user specified layer")}else{w=0,y=null;for(let ue=0;;ue++){if(ue>nt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(h=ue<=3,g=h?ue+1:ue,p=nt.totalBitsInLayer(g,h),c>p)continue;(y==null||w!==nt.WORD_SIZE[g])&&(w=nt.WORD_SIZE[g],y=nt.stuffBits(o,w));let Je=p-p%w;if(!(h&&y.getSize()>w*64)&&y.getSize()+l<=Je)break}}let C=nt.generateCheckWords(y,p,w),O=y.getSize()/w,D=nt.generateModeMessage(h,g,O),P=(h?11:14)+g*4,U=new Int32Array(P),Y;if(h){Y=P;for(let ue=0;ue<U.length;ue++)U[ue]=ue}else{Y=P+1+2*L.truncDivision(L.truncDivision(P,2)-1,15);let ue=L.truncDivision(P,2),Je=L.truncDivision(Y,2);for(let Ge=0;Ge<ue;Ge++){let un=Ge+L.truncDivision(Ge,15);U[ue-Ge-1]=Je-un-1,U[ue+Ge]=Je+un+1}}let de=new Re(Y);for(let ue=0,Je=0;ue<g;ue++){let Ge=(g-ue)*4+(h?9:12);for(let un=0;un<Ge;un++){let Un=un*2;for(let fn=0;fn<2;fn++)C.get(Je+Un+fn)&&de.set(U[ue*2+fn],U[ue*2+un]),C.get(Je+Ge*2+Un+fn)&&de.set(U[ue*2+un],U[P-1-ue*2-fn]),C.get(Je+Ge*4+Un+fn)&&de.set(U[P-1-ue*2-fn],U[P-1-ue*2-un]),C.get(Je+Ge*6+Un+fn)&&de.set(U[P-1-ue*2-un],U[ue*2+fn])}Je+=Ge*8}if(nt.drawModeMessage(de,h,Y,D),h)nt.drawBullsEye(de,L.truncDivision(Y,2),5);else{nt.drawBullsEye(de,L.truncDivision(Y,2),7);for(let ue=0,Je=0;ue<L.truncDivision(P,2)-1;ue+=15,Je+=16)for(let Ge=L.truncDivision(Y,2)&1;Ge<Y;Ge+=2)de.set(L.truncDivision(Y,2)-Je,Ge),de.set(L.truncDivision(Y,2)+Je,Ge),de.set(Ge,L.truncDivision(Y,2)-Je),de.set(Ge,L.truncDivision(Y,2)+Je)}let pe=new Pu;return pe.setCompact(h),pe.setSize(Y),pe.setLayers(g),pe.setCodeWords(O),pe.setMatrix(de),pe}static drawBullsEye(e,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)e.set(l,r-o),e.set(l,r+o),e.set(r-o,l),e.set(r+o,l);e.set(r-i,r-i),e.set(r-i+1,r-i),e.set(r-i,r-i+1),e.set(r+i,r-i),e.set(r+i,r-i+1),e.set(r+i,r+i-1)}static generateModeMessage(e,r,i){let o=new Z;return e?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=nt.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=nt.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,i,o){let l=L.truncDivision(i,2);if(r)for(let c=0;c<7;c++){let h=l-3+c;o.get(c)&&e.set(h,l-5),o.get(c+7)&&e.set(l+5,h),o.get(20-c)&&e.set(h,l+5),o.get(27-c)&&e.set(l-5,h)}else for(let c=0;c<10;c++){let h=l-5+c+L.truncDivision(c,5);o.get(c)&&e.set(h,l-7),o.get(c+10)&&e.set(l+7,h),o.get(29-c)&&e.set(h,l+7),o.get(39-c)&&e.set(l-7,h)}}static generateCheckWords(e,r,i){let o=e.getSize()/i,l=new il(nt.getGF(i)),c=L.truncDivision(r,i),h=nt.bitsToWords(e,i,c);l.encode(h,c-o);let g=r%i,p=new Z;p.appendBits(0,g);for(const w of Array.from(h))p.appendBits(w,i);return p}static bitsToWords(e,r,i){let o=new Int32Array(i),l,c;for(l=0,c=e.getSize()/r;l<c;l++){let h=0;for(let g=0;g<r;g++)h|=e.get(l*r+g)?1<<r-g-1:0;o[l]=h}return o}static getGF(e){switch(e){case 4:return T.AZTEC_PARAM;case 6:return T.AZTEC_DATA_6;case 8:return T.AZTEC_DATA_8;case 10:return T.AZTEC_DATA_10;case 12:return T.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,r){let i=new Z,o=e.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let h=0;for(let g=0;g<r;g++)(c+g>=o||e.get(c+g))&&(h|=1<<r-1-g);(h&l)===l?(i.appendBits(h&l,r),c--):h&l?i.appendBits(h,r):(i.appendBits(h|1,r),c--)}return i}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}nt.DEFAULT_EC_PERCENT=33,nt.DEFAULT_AZTEC_LAYERS=0,nt.MAX_NB_BITS=32,nt.MAX_NB_BITS_COMPACT=4,nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Co{encode(e,r,i,o){return this.encodeWithHints(e,r,i,o,null)}encodeWithHints(e,r,i,o,l){let c=al.ISO_8859_1,h=nt.DEFAULT_EC_PERCENT,g=nt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Ut.CHARACTER_SET)&&(c=Lu.forName(l.get(Ut.CHARACTER_SET).toString())),l.has(Ut.ERROR_CORRECTION)&&(h=L.parseInt(l.get(Ut.ERROR_CORRECTION).toString())),l.has(Ut.AZTEC_LAYERS)&&(g=L.parseInt(l.get(Ut.AZTEC_LAYERS).toString()))),Co.encodeLayers(e,r,i,o,c,h,g)}static encodeLayers(e,r,i,o,l,c,h){if(r!==be.AZTEC)throw new b("Can only encode AZTEC, but got "+r);let g=nt.encode($.getBytes(e,l),c,h);return Co.renderResult(g,i,o)}static renderResult(e,r,i){let o=e.getMatrix();if(o==null)throw new H;let l=o.getWidth(),c=o.getHeight(),h=Math.max(r,l),g=Math.max(i,c),p=Math.min(h/l,g/c),w=(h-l*p)/2,y=(g-c*p)/2,C=new Re(h,g);for(let O=0,D=y;O<c;O++,D+=p)for(let P=0,U=w;P<l;P++,U+=p)o.get(P,O)&&C.setRegion(U,D,p,p);return C}}s.AbstractExpandedDecoder=Ka,s.ArgumentException=E,s.ArithmeticException=ut,s.AztecCode=Pu,s.AztecCodeReader=qt,s.AztecCodeWriter=Co,s.AztecDecoder=te,s.AztecDetector=Mt,s.AztecDetectorResult=we,s.AztecEncoder=nt,s.AztecHighLevelEncoder=Ti,s.AztecPoint=Ve,s.BarcodeFormat=be,s.Binarizer=M,s.BinaryBitmap=v,s.BitArray=Z,s.BitMatrix=Re,s.BitSource=Ja,s.BrowserAztecCodeReader=_r,s.BrowserBarcodeReader=og,s.BrowserCodeReader=kt,s.BrowserDatamatrixCodeReader=lg,s.BrowserMultiFormatReader=Eg,s.BrowserPDF417Reader=wg,s.BrowserQRCodeReader=bg,s.BrowserQRCodeSvgWriter=rs,s.CharacterSetECI=F,s.ChecksumException=I,s.Code128Reader=me,s.Code39Reader=Ot,s.DataMatrixDecodedBitStreamParser=br,s.DataMatrixReader=Ar,s.DecodeHintType=W,s.DecoderResult=xe,s.DefaultGridSampler=We,s.DetectorResult=ae,s.EAN13Reader=Qr,s.EncodeHintType=Ut,s.Exception=x,s.FormatException=k,s.GenericGF=T,s.GenericGFPoly=Fe,s.GlobalHistogramBinarizer=Ie,s.GridSampler=Se,s.GridSamplerInstance=Ze,s.HTMLCanvasElementLuminanceSource=It,s.HybridBinarizer=fe,s.ITFReader=ze,s.IllegalArgumentException=b,s.IllegalStateException=H,s.InvertedLuminanceSource=_t,s.LuminanceSource=je,s.MathUtils=ie,s.MultiFormatOneDReader=Ms,s.MultiFormatReader=Mu,s.MultiFormatWriter=yg,s.NotFoundException=G,s.OneDReader=Ct,s.PDF417DecodedBitStreamParser=z,s.PDF417DecoderErrorCorrection=Su,s.PDF417Reader=Yt,s.PDF417ResultMetadata=Ou,s.PerspectiveTransform=Ne,s.PlanarYUVLuminanceSource=qn,s.QRCodeByteMatrix=Ao,s.QRCodeDataMask=vn,s.QRCodeDecodedBitStreamParser=vt,s.QRCodeDecoderErrorCorrectionLevel=Et,s.QRCodeDecoderFormatInformation=Qt,s.QRCodeEncoder=wt,s.QRCodeEncoderQRCode=ns,s.QRCodeMaskUtil=Rt,s.QRCodeMatrixUtil=Be,s.QRCodeMode=Le,s.QRCodeReader=yr,s.QRCodeVersion=De,s.QRCodeWriter=Ps,s.RGBLuminanceSource=ol,s.RSS14Reader=Nt,s.RSSExpandedReader=oe,s.ReaderException=bo,s.ReedSolomonDecoder=se,s.ReedSolomonEncoder=il,s.ReedSolomonException=N,s.Result=ht,s.ResultMetadataType=he,s.ResultPoint=j,s.StringUtils=$,s.UnsupportedOperationException=Ee,s.VideoInputDevice=Xt,s.WhiteRectangleDetector=ye,s.WriterException=pt,s.ZXingArrays=X,s.ZXingCharset=Lu,s.ZXingInteger=L,s.ZXingStandardCharsets=al,s.ZXingStringBuilder=ne,s.ZXingStringEncoding=_e,s.ZXingSystem=R,s.createAbstractExpandedDecoder=vu,Object.defineProperty(s,"__esModule",{value:!0})})})(xc,xc.exports);var bt=xc.exports;const xb=mb(bt),_b=Dg({__proto__:null,default:xb},[bt]);var u1=function(){function t(n,s,a){if(this.formatMap=new Map([[ve.QR_CODE,bt.BarcodeFormat.QR_CODE],[ve.AZTEC,bt.BarcodeFormat.AZTEC],[ve.CODABAR,bt.BarcodeFormat.CODABAR],[ve.CODE_39,bt.BarcodeFormat.CODE_39],[ve.CODE_93,bt.BarcodeFormat.CODE_93],[ve.CODE_128,bt.BarcodeFormat.CODE_128],[ve.DATA_MATRIX,bt.BarcodeFormat.DATA_MATRIX],[ve.MAXICODE,bt.BarcodeFormat.MAXICODE],[ve.ITF,bt.BarcodeFormat.ITF],[ve.EAN_13,bt.BarcodeFormat.EAN_13],[ve.EAN_8,bt.BarcodeFormat.EAN_8],[ve.PDF_417,bt.BarcodeFormat.PDF_417],[ve.RSS_14,bt.BarcodeFormat.RSS_14],[ve.RSS_EXPANDED,bt.BarcodeFormat.RSS_EXPANDED],[ve.UPC_A,bt.BarcodeFormat.UPC_A],[ve.UPC_E,bt.BarcodeFormat.UPC_E],[ve.UPC_EAN_EXTENSION,bt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_b)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(bt.DecodeHintType.POSSIBLE_FORMATS,u),f.set(bt.DecodeHintType.TRY_HARDER,!1),this.hints=f}return t.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,u){try{a(s.decode(n))}catch(f){u(f)}})},t.prototype.decode=function(n){var s=new bt.MultiFormatReader(this.verbose,this.hints),a=new bt.HTMLCanvasElementLuminanceSource(n),u=new bt.BinaryBitmap(new bt.HybridBinarizer(a)),f=s.decode(u);return{text:f.text,format:qd.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Eb=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function m(E){try{x(a.next(E))}catch(b){d(b)}}function _(E){try{x(a.throw(E))}catch(b){d(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},wb=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},f1=function(){function t(n,s,a){if(this.formatMap=new Map([[ve.QR_CODE,"qr_code"],[ve.AZTEC,"aztec"],[ve.CODABAR,"codabar"],[ve.CODE_39,"code_39"],[ve.CODE_93,"code_93"],[ve.CODE_128,"code_128"],[ve.DATA_MATRIX,"data_matrix"],[ve.ITF,"itf"],[ve.EAN_13,"ean_13"],[ve.EAN_8,"ean_8"],[ve.PDF_417,"pdf417"],[ve.UPC_A,"upc_a"],[ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return Eb(this,void 0,void 0,function(){var s,a;return wb(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:qd.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,u=0,f=n;u<f.length;u++){var d=f[u],m=d.boundingBox.width*d.boundingBox.height;m>a&&(a=m,s=d)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),h1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function m(E){try{x(a.next(E))}catch(b){d(b)}}function _(E){try{x(a.throw(E))}catch(b){d(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},d1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},bb=function(){function t(n,s,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&f1.isSupported()?(this.primaryDecoder=new f1(n,a,u),this.secondaryDecoder=new u1(n,a,u)):this.primaryDecoder=new u1(n,a,u)}return t.prototype.decodeAsync=function(n){return h1(this,void 0,void 0,function(){var s;return d1(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return h1(this,void 0,void 0,function(){var s,a;return d1(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var u=a[s];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),nu=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),aa=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function m(E){try{x(a.next(E))}catch(b){d(b)}}function _(E){try{x(a.throw(E))}catch(b){d(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},la=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Qd=function(){function t(n,s){this.name=n,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},t}(),Ab=function(t){nu(n,t);function n(s,a){return t.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Qd),yb=function(t){nu(n,t);function n(s){return t.call(this,"zoom",s)||this}return n}(Ab),Cb=function(t){nu(n,t);function n(s){return t.call(this,"torch",s)||this}return n}(Qd),vb=function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new yb(this.track)},t.prototype.torchFeature=function(){return new Cb(this.track)},t}(),Tb=function(){function t(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,s,a,u){return aa(this,void 0,void 0,function(){var f,d;return la(this,function(m){switch(m.label){case 0:return f=new t(n,s,u),a.aspectRatio?(d={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return aa(this,void 0,void 0,function(){return la(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var u=n.mediaStream.getVideoTracks(),f=u.length,d=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++d,d>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},t.prototype.getCapabilities=function(){return new vb(this.getFirstTrackOrFail())},t}(),Sb=function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,s,a){return aa(this,void 0,void 0,function(){return la(this,function(u){return[2,Tb.create(n,this.mediaStream,s,a)]})})},t.create=function(n){return aa(this,void 0,void 0,function(){var s,a;return la(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=u.sent(),[2,new t(a)]}})})},t}(),g1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function m(E){try{x(a.next(E))}catch(b){d(b)}}function _(E){try{x(a.throw(E))}catch(b){d(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},p1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ib=function(){function t(){}return t.failIfNotSupported=function(){return g1(this,void 0,void 0,function(){return p1(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return g1(this,void 0,void 0,function(){return p1(this,function(s){return[2,Sb.create(n)]})})},t}(),Ob=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function m(E){try{x(a.next(E))}catch(b){d(b)}}function _(E){try{x(a.throw(E))}catch(b){d(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},Nb=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Rb=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=zs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=zs.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return Ob(this,void 0,void 0,function(){var n,s,a,u,f,d,m;return Nb(this,function(_){switch(_.label){case 0:return n=function(x){for(var E=x.getVideoTracks(),b=0,v=E;b<v.length;b++){var I=v[b];I.enabled=!1,I.stop(),x.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=_.sent(),u=[],f=0,d=a;f<d.length;f++)m=d[f],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return n(s),[2,u]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(f){for(var d=[],m=0,_=f;m<_.length;m++){var x=_[m];x.kind==="video"&&d.push({id:x.id,label:x.label})}n(d)},u=MediaStreamTrack;u.getSources(a)})},t}(),Dt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var Db=function(){function t(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(n,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,s){for(var a=0,u=s;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t}(),Mb=function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},t}(),Lb=function(){function t(){}return t.create=function(){return new Mb(new Db)},t}(),Pb=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),xn=function(t){Pb(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(db),Bb=function(){function t(n,s){this.logger=s,this.fps=xn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=xn.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Zd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},t.create=function(n,s){return new t(n,s)},t}(),kb=function(){function t(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new pb(this.verbose),this.qrcode=new bb(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Lb.create()}return t.prototype.start=function(n,s,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;u?d=u:d=this.verbose?this.logger.log:function(){};var m=Bb.create(s,this.logger);this.clearElement();var _=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=_,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:xn.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var b=this,v=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(I,M){var R=x?m.videoConstraints:b.createVideoConstraints(n);if(!R){v.cancel(),M("videoConstraints should be defined");return}var K={};(!x||m.aspectRatio)&&(K.aspectRatio=m.aspectRatio);var J={onRenderSurfaceReady:function(X,L){b.setupUi(X,L,m),b.isScanning=!0,b.foreverScan(m,a,d)}};Ib.failIfNotSupported().then(function(X){X.create(R).then(function(L){return L.render(f.element,K,J).then(function(Z){b.renderedCamera=Z,v.execute(),I(null)}).catch(function(Z){v.cancel(),M(Z)})}).catch(function(L){v.cancel(),M(zs.errorGettingUserMedia(L))})}).catch(function(X){v.cancel(),M(zs.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(cr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(Dt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(xn.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),s.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},t.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var d=new Image;d.onload=function(){var m=d.width,_=d.height,x=document.getElementById(a.elementId),E=x.clientWidth?x.clientWidth:xn.DEFAULT_WIDTH,b=Math.max(x.clientHeight?x.clientHeight:_,xn.FILE_SCAN_MIN_HEIGHT),v=a.computeCanvasDrawConfig(m,_,E,b);if(s){var I=a.createCanvasElement(E,b,"qr-canvas-visible");I.style.display="inline-block",x.appendChild(I);var M=I.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=E,M.canvas.height=b,M.drawImage(d,0,0,m,_,v.x,v.y,v.width,v.height)}var R=xn.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(d.width,v.width),J=Math.max(d.height,v.height),X=K+2*R,L=J+2*R,Z=a.createCanvasElement(X,L);x.appendChild(Z);var re=Z.getContext("2d");if(!re)throw"Unable to get 2d context from canvas";re.canvas.width=X,re.canvas.height=L,re.drawImage(d,0,0,m,_,R,R,K,J);try{a.qrcode.decodeRobustlyAsync(Z).then(function(W){u(c1.createFromQrcodeResult(W))}).catch(f)}catch(W){f("QR code parse error, error = ".concat(W))}},d.onerror=f,d.onabort=f,d.onstalled=f,d.onsuspend=f,d.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Rb.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!Zd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var s=[ve.QR_CODE,ve.AZTEC,ve.CODABAR,ve.CODE_39,ve.CODE_93,ve.CODE_128,ve.DATA_MATRIX,ve.MAXICODE,ve.ITF,ve.EAN_13,ve.EAN_8,ve.PDF_417,ve.RSS_14,ve.RSS_EXPANDED,ve.UPC_A,ve.UPC_E,ve.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var d=f[u];hb(d)?a.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(cr(n))return!0;if(!cr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(cr(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return cr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,s,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(n,s,f),m=function(x){if(x<xn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xn.MIN_QR_BOX_SIZE,"px.")},_=function(x){return x>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(d.width),m(d.height),d.width=_(d.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},t.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var u=cr(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,s,u);f.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=a.isShadedBoxEnabled()&&f.height<=s,m={x:0,y:0,width:n,height:s},_=d?this.getShadedRegionBounds(n,s,f):m,x=this.createCanvasElement(_.width,_.height),E={willReadFrequently:!0},b=x.getContext("2d",E);b.canvas.width=_.width,b.canvas.height=_.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,n,s,f),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=b,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=zs.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,c1.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=zs.codeParseError(u);return s(f,gb.createFrom(f)),!1})},t.prototype.foreverScan=function(n,s,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),d=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*d,x=this.qrRegion.height*m,E=this.qrRegion.x*d,b=this.qrRegion.y*m;this.context.drawImage(f,E,b,_,x,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,s,a)},u.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(I){!I&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,a).finally(function(){v()})):v()}).catch(function(I){u.logger.logError("Error happend while scanning context",I),v()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",d=function(M){if(M in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var _=Object.keys(n)[0];if(_!==s&&_!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(_===s){var x=n.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(d(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var b=n.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(f in b)return{deviceId:{exact:b["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var v=typeof b;throw"Invalid type of 'deviceId' = ".concat(v)}}}var I=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},t.prototype.computeCanvasDrawConfig=function(n,s,a,u){if(n<=a&&s<=u){var f=(a-n)/2,d=(u-s)/2;return{x:f,y:d,width:n,height:s}}else{var m=n,_=s;return n>a&&(s=a/n*s,n=a),s>u&&(n=u/s*n,s=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(_)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,u)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?xn.BORDER_SHADER_MATCH_COLOR:xn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,s,a){var u=n,f=s,d=document.createElement("canvas");return d.style.width="".concat(u,"px"),d.style.height="".concat(f,"px"),d.style.display="none",d.id=cr(a)?"qr-canvas":a,d},t.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},t.prototype.possiblyInsertShadingElement=function(n,s,a,u){if(!(s-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var d=(s-u.width)/2,m=(a-u.height)/2;if(f.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(xn.SHADED_REGION_ELEMENT_ID),s-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var _=5,x=40;this.insertShaderBorders(f,x,_,-_,null,0,!0),this.insertShaderBorders(f,x,_,-_,null,0,!1),this.insertShaderBorders(f,x,_,null,-_,0,!0),this.insertShaderBorders(f,x,_,null,-_,0,!1),this.insertShaderBorders(f,_,x+_,-_,null,-_,!0),this.insertShaderBorders(f,_,x+_,null,-_,-_,!0),this.insertShaderBorders(f,_,x+_,-_,null,-_,!1),this.insertShaderBorders(f,_,x+_,null,-_,-_,!1),this.hasBorderShaders=!0}n.append(f)}},t.prototype.insertShaderBorders=function(n,s,a,u,f,d,m){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=xn.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(s,"px"),_.style.height="".concat(a,"px"),u!==null&&(_.style.top="".concat(u,"px")),f!==null&&(_.style.bottom="".concat(f,"px")),m?_.style.left="".concat(d,"px"):_.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),n.appendChild(_)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t}(),m1;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(m1||(m1={}));const Fb={class:"card",style:{overflow:"hidden"}},Ub={class:"card-body p-0",style:{overflow:"hidden"}},Vb={key:0,class:"ratio ratio-1x1",id:"qr-reader"},Hb={class:"d-grid col-6 mx-auto my-4"},Wb={__name:"QRcodeReader",emits:["scan-success"],setup(t,{emit:n}){const s=or(),a=Oe(!1),u=Oe("");let f=null;const d=n,m=()=>{if(!(!s.isLoggedIn||!s.is_club))try{f=new kb("qr-reader");const R=document.getElementById("qr-reader").offsetWidth,K=document.getElementById("qr-reader").offsetHeight,J={fps:10,qrbox:{width:250,height:250},aspectRatio:1,width:R*.7,height:K*.7};f.start({facingMode:"environment"},J,_,x)}catch(R){console.log("init scanner failed: "+R),v.value="btn btn-primary",I.value="開啟相機",b.value=!1}},_=R=>{u.value=R,d("scan-success",R),E()},x=R=>{console.warn(`QR Code scanning failed: ${R}`)};Ts(()=>{M()}),Hc(()=>{E()});const E=async()=>{if(f)try{await f.stop()}catch(R){console.error("Failed to stop scanner:",R)}v.value="btn btn-primary",I.value="開啟相機",b.value=!1},b=Oe(!1),v=Oe("btn btn-primary"),I=Oe("關閉相機"),M=async()=>{b.value=!b.value,b.value?(m(),v.value="btn btn-danger",I.value="關閉相機"):(E(),v.value="btn btn-primary",I.value="開啟相機")};return(R,K)=>(Ue(),He(nn,null,[B("div",Fb,[B("div",Ub,[a.value?Pt("",!0):(Ue(),He("div",Vb))])]),B("div",Hb,[B("button",{class:lt(v.value),type:"button",onClick:M},Ke(I.value),3)])],64))}},$b=t=>(Cs("data-v-d7f2f27d"),t=t(),vs(),t),Gb={key:0},Xb={class:"mb-4"},jb={class:"row mb-2 mx-5"},zb={key:1,class:"loading-overlay"},Yb=$b(()=>B("div",{class:"spinner-border text-primary",role:"status"},[B("span",{class:"visually-hidden"},"Loading...")],-1)),Kb=[Yb],Di=0,Vs=1,Il=2,qb={__name:"ScanView",setup(t){const n=ws(),s=si(),a=to(),u=or();s.callAPI(),n.callAPI(),a.callAPI();const f=Ss();Ts(()=>{(!u.isLoggedIn||!u.is_club)&&f.push({name:"club_login"}),u.update_club_auth()});const d=Oe(!1),m=Oe(!1),_=async()=>{if(d.value=!0,console.log("sendStamp() update user data."),await n.callAPI(),(await n.get_user_by_email(b.value.toLowerCase())).access_priv!=!0){R.value=!0,M.value="帳號已經兌換過抽獎券了",d.value=!1;return}if(await E(u.email,b.value,K.value==Vs)){d.value=!1;return}try{const L=new FormData;L.append("entry.1180634340",u.email),L.append("entry.1788223982",b.value.toLowerCase()),L.append("entry.914325063",K.value==Vs),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLScMibiJl3amUlq6x91EwApaW7XqnRTl51ZQagvWz3vNftR3tw/formResponse",{method:"POST",mode:"no-cors",body:L}),console.log("Form submitted successfully"),R.value=!1,M.value="提交 "+v.value+" 蓋章紀錄成功！"}catch(L){R.value=!0,M.value="紀錄提交錯誤："+L,console.error("Error submitting form:",L)}finally{d.value=!1}},x=async()=>{if(d.value=!0,console.log("exangeStamp() update user data."),await n.callAPI(),(await n.get_user_by_email(b.value)).access_priv==!1){R.value=!0,M.value="帳號已經兌換過抽獎券了",d.value=!1;return}try{const L=new FormData;L.append("entry.1180634340",u.email),L.append("entry.1788223982",b.value),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLSfyjgMo-YodfYApI5mg4kTPhLOQR8oeD_Ey5LXhHqWrhXtSHA/formResponse",{method:"POST",mode:"no-cors",body:L}),console.log("Form submitted successfully"),R.value=!1,M.value="提交 "+v.value+" 兌換紀錄成功！"}catch(L){R.value=!0,M.value="紀錄提交錯誤："+L,console.error("Error submitting form:",L)}finally{d.value=!1}},E=async(X,L,Z)=>{const re=await a.query_record(X,L,Z);return console.log(Z,re),re?(R.value=!0,M.value="已經蓋過章了！",!0):(R.value=!1,M.value="",!1)},b=Oe(""),v=Oe(""),I=async X=>{if(m.value)return;m.value=!0,b.value=X;let L=await n.get_user_by_email(X);if(console.log(L),L)L.nick_name!=""?v.value=L.nick_name:v.value=L.name,R.value=!1,M.value="掃描成功！"+v.value;else{R.value=!0,M.value="找不到 email: "+X+" 的帳號。",m.value=!1;return}K.value==Vs||K.value==Di?await _():(u.is_staff||(R.value=!0,M.value="你沒有鎖定帳號的權限"),await x()),m.value=!1},M=Oe(""),R=Oe(!1),K=Oe(Di),J=it(()=>K.value==Di?"掃描":K.value==Vs?"限動":K.value==Il?"兌換":null);return(X,L)=>(Ue(),He("div",null,[Ae(u).isLoggedIn&&Ae(u).is_club?(Ue(),He("div",Gb,[B("h1",Xb,Ke(Ae(u).name)+"："+Ke(J.value?J.value:"錯誤"),1),M.value?(Ue(),He("div",{key:0,class:lt(["mt-3 text-break",["alert",R.value?"alert-danger":"alert-success"]]),role:"alert"},Ke(M.value),3)):Pt("",!0),Tt(Wb,{onScanSuccess:I}),B("div",jb,[B("button",{class:lt(["d-grid col mx-2 btn btn-outline-success",{active:K.value==Di}]),onClick:L[0]||(L[0]=Z=>K.value=Di)}," 蓋章 ",2),B("button",{class:lt(["d-grid col mx-2 btn btn-outline-success",{active:K.value==Vs}]),onClick:L[1]||(L[1]=Z=>K.value=Vs)}," IG ",2),Ae(u).is_staff?(Ue(),He("button",{key:0,class:lt(["d-grid col mx-2 btn btn-outline-success",{active:K.value==Il}]),onClick:L[2]||(L[2]=Z=>K.value=Il)}," 鎖定 ",2)):Pt("",!0)])])):Pt("",!0),d.value?(Ue(),He("div",zb,Kb)):Pt("",!0)]))}},Zb=Xn(qb,[["__scopeId","data-v-d7f2f27d"]]);var _c=function t(n){function s(F,Ee){return F>>>Ee|F<<32-Ee}for(var a=Math.pow,u=a(2,32),f="length",d,m,_="",x=[],E=n[f]*8,b=t.h=t.h||[],v=t.k=t.k||[],I=v[f],M={},R=2;I<64;R++)if(!M[R]){for(d=0;d<313;d+=R)M[d]=R;b[I]=a(R,.5)*u|0,v[I++]=a(R,1/3)*u|0}for(n+="";n[f]%64-56;)n+="\0";for(d=0;d<n[f];d++){if(m=n.charCodeAt(d),m>>8)return;x[d>>2]|=m<<(3-d)%4*8}for(x[x[f]]=E/u|0,x[x[f]]=E,m=0;m<x[f];){var K=x.slice(m,m+=16),J=b;for(b=b.slice(0,8),d=0;d<64;d++){var X=K[d-15],L=K[d-2],Z=b[0],re=b[4],W=b[7]+(s(re,6)^s(re,11)^s(re,25))+(re&b[5]^~re&b[6])+v[d]+(K[d]=d<16?K[d]:K[d-16]+(s(X,7)^s(X,18)^X>>>3)+K[d-7]+(s(L,17)^s(L,19)^L>>>10)|0),k=(s(Z,2)^s(Z,13)^s(Z,22))+(Z&b[1]^Z&b[2]^b[1]&b[2]);b=[W+k|0].concat(b),b[4]=b[4]+W|0}for(d=0;d<8;d++)b[d]=b[d]+J[d]|0}for(d=0;d<8;d++)for(m=3;m+1;m--){var le=b[d]>>m*8&255;_+=(le<16?0:"")+le.toString(16)}return _};const Jd=t=>(Cs("data-v-6a4573dc"),t=t(),vs(),t),Qb=Jd(()=>B("h1",{class:"mb-4"},"社團登入",-1)),Jb={class:"col-md-6"},eA={class:"invalid-feedback"},tA={class:"col-md-6"},nA={class:"invalid-feedback"},rA={class:"col-6 d-grid mx-auto"},sA=["disabled"],iA={key:1,class:"loading-overlay"},oA=Jd(()=>B("div",{class:"spinner-border text-primary",role:"status"},[B("span",{class:"visually-hidden"},"Loading...")],-1)),aA=[oA],lA={__name:"ClubLoginView",setup(t){const n=ws(),s=si(),a=to(),u=or(),f=Ss();s.callAPI(),n.callAPI(),a.callAPI();const d=Oe(""),m=Oe(!1),_=Oe("");u.isLoggedIn&&u.is_club&&f.push({name:"panel"});let x=Oe(""),E=Oe("");const b=Oe(!1),v=Oe({email:"",password:""});var I=Oe("row g-3 my-3 needs-validation");const M=async()=>{b.value=!0;try{const re=await L();console.log("hashed password:",_c(E.value)),await u.club_login(x.value,_c(E.value)),re&&u.isLoggedIn&&u.is_club?(console.log("Club login successfully"),m.value=!1,d.value="登入成功！",console.log(u.name,u.email,u.is_club),_.value=u.name,Z(),f.push({name:"panel"})):(m.value=!0,d.value="帳號密碼錯誤",console.log("帳號密碼錯誤"))}catch(re){m.value=!0,d.value="登入表單錯誤："+re,console.error("Error submitting form:",re)}finally{b.value=!1}},R=(re,W,k)=>k.required&&!W?(v.value[re]="此欄位為必填",!1):k.minLength&&W.length<k.minLength?(v.value[re]=`最少需要 ${k.minLength} 個字符`,!1):k.pattern&&!k.pattern.test(W)?(v.value[re]="格式不正確",!1):(v.value[re]="",I.value="row g-3 my-3 needs-validation was-validated",!0),K=it(()=>R("email",x.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),J=it(()=>R("password",E.value,{required:!0,minLength:4})),X=it(()=>K.value&&J.value);async function L(){return X.value?!0:(I.value="row g-3 my-3 needs-validation was-validated",!1)}const Z=()=>{x.value="",E.value=""};return(re,W)=>(Ue(),He("div",null,[Qb,d.value?(Ue(),He("div",{key:0,class:lt(["mt-3 text-break",["alert",m.value?"alert-danger":"alert-success"]]),role:"alert"},Ke(d.value),3)):Pt("",!0),B("form",{class:lt(Ae(I)),onSubmit:Sa(M,["prevent"]),novalidate:""},[B("div",Jb,[Wt(B("input",{type:"email","onUpdate:modelValue":W[0]||(W[0]=k=>ct(x)?x.value=k:x=k),class:lt(["form-control",{"is-invalid":!K.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[Vn,Ae(x)]]),B("div",eA,Ke(v.value.email),1)]),B("div",tA,[Wt(B("input",{type:"password","onUpdate:modelValue":W[1]||(W[1]=k=>ct(E)?E.value=k:E=k),class:lt(["form-control",{"is-invalid":!J.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[Vn,Ae(E)]]),B("div",nA,Ke(v.value.password),1)]),B("div",rA,[B("button",{type:"submit",class:"btn btn-primary",disabled:!X.value||b.value},Ke(b.value?"提交中...":"登入"),9,sA)])],34),b.value?(Ue(),He("div",iA,aA)):Pt("",!0)]))}},cA=Xn(lA,[["__scopeId","data-v-6a4573dc"]]),Yr=t=>(Cs("data-v-2e5c0e06"),t=t(),vs(),t),uA=Yr(()=>B("h1",null,"社團後台",-1)),fA={class:"my-4"},hA=Yr(()=>B("div",{class:"card-btn card mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 邀請朋友參加大地遊戲！ "),B("i",{class:"fa-solid fa-share-from-square bi ms-auto"})])],-1)),dA={class:"collapse mb-3 mx-auto",id:"collapseExample"},gA={class:"card card-body"},pA=Yr(()=>B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[Bn(" 趕快去幫新生蓋章！ "),B("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),mA=[pA],xA=Yr(()=>B("div",{class:"card-btn card mb-2"},[B("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"},"data-bs-toggle":"modal","data-bs-target":"#logoutModal"},[Bn(" 我要登出了 "),B("i",{class:"fa-solid fa-right-from-bracket bi ms-auto"})])],-1)),_A=Yr(()=>B("hr",null,null,-1)),EA={class:"mb-2"},wA={class:"overflow-auto",style:{maxHeight:"400px"}},bA={class:"card-header d-flex align-items-center"},AA={class:"card-body"},yA={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},CA={class:"modal-dialog modal-dialog-centered"},vA={class:"modal-content"},TA=Yr(()=>B("div",{class:"modal-header"},[B("h1",{class:"modal-title fs-5"},"登出確認"),B("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),SA=Yr(()=>B("div",{class:"modal-body"},[B("p",null,"確認要登出帳號嗎？")],-1)),IA={class:"modal-footer"},OA=Yr(()=>B("button",{type:"button",class:"btn btn-secondary mx-2","data-bs-dismiss":"modal"},"取消",-1)),NA={__name:"ClubView",setup(t){const n=Ss(),s=or();(!s.isLoggedIn||!s.is_club)&&n.push("club_login"),s.get_club_records();const a=new Intl.DateTimeFormat("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return(u,f)=>(Ue(),He("div",null,[uA,B("div",fA,[hA,B("div",dA,[B("div",gA,[Tt(tu,{url:"https://ttussc.github.io/Earth_Game"})])]),Ae(s).access_priv?(Ue(),He("div",{key:0,class:"card-btn card mb-2",onClick:f[0]||(f[0]=d=>{Ae(n).push({name:"scan"})})},mA)):Pt("",!0),xA]),_A,B("div",EA,"總點數："+Ke(Ae(s).records_len),1),B("div",wA,[(Ue(!0),He(nn,null,Uh(it(()=>Ae(s).records).value,d=>(Ue(),He("div",{class:"card my-2",key:d.created_time},[B("div",bA,[B("span",{class:lt(["badge rounded-pill",{"text-bg-danger":d.is_ig,"text-bg-primary":!d.is_ig}])},Ke(d.is_ig?"限時動態":"攤位集點"),3),B("span",null,"  "+Ke(Ae(a).format(new Date(d.created_time))),1)]),B("div",AA," 集點人："+Ke(d.user_name),1)]))),128))]),B("div",yA,[B("div",CA,[B("div",vA,[TA,SA,B("div",IA,[OA,B("button",{type:"button",class:"btn btn-danger mx-2","data-bs-dismiss":"modal",onClick:f[1]||(f[1]=d=>{Ae(s).logout(),Ae(n).push("/")})}," 登出 ")])])])])]))}},RA=Xn(NA,[["__scopeId","data-v-2e5c0e06"]]),DA={},MA=B("h1",null,"遊戲規則",-1),LA=B("div",{class:"my-4"},null,-1),PA=[MA,LA];function BA(t,n){return Ue(),He("div",null,PA)}const kA=Xn(DA,[["render",BA]]),e0=t=>(Cs("data-v-bc6470fb"),t=t(),vs(),t),FA=e0(()=>B("h1",null,"社團帳號註冊/更新",-1)),UA={class:"col-md-6"},VA={class:"invalid-feedback"},HA={class:"col-md-6"},WA={class:"invalid-feedback"},$A={class:"col-md-6"},GA={class:"invalid-feedback"},XA={class:"col-md-6"},jA={class:"invalid-feedback"},zA={class:"col-6 d-grid mx-auto"},YA=["disabled"],KA={key:1,class:"loading-overlay"},qA=e0(()=>B("div",{class:"spinner-border text-primary",role:"status"},[B("span",{class:"visually-hidden"},"Loading...")],-1)),ZA=[qA],QA={__name:"ClubRegisterView",setup(t){const n=Ss(),s=or();let a=Oe(""),u=Oe(""),f=Oe(""),d=Oe(it(()=>_c(f.value))),m=Oe("");const _=Oe(!1),x=Oe(""),E=Oe(!1),b=Oe({name:"",email:"",password:"",text:""});var v=Oe(!1);const I=async()=>{v.value=!0,_.value=!0;try{{console.log("prepare form data");const W=new FormData;W.append("entry.1657837598",a.value),W.append("entry.478569220",u.value.toLowerCase()),W.append("entry.433170047",d.value),W.append("entry.504494998",m.value),console.log("開始發送請求"),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLSfTqC-Z6ByQYiYedMlCGtwsJ1jdZr8Ci5_QtkCunPgNEoVcbA/formResponse",{method:"POST",mode:"no-cors",body:W}),console.log("Form submitted successfully"),console.log("Submitted email:",u.value),E.value?x.value="資料提交失敗":(x.value="註冊成功！",console.log("trying to login."),await s.club_login(u.value,d.value),console.log("name:",s.name),console.log("email:",s.email),_.value=!1,Z(),n.push({name:"panel"}))}}catch(re){E.value=!0,x.value="註冊表單錯誤："+re,v.value=!1,console.error("Error submitting form:",re)}finally{_.value=!1}},M=(re,W,k)=>k.required&&(!W||W==="")?(b.value[re]="此欄位為必填",!1):k.minLength&&W.length<k.minLength?(b.value[re]=`最少需要 ${k.minLength} 個字符`,!1):k.pattern&&!k.pattern.test(W)?(b.value[re]="格式不正確",!1):(b.value[re]="",!0),R=it(()=>M("name",a.value,{required:!0})),K=it(()=>M("email",u.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),J=it(()=>M("password",f.value,{required:!0})),X=it(()=>M("text",m.value,{required:!1})),L=it(()=>R.value&&K.value&&J.value&&X.value),Z=()=>{a.value="",u.value="",f.value="",m.value=""};return(re,W)=>(Ue(),He("div",null,[FA,x.value?(Ue(),He("div",{key:0,class:lt(["mt-3",["alert",E.value?"alert-danger":"alert-success"]]),role:"alert"},Ke(x.value),3)):Pt("",!0),B("form",{class:lt(["row g-3 my-3 needs-validation",{"was-validated":Ae(v)}]),onSubmit:Sa(I,["prevent"]),novalidate:""},[B("div",UA,[Wt(B("input",{type:"text","onUpdate:modelValue":W[0]||(W[0]=k=>ct(a)?a.value=k:a=k),class:lt(["form-control",{"is-invalid":!R.value}]),name:"name",id:"name",placeholder:"社團名稱",required:""},null,2),[[Vn,Ae(a)]]),B("div",VA,Ke(b.value.name),1)]),B("div",HA,[Wt(B("input",{type:"email","onUpdate:modelValue":W[1]||(W[1]=k=>ct(u)?u.value=k:u=k),class:lt(["form-control",{"is-invalid":!K.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[Vn,Ae(u)]]),B("div",WA,Ke(b.value.email),1)]),B("div",$A,[Wt(B("input",{type:"text","onUpdate:modelValue":W[2]||(W[2]=k=>ct(f)?f.value=k:f=k),class:lt(["form-control",{"is-invalid":!J.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[Vn,Ae(f)]]),B("div",GA,Ke(b.value.password),1)]),B("div",XA,[Wt(B("input",{type:"text","onUpdate:modelValue":W[3]||(W[3]=k=>ct(m)?m.value=k:m=k),class:lt(["form-control",{"is-invalid":!X.value}]),name:"password",id:"text",placeholder:"蓋章的字"},null,2),[[Vn,Ae(m)]]),B("div",jA,Ke(b.value.text),1)]),B("div",zA,[B("button",{type:"submit",class:"btn btn-primary",disabled:!L.value||_.value},Ke(_.value?"提交中...":"註冊"),9,YA)])],34),_.value?(Ue(),He("div",KA,ZA)):Pt("",!0)]))}},JA=Xn(QA,[["__scopeId","data-v-bc6470fb"]]),t0=xx({linkActiveClass:"active",linkExactActiveClass:"",history:X2("/Earth_Game/"),routes:[{path:"/",name:"home",component:zE,meta:{title:"首頁"}},{path:"/stamp",name:"stamp",component:Ow,meta:{title:"活動蓋章"}},{path:"/rank",name:"rank",component:QE,meta:{title:"排行"}},{path:"/partner",name:"partner",component:Pw,meta:{title:"合作夥伴"}},{path:"/register",name:"register",component:fb,meta:{title:"註冊"}},{path:"/club_login",name:"club_login",component:cA,meta:{title:"登入"}},{path:"/scan",name:"scan",component:Zb,meta:{title:"掃描蓋章"}},{path:"/panel",name:"panel",component:RA,meta:{title:"社團後台"}},{path:"/rules",name:"rules",component:kA,meta:{title:"遊戲規則"}},{path:"/club_register",name:"club_register",component:JA,meta:{title:"社團帳號註冊"}},{path:"/404",name:"NotFound",component:o1,meta:{title:"404 找不到東西啦~"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:o1,meta:{title:"404 找不到東西啦~"}}]});t0.beforeEach(async(t,n)=>{const s=or();if(!s.is_club&&(t.name=="scan"||t.name=="panel"))return{name:"club_login"};if(s.isLoggedIn&&s.is_club&&(t.name=="club_login"||t.name=="home"))return{name:"panel"};if(n=="panel"&&t=="scan"&&!s.access_priv)return{name:"panel"}});var sn="top",bn="bottom",An="right",on="left",Fa="auto",pi=[sn,bn,An,on],bs="start",ii="end",n0="clippingParents",ru="viewport",Gs="popper",r0="reference",Ec=pi.reduce(function(t,n){return t.concat([n+"-"+bs,n+"-"+ii])},[]),su=[].concat(pi,[Fa]).reduce(function(t,n){return t.concat([n,n+"-"+bs,n+"-"+ii])},[]),s0="beforeRead",i0="read",o0="afterRead",a0="beforeMain",l0="main",c0="afterMain",u0="beforeWrite",f0="write",h0="afterWrite",d0=[s0,i0,o0,a0,l0,c0,u0,f0,h0];function ir(t){return t?(t.nodeName||"").toLowerCase():null}function yn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function As(t){var n=yn(t).Element;return t instanceof n||t instanceof Element}function Mn(t){var n=yn(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function iu(t){if(typeof ShadowRoot>"u")return!1;var n=yn(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function e3(t){var n=t.state;Object.keys(n.elements).forEach(function(s){var a=n.styles[s]||{},u=n.attributes[s]||{},f=n.elements[s];!Mn(f)||!ir(f)||(Object.assign(f.style,a),Object.keys(u).forEach(function(d){var m=u[d];m===!1?f.removeAttribute(d):f.setAttribute(d,m===!0?"":m)}))})}function t3(t){var n=t.state,s={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,s.popper),n.styles=s,n.elements.arrow&&Object.assign(n.elements.arrow.style,s.arrow),function(){Object.keys(n.elements).forEach(function(a){var u=n.elements[a],f=n.attributes[a]||{},d=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:s[a]),m=d.reduce(function(_,x){return _[x]="",_},{});!Mn(u)||!ir(u)||(Object.assign(u.style,m),Object.keys(f).forEach(function(_){u.removeAttribute(_)}))})}}const ou={name:"applyStyles",enabled:!0,phase:"write",fn:e3,effect:t3,requires:["computeStyles"]};function nr(t){return t.split("-")[0]}var xs=Math.max,ca=Math.min,oi=Math.round;function wc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function g0(){return!/^((?!chrome|android).)*safari/i.test(wc())}function ai(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var a=t.getBoundingClientRect(),u=1,f=1;n&&Mn(t)&&(u=t.offsetWidth>0&&oi(a.width)/t.offsetWidth||1,f=t.offsetHeight>0&&oi(a.height)/t.offsetHeight||1);var d=As(t)?yn(t):window,m=d.visualViewport,_=!g0()&&s,x=(a.left+(_&&m?m.offsetLeft:0))/u,E=(a.top+(_&&m?m.offsetTop:0))/f,b=a.width/u,v=a.height/f;return{width:b,height:v,top:E,right:x+b,bottom:E+v,left:x,x,y:E}}function au(t){var n=ai(t),s=t.offsetWidth,a=t.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:a}}function p0(t,n){var s=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(s&&iu(s)){var a=n;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function pr(t){return yn(t).getComputedStyle(t)}function n3(t){return["table","td","th"].indexOf(ir(t))>=0}function Kr(t){return((As(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ua(t){return ir(t)==="html"?t:t.assignedSlot||t.parentNode||(iu(t)?t.host:null)||Kr(t)}function x1(t){return!Mn(t)||pr(t).position==="fixed"?null:t.offsetParent}function r3(t){var n=/firefox/i.test(wc()),s=/Trident/i.test(wc());if(s&&Mn(t)){var a=pr(t);if(a.position==="fixed")return null}var u=Ua(t);for(iu(u)&&(u=u.host);Mn(u)&&["html","body"].indexOf(ir(u))<0;){var f=pr(u);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return u;u=u.parentNode}return null}function uo(t){for(var n=yn(t),s=x1(t);s&&n3(s)&&pr(s).position==="static";)s=x1(s);return s&&(ir(s)==="html"||ir(s)==="body"&&pr(s).position==="static")?n:s||r3(t)||n}function lu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gi(t,n,s){return xs(t,ca(n,s))}function s3(t,n,s){var a=Gi(t,n,s);return a>s?s:a}function m0(){return{top:0,right:0,bottom:0,left:0}}function x0(t){return Object.assign({},m0(),t)}function _0(t,n){return n.reduce(function(s,a){return s[a]=t,s},{})}var i3=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,x0(typeof n!="number"?n:_0(n,pi))};function o3(t){var n,s=t.state,a=t.name,u=t.options,f=s.elements.arrow,d=s.modifiersData.popperOffsets,m=nr(s.placement),_=lu(m),x=[on,An].indexOf(m)>=0,E=x?"height":"width";if(!(!f||!d)){var b=i3(u.padding,s),v=au(f),I=_==="y"?sn:on,M=_==="y"?bn:An,R=s.rects.reference[E]+s.rects.reference[_]-d[_]-s.rects.popper[E],K=d[_]-s.rects.reference[_],J=uo(f),X=J?_==="y"?J.clientHeight||0:J.clientWidth||0:0,L=R/2-K/2,Z=b[I],re=X-v[E]-b[M],W=X/2-v[E]/2+L,k=Gi(Z,W,re),le=_;s.modifiersData[a]=(n={},n[le]=k,n.centerOffset=k-W,n)}}function a3(t){var n=t.state,s=t.options,a=s.element,u=a===void 0?"[data-popper-arrow]":a;u!=null&&(typeof u=="string"&&(u=n.elements.popper.querySelector(u),!u)||p0(n.elements.popper,u)&&(n.elements.arrow=u))}const E0={name:"arrow",enabled:!0,phase:"main",fn:o3,effect:a3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function li(t){return t.split("-")[1]}var l3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c3(t,n){var s=t.x,a=t.y,u=n.devicePixelRatio||1;return{x:oi(s*u)/u||0,y:oi(a*u)/u||0}}function _1(t){var n,s=t.popper,a=t.popperRect,u=t.placement,f=t.variation,d=t.offsets,m=t.position,_=t.gpuAcceleration,x=t.adaptive,E=t.roundOffsets,b=t.isFixed,v=d.x,I=v===void 0?0:v,M=d.y,R=M===void 0?0:M,K=typeof E=="function"?E({x:I,y:R}):{x:I,y:R};I=K.x,R=K.y;var J=d.hasOwnProperty("x"),X=d.hasOwnProperty("y"),L=on,Z=sn,re=window;if(x){var W=uo(s),k="clientHeight",le="clientWidth";if(W===yn(s)&&(W=Kr(s),pr(W).position!=="static"&&m==="absolute"&&(k="scrollHeight",le="scrollWidth")),W=W,u===sn||(u===on||u===An)&&f===ii){Z=bn;var F=b&&W===re&&re.visualViewport?re.visualViewport.height:W[k];R-=F-a.height,R*=_?1:-1}if(u===on||(u===sn||u===bn)&&f===ii){L=An;var Ee=b&&W===re&&re.visualViewport?re.visualViewport.width:W[le];I-=Ee-a.width,I*=_?1:-1}}var _e=Object.assign({position:m},x&&l3),$=E===!0?c3({x:I,y:R},yn(s)):{x:I,y:R};if(I=$.x,R=$.y,_){var ne;return Object.assign({},_e,(ne={},ne[Z]=X?"0":"",ne[L]=J?"0":"",ne.transform=(re.devicePixelRatio||1)<=1?"translate("+I+"px, "+R+"px)":"translate3d("+I+"px, "+R+"px, 0)",ne))}return Object.assign({},_e,(n={},n[Z]=X?R+"px":"",n[L]=J?I+"px":"",n.transform="",n))}function u3(t){var n=t.state,s=t.options,a=s.gpuAcceleration,u=a===void 0?!0:a,f=s.adaptive,d=f===void 0?!0:f,m=s.roundOffsets,_=m===void 0?!0:m,x={placement:nr(n.placement),variation:li(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:u,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,_1(Object.assign({},x,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:_})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,_1(Object.assign({},x,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const cu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u3,data:{}};var Do={passive:!0};function f3(t){var n=t.state,s=t.instance,a=t.options,u=a.scroll,f=u===void 0?!0:u,d=a.resize,m=d===void 0?!0:d,_=yn(n.elements.popper),x=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&x.forEach(function(E){E.addEventListener("scroll",s.update,Do)}),m&&_.addEventListener("resize",s.update,Do),function(){f&&x.forEach(function(E){E.removeEventListener("scroll",s.update,Do)}),m&&_.removeEventListener("resize",s.update,Do)}}const uu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:f3,data:{}};var h3={left:"right",right:"left",bottom:"top",top:"bottom"};function zo(t){return t.replace(/left|right|bottom|top/g,function(n){return h3[n]})}var d3={start:"end",end:"start"};function E1(t){return t.replace(/start|end/g,function(n){return d3[n]})}function fu(t){var n=yn(t),s=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:s,scrollTop:a}}function hu(t){return ai(Kr(t)).left+fu(t).scrollLeft}function g3(t,n){var s=yn(t),a=Kr(t),u=s.visualViewport,f=a.clientWidth,d=a.clientHeight,m=0,_=0;if(u){f=u.width,d=u.height;var x=g0();(x||!x&&n==="fixed")&&(m=u.offsetLeft,_=u.offsetTop)}return{width:f,height:d,x:m+hu(t),y:_}}function p3(t){var n,s=Kr(t),a=fu(t),u=(n=t.ownerDocument)==null?void 0:n.body,f=xs(s.scrollWidth,s.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),d=xs(s.scrollHeight,s.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),m=-a.scrollLeft+hu(t),_=-a.scrollTop;return pr(u||s).direction==="rtl"&&(m+=xs(s.clientWidth,u?u.clientWidth:0)-f),{width:f,height:d,x:m,y:_}}function du(t){var n=pr(t),s=n.overflow,a=n.overflowX,u=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+u+a)}function w0(t){return["html","body","#document"].indexOf(ir(t))>=0?t.ownerDocument.body:Mn(t)&&du(t)?t:w0(Ua(t))}function Xi(t,n){var s;n===void 0&&(n=[]);var a=w0(t),u=a===((s=t.ownerDocument)==null?void 0:s.body),f=yn(a),d=u?[f].concat(f.visualViewport||[],du(a)?a:[]):a,m=n.concat(d);return u?m:m.concat(Xi(Ua(d)))}function bc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function m3(t,n){var s=ai(t,!1,n==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function w1(t,n,s){return n===ru?bc(g3(t,s)):As(n)?m3(n,s):bc(p3(Kr(t)))}function x3(t){var n=Xi(Ua(t)),s=["absolute","fixed"].indexOf(pr(t).position)>=0,a=s&&Mn(t)?uo(t):t;return As(a)?n.filter(function(u){return As(u)&&p0(u,a)&&ir(u)!=="body"}):[]}function _3(t,n,s,a){var u=n==="clippingParents"?x3(t):[].concat(n),f=[].concat(u,[s]),d=f[0],m=f.reduce(function(_,x){var E=w1(t,x,a);return _.top=xs(E.top,_.top),_.right=ca(E.right,_.right),_.bottom=ca(E.bottom,_.bottom),_.left=xs(E.left,_.left),_},w1(t,d,a));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function b0(t){var n=t.reference,s=t.element,a=t.placement,u=a?nr(a):null,f=a?li(a):null,d=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,_;switch(u){case sn:_={x:d,y:n.y-s.height};break;case bn:_={x:d,y:n.y+n.height};break;case An:_={x:n.x+n.width,y:m};break;case on:_={x:n.x-s.width,y:m};break;default:_={x:n.x,y:n.y}}var x=u?lu(u):null;if(x!=null){var E=x==="y"?"height":"width";switch(f){case bs:_[x]=_[x]-(n[E]/2-s[E]/2);break;case ii:_[x]=_[x]+(n[E]/2-s[E]/2);break}}return _}function ci(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=a===void 0?t.placement:a,f=s.strategy,d=f===void 0?t.strategy:f,m=s.boundary,_=m===void 0?n0:m,x=s.rootBoundary,E=x===void 0?ru:x,b=s.elementContext,v=b===void 0?Gs:b,I=s.altBoundary,M=I===void 0?!1:I,R=s.padding,K=R===void 0?0:R,J=x0(typeof K!="number"?K:_0(K,pi)),X=v===Gs?r0:Gs,L=t.rects.popper,Z=t.elements[M?X:v],re=_3(As(Z)?Z:Z.contextElement||Kr(t.elements.popper),_,E,d),W=ai(t.elements.reference),k=b0({reference:W,element:L,strategy:"absolute",placement:u}),le=bc(Object.assign({},L,k)),F=v===Gs?le:W,Ee={top:re.top-F.top+J.top,bottom:F.bottom-re.bottom+J.bottom,left:re.left-F.left+J.left,right:F.right-re.right+J.right},_e=t.modifiersData.offset;if(v===Gs&&_e){var $=_e[u];Object.keys(Ee).forEach(function(ne){var Re=[An,bn].indexOf(ne)>=0?1:-1,G=[sn,bn].indexOf(ne)>=0?"y":"x";Ee[ne]+=$[G]*Re})}return Ee}function E3(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=s.boundary,f=s.rootBoundary,d=s.padding,m=s.flipVariations,_=s.allowedAutoPlacements,x=_===void 0?su:_,E=li(a),b=E?m?Ec:Ec.filter(function(M){return li(M)===E}):pi,v=b.filter(function(M){return x.indexOf(M)>=0});v.length===0&&(v=b);var I=v.reduce(function(M,R){return M[R]=ci(t,{placement:R,boundary:u,rootBoundary:f,padding:d})[nr(R)],M},{});return Object.keys(I).sort(function(M,R){return I[M]-I[R]})}function w3(t){if(nr(t)===Fa)return[];var n=zo(t);return[E1(t),n,E1(n)]}function b3(t){var n=t.state,s=t.options,a=t.name;if(!n.modifiersData[a]._skip){for(var u=s.mainAxis,f=u===void 0?!0:u,d=s.altAxis,m=d===void 0?!0:d,_=s.fallbackPlacements,x=s.padding,E=s.boundary,b=s.rootBoundary,v=s.altBoundary,I=s.flipVariations,M=I===void 0?!0:I,R=s.allowedAutoPlacements,K=n.options.placement,J=nr(K),X=J===K,L=_||(X||!M?[zo(K)]:w3(K)),Z=[K].concat(L).reduce(function(ht,jt){return ht.concat(nr(jt)===Fa?E3(n,{placement:jt,boundary:E,rootBoundary:b,padding:x,flipVariations:M,allowedAutoPlacements:R}):jt)},[]),re=n.rects.reference,W=n.rects.popper,k=new Map,le=!0,F=Z[0],Ee=0;Ee<Z.length;Ee++){var _e=Z[Ee],$=nr(_e),ne=li(_e)===bs,Re=[sn,bn].indexOf($)>=0,G=Re?"width":"height",Ie=ci(n,{placement:_e,boundary:E,rootBoundary:b,altBoundary:v,padding:x}),fe=Re?ne?An:on:ne?bn:sn;re[G]>W[G]&&(fe=zo(fe));var je=zo(fe),_t=[];if(f&&_t.push(Ie[$]<=0),m&&_t.push(Ie[fe]<=0,Ie[je]<=0),_t.every(function(ht){return ht})){F=_e,le=!1;break}k.set(_e,_t)}if(le)for(var It=M?3:1,Xt=function(jt){var be=Z.find(function(ee){var he=k.get(ee);if(he)return he.slice(0,jt).every(function(xe){return xe})});if(be)return F=be,"break"},Qe=It;Qe>0;Qe--){var kt=Xt(Qe);if(kt==="break")break}n.placement!==F&&(n.modifiersData[a]._skip=!0,n.placement=F,n.reset=!0)}}const A0={name:"flip",enabled:!0,phase:"main",fn:b3,requiresIfExists:["offset"],data:{_skip:!1}};function b1(t,n,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-n.height-s.y,right:t.right-n.width+s.x,bottom:t.bottom-n.height+s.y,left:t.left-n.width-s.x}}function A1(t){return[sn,An,bn,on].some(function(n){return t[n]>=0})}function A3(t){var n=t.state,s=t.name,a=n.rects.reference,u=n.rects.popper,f=n.modifiersData.preventOverflow,d=ci(n,{elementContext:"reference"}),m=ci(n,{altBoundary:!0}),_=b1(d,a),x=b1(m,u,f),E=A1(_),b=A1(x);n.modifiersData[s]={referenceClippingOffsets:_,popperEscapeOffsets:x,isReferenceHidden:E,hasPopperEscaped:b},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":b})}const y0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:A3};function y3(t,n,s){var a=nr(t),u=[on,sn].indexOf(a)>=0?-1:1,f=typeof s=="function"?s(Object.assign({},n,{placement:t})):s,d=f[0],m=f[1];return d=d||0,m=(m||0)*u,[on,An].indexOf(a)>=0?{x:m,y:d}:{x:d,y:m}}function C3(t){var n=t.state,s=t.options,a=t.name,u=s.offset,f=u===void 0?[0,0]:u,d=su.reduce(function(E,b){return E[b]=y3(b,n.rects,f),E},{}),m=d[n.placement],_=m.x,x=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=_,n.modifiersData.popperOffsets.y+=x),n.modifiersData[a]=d}const C0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C3};function v3(t){var n=t.state,s=t.name;n.modifiersData[s]=b0({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const gu={name:"popperOffsets",enabled:!0,phase:"read",fn:v3,data:{}};function T3(t){return t==="x"?"y":"x"}function S3(t){var n=t.state,s=t.options,a=t.name,u=s.mainAxis,f=u===void 0?!0:u,d=s.altAxis,m=d===void 0?!1:d,_=s.boundary,x=s.rootBoundary,E=s.altBoundary,b=s.padding,v=s.tether,I=v===void 0?!0:v,M=s.tetherOffset,R=M===void 0?0:M,K=ci(n,{boundary:_,rootBoundary:x,padding:b,altBoundary:E}),J=nr(n.placement),X=li(n.placement),L=!X,Z=lu(J),re=T3(Z),W=n.modifiersData.popperOffsets,k=n.rects.reference,le=n.rects.popper,F=typeof R=="function"?R(Object.assign({},n.rects,{placement:n.placement})):R,Ee=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),_e=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,$={x:0,y:0};if(W){if(f){var ne,Re=Z==="y"?sn:on,G=Z==="y"?bn:An,Ie=Z==="y"?"height":"width",fe=W[Z],je=fe+K[Re],_t=fe-K[G],It=I?-le[Ie]/2:0,Xt=X===bs?k[Ie]:le[Ie],Qe=X===bs?-le[Ie]:-k[Ie],kt=n.elements.arrow,ht=I&&kt?au(kt):{width:0,height:0},jt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:m0(),be=jt[Re],ee=jt[G],he=Gi(0,k[Ie],ht[Ie]),xe=L?k[Ie]/2-It-he-be-Ee.mainAxis:Xt-he-be-Ee.mainAxis,Te=L?-k[Ie]/2+It+he+ee+Ee.mainAxis:Qe+he+ee+Ee.mainAxis,Fe=n.elements.arrow&&uo(n.elements.arrow),ut=Fe?Z==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,T=(ne=_e==null?void 0:_e[Z])!=null?ne:0,N=fe+xe-T-ut,H=fe+Te-T,se=Gi(I?ca(je,N):je,fe,I?xs(_t,H):_t);W[Z]=se,$[Z]=se-fe}if(m){var q,te=Z==="x"?sn:on,ie=Z==="x"?bn:An,ge=W[re],j=re==="y"?"height":"width",ae=ge+K[te],we=ge-K[ie],ye=[sn,on].indexOf(J)!==-1,Se=(q=_e==null?void 0:_e[re])!=null?q:0,Ne=ye?ae:ge-k[j]-le[j]-Se+Ee.altAxis,We=ye?ge+k[j]+le[j]-Se-Ee.altAxis:we,Ze=I&&ye?s3(Ne,ge,We):Gi(I?Ne:ae,ge,I?We:we);W[re]=Ze,$[re]=Ze-ge}n.modifiersData[a]=$}}const v0={name:"preventOverflow",enabled:!0,phase:"main",fn:S3,requiresIfExists:["offset"]};function I3(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function O3(t){return t===yn(t)||!Mn(t)?fu(t):I3(t)}function N3(t){var n=t.getBoundingClientRect(),s=oi(n.width)/t.offsetWidth||1,a=oi(n.height)/t.offsetHeight||1;return s!==1||a!==1}function R3(t,n,s){s===void 0&&(s=!1);var a=Mn(n),u=Mn(n)&&N3(n),f=Kr(n),d=ai(t,u,s),m={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(a||!a&&!s)&&((ir(n)!=="body"||du(f))&&(m=O3(n)),Mn(n)?(_=ai(n,!0),_.x+=n.clientLeft,_.y+=n.clientTop):f&&(_.x=hu(f))),{x:d.left+m.scrollLeft-_.x,y:d.top+m.scrollTop-_.y,width:d.width,height:d.height}}function D3(t){var n=new Map,s=new Set,a=[];t.forEach(function(f){n.set(f.name,f)});function u(f){s.add(f.name);var d=[].concat(f.requires||[],f.requiresIfExists||[]);d.forEach(function(m){if(!s.has(m)){var _=n.get(m);_&&u(_)}}),a.push(f)}return t.forEach(function(f){s.has(f.name)||u(f)}),a}function M3(t){var n=D3(t);return d0.reduce(function(s,a){return s.concat(n.filter(function(u){return u.phase===a}))},[])}function L3(t){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(t())})})),n}}function P3(t){var n=t.reduce(function(s,a){var u=s[a.name];return s[a.name]=u?Object.assign({},u,a,{options:Object.assign({},u.options,a.options),data:Object.assign({},u.data,a.data)}):a,s},{});return Object.keys(n).map(function(s){return n[s]})}var y1={placement:"bottom",modifiers:[],strategy:"absolute"};function C1(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Va(t){t===void 0&&(t={});var n=t,s=n.defaultModifiers,a=s===void 0?[]:s,u=n.defaultOptions,f=u===void 0?y1:u;return function(m,_,x){x===void 0&&(x=f);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},y1,f),modifiersData:{},elements:{reference:m,popper:_},attributes:{},styles:{}},b=[],v=!1,I={state:E,setOptions:function(J){var X=typeof J=="function"?J(E.options):J;R(),E.options=Object.assign({},f,E.options,X),E.scrollParents={reference:As(m)?Xi(m):m.contextElement?Xi(m.contextElement):[],popper:Xi(_)};var L=M3(P3([].concat(a,E.options.modifiers)));return E.orderedModifiers=L.filter(function(Z){return Z.enabled}),M(),I.update()},forceUpdate:function(){if(!v){var J=E.elements,X=J.reference,L=J.popper;if(C1(X,L)){E.rects={reference:R3(X,uo(L),E.options.strategy==="fixed"),popper:au(L)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(Ee){return E.modifiersData[Ee.name]=Object.assign({},Ee.data)});for(var Z=0;Z<E.orderedModifiers.length;Z++){if(E.reset===!0){E.reset=!1,Z=-1;continue}var re=E.orderedModifiers[Z],W=re.fn,k=re.options,le=k===void 0?{}:k,F=re.name;typeof W=="function"&&(E=W({state:E,options:le,name:F,instance:I})||E)}}}},update:L3(function(){return new Promise(function(K){I.forceUpdate(),K(E)})}),destroy:function(){R(),v=!0}};if(!C1(m,_))return I;I.setOptions(x).then(function(K){!v&&x.onFirstUpdate&&x.onFirstUpdate(K)});function M(){E.orderedModifiers.forEach(function(K){var J=K.name,X=K.options,L=X===void 0?{}:X,Z=K.effect;if(typeof Z=="function"){var re=Z({state:E,name:J,instance:I,options:L}),W=function(){};b.push(re||W)}})}function R(){b.forEach(function(K){return K()}),b=[]}return I}}var B3=Va(),k3=[uu,gu,cu,ou],F3=Va({defaultModifiers:k3}),U3=[uu,gu,cu,ou,C0,A0,v0,E0,y0],pu=Va({defaultModifiers:U3});const T0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:c0,afterRead:o0,afterWrite:h0,applyStyles:ou,arrow:E0,auto:Fa,basePlacements:pi,beforeMain:a0,beforeRead:s0,beforeWrite:u0,bottom:bn,clippingParents:n0,computeStyles:cu,createPopper:pu,createPopperBase:B3,createPopperLite:F3,detectOverflow:ci,end:ii,eventListeners:uu,flip:A0,hide:y0,left:on,main:l0,modifierPhases:d0,offset:C0,placements:su,popper:Gs,popperGenerator:Va,popperOffsets:gu,preventOverflow:v0,read:i0,reference:r0,right:An,start:bs,top:sn,variationPlacements:Ec,viewport:ru,write:f0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Rr=new Map,Ol={set(t,n,s){Rr.has(t)||Rr.set(t,new Map);const a=Rr.get(t);if(!a.has(n)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(n,s)},get(t,n){return Rr.has(t)&&Rr.get(t).get(n)||null},remove(t,n){if(!Rr.has(t))return;const s=Rr.get(t);s.delete(n),s.size===0&&Rr.delete(t)}},V3=1e6,H3=1e3,Ac="transitionend",S0=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(n,s)=>`#${CSS.escape(s)}`)),t),W3=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),$3=t=>{do t+=Math.floor(Math.random()*V3);while(document.getElementById(t));return t},G3=t=>{if(!t)return 0;let{transitionDuration:n,transitionDelay:s}=window.getComputedStyle(t);const a=Number.parseFloat(n),u=Number.parseFloat(s);return!a&&!u?0:(n=n.split(",")[0],s=s.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(s))*H3)},I0=t=>{t.dispatchEvent(new Event(Ac))},dr=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),$r=t=>dr(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(S0(t)):null,mi=t=>{if(!dr(t)||t.getClientRects().length===0)return!1;const n=getComputedStyle(t).getPropertyValue("visibility")==="visible",s=t.closest("details:not([open])");if(!s)return n;if(s!==t){const a=t.closest("summary");if(a&&a.parentNode!==s||a===null)return!1}return n},Gr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",O0=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?O0(t.parentNode):null},ua=()=>{},fo=t=>{t.offsetHeight},N0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Nl=[],X3=t=>{document.readyState==="loading"?(Nl.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Nl)n()}),Nl.push(t)):t()},Ln=()=>document.documentElement.dir==="rtl",kn=t=>{X3(()=>{const n=N0();if(n){const s=t.NAME,a=n.fn[s];n.fn[s]=t.jQueryInterface,n.fn[s].Constructor=t,n.fn[s].noConflict=()=>(n.fn[s]=a,t.jQueryInterface)}})},dn=(t,n=[],s=t)=>typeof t=="function"?t(...n):s,R0=(t,n,s=!0)=>{if(!s){dn(t);return}const u=G3(n)+5;let f=!1;const d=({target:m})=>{m===n&&(f=!0,n.removeEventListener(Ac,d),dn(t))};n.addEventListener(Ac,d),setTimeout(()=>{f||I0(n)},u)},mu=(t,n,s,a)=>{const u=t.length;let f=t.indexOf(n);return f===-1?!s&&a?t[u-1]:t[0]:(f+=s?1:-1,a&&(f=(f+u)%u),t[Math.max(0,Math.min(f,u-1))])},j3=/[^.]*(?=\..*)\.|.*/,z3=/\..*/,Y3=/::\d+$/,Rl={};let v1=1;const D0={mouseenter:"mouseover",mouseleave:"mouseout"},K3=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M0(t,n){return n&&`${n}::${v1++}`||t.uidEvent||v1++}function L0(t){const n=M0(t);return t.uidEvent=n,Rl[n]=Rl[n]||{},Rl[n]}function q3(t,n){return function s(a){return xu(a,{delegateTarget:t}),s.oneOff&&ce.off(t,a.type,n),n.apply(t,[a])}}function Z3(t,n,s){return function a(u){const f=t.querySelectorAll(n);for(let{target:d}=u;d&&d!==this;d=d.parentNode)for(const m of f)if(m===d)return xu(u,{delegateTarget:d}),a.oneOff&&ce.off(t,u.type,n,s),s.apply(d,[u])}}function P0(t,n,s=null){return Object.values(t).find(a=>a.callable===n&&a.delegationSelector===s)}function B0(t,n,s){const a=typeof n=="string",u=a?s:n||s;let f=k0(t);return K3.has(f)||(f=t),[a,u,f]}function T1(t,n,s,a,u){if(typeof n!="string"||!t)return;let[f,d,m]=B0(n,s,a);n in D0&&(d=(M=>function(R){if(!R.relatedTarget||R.relatedTarget!==R.delegateTarget&&!R.delegateTarget.contains(R.relatedTarget))return M.call(this,R)})(d));const _=L0(t),x=_[m]||(_[m]={}),E=P0(x,d,f?s:null);if(E){E.oneOff=E.oneOff&&u;return}const b=M0(d,n.replace(j3,"")),v=f?Z3(t,s,d):q3(t,d);v.delegationSelector=f?s:null,v.callable=d,v.oneOff=u,v.uidEvent=b,x[b]=v,t.addEventListener(m,v,f)}function yc(t,n,s,a,u){const f=P0(n[s],a,u);f&&(t.removeEventListener(s,f,!!u),delete n[s][f.uidEvent])}function Q3(t,n,s,a){const u=n[s]||{};for(const[f,d]of Object.entries(u))f.includes(a)&&yc(t,n,s,d.callable,d.delegationSelector)}function k0(t){return t=t.replace(z3,""),D0[t]||t}const ce={on(t,n,s,a){T1(t,n,s,a,!1)},one(t,n,s,a){T1(t,n,s,a,!0)},off(t,n,s,a){if(typeof n!="string"||!t)return;const[u,f,d]=B0(n,s,a),m=d!==n,_=L0(t),x=_[d]||{},E=n.startsWith(".");if(typeof f<"u"){if(!Object.keys(x).length)return;yc(t,_,d,f,u?s:null);return}if(E)for(const b of Object.keys(_))Q3(t,_,b,n.slice(1));for(const[b,v]of Object.entries(x)){const I=b.replace(Y3,"");(!m||n.includes(I))&&yc(t,_,d,v.callable,v.delegationSelector)}},trigger(t,n,s){if(typeof n!="string"||!t)return null;const a=N0(),u=k0(n),f=n!==u;let d=null,m=!0,_=!0,x=!1;f&&a&&(d=a.Event(n,s),a(t).trigger(d),m=!d.isPropagationStopped(),_=!d.isImmediatePropagationStopped(),x=d.isDefaultPrevented());const E=xu(new Event(n,{bubbles:m,cancelable:!0}),s);return x&&E.preventDefault(),_&&t.dispatchEvent(E),E.defaultPrevented&&d&&d.preventDefault(),E}};function xu(t,n={}){for(const[s,a]of Object.entries(n))try{t[s]=a}catch{Object.defineProperty(t,s,{configurable:!0,get(){return a}})}return t}function S1(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Dl(t){return t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const gr={setDataAttribute(t,n,s){t.setAttribute(`data-bs-${Dl(n)}`,s)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${Dl(n)}`)},getDataAttributes(t){if(!t)return{};const n={},s=Object.keys(t.dataset).filter(a=>a.startsWith("bs")&&!a.startsWith("bsConfig"));for(const a of s){let u=a.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),n[u]=S1(t.dataset[a])}return n},getDataAttribute(t,n){return S1(t.getAttribute(`data-bs-${Dl(n)}`))}};class ho{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,s){const a=dr(s)?gr.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...dr(s)?gr.getDataAttributes(s):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,s=this.constructor.DefaultType){for(const[a,u]of Object.entries(s)){const f=n[a],d=dr(f)?"element":W3(f);if(!new RegExp(u).test(d))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${d}" but expected type "${u}".`)}}}const J3="5.3.3";class jn extends ho{constructor(n,s){super(),n=$r(n),n&&(this._element=n,this._config=this._getConfig(s),Ol.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ol.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,s,a=!0){R0(n,s,a)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Ol.get($r(n),this.DATA_KEY)}static getOrCreateInstance(n,s={}){return this.getInstance(n)||new this(n,typeof s=="object"?s:null)}static get VERSION(){return J3}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Ml=t=>{let n=t.getAttribute("data-bs-target");if(!n||n==="#"){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),n=s&&s!=="#"?s.trim():null}return n?n.split(",").map(s=>S0(s)).join(","):null},Pe={find(t,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,t))},findOne(t,n=document.documentElement){return Element.prototype.querySelector.call(n,t)},children(t,n){return[].concat(...t.children).filter(s=>s.matches(n))},parents(t,n){const s=[];let a=t.parentNode.closest(n);for(;a;)s.push(a),a=a.parentNode.closest(n);return s},prev(t,n){let s=t.previousElementSibling;for(;s;){if(s.matches(n))return[s];s=s.previousElementSibling}return[]},next(t,n){let s=t.nextElementSibling;for(;s;){if(s.matches(n))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(n,t).filter(s=>!Gr(s)&&mi(s))},getSelectorFromElement(t){const n=Ml(t);return n&&Pe.findOne(n)?n:null},getElementFromSelector(t){const n=Ml(t);return n?Pe.findOne(n):null},getMultipleElementsFromSelector(t){const n=Ml(t);return n?Pe.find(n):[]}},Ha=(t,n="hide")=>{const s=`click.dismiss${t.EVENT_KEY}`,a=t.NAME;ce.on(document,s,`[data-bs-dismiss="${a}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Gr(this))return;const f=Pe.getElementFromSelector(this)||this.closest(`.${a}`);t.getOrCreateInstance(f)[n]()})},ey="alert",ty="bs.alert",F0=`.${ty}`,ny=`close${F0}`,ry=`closed${F0}`,sy="fade",iy="show";class Wa extends jn{static get NAME(){return ey}close(){if(ce.trigger(this._element,ny).defaultPrevented)return;this._element.classList.remove(iy);const s=this._element.classList.contains(sy);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),ce.trigger(this._element,ry),this.dispose()}static jQueryInterface(n){return this.each(function(){const s=Wa.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ha(Wa,"close");kn(Wa);const oy="button",ay="bs.button",ly=`.${ay}`,cy=".data-api",uy="active",I1='[data-bs-toggle="button"]',fy=`click${ly}${cy}`;class $a extends jn{static get NAME(){return oy}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(uy))}static jQueryInterface(n){return this.each(function(){const s=$a.getOrCreateInstance(this);n==="toggle"&&s[n]()})}}ce.on(document,fy,I1,t=>{t.preventDefault();const n=t.target.closest(I1);$a.getOrCreateInstance(n).toggle()});kn($a);const hy="swipe",xi=".bs.swipe",dy=`touchstart${xi}`,gy=`touchmove${xi}`,py=`touchend${xi}`,my=`pointerdown${xi}`,xy=`pointerup${xi}`,_y="touch",Ey="pen",wy="pointer-event",by=40,Ay={endCallback:null,leftCallback:null,rightCallback:null},yy={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class fa extends ho{constructor(n,s){super(),this._element=n,!(!n||!fa.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ay}static get DefaultType(){return yy}static get NAME(){return hy}dispose(){ce.off(this._element,xi)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),dn(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=by)return;const s=n/this._deltaX;this._deltaX=0,s&&dn(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,my,n=>this._start(n)),ce.on(this._element,xy,n=>this._end(n)),this._element.classList.add(wy)):(ce.on(this._element,dy,n=>this._start(n)),ce.on(this._element,gy,n=>this._move(n)),ce.on(this._element,py,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===Ey||n.pointerType===_y)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Cy="carousel",vy="bs.carousel",qr=`.${vy}`,U0=".data-api",Ty="ArrowLeft",Sy="ArrowRight",Iy=500,Mi="next",Hs="prev",Xs="left",Yo="right",Oy=`slide${qr}`,Ll=`slid${qr}`,Ny=`keydown${qr}`,Ry=`mouseenter${qr}`,Dy=`mouseleave${qr}`,My=`dragstart${qr}`,Ly=`load${qr}${U0}`,Py=`click${qr}${U0}`,V0="carousel",Mo="active",By="slide",ky="carousel-item-end",Fy="carousel-item-start",Uy="carousel-item-next",Vy="carousel-item-prev",H0=".active",W0=".carousel-item",Hy=H0+W0,Wy=".carousel-item img",$y=".carousel-indicators",Gy="[data-bs-slide], [data-bs-slide-to]",Xy='[data-bs-ride="carousel"]',jy={[Ty]:Yo,[Sy]:Xs},zy={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Yy={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class go extends jn{constructor(n,s){super(n,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne($y,this._element),this._addEventListeners(),this._config.ride===V0&&this.cycle()}static get Default(){return zy}static get DefaultType(){return Yy}static get NAME(){return Cy}next(){this._slide(Mi)}nextWhenVisible(){!document.hidden&&mi(this._element)&&this.next()}prev(){this._slide(Hs)}pause(){this._isSliding&&I0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ce.one(this._element,Ll,()=>this.cycle());return}this.cycle()}}to(n){const s=this._getItems();if(n>s.length-1||n<0)return;if(this._isSliding){ce.one(this._element,Ll,()=>this.to(n));return}const a=this._getItemIndex(this._getActive());if(a===n)return;const u=n>a?Mi:Hs;this._slide(u,s[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&ce.on(this._element,Ny,n=>this._keydown(n)),this._config.pause==="hover"&&(ce.on(this._element,Ry,()=>this.pause()),ce.on(this._element,Dy,()=>this._maybeEnableCycle())),this._config.touch&&fa.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of Pe.find(Wy,this._element))ce.on(a,My,u=>u.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(Xs)),rightCallback:()=>this._slide(this._directionToOrder(Yo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Iy+this._config.interval))}};this._swipeHelper=new fa(this._element,s)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const s=jy[n.key];s&&(n.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const s=Pe.findOne(H0,this._indicatorsElement);s.classList.remove(Mo),s.removeAttribute("aria-current");const a=Pe.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);a&&(a.classList.add(Mo),a.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const s=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(n,s=null){if(this._isSliding)return;const a=this._getActive(),u=n===Mi,f=s||mu(this._getItems(),a,u,this._config.wrap);if(f===a)return;const d=this._getItemIndex(f),m=I=>ce.trigger(this._element,I,{relatedTarget:f,direction:this._orderToDirection(n),from:this._getItemIndex(a),to:d});if(m(Oy).defaultPrevented||!a||!f)return;const x=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(d),this._activeElement=f;const E=u?Fy:ky,b=u?Uy:Vy;f.classList.add(b),fo(f),a.classList.add(E),f.classList.add(E);const v=()=>{f.classList.remove(E,b),f.classList.add(Mo),a.classList.remove(Mo,b,E),this._isSliding=!1,m(Ll)};this._queueCallback(v,a,this._isAnimated()),x&&this.cycle()}_isAnimated(){return this._element.classList.contains(By)}_getActive(){return Pe.findOne(Hy,this._element)}_getItems(){return Pe.find(W0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return Ln()?n===Xs?Hs:Mi:n===Xs?Mi:Hs}_orderToDirection(n){return Ln()?n===Hs?Xs:Yo:n===Hs?Yo:Xs}static jQueryInterface(n){return this.each(function(){const s=go.getOrCreateInstance(this,n);if(typeof n=="number"){s.to(n);return}if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(document,Py,Gy,function(t){const n=Pe.getElementFromSelector(this);if(!n||!n.classList.contains(V0))return;t.preventDefault();const s=go.getOrCreateInstance(n),a=this.getAttribute("data-bs-slide-to");if(a){s.to(a),s._maybeEnableCycle();return}if(gr.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});ce.on(window,Ly,()=>{const t=Pe.find(Xy);for(const n of t)go.getOrCreateInstance(n)});kn(go);const Ky="collapse",qy="bs.collapse",po=`.${qy}`,Zy=".data-api",Qy=`show${po}`,Jy=`shown${po}`,eC=`hide${po}`,tC=`hidden${po}`,nC=`click${po}${Zy}`,Pl="show",Ys="collapse",Lo="collapsing",rC="collapsed",sC=`:scope .${Ys} .${Ys}`,iC="collapse-horizontal",oC="width",aC="height",lC=".collapse.show, .collapse.collapsing",Cc='[data-bs-toggle="collapse"]',cC={parent:null,toggle:!0},uC={parent:"(null|element)",toggle:"boolean"};class no extends jn{constructor(n,s){super(n,s),this._isTransitioning=!1,this._triggerArray=[];const a=Pe.find(Cc);for(const u of a){const f=Pe.getSelectorFromElement(u),d=Pe.find(f).filter(m=>m===this._element);f!==null&&d.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return cC}static get DefaultType(){return uC}static get NAME(){return Ky}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(lC).filter(m=>m!==this._element).map(m=>no.getOrCreateInstance(m,{toggle:!1}))),n.length&&n[0]._isTransitioning||ce.trigger(this._element,Qy).defaultPrevented)return;for(const m of n)m.hide();const a=this._getDimension();this._element.classList.remove(Ys),this._element.classList.add(Lo),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(Lo),this._element.classList.add(Ys,Pl),this._element.style[a]="",ce.trigger(this._element,Jy)},d=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[a]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,eC).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,fo(this._element),this._element.classList.add(Lo),this._element.classList.remove(Ys,Pl);for(const u of this._triggerArray){const f=Pe.getElementFromSelector(u);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Lo),this._element.classList.add(Ys),ce.trigger(this._element,tC)};this._element.style[s]="",this._queueCallback(a,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Pl)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=$r(n.parent),n}_getDimension(){return this._element.classList.contains(iC)?oC:aC}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Cc);for(const s of n){const a=Pe.getElementFromSelector(s);a&&this._addAriaAndCollapsedClass([s],this._isShown(a))}}_getFirstLevelChildren(n){const s=Pe.find(sC,this._config.parent);return Pe.find(n,this._config.parent).filter(a=>!s.includes(a))}_addAriaAndCollapsedClass(n,s){if(n.length)for(const a of n)a.classList.toggle(rC,!s),a.setAttribute("aria-expanded",s)}static jQueryInterface(n){const s={};return typeof n=="string"&&/show|hide/.test(n)&&(s.toggle=!1),this.each(function(){const a=no.getOrCreateInstance(this,s);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n]()}})}}ce.on(document,nC,Cc,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const n of Pe.getMultipleElementsFromSelector(this))no.getOrCreateInstance(n,{toggle:!1}).toggle()});kn(no);const O1="dropdown",fC="bs.dropdown",Is=`.${fC}`,_u=".data-api",hC="Escape",N1="Tab",dC="ArrowUp",R1="ArrowDown",gC=2,pC=`hide${Is}`,mC=`hidden${Is}`,xC=`show${Is}`,_C=`shown${Is}`,$0=`click${Is}${_u}`,G0=`keydown${Is}${_u}`,EC=`keyup${Is}${_u}`,js="show",wC="dropup",bC="dropend",AC="dropstart",yC="dropup-center",CC="dropdown-center",us='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vC=`${us}.${js}`,Ko=".dropdown-menu",TC=".navbar",SC=".navbar-nav",IC=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",OC=Ln()?"top-end":"top-start",NC=Ln()?"top-start":"top-end",RC=Ln()?"bottom-end":"bottom-start",DC=Ln()?"bottom-start":"bottom-end",MC=Ln()?"left-start":"right-start",LC=Ln()?"right-start":"left-start",PC="top",BC="bottom",kC={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},FC={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rr extends jn{constructor(n,s){super(n,s),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,Ko)[0]||Pe.prev(this._element,Ko)[0]||Pe.findOne(Ko,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return kC}static get DefaultType(){return FC}static get NAME(){return O1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Gr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!ce.trigger(this._element,xC,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SC))for(const a of[].concat(...document.body.children))ce.on(a,"mouseover",ua);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(js),this._element.classList.add(js),ce.trigger(this._element,_C,n)}}hide(){if(Gr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!ce.trigger(this._element,pC,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ce.off(a,"mouseover",ua);this._popper&&this._popper.destroy(),this._menu.classList.remove(js),this._element.classList.remove(js),this._element.setAttribute("aria-expanded","false"),gr.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,mC,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!dr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${O1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof T0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=this._parent:dr(this._config.reference)?n=$r(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const s=this._getPopperConfig();this._popper=pu(n,this._menu,s)}_isShown(){return this._menu.classList.contains(js)}_getPlacement(){const n=this._parent;if(n.classList.contains(bC))return MC;if(n.classList.contains(AC))return LC;if(n.classList.contains(yC))return PC;if(n.classList.contains(CC))return BC;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(wC)?s?NC:OC:s?DC:RC}_detectNavbar(){return this._element.closest(TC)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(gr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...dn(this._config.popperConfig,[n])}}_selectMenuItem({key:n,target:s}){const a=Pe.find(IC,this._menu).filter(u=>mi(u));a.length&&mu(a,s,n===R1,!a.includes(s)).focus()}static jQueryInterface(n){return this.each(function(){const s=rr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}static clearMenus(n){if(n.button===gC||n.type==="keyup"&&n.key!==N1)return;const s=Pe.find(vC);for(const a of s){const u=rr.getInstance(a);if(!u||u._config.autoClose===!1)continue;const f=n.composedPath(),d=f.includes(u._menu);if(f.includes(u._element)||u._config.autoClose==="inside"&&!d||u._config.autoClose==="outside"&&d||u._menu.contains(n.target)&&(n.type==="keyup"&&n.key===N1||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const m={relatedTarget:u._element};n.type==="click"&&(m.clickEvent=n),u._completeHide(m)}}static dataApiKeydownHandler(n){const s=/input|textarea/i.test(n.target.tagName),a=n.key===hC,u=[dC,R1].includes(n.key);if(!u&&!a||s&&!a)return;n.preventDefault();const f=this.matches(us)?this:Pe.prev(this,us)[0]||Pe.next(this,us)[0]||Pe.findOne(us,n.delegateTarget.parentNode),d=rr.getOrCreateInstance(f);if(u){n.stopPropagation(),d.show(),d._selectMenuItem(n);return}d._isShown()&&(n.stopPropagation(),d.hide(),f.focus())}}ce.on(document,G0,us,rr.dataApiKeydownHandler);ce.on(document,G0,Ko,rr.dataApiKeydownHandler);ce.on(document,$0,rr.clearMenus);ce.on(document,EC,rr.clearMenus);ce.on(document,$0,us,function(t){t.preventDefault(),rr.getOrCreateInstance(this).toggle()});kn(rr);const X0="backdrop",UC="fade",D1="show",M1=`mousedown.bs.${X0}`,VC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},HC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class j0 extends ho{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return VC}static get DefaultType(){return HC}static get NAME(){return X0}show(n){if(!this._config.isVisible){dn(n);return}this._append();const s=this._getElement();this._config.isAnimated&&fo(s),s.classList.add(D1),this._emulateAnimation(()=>{dn(n)})}hide(n){if(!this._config.isVisible){dn(n);return}this._getElement().classList.remove(D1),this._emulateAnimation(()=>{this.dispose(),dn(n)})}dispose(){this._isAppended&&(ce.off(this._element,M1),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(UC),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=$r(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),ce.on(n,M1,()=>{dn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){R0(n,this._getElement(),this._config.isAnimated)}}const WC="focustrap",$C="bs.focustrap",ha=`.${$C}`,GC=`focusin${ha}`,XC=`keydown.tab${ha}`,jC="Tab",zC="forward",L1="backward",YC={autofocus:!0,trapElement:null},KC={autofocus:"boolean",trapElement:"element"};class z0 extends ho{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return YC}static get DefaultType(){return KC}static get NAME(){return WC}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,ha),ce.on(document,GC,n=>this._handleFocusin(n)),ce.on(document,XC,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,ha))}_handleFocusin(n){const{trapElement:s}=this._config;if(n.target===document||n.target===s||s.contains(n.target))return;const a=Pe.focusableChildren(s);a.length===0?s.focus():this._lastTabNavDirection===L1?a[a.length-1].focus():a[0].focus()}_handleKeydown(n){n.key===jC&&(this._lastTabNavDirection=n.shiftKey?L1:zC)}}const P1=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",B1=".sticky-top",Po="padding-right",k1="margin-right";class vc{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Po,s=>s+n),this._setElementAttributes(P1,Po,s=>s+n),this._setElementAttributes(B1,k1,s=>s-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Po),this._resetElementAttributes(P1,Po),this._resetElementAttributes(B1,k1)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,s,a){const u=this.getWidth(),f=d=>{if(d!==this._element&&window.innerWidth>d.clientWidth+u)return;this._saveInitialAttribute(d,s);const m=window.getComputedStyle(d).getPropertyValue(s);d.style.setProperty(s,`${a(Number.parseFloat(m))}px`)};this._applyManipulationCallback(n,f)}_saveInitialAttribute(n,s){const a=n.style.getPropertyValue(s);a&&gr.setDataAttribute(n,s,a)}_resetElementAttributes(n,s){const a=u=>{const f=gr.getDataAttribute(u,s);if(f===null){u.style.removeProperty(s);return}gr.removeDataAttribute(u,s),u.style.setProperty(s,f)};this._applyManipulationCallback(n,a)}_applyManipulationCallback(n,s){if(dr(n)){s(n);return}for(const a of Pe.find(n,this._element))s(a)}}const qC="modal",ZC="bs.modal",Pn=`.${ZC}`,QC=".data-api",JC="Escape",ev=`hide${Pn}`,tv=`hidePrevented${Pn}`,Y0=`hidden${Pn}`,K0=`show${Pn}`,nv=`shown${Pn}`,rv=`resize${Pn}`,sv=`click.dismiss${Pn}`,iv=`mousedown.dismiss${Pn}`,ov=`keydown.dismiss${Pn}`,av=`click${Pn}${QC}`,F1="modal-open",lv="fade",U1="show",Bl="modal-static",cv=".modal.show",uv=".modal-dialog",fv=".modal-body",hv='[data-bs-toggle="modal"]',dv={backdrop:!0,focus:!0,keyboard:!0},gv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ui extends jn{constructor(n,s){super(n,s),this._dialog=Pe.findOne(uv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new vc,this._addEventListeners()}static get Default(){return dv}static get DefaultType(){return gv}static get NAME(){return qC}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||ce.trigger(this._element,K0,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(F1),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||ce.trigger(this._element,ev).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(U1),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ce.off(window,Pn),ce.off(this._dialog,Pn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new j0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new z0({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=Pe.findOne(fv,this._dialog);s&&(s.scrollTop=0),fo(this._element),this._element.classList.add(U1);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,nv,{relatedTarget:n})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,ov,n=>{if(n.key===JC){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ce.on(window,rv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,iv,n=>{ce.one(this._element,sv,s=>{if(!(this._element!==n.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(F1),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,Y0)})}_isAnimated(){return this._element.classList.contains(lv)}_triggerBackdropTransition(){if(ce.trigger(this._element,tv).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(Bl)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(Bl),this._queueCallback(()=>{this._element.classList.remove(Bl),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),a=s>0;if(a&&!n){const u=Ln()?"paddingLeft":"paddingRight";this._element.style[u]=`${s}px`}if(!a&&n){const u=Ln()?"paddingRight":"paddingLeft";this._element.style[u]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,s){return this.each(function(){const a=ui.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n](s)}})}}ce.on(document,av,hv,function(t){const n=Pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ce.one(n,K0,u=>{u.defaultPrevented||ce.one(n,Y0,()=>{mi(this)&&this.focus()})});const s=Pe.findOne(cv);s&&ui.getInstance(s).hide(),ui.getOrCreateInstance(n).toggle(this)});Ha(ui);kn(ui);const pv="offcanvas",mv="bs.offcanvas",xr=`.${mv}`,q0=".data-api",xv=`load${xr}${q0}`,_v="Escape",V1="show",H1="showing",W1="hiding",Ev="offcanvas-backdrop",Z0=".offcanvas.show",wv=`show${xr}`,bv=`shown${xr}`,Av=`hide${xr}`,$1=`hidePrevented${xr}`,Q0=`hidden${xr}`,yv=`resize${xr}`,Cv=`click${xr}${q0}`,vv=`keydown.dismiss${xr}`,Tv='[data-bs-toggle="offcanvas"]',Sv={backdrop:!0,keyboard:!0,scroll:!1},Iv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xr extends jn{constructor(n,s){super(n,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Sv}static get DefaultType(){return Iv}static get NAME(){return pv}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||ce.trigger(this._element,wv,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new vc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(H1);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(V1),this._element.classList.remove(H1),ce.trigger(this._element,bv,{relatedTarget:n})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||ce.trigger(this._element,Av).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(W1),this._backdrop.hide();const s=()=>{this._element.classList.remove(V1,W1),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new vc().reset(),ce.trigger(this._element,Q0)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){ce.trigger(this._element,$1);return}this.hide()},s=!!this._config.backdrop;return new j0({className:Ev,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?n:null})}_initializeFocusTrap(){return new z0({trapElement:this._element})}_addEventListeners(){ce.on(this._element,vv,n=>{if(n.key===_v){if(this._config.keyboard){this.hide();return}ce.trigger(this._element,$1)}})}static jQueryInterface(n){return this.each(function(){const s=Xr.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}ce.on(document,Cv,Tv,function(t){const n=Pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Gr(this))return;ce.one(n,Q0,()=>{mi(this)&&this.focus()});const s=Pe.findOne(Z0);s&&s!==n&&Xr.getInstance(s).hide(),Xr.getOrCreateInstance(n).toggle(this)});ce.on(window,xv,()=>{for(const t of Pe.find(Z0))Xr.getOrCreateInstance(t).show()});ce.on(window,yv,()=>{for(const t of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Xr.getOrCreateInstance(t).hide()});Ha(Xr);kn(Xr);const Ov=/^aria-[\w-]*$/i,J0={"*":["class","dir","id","lang","role",Ov],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Nv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Rv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Dv=(t,n)=>{const s=t.nodeName.toLowerCase();return n.includes(s)?Nv.has(s)?!!Rv.test(t.nodeValue):!0:n.filter(a=>a instanceof RegExp).some(a=>a.test(s))};function Mv(t,n,s){if(!t.length)return t;if(s&&typeof s=="function")return s(t);const u=new window.DOMParser().parseFromString(t,"text/html"),f=[].concat(...u.body.querySelectorAll("*"));for(const d of f){const m=d.nodeName.toLowerCase();if(!Object.keys(n).includes(m)){d.remove();continue}const _=[].concat(...d.attributes),x=[].concat(n["*"]||[],n[m]||[]);for(const E of _)Dv(E,x)||d.removeAttribute(E.nodeName)}return u.body.innerHTML}const Lv="TemplateFactory",Pv={allowList:J0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},kv={entry:"(string|element|function|null)",selector:"(string|element)"};class Fv extends ho{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Pv}static get DefaultType(){return Bv}static get NAME(){return Lv}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[u,f]of Object.entries(this._config.content))this._setContent(n,f,u);const s=n.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&s.classList.add(...a.split(" ")),s}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[s,a]of Object.entries(n))super._typeCheckConfig({selector:s,entry:a},kv)}_setContent(n,s,a){const u=Pe.findOne(a,n);if(u){if(s=this._resolvePossibleFunction(s),!s){u.remove();return}if(dr(s)){this._putElementInTemplate($r(s),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(s);return}u.textContent=s}}_maybeSanitize(n){return this._config.sanitize?Mv(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return dn(n,[this])}_putElementInTemplate(n,s){if(this._config.html){s.innerHTML="",s.append(n);return}s.textContent=n.textContent}}const Uv="tooltip",Vv=new Set(["sanitize","allowList","sanitizeFn"]),kl="fade",Hv="modal",Bo="show",Wv=".tooltip-inner",G1=`.${Hv}`,X1="hide.bs.modal",Li="hover",Fl="focus",$v="click",Gv="manual",Xv="hide",jv="hidden",zv="show",Yv="shown",Kv="inserted",qv="click",Zv="focusin",Qv="focusout",Jv="mouseenter",e8="mouseleave",t8={AUTO:"auto",TOP:"top",RIGHT:Ln()?"left":"right",BOTTOM:"bottom",LEFT:Ln()?"right":"left"},n8={allowList:J0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},r8={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _i extends jn{constructor(n,s){if(typeof T0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return n8}static get DefaultType(){return r8}static get NAME(){return Uv}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(G1),X1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=ce.trigger(this._element,this.constructor.eventName(zv)),a=(O0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!a)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:f}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(u),ce.trigger(this._element,this.constructor.eventName(Kv))),this._popper=this._createPopper(u),u.classList.add(Bo),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))ce.on(m,"mouseover",ua);const d=()=>{ce.trigger(this._element,this.constructor.eventName(Yv)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(d,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ce.trigger(this._element,this.constructor.eventName(Xv)).defaultPrevented)return;if(this._getTipElement().classList.remove(Bo),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))ce.off(u,"mouseover",ua);this._activeTrigger[$v]=!1,this._activeTrigger[Fl]=!1,this._activeTrigger[Li]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName(jv)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const s=this._getTemplateFactory(n).toHtml();if(!s)return null;s.classList.remove(kl,Bo),s.classList.add(`bs-${this.constructor.NAME}-auto`);const a=$3(this.constructor.NAME).toString();return s.setAttribute("id",a),this._isAnimated()&&s.classList.add(kl),s}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Fv({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Wv]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kl)}_isShown(){return this.tip&&this.tip.classList.contains(Bo)}_createPopper(n){const s=dn(this._config.placement,[this,n,this._element]),a=t8[s.toUpperCase()];return pu(this._element,n,this._getPopperConfig(a))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_resolvePossibleFunction(n){return dn(n,[this._element])}_getPopperConfig(n){const s={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...s,...dn(this._config.popperConfig,[s])}}_setListeners(){const n=this._config.trigger.split(" ");for(const s of n)if(s==="click")ce.on(this._element,this.constructor.eventName(qv),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(s!==Gv){const a=s===Li?this.constructor.eventName(Jv):this.constructor.eventName(Zv),u=s===Li?this.constructor.eventName(e8):this.constructor.eventName(Qv);ce.on(this._element,a,this._config.selector,f=>{const d=this._initializeOnDelegatedTarget(f);d._activeTrigger[f.type==="focusin"?Fl:Li]=!0,d._enter()}),ce.on(this._element,u,this._config.selector,f=>{const d=this._initializeOnDelegatedTarget(f);d._activeTrigger[f.type==="focusout"?Fl:Li]=d._element.contains(f.relatedTarget),d._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(G1),X1,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,s){clearTimeout(this._timeout),this._timeout=setTimeout(n,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const s=gr.getDataAttributes(this._element);for(const a of Object.keys(s))Vv.has(a)&&delete s[a];return n={...s,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:$r(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[s,a]of Object.entries(this._config))this.constructor.Default[s]!==a&&(n[s]=a);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const s=_i.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}kn(_i);const s8="popover",i8=".popover-header",o8=".popover-body",a8={..._i.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},l8={..._i.DefaultType,content:"(null|string|element|function)"};class Eu extends _i{static get Default(){return a8}static get DefaultType(){return l8}static get NAME(){return s8}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[i8]:this._getTitle(),[o8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const s=Eu.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}kn(Eu);const c8="scrollspy",u8="bs.scrollspy",wu=`.${u8}`,f8=".data-api",h8=`activate${wu}`,j1=`click${wu}`,d8=`load${wu}${f8}`,g8="dropdown-item",Ws="active",p8='[data-bs-spy="scroll"]',Ul="[href]",m8=".nav, .list-group",z1=".nav-link",x8=".nav-item",_8=".list-group-item",E8=`${z1}, ${x8} > ${z1}, ${_8}`,w8=".dropdown",b8=".dropdown-toggle",A8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},y8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ga extends jn{constructor(n,s){super(n,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return A8}static get DefaultType(){return y8}static get NAME(){return c8}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=$r(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(s=>Number.parseFloat(s))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,j1),ce.on(this._config.target,j1,Ul,n=>{const s=this._observableSections.get(n.target.hash);if(s){n.preventDefault();const a=this._rootElement||window,u=s.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:u,behavior:"smooth"});return}a.scrollTop=u}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),n)}_observerCallback(n){const s=d=>this._targetLinks.get(`#${d.target.id}`),a=d=>{this._previousScrollData.visibleEntryTop=d.target.offsetTop,this._process(s(d))},u=(this._rootElement||document.documentElement).scrollTop,f=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const d of n){if(!d.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(d));continue}const m=d.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(f&&m){if(a(d),!u)return;continue}!f&&!m&&a(d)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=Pe.find(Ul,this._config.target);for(const s of n){if(!s.hash||Gr(s))continue;const a=Pe.findOne(decodeURI(s.hash),this._element);mi(a)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,a))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Ws),this._activateParents(n),ce.trigger(this._element,h8,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(g8)){Pe.findOne(b8,n.closest(w8)).classList.add(Ws);return}for(const s of Pe.parents(n,m8))for(const a of Pe.prev(s,E8))a.classList.add(Ws)}_clearActiveClass(n){n.classList.remove(Ws);const s=Pe.find(`${Ul}.${Ws}`,n);for(const a of s)a.classList.remove(Ws)}static jQueryInterface(n){return this.each(function(){const s=Ga.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(window,d8,()=>{for(const t of Pe.find(p8))Ga.getOrCreateInstance(t)});kn(Ga);const C8="tab",v8="bs.tab",Os=`.${v8}`,T8=`hide${Os}`,S8=`hidden${Os}`,I8=`show${Os}`,O8=`shown${Os}`,N8=`click${Os}`,R8=`keydown${Os}`,D8=`load${Os}`,M8="ArrowLeft",Y1="ArrowRight",L8="ArrowUp",K1="ArrowDown",Vl="Home",q1="End",fs="active",Z1="fade",Hl="show",P8="dropdown",eg=".dropdown-toggle",B8=".dropdown-menu",Wl=`:not(${eg})`,k8='.list-group, .nav, [role="tablist"]',F8=".nav-item, .list-group-item",U8=`.nav-link${Wl}, .list-group-item${Wl}, [role="tab"]${Wl}`,tg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',$l=`${U8}, ${tg}`,V8=`.${fs}[data-bs-toggle="tab"], .${fs}[data-bs-toggle="pill"], .${fs}[data-bs-toggle="list"]`;class fi extends jn{constructor(n){super(n),this._parent=this._element.closest(k8),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,R8,s=>this._keydown(s)))}static get NAME(){return C8}show(){const n=this._element;if(this._elemIsActive(n))return;const s=this._getActiveElem(),a=s?ce.trigger(s,T8,{relatedTarget:n}):null;ce.trigger(n,I8,{relatedTarget:s}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(s,n),this._activate(n,s))}_activate(n,s){if(!n)return;n.classList.add(fs),this._activate(Pe.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Hl);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),ce.trigger(n,O8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(Z1))}_deactivate(n,s){if(!n)return;n.classList.remove(fs),n.blur(),this._deactivate(Pe.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Hl);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),ce.trigger(n,S8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(Z1))}_keydown(n){if(![M8,Y1,L8,K1,Vl,q1].includes(n.key))return;n.stopPropagation(),n.preventDefault();const s=this._getChildren().filter(u=>!Gr(u));let a;if([Vl,q1].includes(n.key))a=s[n.key===Vl?0:s.length-1];else{const u=[Y1,K1].includes(n.key);a=mu(s,n.target,u,!0)}a&&(a.focus({preventScroll:!0}),fi.getOrCreateInstance(a).show())}_getChildren(){return Pe.find($l,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,s){this._setAttributeIfNotExists(n,"role","tablist");for(const a of s)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const s=this._elemIsActive(n),a=this._getOuterElement(n);n.setAttribute("aria-selected",s),a!==n&&this._setAttributeIfNotExists(a,"role","presentation"),s||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const s=Pe.getElementFromSelector(n);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,s){const a=this._getOuterElement(n);if(!a.classList.contains(P8))return;const u=(f,d)=>{const m=Pe.findOne(f,a);m&&m.classList.toggle(d,s)};u(eg,fs),u(B8,Hl),a.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(n,s,a){n.hasAttribute(s)||n.setAttribute(s,a)}_elemIsActive(n){return n.classList.contains(fs)}_getInnerElement(n){return n.matches($l)?n:Pe.findOne($l,n)}_getOuterElement(n){return n.closest(F8)||n}static jQueryInterface(n){return this.each(function(){const s=fi.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(document,N8,tg,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Gr(this)&&fi.getOrCreateInstance(this).show()});ce.on(window,D8,()=>{for(const t of Pe.find(V8))fi.getOrCreateInstance(t)});kn(fi);const H8="toast",W8="bs.toast",Zr=`.${W8}`,$8=`mouseover${Zr}`,G8=`mouseout${Zr}`,X8=`focusin${Zr}`,j8=`focusout${Zr}`,z8=`hide${Zr}`,Y8=`hidden${Zr}`,K8=`show${Zr}`,q8=`shown${Zr}`,Z8="fade",Q1="hide",ko="show",Fo="showing",Q8={animation:"boolean",autohide:"boolean",delay:"number"},J8={animation:!0,autohide:!0,delay:5e3};class Xa extends jn{constructor(n,s){super(n,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return J8}static get DefaultType(){return Q8}static get NAME(){return H8}show(){if(ce.trigger(this._element,K8).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Z8);const s=()=>{this._element.classList.remove(Fo),ce.trigger(this._element,q8),this._maybeScheduleHide()};this._element.classList.remove(Q1),fo(this._element),this._element.classList.add(ko,Fo),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||ce.trigger(this._element,z8).defaultPrevented)return;const s=()=>{this._element.classList.add(Q1),this._element.classList.remove(Fo,ko),ce.trigger(this._element,Y8)};this._element.classList.add(Fo),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ko),super.dispose()}isShown(){return this._element.classList.contains(ko)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,s){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const a=n.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,$8,n=>this._onInteraction(n,!0)),ce.on(this._element,G8,n=>this._onInteraction(n,!1)),ce.on(this._element,X8,n=>this._onInteraction(n,!0)),ce.on(this._element,j8,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const s=Xa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ha(Xa);kn(Xa);/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2024 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const t=()=>localStorage.getItem("theme"),n=f=>localStorage.setItem("theme",f),s=()=>{const f=t();return f||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},a=f=>{f==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",f)};a(s());const u=(f,d=!1)=>{const m=document.querySelector("#bd-theme");if(!m)return;const _=document.querySelector("#bd-theme-text"),x=document.querySelector(".theme-icon-active use"),E=document.querySelector(`[data-bs-theme-value="${f}"]`),b=E.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(I=>{I.classList.remove("active"),I.setAttribute("aria-pressed","false")}),E.classList.add("active"),E.setAttribute("aria-pressed","true"),x.setAttribute("href",b);const v=`${_.textContent} (${E.dataset.bsThemeValue})`;m.setAttribute("aria-label",v),d&&m.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const f=t();f!=="light"&&f!=="dark"&&a(s())}),window.addEventListener("DOMContentLoaded",()=>{u(s()),document.querySelectorAll("[data-bs-theme-value]").forEach(f=>{f.addEventListener("click",()=>{const d=f.getAttribute("data-bs-theme-value");n(d),a(d),u(d,!0)})})})})();const e4=wx(),bu=h2(bE);bu.use(t0);bu.use(e4);bu.mount("#app");
