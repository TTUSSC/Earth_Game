function Mg(t,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in t)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(t,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sc(t,n){const s=new Set(t.split(","));return a=>s.has(a)}const yt={},qs=[],Rn=()=>{},Lg=()=>!1,ma=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ic=t=>t.startsWith("onUpdate:"),Gt=Object.assign,Oc=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},Pg=Object.prototype.hasOwnProperty,ot=(t,n)=>Pg.call(t,n),Me=Array.isArray,Zs=t=>ro(t)==="[object Map]",di=t=>ro(t)==="[object Set]",Vu=t=>ro(t)==="[object Date]",Ge=t=>typeof t=="function",kt=t=>typeof t=="string",ir=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object",ed=t=>(xt(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),td=Object.prototype.toString,ro=t=>td.call(t),Bg=t=>ro(t).slice(8,-1),nd=t=>ro(t)==="[object Object]",Nc=t=>kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ki=Sc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xa=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},kg=/-(\w)/g,$n=xa(t=>t.replace(kg,(n,s)=>s?s.toUpperCase():"")),Fg=/\B([A-Z])/g,Ss=xa(t=>t.replace(Fg,"-$1").toLowerCase()),_a=xa(t=>t.charAt(0).toUpperCase()+t.slice(1)),hl=xa(t=>t?`on${_a(t)}`:""),Hr=(t,n)=>!Object.is(t,n),Ho=(t,...n)=>{for(let s=0;s<t.length;s++)t[s](...n)},rd=(t,n,s,a=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:a,value:s})},Qo=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Ug=t=>{const n=kt(t)?Number(t):NaN;return isNaN(n)?t:n};let Hu;const sd=()=>Hu||(Hu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ei(t){if(Me(t)){const n={};for(let s=0;s<t.length;s++){const a=t[s],u=kt(a)?$g(a):ei(a);if(u)for(const f in u)n[f]=u[f]}return n}else if(kt(t)||xt(t))return t}const Vg=/;(?![^(]*\))/g,Hg=/:([^]+)/,Wg=/\/\*[^]*?\*\//g;function $g(t){const n={};return t.replace(Wg,"").split(Vg).forEach(s=>{if(s){const a=s.split(Hg);a.length>1&&(n[a[0].trim()]=a[1].trim())}}),n}function tt(t){let n="";if(kt(t))n=t;else if(Me(t))for(let s=0;s<t.length;s++){const a=tt(t[s]);a&&(n+=a+" ")}else if(xt(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}const Gg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xg=Sc(Gg);function id(t){return!!t||t===""}function jg(t,n){if(t.length!==n.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=so(t[a],n[a]);return s}function so(t,n){if(t===n)return!0;let s=Vu(t),a=Vu(n);if(s||a)return s&&a?t.getTime()===n.getTime():!1;if(s=ir(t),a=ir(n),s||a)return t===n;if(s=Me(t),a=Me(n),s||a)return s&&a?jg(t,n):!1;if(s=xt(t),a=xt(n),s||a){if(!s||!a)return!1;const u=Object.keys(t).length,f=Object.keys(n).length;if(u!==f)return!1;for(const h in t){const m=t.hasOwnProperty(h),_=n.hasOwnProperty(h);if(m&&!_||!m&&_||!so(t[h],n[h]))return!1}}return String(t)===String(n)}function Rc(t,n){return t.findIndex(s=>so(s,n))}const od=t=>!!(t&&t.__v_isRef===!0),We=t=>kt(t)?t:t==null?"":Me(t)||xt(t)&&(t.toString===td||!Ge(t.toString))?od(t)?We(t.value):JSON.stringify(t,ad,2):String(t),ad=(t,n)=>od(n)?ad(t,n.value):Zs(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[a,u],f)=>(s[gl(a,f)+" =>"]=u,s),{})}:di(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>gl(s))}:ir(n)?gl(n):xt(n)&&!Me(n)&&!nd(n)?String(n):n,gl=(t,n="")=>{var s;return ir(t)?`Symbol(${(s=t.description)!=null?s:n})`:t};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;class ld{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=En,!n&&En&&(this.index=(En.scopes||(En.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=En;try{return En=this,n()}finally{En=s}}}on(){En=this}off(){En=this.parent}stop(n){if(this._active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function cd(t){return new ld(t)}function zg(t,n=En){n&&n.active&&n.effects.push(t)}function ud(){return En}function Yg(t){En&&En.cleanups.push(t)}let ms;class Dc{constructor(n,s,a,u){this.fn=n,this.trigger=s,this.scheduler=a,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,zg(this,u)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,zr();for(let n=0;n<this._depsLength;n++){const s=this.deps[n];if(s.computed&&(Kg(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Yr()}return this._dirtyLevel>=4}set dirty(n){this._dirtyLevel=n?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=Ur,s=ms;try{return Ur=!0,ms=this,this._runnings++,Wu(this),this.fn()}finally{$u(this),this._runnings--,ms=s,Ur=n}}stop(){this.active&&(Wu(this),$u(this),this.onStop&&this.onStop(),this.active=!1)}}function Kg(t){return t.value}function Wu(t){t._trackId++,t._depsLength=0}function $u(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)fd(t.deps[n],t);t.deps.length=t._depsLength}}function fd(t,n){const s=t.get(n);s!==void 0&&n._trackId!==s&&(t.delete(n),t.size===0&&t.cleanup())}let Ur=!0,jl=0;const dd=[];function zr(){dd.push(Ur),Ur=!1}function Yr(){const t=dd.pop();Ur=t===void 0?!0:t}function Mc(){jl++}function Lc(){for(jl--;!jl&&zl.length;)zl.shift()()}function hd(t,n,s){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const a=t.deps[t._depsLength];a!==n?(a&&fd(a,t),t.deps[t._depsLength++]=n):t._depsLength++}}const zl=[];function gd(t,n,s){Mc();for(const a of t.keys()){let u;a._dirtyLevel<n&&(u??(u=t.get(a)===a._trackId))&&(a._shouldSchedule||(a._shouldSchedule=a._dirtyLevel===0),a._dirtyLevel=n),a._shouldSchedule&&(u??(u=t.get(a)===a._trackId))&&(a.trigger(),(!a._runnings||a.allowRecurse)&&a._dirtyLevel!==2&&(a._shouldSchedule=!1,a.scheduler&&zl.push(a.scheduler)))}Lc()}const pd=(t,n)=>{const s=new Map;return s.cleanup=t,s.computed=n,s},Jo=new WeakMap,xs=Symbol(""),Yl=Symbol("");function mn(t,n,s){if(Ur&&ms){let a=Jo.get(t);a||Jo.set(t,a=new Map);let u=a.get(s);u||a.set(s,u=pd(()=>a.delete(s))),hd(ms,u)}}function fr(t,n,s,a,u,f){const h=Jo.get(t);if(!h)return;let m=[];if(n==="clear")m=[...h.values()];else if(s==="length"&&Me(t)){const _=Number(a);h.forEach((x,E)=>{(E==="length"||!ir(E)&&E>=_)&&m.push(x)})}else switch(s!==void 0&&m.push(h.get(s)),n){case"add":Me(t)?Nc(s)&&m.push(h.get("length")):(m.push(h.get(xs)),Zs(t)&&m.push(h.get(Yl)));break;case"delete":Me(t)||(m.push(h.get(xs)),Zs(t)&&m.push(h.get(Yl)));break;case"set":Zs(t)&&m.push(h.get(xs));break}Mc();for(const _ of m)_&&gd(_,4);Lc()}function qg(t,n){const s=Jo.get(t);return s&&s.get(n)}const Zg=Sc("__proto__,__v_isRef,__isVue"),md=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ir)),Gu=Qg();function Qg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const a=at(this);for(let f=0,h=this.length;f<h;f++)mn(a,"get",f+"");const u=a[n](...s);return u===-1||u===!1?a[n](...s.map(at)):u}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){zr(),Mc();const a=at(this)[n].apply(this,s);return Lc(),Yr(),a}}),t}function Jg(t){ir(t)||(t=String(t));const n=at(this);return mn(n,"has",t),n.hasOwnProperty(t)}class xd{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,a){const u=this._isReadonly,f=this._isShallow;if(s==="__v_isReactive")return!u;if(s==="__v_isReadonly")return u;if(s==="__v_isShallow")return f;if(s==="__v_raw")return a===(u?f?dp:bd:f?wd:Ed).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(a)?n:void 0;const h=Me(n);if(!u){if(h&&ot(Gu,s))return Reflect.get(Gu,s,a);if(s==="hasOwnProperty")return Jg}const m=Reflect.get(n,s,a);return(ir(s)?md.has(s):Zg(s))||(u||mn(n,"get",s),f)?m:rt(m)?h&&Nc(s)?m:m.value:xt(m)?u?yd(m):io(m):m}}class _d extends xd{constructor(n=!1){super(!1,n)}set(n,s,a,u){let f=n[s];if(!this._isShallow){const _=As(f);if(!ti(a)&&!As(a)&&(f=at(f),a=at(a)),!Me(n)&&rt(f)&&!rt(a))return _?!1:(f.value=a,!0)}const h=Me(n)&&Nc(s)?Number(s)<n.length:ot(n,s),m=Reflect.set(n,s,a,u);return n===at(u)&&(h?Hr(a,f)&&fr(n,"set",s,a):fr(n,"add",s,a)),m}deleteProperty(n,s){const a=ot(n,s);n[s];const u=Reflect.deleteProperty(n,s);return u&&a&&fr(n,"delete",s,void 0),u}has(n,s){const a=Reflect.has(n,s);return(!ir(s)||!md.has(s))&&mn(n,"has",s),a}ownKeys(n){return mn(n,"iterate",Me(n)?"length":xs),Reflect.ownKeys(n)}}class ep extends xd{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const tp=new _d,np=new ep,rp=new _d(!0);const Pc=t=>t,Ea=t=>Reflect.getPrototypeOf(t);function So(t,n,s=!1,a=!1){t=t.__v_raw;const u=at(t),f=at(n);s||(Hr(n,f)&&mn(u,"get",n),mn(u,"get",f));const{has:h}=Ea(u),m=a?Pc:s?Uc:ji;if(h.call(u,n))return m(t.get(n));if(h.call(u,f))return m(t.get(f));t!==u&&t.get(n)}function Io(t,n=!1){const s=this.__v_raw,a=at(s),u=at(t);return n||(Hr(t,u)&&mn(a,"has",t),mn(a,"has",u)),t===u?s.has(t):s.has(t)||s.has(u)}function Oo(t,n=!1){return t=t.__v_raw,!n&&mn(at(t),"iterate",xs),Reflect.get(t,"size",t)}function Xu(t,n=!1){!n&&!ti(t)&&!As(t)&&(t=at(t));const s=at(this);return Ea(s).has.call(s,t)||(s.add(t),fr(s,"add",t,t)),this}function ju(t,n,s=!1){!s&&!ti(n)&&!As(n)&&(n=at(n));const a=at(this),{has:u,get:f}=Ea(a);let h=u.call(a,t);h||(t=at(t),h=u.call(a,t));const m=f.call(a,t);return a.set(t,n),h?Hr(n,m)&&fr(a,"set",t,n):fr(a,"add",t,n),this}function zu(t){const n=at(this),{has:s,get:a}=Ea(n);let u=s.call(n,t);u||(t=at(t),u=s.call(n,t)),a&&a.call(n,t);const f=n.delete(t);return u&&fr(n,"delete",t,void 0),f}function Yu(){const t=at(this),n=t.size!==0,s=t.clear();return n&&fr(t,"clear",void 0,void 0),s}function No(t,n){return function(a,u){const f=this,h=f.__v_raw,m=at(h),_=n?Pc:t?Uc:ji;return!t&&mn(m,"iterate",xs),h.forEach((x,E)=>a.call(u,_(x),_(E),f))}}function Ro(t,n,s){return function(...a){const u=this.__v_raw,f=at(u),h=Zs(f),m=t==="entries"||t===Symbol.iterator&&h,_=t==="keys"&&h,x=u[t](...a),E=s?Pc:n?Uc:ji;return!n&&mn(f,"iterate",_?Yl:xs),{next(){const{value:b,done:v}=x.next();return v?{value:b,done:v}:{value:m?[E(b[0]),E(b[1])]:E(b),done:v}},[Symbol.iterator](){return this}}}}function Tr(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function sp(){const t={get(f){return So(this,f)},get size(){return Oo(this)},has:Io,add:Xu,set:ju,delete:zu,clear:Yu,forEach:No(!1,!1)},n={get(f){return So(this,f,!1,!0)},get size(){return Oo(this)},has:Io,add(f){return Xu.call(this,f,!0)},set(f,h){return ju.call(this,f,h,!0)},delete:zu,clear:Yu,forEach:No(!1,!0)},s={get(f){return So(this,f,!0)},get size(){return Oo(this,!0)},has(f){return Io.call(this,f,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:No(!0,!1)},a={get(f){return So(this,f,!0,!0)},get size(){return Oo(this,!0)},has(f){return Io.call(this,f,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:No(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=Ro(f,!1,!1),s[f]=Ro(f,!0,!1),n[f]=Ro(f,!1,!0),a[f]=Ro(f,!0,!0)}),[t,s,n,a]}const[ip,op,ap,lp]=sp();function Bc(t,n){const s=n?t?lp:ap:t?op:ip;return(a,u,f)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?a:Reflect.get(ot(s,u)&&u in a?s:a,u,f)}const cp={get:Bc(!1,!1)},up={get:Bc(!1,!0)},fp={get:Bc(!0,!1)};const Ed=new WeakMap,wd=new WeakMap,bd=new WeakMap,dp=new WeakMap;function hp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gp(t){return t.__v_skip||!Object.isExtensible(t)?0:hp(Bg(t))}function io(t){return As(t)?t:kc(t,!1,tp,cp,Ed)}function Ad(t){return kc(t,!1,rp,up,wd)}function yd(t){return kc(t,!0,np,fp,bd)}function kc(t,n,s,a,u){if(!xt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const f=u.get(t);if(f)return f;const h=gp(t);if(h===0)return t;const m=new Proxy(t,h===2?a:s);return u.set(t,m),m}function _s(t){return As(t)?_s(t.__v_raw):!!(t&&t.__v_isReactive)}function As(t){return!!(t&&t.__v_isReadonly)}function ti(t){return!!(t&&t.__v_isShallow)}function Cd(t){return t?!!t.__v_raw:!1}function at(t){const n=t&&t.__v_raw;return n?at(n):t}function Fc(t){return Object.isExtensible(t)&&rd(t,"__v_skip",!0),t}const ji=t=>xt(t)?io(t):t,Uc=t=>xt(t)?yd(t):t;class vd{constructor(n,s,a,u){this.getter=n,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Dc(()=>n(this._value),()=>Wo(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=a}get value(){const n=at(this);return(!n._cacheable||n.effect.dirty)&&Hr(n._value,n._value=n.effect.run())&&Wo(n,4),Td(n),n.effect._dirtyLevel>=2&&Wo(n,2),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function pp(t,n,s=!1){let a,u;const f=Ge(t);return f?(a=t,u=Rn):(a=t.get,u=t.set),new vd(a,u,f||!u,s)}function Td(t){var n;Ur&&ms&&(t=at(t),hd(ms,(n=t.dep)!=null?n:t.dep=pd(()=>t.dep=void 0,t instanceof vd?t:void 0)))}function Wo(t,n=4,s,a){t=at(t);const u=t.dep;u&&gd(u,n)}function rt(t){return!!(t&&t.__v_isRef===!0)}function ye(t){return Sd(t,!1)}function mp(t){return Sd(t,!0)}function Sd(t,n){return rt(t)?t:new xp(t,n)}class xp{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:at(n),this._value=s?n:ji(n)}get value(){return Td(this),this._value}set value(n){const s=this.__v_isShallow||ti(n)||As(n);n=s?n:at(n),Hr(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=s?n:ji(n),Wo(this,4))}}function we(t){return rt(t)?t.value:t}const _p={get:(t,n,s)=>we(Reflect.get(t,n,s)),set:(t,n,s,a)=>{const u=t[n];return rt(u)&&!rt(s)?(u.value=s,!0):Reflect.set(t,n,s,a)}};function Id(t){return _s(t)?t:new Proxy(t,_p)}function Ep(t){const n=Me(t)?new Array(t.length):{};for(const s in t)n[s]=bp(t,s);return n}class wp{constructor(n,s,a){this._object=n,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return qg(at(this._object),this._key)}}function bp(t,n,s){const a=t[n];return rt(a)?a:new wp(t,n,s)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vr(t,n,s,a){try{return a?t(...a):t()}catch(u){wa(u,n,s)}}function Dn(t,n,s,a){if(Ge(t)){const u=Vr(t,n,s,a);return u&&ed(u)&&u.catch(f=>{wa(f,n,s)}),u}if(Me(t)){const u=[];for(let f=0;f<t.length;f++)u.push(Dn(t[f],n,s,a));return u}}function wa(t,n,s,a=!0){const u=n?n.vnode:null;if(n){let f=n.parent;const h=n.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;f;){const x=f.ec;if(x){for(let E=0;E<x.length;E++)if(x[E](t,h,m)===!1)return}f=f.parent}const _=n.appContext.config.errorHandler;if(_){zr(),Vr(_,null,10,[t,h,m]),Yr();return}}Ap(t,s,u,a)}function Ap(t,n,s,a=!0){console.error(t)}let zi=!1,Kl=!1;const Jt=[];let nr=0;const Qs=[];let Mr=null,ds=0;const Od=Promise.resolve();let Vc=null;function oo(t){const n=Vc||Od;return t?n.then(this?t.bind(this):t):n}function yp(t){let n=nr+1,s=Jt.length;for(;n<s;){const a=n+s>>>1,u=Jt[a],f=Yi(u);f<t||f===t&&u.pre?n=a+1:s=a}return n}function Hc(t){(!Jt.length||!Jt.includes(t,zi&&t.allowRecurse?nr+1:nr))&&(t.id==null?Jt.push(t):Jt.splice(yp(t.id),0,t),Nd())}function Nd(){!zi&&!Kl&&(Kl=!0,Vc=Od.then(Dd))}function Cp(t){const n=Jt.indexOf(t);n>nr&&Jt.splice(n,1)}function vp(t){Me(t)?Qs.push(...t):(!Mr||!Mr.includes(t,t.allowRecurse?ds+1:ds))&&Qs.push(t),Nd()}function Ku(t,n,s=zi?nr+1:0){for(;s<Jt.length;s++){const a=Jt[s];if(a&&a.pre){if(t&&a.id!==t.uid)continue;Jt.splice(s,1),s--,a()}}}function Rd(t){if(Qs.length){const n=[...new Set(Qs)].sort((s,a)=>Yi(s)-Yi(a));if(Qs.length=0,Mr){Mr.push(...n);return}for(Mr=n,ds=0;ds<Mr.length;ds++){const s=Mr[ds];s.active!==!1&&s()}Mr=null,ds=0}}const Yi=t=>t.id==null?1/0:t.id,Tp=(t,n)=>{const s=Yi(t)-Yi(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Dd(t){Kl=!1,zi=!0,Jt.sort(Tp);try{for(nr=0;nr<Jt.length;nr++){const n=Jt[nr];n&&n.active!==!1&&Vr(n,n.i,n.i?15:14)}}finally{nr=0,Jt.length=0,Rd(),zi=!1,Vc=null,(Jt.length||Qs.length)&&Dd()}}let rn=null,ba=null;function ea(t){const n=rn;return rn=t,ba=t&&t.type.__scopeId||null,n}function Kr(t){ba=t}function qr(){ba=null}function ta(t,n=rn,s){if(!n||t._n)return t;const a=(...u)=>{a._d&&cf(-1);const f=ea(n);let h;try{h=t(...u)}finally{ea(f),a._d&&cf(1)}return h};return a._n=!0,a._c=!0,a._d=!0,a}function Bt(t,n){if(rn===null)return t;const s=Ia(rn),a=t.dirs||(t.dirs=[]);for(let u=0;u<n.length;u++){let[f,h,m,_=yt]=n[u];f&&(Ge(f)&&(f={mounted:f,updated:f}),f.deep&&kr(h),a.push({dir:f,instance:s,value:h,oldValue:void 0,arg:m,modifiers:_}))}return t}function ls(t,n,s,a){const u=t.dirs,f=n&&n.dirs;for(let h=0;h<u.length;h++){const m=u[h];f&&(m.oldValue=f[h].value);let _=m.dir[a];_&&(zr(),Dn(_,s,8,[t.el,m,t,n]),Yr())}}const Lr=Symbol("_leaveCb"),Do=Symbol("_enterCb");function Sp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Is(()=>{t.isMounted=!0}),Wc(()=>{t.isUnmounting=!0}),t}const Nn=[Function,Array],Md={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nn,onEnter:Nn,onAfterEnter:Nn,onEnterCancelled:Nn,onBeforeLeave:Nn,onLeave:Nn,onAfterLeave:Nn,onLeaveCancelled:Nn,onBeforeAppear:Nn,onAppear:Nn,onAfterAppear:Nn,onAppearCancelled:Nn},Ld=t=>{const n=t.subTree;return n.component?Ld(n.component):n},Ip={name:"BaseTransition",props:Md,setup(t,{slots:n}){const s=sh(),a=Sp();return()=>{const u=n.default&&Bd(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const v of u)if(v.type!==wn){f=v;break}}const h=at(t),{mode:m}=h;if(a.isLeaving)return pl(f);const _=qu(f);if(!_)return pl(f);let x=ql(_,h,a,s,v=>x=v);na(_,x);const E=s.subTree,b=E&&qu(E);if(b&&b.type!==wn&&!hs(_,b)&&Ld(s).type!==wn){const v=ql(b,h,a,s);if(na(b,v),m==="out-in"&&_.type!==wn)return a.isLeaving=!0,v.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},pl(f);m==="in-out"&&_.type!==wn&&(v.delayLeave=(T,P,R)=>{const z=Pd(a,b);z[String(b.key)]=b,T[Lr]=()=>{P(),T[Lr]=void 0,delete x.delayedLeave},x.delayedLeave=R})}return f}}},Op=Ip;function Pd(t,n){const{leavingVNodes:s}=t;let a=s.get(n.type);return a||(a=Object.create(null),s.set(n.type,a)),a}function ql(t,n,s,a,u){const{appear:f,mode:h,persisted:m=!1,onBeforeEnter:_,onEnter:x,onAfterEnter:E,onEnterCancelled:b,onBeforeLeave:v,onLeave:T,onAfterLeave:P,onLeaveCancelled:R,onBeforeAppear:z,onAppear:ee,onAfterAppear:X,onAppearCancelled:L}=n,Z=String(t.key),se=Pd(s,t),W=(B,xe)=>{B&&Dn(B,a,9,xe)},F=(B,xe)=>{const Ee=xe[1];W(B,xe),Me(B)?B.every($=>$.length<=1)&&Ee():B.length<=1&&Ee()},Q={mode:h,persisted:m,beforeEnter(B){let xe=_;if(!s.isMounted)if(f)xe=z||_;else return;B[Lr]&&B[Lr](!0);const Ee=se[Z];Ee&&hs(t,Ee)&&Ee.el[Lr]&&Ee.el[Lr](),W(xe,[B])},enter(B){let xe=x,Ee=E,$=b;if(!s.isMounted)if(f)xe=ee||x,Ee=X||E,$=L||b;else return;let re=!1;const Re=B[Do]=G=>{re||(re=!0,G?W($,[B]):W(Ee,[B]),Q.delayedLeave&&Q.delayedLeave(),B[Do]=void 0)};xe?F(xe,[B,Re]):Re()},leave(B,xe){const Ee=String(t.key);if(B[Do]&&B[Do](!0),s.isUnmounting)return xe();W(v,[B]);let $=!1;const re=B[Lr]=Re=>{$||($=!0,xe(),Re?W(R,[B]):W(P,[B]),B[Lr]=void 0,se[Ee]===t&&delete se[Ee])};se[Ee]=t,T?F(T,[B,re]):re()},clone(B){const xe=ql(B,n,s,a,u);return u&&u(xe),xe}};return Q}function pl(t){if(Aa(t))return t=Wr(t),t.children=null,t}function qu(t){if(!Aa(t))return t;const{shapeFlag:n,children:s}=t;if(s){if(n&16)return s[0];if(n&32&&Ge(s.default))return s.default()}}function na(t,n){t.shapeFlag&6&&t.component?na(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Bd(t,n=!1,s){let a=[],u=0;for(let f=0;f<t.length;f++){let h=t[f];const m=s==null?h.key:String(s)+String(h.key!=null?h.key:f);h.type===nn?(h.patchFlag&128&&u++,a=a.concat(Bd(h.children,n,m))):(n||h.type!==wn)&&a.push(m!=null?Wr(h,{key:m}):h)}if(u>1)for(let f=0;f<a.length;f++)a[f].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function kd(t,n){return Ge(t)?Gt({name:t.name},n,{setup:t}):t}const $o=t=>!!t.type.__asyncLoader,Aa=t=>t.type.__isKeepAlive;function Np(t,n){Fd(t,"a",n)}function Rp(t,n){Fd(t,"da",n)}function Fd(t,n,s=$t){const a=t.__wdc||(t.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return t()});if(ya(n,a,s),s){let u=s.parent;for(;u&&u.parent;)Aa(u.parent.vnode)&&Dp(a,n,s,u),u=u.parent}}function Dp(t,n,s,a){const u=ya(n,t,a,!0);$c(()=>{Oc(a[n],u)},s)}function ya(t,n,s=$t,a=!1){if(s){const u=s[t]||(s[t]=[]),f=n.__weh||(n.__weh=(...h)=>{zr();const m=ao(s),_=Dn(n,s,t,h);return m(),Yr(),_});return a?u.unshift(f):u.push(f),f}}const mr=t=>(n,s=$t)=>{(!Sa||t==="sp")&&ya(t,(...a)=>n(...a),s)},Mp=mr("bm"),Is=mr("m"),Lp=mr("bu"),Pp=mr("u"),Wc=mr("bum"),$c=mr("um"),Bp=mr("sp"),kp=mr("rtg"),Fp=mr("rtc");function Up(t,n=$t){ya("ec",t,n)}const Vp="components";function Ud(t,n){return Wp(Vp,t,!0,n)||t}const Hp=Symbol.for("v-ndc");function Wp(t,n,s=!0,a=!1){const u=rn||$t;if(u){const f=u.type;{const m=Lm(f,!1);if(m&&(m===n||m===$n(n)||m===_a($n(n))))return f}const h=Zu(u[t]||f[t],n)||Zu(u.appContext[t],n);return!h&&a?f:h}}function Zu(t,n){return t&&(t[n]||t[$n(n)]||t[_a($n(n))])}function Vd(t,n,s,a){let u;const f=s;if(Me(t)||kt(t)){u=new Array(t.length);for(let h=0,m=t.length;h<m;h++)u[h]=n(t[h],h,void 0,f)}else if(typeof t=="number"){u=new Array(t);for(let h=0;h<t;h++)u[h]=n(h+1,h,void 0,f)}else if(xt(t))if(t[Symbol.iterator])u=Array.from(t,(h,m)=>n(h,m,void 0,f));else{const h=Object.keys(t);u=new Array(h.length);for(let m=0,_=h.length;m<_;m++){const x=h[m];u[m]=n(t[x],x,m,f)}}else u=[];return u}const Zl=t=>t?ih(t)?Ia(t):Zl(t.parent):null,Fi=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zl(t.parent),$root:t=>Zl(t.root),$emit:t=>t.emit,$options:t=>Gc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Hc(t.update)}),$nextTick:t=>t.n||(t.n=oo.bind(t.proxy)),$watch:t=>hm.bind(t)}),ml=(t,n)=>t!==yt&&!t.__isScriptSetup&&ot(t,n),$p={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:a,data:u,props:f,accessCache:h,type:m,appContext:_}=t;let x;if(n[0]!=="$"){const T=h[n];if(T!==void 0)switch(T){case 1:return a[n];case 2:return u[n];case 4:return s[n];case 3:return f[n]}else{if(ml(a,n))return h[n]=1,a[n];if(u!==yt&&ot(u,n))return h[n]=2,u[n];if((x=t.propsOptions[0])&&ot(x,n))return h[n]=3,f[n];if(s!==yt&&ot(s,n))return h[n]=4,s[n];Ql&&(h[n]=0)}}const E=Fi[n];let b,v;if(E)return n==="$attrs"&&mn(t.attrs,"get",""),E(t);if((b=m.__cssModules)&&(b=b[n]))return b;if(s!==yt&&ot(s,n))return h[n]=4,s[n];if(v=_.config.globalProperties,ot(v,n))return v[n]},set({_:t},n,s){const{data:a,setupState:u,ctx:f}=t;return ml(u,n)?(u[n]=s,!0):a!==yt&&ot(a,n)?(a[n]=s,!0):ot(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(f[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:a,appContext:u,propsOptions:f}},h){let m;return!!s[h]||t!==yt&&ot(t,h)||ml(n,h)||(m=f[0])&&ot(m,h)||ot(a,h)||ot(Fi,h)||ot(u.config.globalProperties,h)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:ot(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};function Qu(t){return Me(t)?t.reduce((n,s)=>(n[s]=null,n),{}):t}let Ql=!0;function Gp(t){const n=Gc(t),s=t.proxy,a=t.ctx;Ql=!1,n.beforeCreate&&Ju(n.beforeCreate,t,"bc");const{data:u,computed:f,methods:h,watch:m,provide:_,inject:x,created:E,beforeMount:b,mounted:v,beforeUpdate:T,updated:P,activated:R,deactivated:z,beforeDestroy:ee,beforeUnmount:X,destroyed:L,unmounted:Z,render:se,renderTracked:W,renderTriggered:F,errorCaptured:Q,serverPrefetch:B,expose:xe,inheritAttrs:Ee,components:$,directives:re,filters:Re}=n;if(x&&Xp(x,a,null),h)for(const fe in h){const ze=h[fe];Ge(ze)&&(a[fe]=ze.bind(s))}if(u){const fe=u.call(s,s);xt(fe)&&(t.data=io(fe))}if(Ql=!0,f)for(const fe in f){const ze=f[fe],_t=Ge(ze)?ze.bind(s,s):Ge(ze.get)?ze.get.bind(s,s):Rn,Ot=!Ge(ze)&&Ge(ze.set)?ze.set.bind(s):Rn,Xt=Qe({get:_t,set:Ot});Object.defineProperty(a,fe,{enumerable:!0,configurable:!0,get:()=>Xt.value,set:Je=>Xt.value=Je})}if(m)for(const fe in m)Hd(m[fe],a,s,fe);if(_){const fe=Ge(_)?_.call(s):_;Reflect.ownKeys(fe).forEach(ze=>{Go(ze,fe[ze])})}E&&Ju(E,t,"c");function Oe(fe,ze){Me(ze)?ze.forEach(_t=>fe(_t.bind(s))):ze&&fe(ze.bind(s))}if(Oe(Mp,b),Oe(Is,v),Oe(Lp,T),Oe(Pp,P),Oe(Np,R),Oe(Rp,z),Oe(Up,Q),Oe(Fp,W),Oe(kp,F),Oe(Wc,X),Oe($c,Z),Oe(Bp,B),Me(xe))if(xe.length){const fe=t.exposed||(t.exposed={});xe.forEach(ze=>{Object.defineProperty(fe,ze,{get:()=>s[ze],set:_t=>s[ze]=_t})})}else t.exposed||(t.exposed={});se&&t.render===Rn&&(t.render=se),Ee!=null&&(t.inheritAttrs=Ee),$&&(t.components=$),re&&(t.directives=re)}function Xp(t,n,s=Rn){Me(t)&&(t=Jl(t));for(const a in t){const u=t[a];let f;xt(u)?"default"in u?f=Mn(u.from||a,u.default,!0):f=Mn(u.from||a):f=Mn(u),rt(f)?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:h=>f.value=h}):n[a]=f}}function Ju(t,n,s){Dn(Me(t)?t.map(a=>a.bind(n.proxy)):t.bind(n.proxy),n,s)}function Hd(t,n,s,a){const u=a.includes(".")?eh(s,a):()=>s[a];if(kt(t)){const f=n[t];Ge(f)&&Es(u,f)}else if(Ge(t))Es(u,t.bind(s));else if(xt(t))if(Me(t))t.forEach(f=>Hd(f,n,s,a));else{const f=Ge(t.handler)?t.handler.bind(s):n[t.handler];Ge(f)&&Es(u,f,t)}}function Gc(t){const n=t.type,{mixins:s,extends:a}=n,{mixins:u,optionsCache:f,config:{optionMergeStrategies:h}}=t.appContext,m=f.get(n);let _;return m?_=m:!u.length&&!s&&!a?_=n:(_={},u.length&&u.forEach(x=>ra(_,x,h,!0)),ra(_,n,h)),xt(n)&&f.set(n,_),_}function ra(t,n,s,a=!1){const{mixins:u,extends:f}=n;f&&ra(t,f,s,!0),u&&u.forEach(h=>ra(t,h,s,!0));for(const h in n)if(!(a&&h==="expose")){const m=jp[h]||s&&s[h];t[h]=m?m(t[h],n[h]):n[h]}return t}const jp={data:ef,props:tf,emits:tf,methods:Pi,computed:Pi,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:Pi,directives:Pi,watch:Yp,provide:ef,inject:zp};function ef(t,n){return n?t?function(){return Gt(Ge(t)?t.call(this,this):t,Ge(n)?n.call(this,this):n)}:n:t}function zp(t,n){return Pi(Jl(t),Jl(n))}function Jl(t){if(Me(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function tn(t,n){return t?[...new Set([].concat(t,n))]:n}function Pi(t,n){return t?Gt(Object.create(null),t,n):n}function tf(t,n){return t?Me(t)&&Me(n)?[...new Set([...t,...n])]:Gt(Object.create(null),Qu(t),Qu(n??{})):n}function Yp(t,n){if(!t)return n;if(!n)return t;const s=Gt(Object.create(null),t);for(const a in n)s[a]=tn(t[a],n[a]);return s}function Wd(){return{app:null,config:{isNativeTag:Lg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kp=0;function qp(t,n){return function(a,u=null){Ge(a)||(a=Gt({},a)),u!=null&&!xt(u)&&(u=null);const f=Wd(),h=new WeakSet;let m=!1;const _=f.app={_uid:Kp++,_component:a,_props:u,_container:null,_context:f,_instance:null,version:Bm,get config(){return f.config},set config(x){},use(x,...E){return h.has(x)||(x&&Ge(x.install)?(h.add(x),x.install(_,...E)):Ge(x)&&(h.add(x),x(_,...E))),_},mixin(x){return f.mixins.includes(x)||f.mixins.push(x),_},component(x,E){return E?(f.components[x]=E,_):f.components[x]},directive(x,E){return E?(f.directives[x]=E,_):f.directives[x]},mount(x,E,b){if(!m){const v=It(a,u);return v.appContext=f,b===!0?b="svg":b===!1&&(b=void 0),E&&n?n(v,x):t(v,x,b),m=!0,_._container=x,x.__vue_app__=_,Ia(v.component)}},unmount(){m&&(t(null,_._container),delete _._container.__vue_app__)},provide(x,E){return f.provides[x]=E,_},runWithContext(x){const E=Js;Js=_;try{return x()}finally{Js=E}}};return _}}let Js=null;function Go(t,n){if($t){let s=$t.provides;const a=$t.parent&&$t.parent.provides;a===s&&(s=$t.provides=Object.create(a)),s[t]=n}}function Mn(t,n,s=!1){const a=$t||rn;if(a||Js){const u=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:Js._context.provides;if(u&&t in u)return u[t];if(arguments.length>1)return s&&Ge(n)?n.call(a&&a.proxy):n}}function Zp(){return!!($t||rn||Js)}const $d={},Gd=()=>Object.create($d),Xd=t=>Object.getPrototypeOf(t)===$d;function Qp(t,n,s,a=!1){const u={},f=Gd();t.propsDefaults=Object.create(null),jd(t,n,u,f);for(const h in t.propsOptions[0])h in u||(u[h]=void 0);s?t.props=a?u:Ad(u):t.type.props?t.props=u:t.props=f,t.attrs=f}function Jp(t,n,s,a){const{props:u,attrs:f,vnode:{patchFlag:h}}=t,m=at(u),[_]=t.propsOptions;let x=!1;if((a||h>0)&&!(h&16)){if(h&8){const E=t.vnode.dynamicProps;for(let b=0;b<E.length;b++){let v=E[b];if(Ca(t.emitsOptions,v))continue;const T=n[v];if(_)if(ot(f,v))T!==f[v]&&(f[v]=T,x=!0);else{const P=$n(v);u[P]=ec(_,m,P,T,t,!1)}else T!==f[v]&&(f[v]=T,x=!0)}}}else{jd(t,n,u,f)&&(x=!0);let E;for(const b in m)(!n||!ot(n,b)&&((E=Ss(b))===b||!ot(n,E)))&&(_?s&&(s[b]!==void 0||s[E]!==void 0)&&(u[b]=ec(_,m,b,void 0,t,!0)):delete u[b]);if(f!==m)for(const b in f)(!n||!ot(n,b))&&(delete f[b],x=!0)}x&&fr(t.attrs,"set","")}function jd(t,n,s,a){const[u,f]=t.propsOptions;let h=!1,m;if(n)for(let _ in n){if(ki(_))continue;const x=n[_];let E;u&&ot(u,E=$n(_))?!f||!f.includes(E)?s[E]=x:(m||(m={}))[E]=x:Ca(t.emitsOptions,_)||(!(_ in a)||x!==a[_])&&(a[_]=x,h=!0)}if(f){const _=at(s),x=m||yt;for(let E=0;E<f.length;E++){const b=f[E];s[b]=ec(u,_,b,x[b],t,!ot(x,b))}}return h}function ec(t,n,s,a,u,f){const h=t[s];if(h!=null){const m=ot(h,"default");if(m&&a===void 0){const _=h.default;if(h.type!==Function&&!h.skipFactory&&Ge(_)){const{propsDefaults:x}=u;if(s in x)a=x[s];else{const E=ao(u);a=x[s]=_.call(null,n),E()}}else a=_}h[0]&&(f&&!m?a=!1:h[1]&&(a===""||a===Ss(s))&&(a=!0))}return a}const em=new WeakMap;function zd(t,n,s=!1){const a=s?em:n.propsCache,u=a.get(t);if(u)return u;const f=t.props,h={},m=[];let _=!1;if(!Ge(t)){const E=b=>{_=!0;const[v,T]=zd(b,n,!0);Gt(h,v),T&&m.push(...T)};!s&&n.mixins.length&&n.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!f&&!_)return xt(t)&&a.set(t,qs),qs;if(Me(f))for(let E=0;E<f.length;E++){const b=$n(f[E]);nf(b)&&(h[b]=yt)}else if(f)for(const E in f){const b=$n(E);if(nf(b)){const v=f[E],T=h[b]=Me(v)||Ge(v)?{type:v}:Gt({},v);if(T){const P=of(Boolean,T.type),R=of(String,T.type);T[0]=P>-1,T[1]=R<0||P<R,(P>-1||ot(T,"default"))&&m.push(b)}}}const x=[h,m];return xt(t)&&a.set(t,x),x}function nf(t){return t[0]!=="$"&&!ki(t)}function rf(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function sf(t,n){return rf(t)===rf(n)}function of(t,n){return Me(n)?n.findIndex(s=>sf(s,t)):Ge(n)&&sf(n,t)?0:-1}const Yd=t=>t[0]==="_"||t==="$stable",Xc=t=>Me(t)?t.map(tr):[tr(t)],tm=(t,n,s)=>{if(n._n)return n;const a=ta((...u)=>Xc(n(...u)),s);return a._c=!1,a},Kd=(t,n,s)=>{const a=t._ctx;for(const u in t){if(Yd(u))continue;const f=t[u];if(Ge(f))n[u]=tm(u,f,a);else if(f!=null){const h=Xc(f);n[u]=()=>h}}},qd=(t,n)=>{const s=Xc(n);t.slots.default=()=>s},Zd=(t,n,s)=>{for(const a in n)(s||a!=="_")&&(t[a]=n[a])},nm=(t,n,s)=>{const a=t.slots=Gd();if(t.vnode.shapeFlag&32){const u=n._;u?(Zd(a,n,s),s&&rd(a,"_",u,!0)):Kd(n,a)}else n&&qd(t,n)},rm=(t,n,s)=>{const{vnode:a,slots:u}=t;let f=!0,h=yt;if(a.shapeFlag&32){const m=n._;m?s&&m===1?f=!1:Zd(u,n,s):(f=!n.$stable,Kd(n,u)),h=n}else n&&(qd(t,n),h={default:1});if(f)for(const m in u)!Yd(m)&&h[m]==null&&delete u[m]};function tc(t,n,s,a,u=!1){if(Me(t)){t.forEach((v,T)=>tc(v,n&&(Me(n)?n[T]:n),s,a,u));return}if($o(a)&&!u)return;const f=a.shapeFlag&4?Ia(a.component):a.el,h=u?null:f,{i:m,r:_}=t,x=n&&n.r,E=m.refs===yt?m.refs={}:m.refs,b=m.setupState;if(x!=null&&x!==_&&(kt(x)?(E[x]=null,ot(b,x)&&(b[x]=null)):rt(x)&&(x.value=null)),Ge(_))Vr(_,m,12,[h,E]);else{const v=kt(_),T=rt(_);if(v||T){const P=()=>{if(t.f){const R=v?ot(b,_)?b[_]:E[_]:_.value;u?Me(R)&&Oc(R,f):Me(R)?R.includes(f)||R.push(f):v?(E[_]=[f],ot(b,_)&&(b[_]=E[_])):(_.value=[f],t.k&&(E[t.k]=_.value))}else v?(E[_]=h,ot(b,_)&&(b[_]=h)):T&&(_.value=h,t.k&&(E[t.k]=h))};h?(P.id=-1,dn(P,s)):P()}}}const sm=Symbol("_vte"),im=t=>t.__isTeleport,dn=bm;function om(t){return am(t)}function am(t,n){const s=sd();s.__VUE__=!0;const{insert:a,remove:u,patchProp:f,createElement:h,createText:m,createComment:_,setText:x,setElementText:E,parentNode:b,nextSibling:v,setScopeId:T=Rn,insertStaticContent:P}=t,R=(S,N,H,ie=null,q=null,ne=null,oe=void 0,ge=null,j=!!N.dynamicChildren)=>{if(S===N)return;S&&!hs(S,N)&&(ie=te(S),Je(S,q,ne,!0),S=null),N.patchFlag===-2&&(j=!1,N.dynamicChildren=null);const{type:le,ref:be,shapeFlag:Ce}=N;switch(le){case va:z(S,N,H,ie);break;case wn:ee(S,N,H,ie);break;case Ui:S==null&&X(N,H,ie,oe);break;case nn:$(S,N,H,ie,q,ne,oe,ge,j);break;default:Ce&1?se(S,N,H,ie,q,ne,oe,ge,j):Ce&6?re(S,N,H,ie,q,ne,oe,ge,j):(Ce&64||Ce&128)&&le.process(S,N,H,ie,q,ne,oe,ge,j,Se)}be!=null&&q&&tc(be,S&&S.ref,ne,N||S,!N)},z=(S,N,H,ie)=>{if(S==null)a(N.el=m(N.children),H,ie);else{const q=N.el=S.el;N.children!==S.children&&x(q,N.children)}},ee=(S,N,H,ie)=>{S==null?a(N.el=_(N.children||""),H,ie):N.el=S.el},X=(S,N,H,ie)=>{[S.el,S.anchor]=P(S.children,N,H,ie,S.el,S.anchor)},L=({el:S,anchor:N},H,ie)=>{let q;for(;S&&S!==N;)q=v(S),a(S,H,ie),S=q;a(N,H,ie)},Z=({el:S,anchor:N})=>{let H;for(;S&&S!==N;)H=v(S),u(S),S=H;u(N)},se=(S,N,H,ie,q,ne,oe,ge,j)=>{N.type==="svg"?oe="svg":N.type==="math"&&(oe="mathml"),S==null?W(N,H,ie,q,ne,oe,ge,j):B(S,N,q,ne,oe,ge,j)},W=(S,N,H,ie,q,ne,oe,ge)=>{let j,le;const{props:be,shapeFlag:Ce,transition:Ie,dirs:Ne}=S;if(j=S.el=h(S.type,ne,be&&be.is,be),Ce&8?E(j,S.children):Ce&16&&Q(S.children,j,null,ie,q,xl(S,ne),oe,ge),Ne&&ls(S,null,ie,"created"),F(j,S,S.scopeId,oe,ie),be){for(const Ze in be)Ze!=="value"&&!ki(Ze)&&f(j,Ze,null,be[Ze],ne,ie);"value"in be&&f(j,"value",null,be.value,ne),(le=be.onVnodeBeforeMount)&&er(le,ie,S)}Ne&&ls(S,null,ie,"beforeMount");const $e=lm(q,Ie);$e&&Ie.beforeEnter(j),a(j,N,H),((le=be&&be.onVnodeMounted)||$e||Ne)&&dn(()=>{le&&er(le,ie,S),$e&&Ie.enter(j),Ne&&ls(S,null,ie,"mounted")},q)},F=(S,N,H,ie,q)=>{if(H&&T(S,H),ie)for(let ne=0;ne<ie.length;ne++)T(S,ie[ne]);if(q){let ne=q.subTree;if(N===ne){const oe=q.vnode;F(S,oe,oe.scopeId,oe.slotScopeIds,q.parent)}}},Q=(S,N,H,ie,q,ne,oe,ge,j=0)=>{for(let le=j;le<S.length;le++){const be=S[le]=ge?Pr(S[le]):tr(S[le]);R(null,be,N,H,ie,q,ne,oe,ge)}},B=(S,N,H,ie,q,ne,oe)=>{const ge=N.el=S.el;let{patchFlag:j,dynamicChildren:le,dirs:be}=N;j|=S.patchFlag&16;const Ce=S.props||yt,Ie=N.props||yt;let Ne;if(H&&cs(H,!1),(Ne=Ie.onVnodeBeforeUpdate)&&er(Ne,H,N,S),be&&ls(N,S,H,"beforeUpdate"),H&&cs(H,!0),(Ce.innerHTML&&Ie.innerHTML==null||Ce.textContent&&Ie.textContent==null)&&E(ge,""),le?xe(S.dynamicChildren,le,ge,H,ie,xl(N,q),ne):oe||ze(S,N,ge,null,H,ie,xl(N,q),ne,!1),j>0){if(j&16)Ee(ge,Ce,Ie,H,q);else if(j&2&&Ce.class!==Ie.class&&f(ge,"class",null,Ie.class,q),j&4&&f(ge,"style",Ce.style,Ie.style,q),j&8){const $e=N.dynamicProps;for(let Ze=0;Ze<$e.length;Ze++){const He=$e[Ze],Lt=Ce[He],qt=Ie[He];(qt!==Lt||He==="value")&&f(ge,He,Lt,qt,q,H)}}j&1&&S.children!==N.children&&E(ge,N.children)}else!oe&&le==null&&Ee(ge,Ce,Ie,H,q);((Ne=Ie.onVnodeUpdated)||be)&&dn(()=>{Ne&&er(Ne,H,N,S),be&&ls(N,S,H,"updated")},ie)},xe=(S,N,H,ie,q,ne,oe)=>{for(let ge=0;ge<N.length;ge++){const j=S[ge],le=N[ge],be=j.el&&(j.type===nn||!hs(j,le)||j.shapeFlag&70)?b(j.el):H;R(j,le,be,null,ie,q,ne,oe,!0)}},Ee=(S,N,H,ie,q)=>{if(N!==H){if(N!==yt)for(const ne in N)!ki(ne)&&!(ne in H)&&f(S,ne,N[ne],null,q,ie);for(const ne in H){if(ki(ne))continue;const oe=H[ne],ge=N[ne];oe!==ge&&ne!=="value"&&f(S,ne,ge,oe,q,ie)}"value"in H&&f(S,"value",N.value,H.value,q)}},$=(S,N,H,ie,q,ne,oe,ge,j)=>{const le=N.el=S?S.el:m(""),be=N.anchor=S?S.anchor:m("");let{patchFlag:Ce,dynamicChildren:Ie,slotScopeIds:Ne}=N;Ne&&(ge=ge?ge.concat(Ne):Ne),S==null?(a(le,H,ie),a(be,H,ie),Q(N.children||[],H,be,q,ne,oe,ge,j)):Ce>0&&Ce&64&&Ie&&S.dynamicChildren?(xe(S.dynamicChildren,Ie,H,q,ne,oe,ge),(N.key!=null||q&&N===q.subTree)&&Qd(S,N,!0)):ze(S,N,H,be,q,ne,oe,ge,j)},re=(S,N,H,ie,q,ne,oe,ge,j)=>{N.slotScopeIds=ge,S==null?N.shapeFlag&512?q.ctx.activate(N,H,ie,oe,j):Re(N,H,ie,q,ne,oe,j):G(S,N,j)},Re=(S,N,H,ie,q,ne,oe)=>{const ge=S.component=Om(S,ie,q);if(Aa(S)&&(ge.ctx.renderer=Se),Nm(ge,!1,oe),ge.asyncDep){if(q&&q.registerDep(ge,Oe,oe),!S.el){const j=ge.subTree=It(wn);ee(null,j,N,H)}}else Oe(ge,S,N,H,q,ne,oe)},G=(S,N,H)=>{const ie=N.component=S.component;if(_m(S,N,H))if(ie.asyncDep&&!ie.asyncResolved){fe(ie,N,H);return}else ie.next=N,Cp(ie.update),ie.effect.dirty=!0,ie.update();else N.el=S.el,ie.vnode=N},Oe=(S,N,H,ie,q,ne,oe)=>{const ge=()=>{if(S.isMounted){let{next:be,bu:Ce,u:Ie,parent:Ne,vnode:$e}=S;{const _r=Jd(S);if(_r){be&&(be.el=$e.el,fe(S,be,oe)),_r.asyncDep.then(()=>{S.isUnmounted||ge()});return}}let Ze=be,He;cs(S,!1),be?(be.el=$e.el,fe(S,be,oe)):be=$e,Ce&&Ho(Ce),(He=be.props&&be.props.onVnodeBeforeUpdate)&&er(He,Ne,be,$e),cs(S,!0);const Lt=_l(S),qt=S.subTree;S.subTree=Lt,R(qt,Lt,b(qt.el),te(qt),S,q,ne),be.el=Lt.el,Ze===null&&Em(S,Lt.el),Ie&&dn(Ie,q),(He=be.props&&be.props.onVnodeUpdated)&&dn(()=>er(He,Ne,be,$e),q)}else{let be;const{el:Ce,props:Ie}=N,{bm:Ne,m:$e,parent:Ze}=S,He=$o(N);if(cs(S,!1),Ne&&Ho(Ne),!He&&(be=Ie&&Ie.onVnodeBeforeMount)&&er(be,Ze,N),cs(S,!0),Ce&&ut){const Lt=()=>{S.subTree=_l(S),ut(Ce,S.subTree,S,q,null)};He?N.type.__asyncLoader().then(()=>!S.isUnmounted&&Lt()):Lt()}else{const Lt=S.subTree=_l(S);R(null,Lt,H,ie,S,q,ne),N.el=Lt.el}if($e&&dn($e,q),!He&&(be=Ie&&Ie.onVnodeMounted)){const Lt=N;dn(()=>er(be,Ze,Lt),q)}(N.shapeFlag&256||Ze&&$o(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&S.a&&dn(S.a,q),S.isMounted=!0,N=H=ie=null}},j=S.effect=new Dc(ge,Rn,()=>Hc(le),S.scope),le=S.update=()=>{j.dirty&&j.run()};le.i=S,le.id=S.uid,cs(S,!0),le()},fe=(S,N,H)=>{N.component=S;const ie=S.vnode.props;S.vnode=N,S.next=null,Jp(S,N.props,ie,H),rm(S,N.children,H),zr(),Ku(S),Yr()},ze=(S,N,H,ie,q,ne,oe,ge,j=!1)=>{const le=S&&S.children,be=S?S.shapeFlag:0,Ce=N.children,{patchFlag:Ie,shapeFlag:Ne}=N;if(Ie>0){if(Ie&128){Ot(le,Ce,H,ie,q,ne,oe,ge,j);return}else if(Ie&256){_t(le,Ce,H,ie,q,ne,oe,ge,j);return}}Ne&8?(be&16&&Ae(le,q,ne),Ce!==le&&E(H,Ce)):be&16?Ne&16?Ot(le,Ce,H,ie,q,ne,oe,ge,j):Ae(le,q,ne,!0):(be&8&&E(H,""),Ne&16&&Q(Ce,H,ie,q,ne,oe,ge,j))},_t=(S,N,H,ie,q,ne,oe,ge,j)=>{S=S||qs,N=N||qs;const le=S.length,be=N.length,Ce=Math.min(le,be);let Ie;for(Ie=0;Ie<Ce;Ie++){const Ne=N[Ie]=j?Pr(N[Ie]):tr(N[Ie]);R(S[Ie],Ne,H,null,q,ne,oe,ge,j)}le>be?Ae(S,q,ne,!0,!1,Ce):Q(N,H,ie,q,ne,oe,ge,j,Ce)},Ot=(S,N,H,ie,q,ne,oe,ge,j)=>{let le=0;const be=N.length;let Ce=S.length-1,Ie=be-1;for(;le<=Ce&&le<=Ie;){const Ne=S[le],$e=N[le]=j?Pr(N[le]):tr(N[le]);if(hs(Ne,$e))R(Ne,$e,H,null,q,ne,oe,ge,j);else break;le++}for(;le<=Ce&&le<=Ie;){const Ne=S[Ce],$e=N[Ie]=j?Pr(N[Ie]):tr(N[Ie]);if(hs(Ne,$e))R(Ne,$e,H,null,q,ne,oe,ge,j);else break;Ce--,Ie--}if(le>Ce){if(le<=Ie){const Ne=Ie+1,$e=Ne<be?N[Ne].el:ie;for(;le<=Ie;)R(null,N[le]=j?Pr(N[le]):tr(N[le]),H,$e,q,ne,oe,ge,j),le++}}else if(le>Ie)for(;le<=Ce;)Je(S[le],q,ne,!0),le++;else{const Ne=le,$e=le,Ze=new Map;for(le=$e;le<=Ie;le++){const Ye=N[le]=j?Pr(N[le]):tr(N[le]);Ye.key!=null&&Ze.set(Ye.key,le)}let He,Lt=0;const qt=Ie-$e+1;let _r=!1,vt=0;const me=new Array(qt);for(le=0;le<qt;le++)me[le]=0;for(le=Ne;le<=Ce;le++){const Ye=S[le];if(Lt>=qt){Je(Ye,q,ne,!0);continue}let st;if(Ye.key!=null)st=Ze.get(Ye.key);else for(He=$e;He<=Ie;He++)if(me[He-$e]===0&&hs(Ye,N[He])){st=He;break}st===void 0?Je(Ye,q,ne,!0):(me[st-$e]=le+1,st>=vt?vt=st:_r=!0,R(Ye,N[st],H,null,q,ne,oe,ge,j),Lt++)}const Nt=_r?cm(me):qs;for(He=Nt.length-1,le=qt-1;le>=0;le--){const Ye=$e+le,st=N[Ye],Er=Ye+1<be?N[Ye+1].el:ie;me[le]===0?R(null,st,H,Er,q,ne,oe,ge,j):_r&&(He<0||le!==Nt[He]?Xt(st,H,Er,2):He--)}}},Xt=(S,N,H,ie,q=null)=>{const{el:ne,type:oe,transition:ge,children:j,shapeFlag:le}=S;if(le&6){Xt(S.component.subTree,N,H,ie);return}if(le&128){S.suspense.move(N,H,ie);return}if(le&64){oe.move(S,N,H,Se);return}if(oe===nn){a(ne,N,H);for(let Ce=0;Ce<j.length;Ce++)Xt(j[Ce],N,H,ie);a(S.anchor,N,H);return}if(oe===Ui){L(S,N,H);return}if(ie!==2&&le&1&&ge)if(ie===0)ge.beforeEnter(ne),a(ne,N,H),dn(()=>ge.enter(ne),q);else{const{leave:Ce,delayLeave:Ie,afterLeave:Ne}=ge,$e=()=>a(ne,N,H),Ze=()=>{Ce(ne,()=>{$e(),Ne&&Ne()})};Ie?Ie(ne,$e,Ze):Ze()}else a(ne,N,H)},Je=(S,N,H,ie=!1,q=!1)=>{const{type:ne,props:oe,ref:ge,children:j,dynamicChildren:le,shapeFlag:be,patchFlag:Ce,dirs:Ie,cacheIndex:Ne}=S;if(Ce===-2&&(q=!1),ge!=null&&tc(ge,null,H,S,!0),Ne!=null&&(N.renderCache[Ne]=void 0),be&256){N.ctx.deactivate(S);return}const $e=be&1&&Ie,Ze=!$o(S);let He;if(Ze&&(He=oe&&oe.onVnodeBeforeUnmount)&&er(He,N,S),be&6)jt(S.component,H,ie);else{if(be&128){S.suspense.unmount(H,ie);return}$e&&ls(S,null,N,"beforeUnmount"),be&64?S.type.remove(S,N,H,Se,ie):le&&!le.hasOnce&&(ne!==nn||Ce>0&&Ce&64)?Ae(le,N,H,!1,!0):(ne===nn&&Ce&384||!q&&be&16)&&Ae(j,N,H),ie&&Ft(S)}(Ze&&(He=oe&&oe.onVnodeUnmounted)||$e)&&dn(()=>{He&&er(He,N,S),$e&&ls(S,null,N,"unmounted")},H)},Ft=S=>{const{type:N,el:H,anchor:ie,transition:q}=S;if(N===nn){dt(H,ie);return}if(N===Ui){Z(S);return}const ne=()=>{u(H),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(S.shapeFlag&1&&q&&!q.persisted){const{leave:oe,delayLeave:ge}=q,j=()=>oe(H,ne);ge?ge(S.el,ne,j):j()}else ne()},dt=(S,N)=>{let H;for(;S!==N;)H=v(S),u(S),S=H;u(N)},jt=(S,N,H)=>{const{bum:ie,scope:q,update:ne,subTree:oe,um:ge,m:j,a:le}=S;af(j),af(le),ie&&Ho(ie),q.stop(),ne&&(ne.active=!1,Je(oe,S,N,H)),ge&&dn(ge,N),dn(()=>{S.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Ae=(S,N,H,ie=!1,q=!1,ne=0)=>{for(let oe=ne;oe<S.length;oe++)Je(S[oe],N,H,ie,q)},te=S=>{if(S.shapeFlag&6)return te(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const N=v(S.anchor||S.el),H=N&&N[sm];return H?v(H):N};let de=!1;const _e=(S,N,H)=>{S==null?N._vnode&&Je(N._vnode,null,null,!0):R(N._vnode||null,S,N,null,null,null,H),de||(de=!0,Ku(),Rd(),de=!1),N._vnode=S},Se={p:R,um:Je,m:Xt,r:Ft,mt:Re,mc:Q,pc:ze,pbc:xe,n:te,o:t};let Ve,ut;return{render:_e,hydrate:Ve,createApp:qp(_e,Ve)}}function xl({type:t,props:n},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function cs({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function lm(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Qd(t,n,s=!1){const a=t.children,u=n.children;if(Me(a)&&Me(u))for(let f=0;f<a.length;f++){const h=a[f];let m=u[f];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=u[f]=Pr(u[f]),m.el=h.el),!s&&m.patchFlag!==-2&&Qd(h,m)),m.type===va&&(m.el=h.el)}}function cm(t){const n=t.slice(),s=[0];let a,u,f,h,m;const _=t.length;for(a=0;a<_;a++){const x=t[a];if(x!==0){if(u=s[s.length-1],t[u]<x){n[a]=u,s.push(a);continue}for(f=0,h=s.length-1;f<h;)m=f+h>>1,t[s[m]]<x?f=m+1:h=m;x<t[s[f]]&&(f>0&&(n[a]=s[f-1]),s[f]=a)}}for(f=s.length,h=s[f-1];f-- >0;)s[f]=h,h=n[h];return s}function Jd(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Jd(n)}function af(t){if(t)for(let n=0;n<t.length;n++)t[n].active=!1}const um=Symbol.for("v-scx"),fm=()=>Mn(um);function dm(t,n){return jc(t,null,{flush:"post"})}const Mo={};function Es(t,n,s){return jc(t,n,s)}function jc(t,n,{immediate:s,deep:a,flush:u,once:f,onTrack:h,onTrigger:m}=yt){if(n&&f){const W=n;n=(...F)=>{W(...F),se()}}const _=$t,x=W=>a===!0?W:kr(W,a===!1?1:void 0);let E,b=!1,v=!1;if(rt(t)?(E=()=>t.value,b=ti(t)):_s(t)?(E=()=>x(t),b=!0):Me(t)?(v=!0,b=t.some(W=>_s(W)||ti(W)),E=()=>t.map(W=>{if(rt(W))return W.value;if(_s(W))return x(W);if(Ge(W))return Vr(W,_,2)})):Ge(t)?n?E=()=>Vr(t,_,2):E=()=>(T&&T(),Dn(t,_,3,[P])):E=Rn,n&&a){const W=E;E=()=>kr(W())}let T,P=W=>{T=L.onStop=()=>{Vr(W,_,4),T=L.onStop=void 0}},R;if(Sa)if(P=Rn,n?s&&Dn(n,_,3,[E(),v?[]:void 0,P]):E(),u==="sync"){const W=fm();R=W.__watcherHandles||(W.__watcherHandles=[])}else return Rn;let z=v?new Array(t.length).fill(Mo):Mo;const ee=()=>{if(!(!L.active||!L.dirty))if(n){const W=L.run();(a||b||(v?W.some((F,Q)=>Hr(F,z[Q])):Hr(W,z)))&&(T&&T(),Dn(n,_,3,[W,z===Mo?void 0:v&&z[0]===Mo?[]:z,P]),z=W)}else L.run()};ee.allowRecurse=!!n;let X;u==="sync"?X=ee:u==="post"?X=()=>dn(ee,_&&_.suspense):(ee.pre=!0,_&&(ee.id=_.uid),X=()=>Hc(ee));const L=new Dc(E,Rn,X),Z=ud(),se=()=>{L.stop(),Z&&Oc(Z.effects,L)};return n?s?ee():z=L.run():u==="post"?dn(L.run.bind(L),_&&_.suspense):L.run(),R&&R.push(se),se}function hm(t,n,s){const a=this.proxy,u=kt(t)?t.includes(".")?eh(a,t):()=>a[t]:t.bind(a,a);let f;Ge(n)?f=n:(f=n.handler,s=n);const h=ao(this),m=jc(u,f.bind(a),s);return h(),m}function eh(t,n){const s=n.split(".");return()=>{let a=t;for(let u=0;u<s.length&&a;u++)a=a[s[u]];return a}}function kr(t,n=1/0,s){if(n<=0||!xt(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),n--,rt(t))kr(t.value,n,s);else if(Me(t))for(let a=0;a<t.length;a++)kr(t[a],n,s);else if(di(t)||Zs(t))t.forEach(a=>{kr(a,n,s)});else if(nd(t)){for(const a in t)kr(t[a],n,s);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&kr(t[a],n,s)}return t}const gm=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${$n(n)}Modifiers`]||t[`${Ss(n)}Modifiers`];function pm(t,n,...s){if(t.isUnmounted)return;const a=t.vnode.props||yt;let u=s;const f=n.startsWith("update:"),h=f&&gm(a,n.slice(7));h&&(h.trim&&(u=s.map(E=>kt(E)?E.trim():E)),h.number&&(u=s.map(Qo)));let m,_=a[m=hl(n)]||a[m=hl($n(n))];!_&&f&&(_=a[m=hl(Ss(n))]),_&&Dn(_,t,6,u);const x=a[m+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[m])return;t.emitted[m]=!0,Dn(x,t,6,u)}}function th(t,n,s=!1){const a=n.emitsCache,u=a.get(t);if(u!==void 0)return u;const f=t.emits;let h={},m=!1;if(!Ge(t)){const _=x=>{const E=th(x,n,!0);E&&(m=!0,Gt(h,E))};!s&&n.mixins.length&&n.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}return!f&&!m?(xt(t)&&a.set(t,null),null):(Me(f)?f.forEach(_=>h[_]=null):Gt(h,f),xt(t)&&a.set(t,h),h)}function Ca(t,n){return!t||!ma(n)?!1:(n=n.slice(2).replace(/Once$/,""),ot(t,n[0].toLowerCase()+n.slice(1))||ot(t,Ss(n))||ot(t,n))}function _l(t){const{type:n,vnode:s,proxy:a,withProxy:u,propsOptions:[f],slots:h,attrs:m,emit:_,render:x,renderCache:E,props:b,data:v,setupState:T,ctx:P,inheritAttrs:R}=t,z=ea(t);let ee,X;try{if(s.shapeFlag&4){const Z=u||a,se=Z;ee=tr(x.call(se,Z,E,b,T,v,P)),X=m}else{const Z=n;ee=tr(Z.length>1?Z(b,{attrs:m,slots:h,emit:_}):Z(b,null)),X=n.props?m:mm(m)}}catch(Z){Vi.length=0,wa(Z,t,1),ee=It(wn)}let L=ee;if(X&&R!==!1){const Z=Object.keys(X),{shapeFlag:se}=L;Z.length&&se&7&&(f&&Z.some(Ic)&&(X=xm(X,f)),L=Wr(L,X,!1,!0))}return s.dirs&&(L=Wr(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&(L.transition=s.transition),ee=L,ea(z),ee}const mm=t=>{let n;for(const s in t)(s==="class"||s==="style"||ma(s))&&((n||(n={}))[s]=t[s]);return n},xm=(t,n)=>{const s={};for(const a in t)(!Ic(a)||!(a.slice(9)in n))&&(s[a]=t[a]);return s};function _m(t,n,s){const{props:a,children:u,component:f}=t,{props:h,children:m,patchFlag:_}=n,x=f.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?lf(a,h,x):!!h;if(_&8){const E=n.dynamicProps;for(let b=0;b<E.length;b++){const v=E[b];if(h[v]!==a[v]&&!Ca(x,v))return!0}}}else return(u||m)&&(!m||!m.$stable)?!0:a===h?!1:a?h?lf(a,h,x):!0:!!h;return!1}function lf(t,n,s){const a=Object.keys(n);if(a.length!==Object.keys(t).length)return!0;for(let u=0;u<a.length;u++){const f=a[u];if(n[f]!==t[f]&&!Ca(s,f))return!0}return!1}function Em({vnode:t,parent:n},s){for(;n;){const a=n.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=n.vnode).el=s,n=n.parent;else break}}const wm=t=>t.__isSuspense;function bm(t,n){n&&n.pendingBranch?Me(t)?n.effects.push(...t):n.effects.push(t):vp(t)}const nn=Symbol.for("v-fgt"),va=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Ui=Symbol.for("v-stc"),Vi=[];let bn=null;function ke(t=!1){Vi.push(bn=t?null:[])}function Am(){Vi.pop(),bn=Vi[Vi.length-1]||null}let Ki=1;function cf(t){Ki+=t,t<0&&bn&&(bn.hasOnce=!0)}function nh(t){return t.dynamicChildren=Ki>0?bn||qs:null,Am(),Ki>0&&bn&&bn.push(t),t}function Fe(t,n,s,a,u,f){return nh(D(t,n,s,a,u,f,!0))}function ym(t,n,s,a,u){return nh(It(t,n,s,a,u,!0))}function nc(t){return t?t.__v_isVNode===!0:!1}function hs(t,n){return t.type===n.type&&t.key===n.key}const rh=({key:t})=>t??null,Xo=({ref:t,ref_key:n,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?kt(t)||rt(t)||Ge(t)?{i:rn,r:t,k:n,f:!!s}:t:null);function D(t,n=null,s=null,a=0,u=null,f=t===nn?0:1,h=!1,m=!1){const _={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&rh(n),ref:n&&Xo(n),scopeId:ba,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:rn};return m?(zc(_,s),f&128&&t.normalize(_)):s&&(_.shapeFlag|=kt(s)?8:16),Ki>0&&!h&&bn&&(_.patchFlag>0||f&6)&&_.patchFlag!==32&&bn.push(_),_}const It=Cm;function Cm(t,n=null,s=null,a=0,u=null,f=!1){if((!t||t===Hp)&&(t=wn),nc(t)){const m=Wr(t,n,!0);return s&&zc(m,s),Ki>0&&!f&&bn&&(m.shapeFlag&6?bn[bn.indexOf(t)]=m:bn.push(m)),m.patchFlag=-2,m}if(Pm(t)&&(t=t.__vccOpts),n){n=vm(n);let{class:m,style:_}=n;m&&!kt(m)&&(n.class=tt(m)),xt(_)&&(Cd(_)&&!Me(_)&&(_=Gt({},_)),n.style=ei(_))}const h=kt(t)?1:wm(t)?128:im(t)?64:xt(t)?4:Ge(t)?2:0;return D(t,n,s,a,u,h,f,!0)}function vm(t){return t?Cd(t)||Xd(t)?Gt({},t):t:null}function Wr(t,n,s=!1,a=!1){const{props:u,ref:f,patchFlag:h,children:m,transition:_}=t,x=n?Tm(u||{},n):u,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&rh(x),ref:n&&n.ref?s&&f?Me(f)?f.concat(Xo(n)):[f,Xo(n)]:Xo(n):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:m,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==nn?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:_,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wr(t.ssContent),ssFallback:t.ssFallback&&Wr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return _&&a&&na(E,_.clone(E)),E}function vn(t=" ",n=0){return It(va,null,t,n)}function Ta(t,n){const s=It(Ui,null,t);return s.staticCount=n,s}function St(t="",n=!1){return n?(ke(),ym(wn,null,t)):It(wn,null,t)}function tr(t){return t==null||typeof t=="boolean"?It(wn):Me(t)?It(nn,null,t.slice()):typeof t=="object"?Pr(t):It(va,null,String(t))}function Pr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wr(t)}function zc(t,n){let s=0;const{shapeFlag:a}=t;if(n==null)n=null;else if(Me(n))s=16;else if(typeof n=="object")if(a&65){const u=n.default;u&&(u._c&&(u._d=!1),zc(t,u()),u._c&&(u._d=!0));return}else{s=32;const u=n._;!u&&!Xd(n)?n._ctx=rn:u===3&&rn&&(rn.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Ge(n)?(n={default:n,_ctx:rn},s=32):(n=String(n),a&64?(s=16,n=[vn(n)]):s=8);t.children=n,t.shapeFlag|=s}function Tm(...t){const n={};for(let s=0;s<t.length;s++){const a=t[s];for(const u in a)if(u==="class")n.class!==a.class&&(n.class=tt([n.class,a.class]));else if(u==="style")n.style=ei([n.style,a.style]);else if(ma(u)){const f=n[u],h=a[u];h&&f!==h&&!(Me(f)&&f.includes(h))&&(n[u]=f?[].concat(f,h):h)}else u!==""&&(n[u]=a[u])}return n}function er(t,n,s,a=null){Dn(t,n,7,[s,a])}const Sm=Wd();let Im=0;function Om(t,n,s){const a=t.type,u=(n?n.appContext:t.appContext)||Sm,f={uid:Im++,vnode:t,type:a,parent:n,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zd(a,u),emitsOptions:th(a,u),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:a.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=n?n.root:f,f.emit=pm.bind(null,f),t.ce&&t.ce(f),f}let $t=null;const sh=()=>$t||rn;let sa,rc;{const t=sd(),n=(s,a)=>{let u;return(u=t[s])||(u=t[s]=[]),u.push(a),f=>{u.length>1?u.forEach(h=>h(f)):u[0](f)}};sa=n("__VUE_INSTANCE_SETTERS__",s=>$t=s),rc=n("__VUE_SSR_SETTERS__",s=>Sa=s)}const ao=t=>{const n=$t;return sa(t),t.scope.on(),()=>{t.scope.off(),sa(n)}},uf=()=>{$t&&$t.scope.off(),sa(null)};function ih(t){return t.vnode.shapeFlag&4}let Sa=!1;function Nm(t,n=!1,s=!1){n&&rc(n);const{props:a,children:u}=t.vnode,f=ih(t);Qp(t,a,f,n),nm(t,u,s);const h=f?Rm(t,n):void 0;return n&&rc(!1),h}function Rm(t,n){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$p);const{setup:a}=s;if(a){const u=t.setupContext=a.length>1?Mm(t):null,f=ao(t);zr();const h=Vr(a,t,0,[t.props,u]);if(Yr(),f(),ed(h)){if(h.then(uf,uf),n)return h.then(m=>{ff(t,m,n)}).catch(m=>{wa(m,t,0)});t.asyncDep=h}else ff(t,h,n)}else oh(t,n)}function ff(t,n,s){Ge(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:xt(n)&&(t.setupState=Id(n)),oh(t,s)}let df;function oh(t,n,s){const a=t.type;if(!t.render){if(!n&&df&&!a.render){const u=a.template||Gc(t).template;if(u){const{isCustomElement:f,compilerOptions:h}=t.appContext.config,{delimiters:m,compilerOptions:_}=a,x=Gt(Gt({isCustomElement:f,delimiters:m},h),_);a.render=df(u,x)}}t.render=a.render||Rn}{const u=ao(t);zr();try{Gp(t)}finally{Yr(),u()}}}const Dm={get(t,n){return mn(t,"get",""),t[n]}};function Mm(t){const n=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Dm),slots:t.slots,emit:t.emit,expose:n}}function Ia(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Id(Fc(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in Fi)return Fi[s](t)},has(n,s){return s in n||s in Fi}})):t.proxy}function Lm(t,n=!0){return Ge(t)?t.displayName||t.name:t.name||n&&t.__name}function Pm(t){return Ge(t)&&"__vccOpts"in t}const Qe=(t,n)=>pp(t,n,Sa);function Yc(t,n,s){const a=arguments.length;return a===2?xt(n)&&!Me(n)?nc(n)?It(t,null,[n]):It(t,n):It(t,null,n):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&nc(s)&&(s=[s]),It(t,n,s))}const Bm="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const km="http://www.w3.org/2000/svg",Fm="http://www.w3.org/1998/Math/MathML",ur=typeof document<"u"?document:null,hf=ur&&ur.createElement("template"),Um={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,a)=>{const u=n==="svg"?ur.createElementNS(km,t):n==="mathml"?ur.createElementNS(Fm,t):s?ur.createElement(t,{is:s}):ur.createElement(t);return t==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:t=>ur.createTextNode(t),createComment:t=>ur.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ur.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,a,u,f){const h=s?s.previousSibling:n.lastChild;if(u&&(u===f||u.nextSibling))for(;n.insertBefore(u.cloneNode(!0),s),!(u===f||!(u=u.nextSibling)););else{hf.innerHTML=a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t;const m=hf.content;if(a==="svg"||a==="mathml"){const _=m.firstChild;for(;_.firstChild;)m.appendChild(_.firstChild);m.removeChild(_)}n.insertBefore(m,s)}return[h?h.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},Sr="transition",Si="animation",qi=Symbol("_vtc"),Oa=(t,{slots:n})=>Yc(Op,Vm(t),n);Oa.displayName="Transition";const ah={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Oa.props=Gt({},Md,ah);const us=(t,n=[])=>{Me(t)?t.forEach(s=>s(...n)):t&&t(...n)},gf=t=>t?Me(t)?t.some(n=>n.length>1):t.length>1:!1;function Vm(t){const n={};for(const $ in t)$ in ah||(n[$]=t[$]);if(t.css===!1)return n;const{name:s="v",type:a,duration:u,enterFromClass:f=`${s}-enter-from`,enterActiveClass:h=`${s}-enter-active`,enterToClass:m=`${s}-enter-to`,appearFromClass:_=f,appearActiveClass:x=h,appearToClass:E=m,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:T=`${s}-leave-to`}=t,P=Hm(u),R=P&&P[0],z=P&&P[1],{onBeforeEnter:ee,onEnter:X,onEnterCancelled:L,onLeave:Z,onLeaveCancelled:se,onBeforeAppear:W=ee,onAppear:F=X,onAppearCancelled:Q=L}=n,B=($,re,Re)=>{fs($,re?E:m),fs($,re?x:h),Re&&Re()},xe=($,re)=>{$._isLeaving=!1,fs($,b),fs($,T),fs($,v),re&&re()},Ee=$=>(re,Re)=>{const G=$?F:X,Oe=()=>B(re,$,Re);us(G,[re,Oe]),pf(()=>{fs(re,$?_:f),Ir(re,$?E:m),gf(G)||mf(re,a,R,Oe)})};return Gt(n,{onBeforeEnter($){us(ee,[$]),Ir($,f),Ir($,h)},onBeforeAppear($){us(W,[$]),Ir($,_),Ir($,x)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave($,re){$._isLeaving=!0;const Re=()=>xe($,re);Ir($,b),Ir($,v),Gm(),pf(()=>{$._isLeaving&&(fs($,b),Ir($,T),gf(Z)||mf($,a,z,Re))}),us(Z,[$,Re])},onEnterCancelled($){B($,!1),us(L,[$])},onAppearCancelled($){B($,!0),us(Q,[$])},onLeaveCancelled($){xe($),us(se,[$])}})}function Hm(t){if(t==null)return null;if(xt(t))return[El(t.enter),El(t.leave)];{const n=El(t);return[n,n]}}function El(t){return Ug(t)}function Ir(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[qi]||(t[qi]=new Set)).add(n)}function fs(t,n){n.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const s=t[qi];s&&(s.delete(n),s.size||(t[qi]=void 0))}function pf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Wm=0;function mf(t,n,s,a){const u=t._endId=++Wm,f=()=>{u===t._endId&&a()};if(s)return setTimeout(f,s);const{type:h,timeout:m,propCount:_}=$m(t,n);if(!h)return a();const x=h+"end";let E=0;const b=()=>{t.removeEventListener(x,v),f()},v=T=>{T.target===t&&++E>=_&&b()};setTimeout(()=>{E<_&&b()},m+1),t.addEventListener(x,v)}function $m(t,n){const s=window.getComputedStyle(t),a=P=>(s[P]||"").split(", "),u=a(`${Sr}Delay`),f=a(`${Sr}Duration`),h=xf(u,f),m=a(`${Si}Delay`),_=a(`${Si}Duration`),x=xf(m,_);let E=null,b=0,v=0;n===Sr?h>0&&(E=Sr,b=h,v=f.length):n===Si?x>0&&(E=Si,b=x,v=_.length):(b=Math.max(h,x),E=b>0?h>x?Sr:Si:null,v=E?E===Sr?f.length:_.length:0);const T=E===Sr&&/\b(transform|all)(,|$)/.test(a(`${Sr}Property`).toString());return{type:E,timeout:b,propCount:v,hasTransform:T}}function xf(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,a)=>_f(s)+_f(t[a])))}function _f(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Gm(){return document.body.offsetHeight}function Xm(t,n,s){const a=t[qi];a&&(n=(n?[n,...a]:[...a]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}const ia=Symbol("_vod"),lh=Symbol("_vsh"),Bi={beforeMount(t,{value:n},{transition:s}){t[ia]=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):Ii(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:a}){!n!=!s&&(a?n?(a.beforeEnter(t),Ii(t,!0),a.enter(t)):a.leave(t,()=>{Ii(t,!1)}):Ii(t,n))},beforeUnmount(t,{value:n}){Ii(t,n)}};function Ii(t,n){t.style.display=n?t[ia]:"none",t[lh]=!n}const ch=Symbol("");function jm(t){const n=sh();if(!n)return;const s=n.ut=(u=t(n.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${n.uid}"]`)).forEach(f=>ic(f,u))},a=()=>{const u=t(n.proxy);sc(n.subTree,u),s(u)};Is(()=>{dm(a);const u=new MutationObserver(a);u.observe(n.subTree.el.parentNode,{childList:!0}),$c(()=>u.disconnect())})}function sc(t,n){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{sc(s.activeBranch,n)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ic(t.el,n);else if(t.type===nn)t.children.forEach(s=>sc(s,n));else if(t.type===Ui){let{el:s,anchor:a}=t;for(;s&&(ic(s,n),s!==a);)s=s.nextSibling}}function ic(t,n){if(t.nodeType===1){const s=t.style;let a="";for(const u in n)s.setProperty(`--${u}`,n[u]),a+=`--${u}: ${n[u]};`;s[ch]=a}}const zm=/(^|;)\s*display\s*:/;function Ym(t,n,s){const a=t.style,u=kt(s);let f=!1;if(s&&!u){if(n)if(kt(n))for(const h of n.split(";")){const m=h.slice(0,h.indexOf(":")).trim();s[m]==null&&jo(a,m,"")}else for(const h in n)s[h]==null&&jo(a,h,"");for(const h in s)h==="display"&&(f=!0),jo(a,h,s[h])}else if(u){if(n!==s){const h=a[ch];h&&(s+=";"+h),a.cssText=s,f=zm.test(s)}}else n&&t.removeAttribute("style");ia in t&&(t[ia]=f?a.display:"",t[lh]&&(a.display="none"))}const Ef=/\s*!important$/;function jo(t,n,s){if(Me(s))s.forEach(a=>jo(t,n,a));else if(s==null&&(s=""),n.startsWith("--"))t.setProperty(n,s);else{const a=Km(t,n);Ef.test(s)?t.setProperty(Ss(a),s.replace(Ef,""),"important"):t[a]=s}}const wf=["Webkit","Moz","ms"],wl={};function Km(t,n){const s=wl[n];if(s)return s;let a=$n(n);if(a!=="filter"&&a in t)return wl[n]=a;a=_a(a);for(let u=0;u<wf.length;u++){const f=wf[u]+a;if(f in t)return wl[n]=f}return n}const bf="http://www.w3.org/1999/xlink";function Af(t,n,s,a,u,f=Xg(n)){a&&n.startsWith("xlink:")?s==null?t.removeAttributeNS(bf,n.slice(6,n.length)):t.setAttributeNS(bf,n,s):s==null||f&&!id(s)?t.removeAttribute(n):t.setAttribute(n,f?"":ir(s)?String(s):s)}function qm(t,n,s,a){if(n==="innerHTML"||n==="textContent"){if(s==null)return;t[n]=s;return}const u=t.tagName;if(n==="value"&&u!=="PROGRESS"&&!u.includes("-")){const h=u==="OPTION"?t.getAttribute("value")||"":t.value,m=s==null?"":String(s);(h!==m||!("_value"in t))&&(t.value=m),s==null&&t.removeAttribute(n),t._value=s;return}let f=!1;if(s===""||s==null){const h=typeof t[n];h==="boolean"?s=id(s):s==null&&h==="string"?(s="",f=!0):h==="number"&&(s=0,f=!0)}try{t[n]=s}catch{}f&&t.removeAttribute(n)}function Fr(t,n,s,a){t.addEventListener(n,s,a)}function Zm(t,n,s,a){t.removeEventListener(n,s,a)}const yf=Symbol("_vei");function Qm(t,n,s,a,u=null){const f=t[yf]||(t[yf]={}),h=f[n];if(a&&h)h.value=a;else{const[m,_]=Jm(n);if(a){const x=f[n]=n2(a,u);Fr(t,m,x,_)}else h&&(Zm(t,m,h,_),f[n]=void 0)}}const Cf=/(?:Once|Passive|Capture)$/;function Jm(t){let n;if(Cf.test(t)){n={};let a;for(;a=t.match(Cf);)t=t.slice(0,t.length-a[0].length),n[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ss(t.slice(2)),n]}let bl=0;const e2=Promise.resolve(),t2=()=>bl||(e2.then(()=>bl=0),bl=Date.now());function n2(t,n){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Dn(r2(a,s.value),n,5,[a])};return s.value=t,s.attached=t2(),s}function r2(t,n){if(Me(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(a=>u=>!u._stopped&&a&&a(u))}else return n}const vf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s2=(t,n,s,a,u,f)=>{const h=u==="svg";n==="class"?Xm(t,a,h):n==="style"?Ym(t,s,a):ma(n)?Ic(n)||Qm(t,n,s,a,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):i2(t,n,a,h))?(qm(t,n,a),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Af(t,n,a,h,f,n!=="value")):(n==="true-value"?t._trueValue=a:n==="false-value"&&(t._falseValue=a),Af(t,n,a,h))};function i2(t,n,s,a){if(a)return!!(n==="innerHTML"||n==="textContent"||n in t&&vf(n)&&Ge(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const u=t.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return vf(n)&&kt(s)?!1:n in t}const ni=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Me(n)?s=>Ho(n,s):n};function o2(t){t.target.composing=!0}function Tf(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const dr=Symbol("_assign"),gn={created(t,{modifiers:{lazy:n,trim:s,number:a}},u){t[dr]=ni(u);const f=a||u.props&&u.props.type==="number";Fr(t,n?"change":"input",h=>{if(h.target.composing)return;let m=t.value;s&&(m=m.trim()),f&&(m=Qo(m)),t[dr](m)}),s&&Fr(t,"change",()=>{t.value=t.value.trim()}),n||(Fr(t,"compositionstart",o2),Fr(t,"compositionend",Tf),Fr(t,"change",Tf))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:s,modifiers:{lazy:a,trim:u,number:f}},h){if(t[dr]=ni(h),t.composing)return;const m=(f||t.type==="number")&&!/^0\d/.test(t.value)?Qo(t.value):t.value,_=n??"";m!==_&&(document.activeElement===t&&t.type!=="range"&&(a&&n===s||u&&t.value.trim()===_)||(t.value=_))}},a2={deep:!0,created(t,n,s){t[dr]=ni(s),Fr(t,"change",()=>{const a=t._modelValue,u=Zi(t),f=t.checked,h=t[dr];if(Me(a)){const m=Rc(a,u),_=m!==-1;if(f&&!_)h(a.concat(u));else if(!f&&_){const x=[...a];x.splice(m,1),h(x)}}else if(di(a)){const m=new Set(a);f?m.add(u):m.delete(u),h(m)}else h(uh(t,f))})},mounted:Sf,beforeUpdate(t,n,s){t[dr]=ni(s),Sf(t,n,s)}};function Sf(t,{value:n,oldValue:s},a){t._modelValue=n,Me(n)?t.checked=Rc(n,a.props.value)>-1:di(n)?t.checked=n.has(a.props.value):n!==s&&(t.checked=so(n,uh(t,!0)))}const l2={deep:!0,created(t,{value:n,modifiers:{number:s}},a){const u=di(n);Fr(t,"change",()=>{const f=Array.prototype.filter.call(t.options,h=>h.selected).map(h=>s?Qo(Zi(h)):Zi(h));t[dr](t.multiple?u?new Set(f):f:f[0]),t._assigning=!0,oo(()=>{t._assigning=!1})}),t[dr]=ni(a)},mounted(t,{value:n,modifiers:{number:s}}){If(t,n)},beforeUpdate(t,n,s){t[dr]=ni(s)},updated(t,{value:n,modifiers:{number:s}}){t._assigning||If(t,n)}};function If(t,n,s){const a=t.multiple,u=Me(n);if(!(a&&!u&&!di(n))){for(let f=0,h=t.options.length;f<h;f++){const m=t.options[f],_=Zi(m);if(a)if(u){const x=typeof _;x==="string"||x==="number"?m.selected=n.some(E=>String(E)===String(_)):m.selected=Rc(n,_)>-1}else m.selected=n.has(_);else if(so(Zi(m),n)){t.selectedIndex!==f&&(t.selectedIndex=f);return}}!a&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zi(t){return"_value"in t?t._value:t.value}function uh(t,n){const s=n?"_trueValue":"_falseValue";return s in t?t[s]:n}const c2=["ctrl","shift","alt","meta"],u2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>c2.some(s=>t[`${s}Key`]&&!n.includes(s))},lo=(t,n)=>{const s=t._withMods||(t._withMods={}),a=n.join(".");return s[a]||(s[a]=(u,...f)=>{for(let h=0;h<n.length;h++){const m=u2[n[h]];if(m&&m(u,n))return}return t(u,...f)})},f2=Gt({patchProp:s2},Um);let Of;function d2(){return Of||(Of=om(f2))}const h2=(...t)=>{const n=d2().createApp(...t),{mount:s}=n;return n.mount=a=>{const u=p2(a);if(!u)return;const f=n._component;!Ge(f)&&!f.render&&!f.template&&(f.template=u.innerHTML),u.innerHTML="";const h=s(u,!1,g2(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),h},n};function g2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function p2(t){return kt(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gs=typeof document<"u";function m2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Al(t,n){const s={};for(const a in n){const u=n[a];s[a]=Gn(u)?u.map(t):t(u)}return s}const Hi=()=>{},Gn=Array.isArray,fh=/#/g,x2=/&/g,_2=/\//g,E2=/=/g,w2=/\?/g,dh=/\+/g,b2=/%5B/g,A2=/%5D/g,hh=/%5E/g,y2=/%60/g,gh=/%7B/g,C2=/%7C/g,ph=/%7D/g,v2=/%20/g;function Kc(t){return encodeURI(""+t).replace(C2,"|").replace(b2,"[").replace(A2,"]")}function T2(t){return Kc(t).replace(gh,"{").replace(ph,"}").replace(hh,"^")}function oc(t){return Kc(t).replace(dh,"%2B").replace(v2,"+").replace(fh,"%23").replace(x2,"%26").replace(y2,"`").replace(gh,"{").replace(ph,"}").replace(hh,"^")}function S2(t){return oc(t).replace(E2,"%3D")}function I2(t){return Kc(t).replace(fh,"%23").replace(w2,"%3F")}function O2(t){return t==null?"":I2(t).replace(_2,"%2F")}function Qi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const N2=/\/$/,R2=t=>t.replace(N2,"");function yl(t,n,s="/"){let a,u={},f="",h="";const m=n.indexOf("#");let _=n.indexOf("?");return m<_&&m>=0&&(_=-1),_>-1&&(a=n.slice(0,_),f=n.slice(_+1,m>-1?m:n.length),u=t(f)),m>-1&&(a=a||n.slice(0,m),h=n.slice(m,n.length)),a=P2(a??n,s),{fullPath:a+(f&&"?")+f+h,path:a,query:u,hash:Qi(h)}}function D2(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Nf(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function M2(t,n,s){const a=n.matched.length-1,u=s.matched.length-1;return a>-1&&a===u&&ri(n.matched[a],s.matched[u])&&mh(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function ri(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function mh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!L2(t[s],n[s]))return!1;return!0}function L2(t,n){return Gn(t)?Rf(t,n):Gn(n)?Rf(n,t):t===n}function Rf(t,n){return Gn(n)?t.length===n.length&&t.every((s,a)=>s===n[a]):t.length===1&&t[0]===n}function P2(t,n){if(t.startsWith("/"))return t;if(!t)return n;const s=n.split("/"),a=t.split("/"),u=a[a.length-1];(u===".."||u===".")&&a.push("");let f=s.length-1,h,m;for(h=0;h<a.length;h++)if(m=a[h],m!==".")if(m==="..")f>1&&f--;else break;return s.slice(0,f).join("/")+"/"+a.slice(h).join("/")}const Or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ji;(function(t){t.pop="pop",t.push="push"})(Ji||(Ji={}));var Wi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wi||(Wi={}));function B2(t){if(!t)if(Gs){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),R2(t)}const k2=/^[^#]+#/;function F2(t,n){return t.replace(k2,"#")+n}function U2(t,n){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:n.behavior,left:a.left-s.left-(n.left||0),top:a.top-s.top-(n.top||0)}}const Na=()=>({left:window.scrollX,top:window.scrollY});function V2(t){let n;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;n=U2(u,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Df(t,n){return(history.state?history.state.position-n:-1)+t}const ac=new Map;function H2(t,n){ac.set(t,n)}function W2(t){const n=ac.get(t);return ac.delete(t),n}let $2=()=>location.protocol+"//"+location.host;function xh(t,n){const{pathname:s,search:a,hash:u}=n,f=t.indexOf("#");if(f>-1){let m=u.includes(t.slice(f))?t.slice(f).length:1,_=u.slice(m);return _[0]!=="/"&&(_="/"+_),Nf(_,"")}return Nf(s,t)+a+u}function G2(t,n,s,a){let u=[],f=[],h=null;const m=({state:v})=>{const T=xh(t,location),P=s.value,R=n.value;let z=0;if(v){if(s.value=T,n.value=v,h&&h===P){h=null;return}z=R?v.position-R.position:0}else a(T);u.forEach(ee=>{ee(s.value,P,{delta:z,type:Ji.pop,direction:z?z>0?Wi.forward:Wi.back:Wi.unknown})})};function _(){h=s.value}function x(v){u.push(v);const T=()=>{const P=u.indexOf(v);P>-1&&u.splice(P,1)};return f.push(T),T}function E(){const{history:v}=window;v.state&&v.replaceState(ht({},v.state,{scroll:Na()}),"")}function b(){for(const v of f)v();f=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",E,{passive:!0}),{pauseListeners:_,listen:x,destroy:b}}function Mf(t,n,s,a=!1,u=!1){return{back:t,current:n,forward:s,replaced:a,position:window.history.length,scroll:u?Na():null}}function X2(t){const{history:n,location:s}=window,a={value:xh(t,s)},u={value:n.state};u.value||f(a.value,{back:null,current:a.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function f(_,x,E){const b=t.indexOf("#"),v=b>-1?(s.host&&document.querySelector("base")?t:t.slice(b))+_:$2()+t+_;try{n[E?"replaceState":"pushState"](x,"",v),u.value=x}catch(T){console.error(T),s[E?"replace":"assign"](v)}}function h(_,x){const E=ht({},n.state,Mf(u.value.back,_,u.value.forward,!0),x,{position:u.value.position});f(_,E,!0),a.value=_}function m(_,x){const E=ht({},u.value,n.state,{forward:_,scroll:Na()});f(E.current,E,!0);const b=ht({},Mf(a.value,_,null),{position:E.position+1},x);f(_,b,!1),a.value=_}return{location:a,state:u,push:m,replace:h}}function j2(t){t=B2(t);const n=X2(t),s=G2(t,n.state,n.location,n.replace);function a(f,h=!0){h||s.pauseListeners(),history.go(f)}const u=ht({location:"",base:t,go:a,createHref:F2.bind(null,t)},n,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>n.state.value}),u}function z2(t){return typeof t=="string"||t&&typeof t=="object"}function _h(t){return typeof t=="string"||typeof t=="symbol"}const Eh=Symbol("");var Lf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Lf||(Lf={}));function si(t,n){return ht(new Error,{type:t,[Eh]:!0},n)}function lr(t,n){return t instanceof Error&&Eh in t&&(n==null||!!(t.type&n))}const Pf="[^/]+?",Y2={sensitive:!1,strict:!1,start:!0,end:!0},K2=/[.+*?^${}()[\]/\\]/g;function q2(t,n){const s=ht({},Y2,n),a=[];let u=s.start?"^":"";const f=[];for(const x of t){const E=x.length?[]:[90];s.strict&&!x.length&&(u+="/");for(let b=0;b<x.length;b++){const v=x[b];let T=40+(s.sensitive?.25:0);if(v.type===0)b||(u+="/"),u+=v.value.replace(K2,"\\$&"),T+=40;else if(v.type===1){const{value:P,repeatable:R,optional:z,regexp:ee}=v;f.push({name:P,repeatable:R,optional:z});const X=ee||Pf;if(X!==Pf){T+=10;try{new RegExp(`(${X})`)}catch(Z){throw new Error(`Invalid custom RegExp for param "${P}" (${X}): `+Z.message)}}let L=R?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;b||(L=z&&x.length<2?`(?:/${L})`:"/"+L),z&&(L+="?"),u+=L,T+=20,z&&(T+=-8),R&&(T+=-20),X===".*"&&(T+=-50)}E.push(T)}a.push(E)}if(s.strict&&s.end){const x=a.length-1;a[x][a[x].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const h=new RegExp(u,s.sensitive?"":"i");function m(x){const E=x.match(h),b={};if(!E)return null;for(let v=1;v<E.length;v++){const T=E[v]||"",P=f[v-1];b[P.name]=T&&P.repeatable?T.split("/"):T}return b}function _(x){let E="",b=!1;for(const v of t){(!b||!E.endsWith("/"))&&(E+="/"),b=!1;for(const T of v)if(T.type===0)E+=T.value;else if(T.type===1){const{value:P,repeatable:R,optional:z}=T,ee=P in x?x[P]:"";if(Gn(ee)&&!R)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const X=Gn(ee)?ee.join("/"):ee;if(!X)if(z)v.length<2&&(E.endsWith("/")?E=E.slice(0,-1):b=!0);else throw new Error(`Missing required param "${P}"`);E+=X}}return E||"/"}return{re:h,score:a,keys:f,parse:m,stringify:_}}function Z2(t,n){let s=0;for(;s<t.length&&s<n.length;){const a=n[s]-t[s];if(a)return a;s++}return t.length<n.length?t.length===1&&t[0]===80?-1:1:t.length>n.length?n.length===1&&n[0]===80?1:-1:0}function wh(t,n){let s=0;const a=t.score,u=n.score;for(;s<a.length&&s<u.length;){const f=Z2(a[s],u[s]);if(f)return f;s++}if(Math.abs(u.length-a.length)===1){if(Bf(a))return 1;if(Bf(u))return-1}return u.length-a.length}function Bf(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Q2={type:0,value:""},J2=/[a-zA-Z0-9_]/;function ex(t){if(!t)return[[]];if(t==="/")return[[Q2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(T){throw new Error(`ERR (${s})/"${x}": ${T}`)}let s=0,a=s;const u=[];let f;function h(){f&&u.push(f),f=[]}let m=0,_,x="",E="";function b(){x&&(s===0?f.push({type:0,value:x}):s===1||s===2||s===3?(f.length>1&&(_==="*"||_==="+")&&n(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:x,regexp:E,repeatable:_==="*"||_==="+",optional:_==="*"||_==="?"})):n("Invalid state to consume buffer"),x="")}function v(){x+=_}for(;m<t.length;){if(_=t[m++],_==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:_==="/"?(x&&b(),h()):_===":"?(b(),s=1):v();break;case 4:v(),s=a;break;case 1:_==="("?s=2:J2.test(_)?v():(b(),s=0,_!=="*"&&_!=="?"&&_!=="+"&&m--);break;case 2:_===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+_:s=3:E+=_;break;case 3:b(),s=0,_!=="*"&&_!=="?"&&_!=="+"&&m--,E="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${x}"`),b(),h(),u}function tx(t,n,s){const a=q2(ex(t.path),s),u=ht(a,{record:t,parent:n,children:[],alias:[]});return n&&!u.record.aliasOf==!n.record.aliasOf&&n.children.push(u),u}function nx(t,n){const s=[],a=new Map;n=Uf({strict:!1,end:!0,sensitive:!1},n);function u(b){return a.get(b)}function f(b,v,T){const P=!T,R=rx(b);R.aliasOf=T&&T.record;const z=Uf(n,b),ee=[R];if("alias"in b){const Z=typeof b.alias=="string"?[b.alias]:b.alias;for(const se of Z)ee.push(ht({},R,{components:T?T.record.components:R.components,path:se,aliasOf:T?T.record:R}))}let X,L;for(const Z of ee){const{path:se}=Z;if(v&&se[0]!=="/"){const W=v.record.path,F=W[W.length-1]==="/"?"":"/";Z.path=v.record.path+(se&&F+se)}if(X=tx(Z,v,z),T?T.alias.push(X):(L=L||X,L!==X&&L.alias.push(X),P&&b.name&&!Ff(X)&&h(b.name)),bh(X)&&_(X),R.children){const W=R.children;for(let F=0;F<W.length;F++)f(W[F],X,T&&T.children[F])}T=T||X}return L?()=>{h(L)}:Hi}function h(b){if(_h(b)){const v=a.get(b);v&&(a.delete(b),s.splice(s.indexOf(v),1),v.children.forEach(h),v.alias.forEach(h))}else{const v=s.indexOf(b);v>-1&&(s.splice(v,1),b.record.name&&a.delete(b.record.name),b.children.forEach(h),b.alias.forEach(h))}}function m(){return s}function _(b){const v=ox(b,s);s.splice(v,0,b),b.record.name&&!Ff(b)&&a.set(b.record.name,b)}function x(b,v){let T,P={},R,z;if("name"in b&&b.name){if(T=a.get(b.name),!T)throw si(1,{location:b});z=T.record.name,P=ht(kf(v.params,T.keys.filter(L=>!L.optional).concat(T.parent?T.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),b.params&&kf(b.params,T.keys.map(L=>L.name))),R=T.stringify(P)}else if(b.path!=null)R=b.path,T=s.find(L=>L.re.test(R)),T&&(P=T.parse(R),z=T.record.name);else{if(T=v.name?a.get(v.name):s.find(L=>L.re.test(v.path)),!T)throw si(1,{location:b,currentLocation:v});z=T.record.name,P=ht({},v.params,b.params),R=T.stringify(P)}const ee=[];let X=T;for(;X;)ee.unshift(X.record),X=X.parent;return{name:z,path:R,params:P,matched:ee,meta:ix(ee)}}t.forEach(b=>f(b));function E(){s.length=0,a.clear()}return{addRoute:f,resolve:x,removeRoute:h,clearRoutes:E,getRoutes:m,getRecordMatcher:u}}function kf(t,n){const s={};for(const a of n)a in t&&(s[a]=t[a]);return s}function rx(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:sx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function sx(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const a in t.components)n[a]=typeof s=="object"?s[a]:s;return n}function Ff(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ix(t){return t.reduce((n,s)=>ht(n,s.meta),{})}function Uf(t,n){const s={};for(const a in t)s[a]=a in n?n[a]:t[a];return s}function ox(t,n){let s=0,a=n.length;for(;s!==a;){const f=s+a>>1;wh(t,n[f])<0?a=f:s=f+1}const u=ax(t);return u&&(a=n.lastIndexOf(u,a-1)),a}function ax(t){let n=t;for(;n=n.parent;)if(bh(n)&&wh(t,n)===0)return n}function bh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function lx(t){const n={};if(t===""||t==="?")return n;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<a.length;++u){const f=a[u].replace(dh," "),h=f.indexOf("="),m=Qi(h<0?f:f.slice(0,h)),_=h<0?null:Qi(f.slice(h+1));if(m in n){let x=n[m];Gn(x)||(x=n[m]=[x]),x.push(_)}else n[m]=_}return n}function Vf(t){let n="";for(let s in t){const a=t[s];if(s=S2(s),a==null){a!==void 0&&(n+=(n.length?"&":"")+s);continue}(Gn(a)?a.map(f=>f&&oc(f)):[a&&oc(a)]).forEach(f=>{f!==void 0&&(n+=(n.length?"&":"")+s,f!=null&&(n+="="+f))})}return n}function cx(t){const n={};for(const s in t){const a=t[s];a!==void 0&&(n[s]=Gn(a)?a.map(u=>u==null?null:""+u):a==null?a:""+a)}return n}const ux=Symbol(""),Hf=Symbol(""),Ra=Symbol(""),qc=Symbol(""),lc=Symbol("");function Oi(){let t=[];function n(a){return t.push(a),()=>{const u=t.indexOf(a);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:n,list:()=>t.slice(),reset:s}}function Br(t,n,s,a,u,f=h=>h()){const h=a&&(a.enterCallbacks[u]=a.enterCallbacks[u]||[]);return()=>new Promise((m,_)=>{const x=v=>{v===!1?_(si(4,{from:s,to:n})):v instanceof Error?_(v):z2(v)?_(si(2,{from:n,to:v})):(h&&a.enterCallbacks[u]===h&&typeof v=="function"&&h.push(v),m())},E=f(()=>t.call(a&&a.instances[u],n,s,x));let b=Promise.resolve(E);t.length<3&&(b=b.then(x)),b.catch(v=>_(v))})}function Cl(t,n,s,a,u=f=>f()){const f=[];for(const h of t)for(const m in h.components){let _=h.components[m];if(!(n!=="beforeRouteEnter"&&!h.instances[m]))if(fx(_)){const E=(_.__vccOpts||_)[n];E&&f.push(Br(E,s,a,h,m,u))}else{let x=_();f.push(()=>x.then(E=>{if(!E)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${h.path}"`));const b=m2(E)?E.default:E;h.components[m]=b;const T=(b.__vccOpts||b)[n];return T&&Br(T,s,a,h,m,u)()}))}}return f}function fx(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wf(t){const n=Mn(Ra),s=Mn(qc),a=Qe(()=>{const _=we(t.to);return n.resolve(_)}),u=Qe(()=>{const{matched:_}=a.value,{length:x}=_,E=_[x-1],b=s.matched;if(!E||!b.length)return-1;const v=b.findIndex(ri.bind(null,E));if(v>-1)return v;const T=$f(_[x-2]);return x>1&&$f(E)===T&&b[b.length-1].path!==T?b.findIndex(ri.bind(null,_[x-2])):v}),f=Qe(()=>u.value>-1&&px(s.params,a.value.params)),h=Qe(()=>u.value>-1&&u.value===s.matched.length-1&&mh(s.params,a.value.params));function m(_={}){return gx(_)?n[we(t.replace)?"replace":"push"](we(t.to)).catch(Hi):Promise.resolve()}return{route:a,href:Qe(()=>a.value.href),isActive:f,isExactActive:h,navigate:m}}const dx=kd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wf,setup(t,{slots:n}){const s=io(Wf(t)),{options:a}=Mn(Ra),u=Qe(()=>({[Gf(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Gf(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const f=n.default&&n.default(s);return t.custom?f:Yc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},f)}}}),hx=dx;function gx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function px(t,n){for(const s in n){const a=n[s],u=t[s];if(typeof a=="string"){if(a!==u)return!1}else if(!Gn(u)||u.length!==a.length||a.some((f,h)=>f!==u[h]))return!1}return!0}function $f(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gf=(t,n,s)=>t??n??s,mx=kd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){const a=Mn(lc),u=Qe(()=>t.route||a.value),f=Mn(Hf,0),h=Qe(()=>{let x=we(f);const{matched:E}=u.value;let b;for(;(b=E[x])&&!b.components;)x++;return x}),m=Qe(()=>u.value.matched[h.value]);Go(Hf,Qe(()=>h.value+1)),Go(ux,m),Go(lc,u);const _=ye();return Es(()=>[_.value,m.value,t.name],([x,E,b],[v,T,P])=>{E&&(E.instances[b]=x,T&&T!==E&&x&&x===v&&(E.leaveGuards.size||(E.leaveGuards=T.leaveGuards),E.updateGuards.size||(E.updateGuards=T.updateGuards))),x&&E&&(!T||!ri(E,T)||!v)&&(E.enterCallbacks[b]||[]).forEach(R=>R(x))},{flush:"post"}),()=>{const x=u.value,E=t.name,b=m.value,v=b&&b.components[E];if(!v)return Xf(s.default,{Component:v,route:x});const T=b.props[E],P=T?T===!0?x.params:typeof T=="function"?T(x):T:null,z=Yc(v,ht({},P,n,{onVnodeUnmounted:ee=>{ee.component.isUnmounted&&(b.instances[E]=null)},ref:_}));return Xf(s.default,{Component:z,route:x})||z}}});function Xf(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const xx=mx;function _x(t){const n=nx(t.routes,t),s=t.parseQuery||lx,a=t.stringifyQuery||Vf,u=t.history,f=Oi(),h=Oi(),m=Oi(),_=mp(Or);let x=Or;Gs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=Al.bind(null,te=>""+te),b=Al.bind(null,O2),v=Al.bind(null,Qi);function T(te,de){let _e,Se;return _h(te)?(_e=n.getRecordMatcher(te),Se=de):Se=te,n.addRoute(Se,_e)}function P(te){const de=n.getRecordMatcher(te);de&&n.removeRoute(de)}function R(){return n.getRoutes().map(te=>te.record)}function z(te){return!!n.getRecordMatcher(te)}function ee(te,de){if(de=ht({},de||_.value),typeof te=="string"){const N=yl(s,te,de.path),H=n.resolve({path:N.path},de),ie=u.createHref(N.fullPath);return ht(N,H,{params:v(H.params),hash:Qi(N.hash),redirectedFrom:void 0,href:ie})}let _e;if(te.path!=null)_e=ht({},te,{path:yl(s,te.path,de.path).path});else{const N=ht({},te.params);for(const H in N)N[H]==null&&delete N[H];_e=ht({},te,{params:b(N)}),de.params=b(de.params)}const Se=n.resolve(_e,de),Ve=te.hash||"";Se.params=E(v(Se.params));const ut=D2(a,ht({},te,{hash:T2(Ve),path:Se.path})),S=u.createHref(ut);return ht({fullPath:ut,hash:Ve,query:a===Vf?cx(te.query):te.query||{}},Se,{redirectedFrom:void 0,href:S})}function X(te){return typeof te=="string"?yl(s,te,_.value.path):ht({},te)}function L(te,de){if(x!==te)return si(8,{from:de,to:te})}function Z(te){return F(te)}function se(te){return Z(ht(X(te),{replace:!0}))}function W(te){const de=te.matched[te.matched.length-1];if(de&&de.redirect){const{redirect:_e}=de;let Se=typeof _e=="function"?_e(te):_e;return typeof Se=="string"&&(Se=Se.includes("?")||Se.includes("#")?Se=X(Se):{path:Se},Se.params={}),ht({query:te.query,hash:te.hash,params:Se.path!=null?{}:te.params},Se)}}function F(te,de){const _e=x=ee(te),Se=_.value,Ve=te.state,ut=te.force,S=te.replace===!0,N=W(_e);if(N)return F(ht(X(N),{state:typeof N=="object"?ht({},Ve,N.state):Ve,force:ut,replace:S}),de||_e);const H=_e;H.redirectedFrom=de;let ie;return!ut&&M2(a,Se,_e)&&(ie=si(16,{to:H,from:Se}),Xt(Se,Se,!0,!1)),(ie?Promise.resolve(ie):xe(H,Se)).catch(q=>lr(q)?lr(q,2)?q:Ot(q):ze(q,H,Se)).then(q=>{if(q){if(lr(q,2))return F(ht({replace:S},X(q.to),{state:typeof q.to=="object"?ht({},Ve,q.to.state):Ve,force:ut}),de||H)}else q=$(H,Se,!0,S,Ve);return Ee(H,Se,q),q})}function Q(te,de){const _e=L(te,de);return _e?Promise.reject(_e):Promise.resolve()}function B(te){const de=dt.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(te):te()}function xe(te,de){let _e;const[Se,Ve,ut]=Ex(te,de);_e=Cl(Se.reverse(),"beforeRouteLeave",te,de);for(const N of Se)N.leaveGuards.forEach(H=>{_e.push(Br(H,te,de))});const S=Q.bind(null,te,de);return _e.push(S),Ae(_e).then(()=>{_e=[];for(const N of f.list())_e.push(Br(N,te,de));return _e.push(S),Ae(_e)}).then(()=>{_e=Cl(Ve,"beforeRouteUpdate",te,de);for(const N of Ve)N.updateGuards.forEach(H=>{_e.push(Br(H,te,de))});return _e.push(S),Ae(_e)}).then(()=>{_e=[];for(const N of ut)if(N.beforeEnter)if(Gn(N.beforeEnter))for(const H of N.beforeEnter)_e.push(Br(H,te,de));else _e.push(Br(N.beforeEnter,te,de));return _e.push(S),Ae(_e)}).then(()=>(te.matched.forEach(N=>N.enterCallbacks={}),_e=Cl(ut,"beforeRouteEnter",te,de,B),_e.push(S),Ae(_e))).then(()=>{_e=[];for(const N of h.list())_e.push(Br(N,te,de));return _e.push(S),Ae(_e)}).catch(N=>lr(N,8)?N:Promise.reject(N))}function Ee(te,de,_e){m.list().forEach(Se=>B(()=>Se(te,de,_e)))}function $(te,de,_e,Se,Ve){const ut=L(te,de);if(ut)return ut;const S=de===Or,N=Gs?history.state:{};_e&&(Se||S?u.replace(te.fullPath,ht({scroll:S&&N&&N.scroll},Ve)):u.push(te.fullPath,Ve)),_.value=te,Xt(te,de,_e,S),Ot()}let re;function Re(){re||(re=u.listen((te,de,_e)=>{if(!jt.listening)return;const Se=ee(te),Ve=W(Se);if(Ve){F(ht(Ve,{replace:!0}),Se).catch(Hi);return}x=Se;const ut=_.value;Gs&&H2(Df(ut.fullPath,_e.delta),Na()),xe(Se,ut).catch(S=>lr(S,12)?S:lr(S,2)?(F(S.to,Se).then(N=>{lr(N,20)&&!_e.delta&&_e.type===Ji.pop&&u.go(-1,!1)}).catch(Hi),Promise.reject()):(_e.delta&&u.go(-_e.delta,!1),ze(S,Se,ut))).then(S=>{S=S||$(Se,ut,!1),S&&(_e.delta&&!lr(S,8)?u.go(-_e.delta,!1):_e.type===Ji.pop&&lr(S,20)&&u.go(-1,!1)),Ee(Se,ut,S)}).catch(Hi)}))}let G=Oi(),Oe=Oi(),fe;function ze(te,de,_e){Ot(te);const Se=Oe.list();return Se.length?Se.forEach(Ve=>Ve(te,de,_e)):console.error(te),Promise.reject(te)}function _t(){return fe&&_.value!==Or?Promise.resolve():new Promise((te,de)=>{G.add([te,de])})}function Ot(te){return fe||(fe=!te,Re(),G.list().forEach(([de,_e])=>te?_e(te):de()),G.reset()),te}function Xt(te,de,_e,Se){const{scrollBehavior:Ve}=t;if(!Gs||!Ve)return Promise.resolve();const ut=!_e&&W2(Df(te.fullPath,0))||(Se||!_e)&&history.state&&history.state.scroll||null;return oo().then(()=>Ve(te,de,ut)).then(S=>S&&V2(S)).catch(S=>ze(S,te,de))}const Je=te=>u.go(te);let Ft;const dt=new Set,jt={currentRoute:_,listening:!0,addRoute:T,removeRoute:P,clearRoutes:n.clearRoutes,hasRoute:z,getRoutes:R,resolve:ee,options:t,push:Z,replace:se,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:f.add,beforeResolve:h.add,afterEach:m.add,onError:Oe.add,isReady:_t,install(te){const de=this;te.component("RouterLink",hx),te.component("RouterView",xx),te.config.globalProperties.$router=de,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>we(_)}),Gs&&!Ft&&_.value===Or&&(Ft=!0,Z(u.location).catch(Ve=>{}));const _e={};for(const Ve in Or)Object.defineProperty(_e,Ve,{get:()=>_.value[Ve],enumerable:!0});te.provide(Ra,de),te.provide(qc,Ad(_e)),te.provide(lc,_);const Se=te.unmount;dt.add(te),te.unmount=function(){dt.delete(te),dt.size<1&&(x=Or,re&&re(),re=null,_.value=Or,Ft=!1,fe=!1),Se()}}};function Ae(te){return te.reduce((de,_e)=>de.then(()=>B(_e)),Promise.resolve())}return jt}function Ex(t,n){const s=[],a=[],u=[],f=Math.max(n.matched.length,t.matched.length);for(let h=0;h<f;h++){const m=n.matched[h];m&&(t.matched.find(x=>ri(x,m))?a.push(m):s.push(m));const _=t.matched[h];_&&(n.matched.find(x=>ri(x,_))||u.push(_))}return[s,a,u]}function Zr(){return Mn(Ra)}function Ah(t){return Mn(qc)}var wx=!1;/*!
 * pinia v2.2.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let yh;const Da=t=>yh=t,Ch=Symbol();function cc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $i;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($i||($i={}));function bx(){const t=cd(!0),n=t.run(()=>ye({}));let s=[],a=[];const u=Fc({install(f){Da(u),u._a=f,f.provide(Ch,u),f.config.globalProperties.$pinia=u,a.forEach(h=>s.push(h)),a=[]},use(f){return!this._a&&!wx?a.push(f):s.push(f),this},_p:s,_a:null,_e:t,_s:new Map,state:n});return u}const vh=()=>{};function jf(t,n,s,a=vh){t.push(n);const u=()=>{const f=t.indexOf(n);f>-1&&(t.splice(f,1),a())};return!s&&ud()&&Yg(u),u}function Vs(t,...n){t.slice().forEach(s=>{s(...n)})}const Ax=t=>t(),zf=Symbol(),vl=Symbol();function uc(t,n){t instanceof Map&&n instanceof Map?n.forEach((s,a)=>t.set(a,s)):t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const s in n){if(!n.hasOwnProperty(s))continue;const a=n[s],u=t[s];cc(u)&&cc(a)&&t.hasOwnProperty(s)&&!rt(a)&&!_s(a)?t[s]=uc(u,a):t[s]=a}return t}const yx=Symbol();function Cx(t){return!cc(t)||!t.hasOwnProperty(yx)}const{assign:Dr}=Object;function vx(t){return!!(rt(t)&&t.effect)}function Tx(t,n,s,a){const{state:u,actions:f,getters:h}=n,m=s.state.value[t];let _;function x(){m||(s.state.value[t]=u?u():{});const E=Ep(s.state.value[t]);return Dr(E,f,Object.keys(h||{}).reduce((b,v)=>(b[v]=Fc(Qe(()=>{Da(s);const T=s._s.get(t);return h[v].call(T,T)})),b),{}))}return _=Th(t,x,n,s,a,!0),_}function Th(t,n,s={},a,u,f){let h;const m=Dr({actions:{}},s),_={deep:!0};let x,E,b=[],v=[],T;const P=a.state.value[t];!f&&!P&&(a.state.value[t]={}),ye({});let R;function z(Q){let B;x=E=!1,typeof Q=="function"?(Q(a.state.value[t]),B={type:$i.patchFunction,storeId:t,events:T}):(uc(a.state.value[t],Q),B={type:$i.patchObject,payload:Q,storeId:t,events:T});const xe=R=Symbol();oo().then(()=>{R===xe&&(x=!0)}),E=!0,Vs(b,B,a.state.value[t])}const ee=f?function(){const{state:B}=s,xe=B?B():{};this.$patch(Ee=>{Dr(Ee,xe)})}:vh;function X(){h.stop(),b=[],v=[],a._s.delete(t)}const L=(Q,B="")=>{if(zf in Q)return Q[vl]=B,Q;const xe=function(){Da(a);const Ee=Array.from(arguments),$=[],re=[];function Re(fe){$.push(fe)}function G(fe){re.push(fe)}Vs(v,{args:Ee,name:xe[vl],store:se,after:Re,onError:G});let Oe;try{Oe=Q.apply(this&&this.$id===t?this:se,Ee)}catch(fe){throw Vs(re,fe),fe}return Oe instanceof Promise?Oe.then(fe=>(Vs($,fe),fe)).catch(fe=>(Vs(re,fe),Promise.reject(fe))):(Vs($,Oe),Oe)};return xe[zf]=!0,xe[vl]=B,xe},Z={_p:a,$id:t,$onAction:jf.bind(null,v),$patch:z,$reset:ee,$subscribe(Q,B={}){const xe=jf(b,Q,B.detached,()=>Ee()),Ee=h.run(()=>Es(()=>a.state.value[t],$=>{(B.flush==="sync"?E:x)&&Q({storeId:t,type:$i.direct,events:T},$)},Dr({},_,B)));return xe},$dispose:X},se=io(Z);a._s.set(t,se);const F=(a._a&&a._a.runWithContext||Ax)(()=>a._e.run(()=>(h=cd()).run(()=>n({action:L}))));for(const Q in F){const B=F[Q];if(rt(B)&&!vx(B)||_s(B))f||(P&&Cx(B)&&(rt(B)?B.value=P[Q]:uc(B,P[Q])),a.state.value[t][Q]=B);else if(typeof B=="function"){const xe=L(B,Q);F[Q]=xe,m.actions[Q]=B}}return Dr(se,F),Dr(at(se),F),Object.defineProperty(se,"$state",{get:()=>a.state.value[t],set:Q=>{z(B=>{Dr(B,Q)})}}),a._p.forEach(Q=>{Dr(se,h.run(()=>Q({store:se,app:a._a,pinia:a,options:m})))}),P&&f&&s.hydrate&&s.hydrate(se.$state,P),x=!0,E=!0,se}function Ma(t,n,s){let a,u;const f=typeof n=="function";typeof t=="string"?(a=t,u=f?s:n):(u=t,a=t.id);function h(m,_){const x=Zp();return m=m||(x?Mn(Ch,null):null),m&&Da(m),m=yh,m._s.has(a)||(f?Th(a,n,u,m):Tx(a,u,m)),m._s.get(a)}return h.$id=a,h}function Sh(t,n){return function(){return t.apply(n,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:Zc}=Object,La=(t=>n=>{const s=Sx.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=t=>(t=t.toLowerCase(),n=>La(n)===t),Pa=t=>n=>typeof n===t,{isArray:hi}=Array,eo=Pa("undefined");function Ix(t){return t!==null&&!eo(t)&&t.constructor!==null&&!eo(t.constructor)&&Ln(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ih=Xn("ArrayBuffer");function Ox(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Ih(t.buffer),n}const Nx=Pa("string"),Ln=Pa("function"),Oh=Pa("number"),Ba=t=>t!==null&&typeof t=="object",Rx=t=>t===!0||t===!1,zo=t=>{if(La(t)!=="object")return!1;const n=Zc(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Dx=Xn("Date"),Mx=Xn("File"),Lx=Xn("Blob"),Px=Xn("FileList"),Bx=t=>Ba(t)&&Ln(t.pipe),kx=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Ln(t.append)&&((n=La(t))==="formdata"||n==="object"&&Ln(t.toString)&&t.toString()==="[object FormData]"))},Fx=Xn("URLSearchParams"),[Ux,Vx,Hx,Wx]=["ReadableStream","Request","Response","Headers"].map(Xn),$x=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function co(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,u;if(typeof t!="object"&&(t=[t]),hi(t))for(a=0,u=t.length;a<u;a++)n.call(null,t[a],a,t);else{const f=s?Object.getOwnPropertyNames(t):Object.keys(t),h=f.length;let m;for(a=0;a<h;a++)m=f[a],n.call(null,t[m],m,t)}}function Nh(t,n){n=n.toLowerCase();const s=Object.keys(t);let a=s.length,u;for(;a-- >0;)if(u=s[a],n===u.toLowerCase())return u;return null}const Rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dh=t=>!eo(t)&&t!==Rh;function fc(){const{caseless:t}=Dh(this)&&this||{},n={},s=(a,u)=>{const f=t&&Nh(n,u)||u;zo(n[f])&&zo(a)?n[f]=fc(n[f],a):zo(a)?n[f]=fc({},a):hi(a)?n[f]=a.slice():n[f]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&co(arguments[a],s);return n}const Gx=(t,n,s,{allOwnKeys:a}={})=>(co(n,(u,f)=>{s&&Ln(u)?t[f]=Sh(u,s):t[f]=u},{allOwnKeys:a}),t),Xx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jx=(t,n,s,a)=>{t.prototype=Object.create(n.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},zx=(t,n,s,a)=>{let u,f,h;const m={};if(n=n||{},t==null)return n;do{for(u=Object.getOwnPropertyNames(t),f=u.length;f-- >0;)h=u[f],(!a||a(h,t,n))&&!m[h]&&(n[h]=t[h],m[h]=!0);t=s!==!1&&Zc(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},Yx=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const a=t.indexOf(n,s);return a!==-1&&a===s},Kx=t=>{if(!t)return null;if(hi(t))return t;let n=t.length;if(!Oh(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},qx=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Zc(Uint8Array)),Zx=(t,n)=>{const a=(t&&t[Symbol.iterator]).call(t);let u;for(;(u=a.next())&&!u.done;){const f=u.value;n.call(t,f[0],f[1])}},Qx=(t,n)=>{let s;const a=[];for(;(s=t.exec(n))!==null;)a.push(s);return a},Jx=Xn("HTMLFormElement"),e_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),Yf=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),t_=Xn("RegExp"),Mh=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),a={};co(s,(u,f)=>{let h;(h=n(u,f,t))!==!1&&(a[f]=h||u)}),Object.defineProperties(t,a)},n_=t=>{Mh(t,(n,s)=>{if(Ln(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Ln(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},r_=(t,n)=>{const s={},a=u=>{u.forEach(f=>{s[f]=!0})};return hi(t)?a(t):a(String(t).split(n)),s},s_=()=>{},i_=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,Tl="abcdefghijklmnopqrstuvwxyz",Kf="0123456789",Lh={DIGIT:Kf,ALPHA:Tl,ALPHA_DIGIT:Tl+Tl.toUpperCase()+Kf},o_=(t=16,n=Lh.ALPHA_DIGIT)=>{let s="";const{length:a}=n;for(;t--;)s+=n[Math.random()*a|0];return s};function a_(t){return!!(t&&Ln(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const l_=t=>{const n=new Array(10),s=(a,u)=>{if(Ba(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[u]=a;const f=hi(a)?[]:{};return co(a,(h,m)=>{const _=s(h,u+1);!eo(_)&&(f[m]=_)}),n[u]=void 0,f}}return a};return s(t,0)},c_=Xn("AsyncFunction"),u_=t=>t&&(Ba(t)||Ln(t))&&Ln(t.then)&&Ln(t.catch),J={isArray:hi,isArrayBuffer:Ih,isBuffer:Ix,isFormData:kx,isArrayBufferView:Ox,isString:Nx,isNumber:Oh,isBoolean:Rx,isObject:Ba,isPlainObject:zo,isReadableStream:Ux,isRequest:Vx,isResponse:Hx,isHeaders:Wx,isUndefined:eo,isDate:Dx,isFile:Mx,isBlob:Lx,isRegExp:t_,isFunction:Ln,isStream:Bx,isURLSearchParams:Fx,isTypedArray:qx,isFileList:Px,forEach:co,merge:fc,extend:Gx,trim:$x,stripBOM:Xx,inherits:jx,toFlatObject:zx,kindOf:La,kindOfTest:Xn,endsWith:Yx,toArray:Kx,forEachEntry:Zx,matchAll:Qx,isHTMLForm:Jx,hasOwnProperty:Yf,hasOwnProp:Yf,reduceDescriptors:Mh,freezeMethods:n_,toObjectSet:r_,toCamelCase:e_,noop:s_,toFiniteNumber:i_,findKey:Nh,global:Rh,isContextDefined:Dh,ALPHABET:Lh,generateString:o_,isSpecCompliantForm:a_,toJSONObject:l_,isAsyncFn:c_,isThenable:u_};function je(t,n,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}J.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ph=je.prototype,Bh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bh[t]={value:t}});Object.defineProperties(je,Bh);Object.defineProperty(Ph,"isAxiosError",{value:!0});je.from=(t,n,s,a,u,f)=>{const h=Object.create(Ph);return J.toFlatObject(t,h,function(_){return _!==Error.prototype},m=>m!=="isAxiosError"),je.call(h,t.message,n,s,a,u),h.cause=t,h.name=t.name,f&&Object.assign(h,f),h};const f_=null;function dc(t){return J.isPlainObject(t)||J.isArray(t)}function kh(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function qf(t,n,s){return t?t.concat(n).map(function(u,f){return u=kh(u),!s&&f?"["+u+"]":u}).join(s?".":""):n}function d_(t){return J.isArray(t)&&!t.some(dc)}const h_=J.toFlatObject(J,{},null,function(n){return/^is[A-Z]/.test(n)});function ka(t,n,s){if(!J.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=J.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,z){return!J.isUndefined(z[R])});const a=s.metaTokens,u=s.visitor||E,f=s.dots,h=s.indexes,_=(s.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(n);if(!J.isFunction(u))throw new TypeError("visitor must be a function");function x(P){if(P===null)return"";if(J.isDate(P))return P.toISOString();if(!_&&J.isBlob(P))throw new je("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(P)||J.isTypedArray(P)?_&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function E(P,R,z){let ee=P;if(P&&!z&&typeof P=="object"){if(J.endsWith(R,"{}"))R=a?R:R.slice(0,-2),P=JSON.stringify(P);else if(J.isArray(P)&&d_(P)||(J.isFileList(P)||J.endsWith(R,"[]"))&&(ee=J.toArray(P)))return R=kh(R),ee.forEach(function(L,Z){!(J.isUndefined(L)||L===null)&&n.append(h===!0?qf([R],Z,f):h===null?R:R+"[]",x(L))}),!1}return dc(P)?!0:(n.append(qf(z,R,f),x(P)),!1)}const b=[],v=Object.assign(h_,{defaultVisitor:E,convertValue:x,isVisitable:dc});function T(P,R){if(!J.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+R.join("."));b.push(P),J.forEach(P,function(ee,X){(!(J.isUndefined(ee)||ee===null)&&u.call(n,ee,J.isString(X)?X.trim():X,R,v))===!0&&T(ee,R?R.concat(X):[X])}),b.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return T(t),n}function Zf(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function Qc(t,n){this._pairs=[],t&&ka(t,this,n)}const Fh=Qc.prototype;Fh.append=function(n,s){this._pairs.push([n,s])};Fh.toString=function(n){const s=n?function(a){return n.call(this,a,Zf)}:Zf;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function g_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Uh(t,n,s){if(!n)return t;const a=s&&s.encode||g_,u=s&&s.serialize;let f;if(u?f=u(n,s):f=J.isURLSearchParams(n)?n.toString():new Qc(n,s).toString(a),f){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class Qf{constructor(){this.handlers=[]}use(n,s,a){return this.handlers.push({fulfilled:n,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){J.forEach(this.handlers,function(a){a!==null&&n(a)})}}const Vh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p_=typeof URLSearchParams<"u"?URLSearchParams:Qc,m_=typeof FormData<"u"?FormData:null,x_=typeof Blob<"u"?Blob:null,__={isBrowser:!0,classes:{URLSearchParams:p_,FormData:m_,Blob:x_},protocols:["http","https","file","blob","url","data"]},Jc=typeof window<"u"&&typeof document<"u",E_=(t=>Jc&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),w_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b_=Jc&&window.location.href||"http://localhost",A_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jc,hasStandardBrowserEnv:E_,hasStandardBrowserWebWorkerEnv:w_,origin:b_},Symbol.toStringTag,{value:"Module"})),Wn={...A_,...__};function y_(t,n){return ka(t,new Wn.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,f){return Wn.isNode&&J.isBuffer(s)?(this.append(a,s.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function C_(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function v_(t){const n={},s=Object.keys(t);let a;const u=s.length;let f;for(a=0;a<u;a++)f=s[a],n[f]=t[f];return n}function Hh(t){function n(s,a,u,f){let h=s[f++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),_=f>=s.length;return h=!h&&J.isArray(u)?u.length:h,_?(J.hasOwnProp(u,h)?u[h]=[u[h],a]:u[h]=a,!m):((!u[h]||!J.isObject(u[h]))&&(u[h]=[]),n(s,a,u[h],f)&&J.isArray(u[h])&&(u[h]=v_(u[h])),!m)}if(J.isFormData(t)&&J.isFunction(t.entries)){const s={};return J.forEachEntry(t,(a,u)=>{n(C_(a),u,s,0)}),s}return null}function T_(t,n,s){if(J.isString(t))try{return(n||JSON.parse)(t),J.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const uo={transitional:Vh,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,f=J.isObject(n);if(f&&J.isHTMLForm(n)&&(n=new FormData(n)),J.isFormData(n))return u?JSON.stringify(Hh(n)):n;if(J.isArrayBuffer(n)||J.isBuffer(n)||J.isStream(n)||J.isFile(n)||J.isBlob(n)||J.isReadableStream(n))return n;if(J.isArrayBufferView(n))return n.buffer;if(J.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return y_(n,this.formSerializer).toString();if((m=J.isFileList(n))||a.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return ka(m?{"files[]":n}:n,_&&new _,this.formSerializer)}}return f||u?(s.setContentType("application/json",!1),T_(n)):n}],transformResponse:[function(n){const s=this.transitional||uo.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(J.isResponse(n)||J.isReadableStream(n))return n;if(n&&J.isString(n)&&(a&&!this.responseType||u)){const h=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(m){if(h)throw m.name==="SyntaxError"?je.from(m,je.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wn.classes.FormData,Blob:Wn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{uo.headers[t]={}});const S_=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I_=t=>{const n={};let s,a,u;return t&&t.split(`
`).forEach(function(h){u=h.indexOf(":"),s=h.substring(0,u).trim().toLowerCase(),a=h.substring(u+1).trim(),!(!s||n[s]&&S_[s])&&(s==="set-cookie"?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},Jf=Symbol("internals");function Ni(t){return t&&String(t).trim().toLowerCase()}function Yo(t){return t===!1||t==null?t:J.isArray(t)?t.map(Yo):String(t)}function O_(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)n[a[1]]=a[2];return n}const N_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sl(t,n,s,a,u){if(J.isFunction(a))return a.call(this,n,s);if(u&&(n=s),!!J.isString(n)){if(J.isString(a))return n.indexOf(a)!==-1;if(J.isRegExp(a))return a.test(n)}}function R_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,a)=>s.toUpperCase()+a)}function D_(t,n){const s=J.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(u,f,h){return this[a].call(this,n,u,f,h)},configurable:!0})})}class pn{constructor(n){n&&this.set(n)}set(n,s,a){const u=this;function f(m,_,x){const E=Ni(_);if(!E)throw new Error("header name must be a non-empty string");const b=J.findKey(u,E);(!b||u[b]===void 0||x===!0||x===void 0&&u[b]!==!1)&&(u[b||_]=Yo(m))}const h=(m,_)=>J.forEach(m,(x,E)=>f(x,E,_));if(J.isPlainObject(n)||n instanceof this.constructor)h(n,s);else if(J.isString(n)&&(n=n.trim())&&!N_(n))h(I_(n),s);else if(J.isHeaders(n))for(const[m,_]of n.entries())f(_,m,a);else n!=null&&f(s,n,a);return this}get(n,s){if(n=Ni(n),n){const a=J.findKey(this,n);if(a){const u=this[a];if(!s)return u;if(s===!0)return O_(u);if(J.isFunction(s))return s.call(this,u,a);if(J.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Ni(n),n){const a=J.findKey(this,n);return!!(a&&this[a]!==void 0&&(!s||Sl(this,this[a],a,s)))}return!1}delete(n,s){const a=this;let u=!1;function f(h){if(h=Ni(h),h){const m=J.findKey(a,h);m&&(!s||Sl(a,a[m],m,s))&&(delete a[m],u=!0)}}return J.isArray(n)?n.forEach(f):f(n),u}clear(n){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const f=s[a];(!n||Sl(this,this[f],f,n,!0))&&(delete this[f],u=!0)}return u}normalize(n){const s=this,a={};return J.forEach(this,(u,f)=>{const h=J.findKey(a,f);if(h){s[h]=Yo(u),delete s[f];return}const m=n?R_(f):String(f).trim();m!==f&&delete s[f],s[m]=Yo(u),a[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return J.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=n&&J.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const a=new this(n);return s.forEach(u=>a.set(u)),a}static accessor(n){const a=(this[Jf]=this[Jf]={accessors:{}}).accessors,u=this.prototype;function f(h){const m=Ni(h);a[m]||(D_(u,h),a[m]=!0)}return J.isArray(n)?n.forEach(f):f(n),this}}pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(pn.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(a){this[s]=a}}});J.freezeMethods(pn);function Il(t,n){const s=this||uo,a=n||s,u=pn.from(a.headers);let f=a.data;return J.forEach(t,function(m){f=m.call(s,f,u.normalize(),n?n.status:void 0)}),u.normalize(),f}function Wh(t){return!!(t&&t.__CANCEL__)}function gi(t,n,s){je.call(this,t??"canceled",je.ERR_CANCELED,n,s),this.name="CanceledError"}J.inherits(gi,je,{__CANCEL__:!0});function $h(t,n,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):n(new je("Request failed with status code "+s.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function M_(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function L_(t,n){t=t||10;const s=new Array(t),a=new Array(t);let u=0,f=0,h;return n=n!==void 0?n:1e3,function(_){const x=Date.now(),E=a[f];h||(h=x),s[u]=_,a[u]=x;let b=f,v=0;for(;b!==u;)v+=s[b++],b=b%t;if(u=(u+1)%t,u===f&&(f=(f+1)%t),x-h<n)return;const T=E&&x-E;return T?Math.round(v*1e3/T):void 0}}function P_(t,n){let s=0;const a=1e3/n;let u=null;return function(){const h=this===!0,m=Date.now();if(h||m-s>a)return u&&(clearTimeout(u),u=null),s=m,t.apply(null,arguments);u||(u=setTimeout(()=>(u=null,s=Date.now(),t.apply(null,arguments)),a-(m-s)))}}const oa=(t,n,s=3)=>{let a=0;const u=L_(50,250);return P_(f=>{const h=f.loaded,m=f.lengthComputable?f.total:void 0,_=h-a,x=u(_),E=h<=m;a=h;const b={loaded:h,total:m,progress:m?h/m:void 0,bytes:_,rate:x||void 0,estimated:x&&m&&E?(m-h)/x:void 0,event:f,lengthComputable:m!=null};b[n?"download":"upload"]=!0,t(b)},s)},B_=Wn.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(f){let h=f;return n&&(s.setAttribute("href",h),h=s.href),s.setAttribute("href",h),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(h){const m=J.isString(h)?u(h):h;return m.protocol===a.protocol&&m.host===a.host}}():function(){return function(){return!0}}(),k_=Wn.hasStandardBrowserEnv?{write(t,n,s,a,u,f){const h=[t+"="+encodeURIComponent(n)];J.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),J.isString(a)&&h.push("path="+a),J.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function F_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function U_(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function Gh(t,n){return t&&!F_(n)?U_(t,n):n}const e1=t=>t instanceof pn?{...t}:t;function ys(t,n){n=n||{};const s={};function a(x,E,b){return J.isPlainObject(x)&&J.isPlainObject(E)?J.merge.call({caseless:b},x,E):J.isPlainObject(E)?J.merge({},E):J.isArray(E)?E.slice():E}function u(x,E,b){if(J.isUndefined(E)){if(!J.isUndefined(x))return a(void 0,x,b)}else return a(x,E,b)}function f(x,E){if(!J.isUndefined(E))return a(void 0,E)}function h(x,E){if(J.isUndefined(E)){if(!J.isUndefined(x))return a(void 0,x)}else return a(void 0,E)}function m(x,E,b){if(b in n)return a(x,E);if(b in t)return a(void 0,x)}const _={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(x,E)=>u(e1(x),e1(E),!0)};return J.forEach(Object.keys(Object.assign({},t,n)),function(E){const b=_[E]||u,v=b(t[E],n[E],E);J.isUndefined(v)&&b!==m||(s[E]=v)}),s}const Xh=t=>{const n=ys({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:m}=n;n.headers=h=pn.from(h),n.url=Uh(Gh(n.baseURL,n.url),t.params,t.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let _;if(J.isFormData(s)){if(Wn.hasStandardBrowserEnv||Wn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((_=h.getContentType())!==!1){const[x,...E]=_?_.split(";").map(b=>b.trim()).filter(Boolean):[];h.setContentType([x||"multipart/form-data",...E].join("; "))}}if(Wn.hasStandardBrowserEnv&&(a&&J.isFunction(a)&&(a=a(n)),a||a!==!1&&B_(n.url))){const x=u&&f&&k_.read(f);x&&h.set(u,x)}return n},V_=typeof XMLHttpRequest<"u",H_=V_&&function(t){return new Promise(function(s,a){const u=Xh(t);let f=u.data;const h=pn.from(u.headers).normalize();let{responseType:m}=u,_;function x(){u.cancelToken&&u.cancelToken.unsubscribe(_),u.signal&&u.signal.removeEventListener("abort",_)}let E=new XMLHttpRequest;E.open(u.method.toUpperCase(),u.url,!0),E.timeout=u.timeout;function b(){if(!E)return;const T=pn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:T,config:t,request:E};$h(function(ee){s(ee),x()},function(ee){a(ee),x()},R),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(a(new je("Request aborted",je.ECONNABORTED,u,E)),E=null)},E.onerror=function(){a(new je("Network Error",je.ERR_NETWORK,u,E)),E=null},E.ontimeout=function(){let P=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const R=u.transitional||Vh;u.timeoutErrorMessage&&(P=u.timeoutErrorMessage),a(new je(P,R.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,u,E)),E=null},f===void 0&&h.setContentType(null),"setRequestHeader"in E&&J.forEach(h.toJSON(),function(P,R){E.setRequestHeader(R,P)}),J.isUndefined(u.withCredentials)||(E.withCredentials=!!u.withCredentials),m&&m!=="json"&&(E.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&E.addEventListener("progress",oa(u.onDownloadProgress,!0)),typeof u.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",oa(u.onUploadProgress)),(u.cancelToken||u.signal)&&(_=T=>{E&&(a(!T||T.type?new gi(null,t,E):T),E.abort(),E=null)},u.cancelToken&&u.cancelToken.subscribe(_),u.signal&&(u.signal.aborted?_():u.signal.addEventListener("abort",_)));const v=M_(u.url);if(v&&Wn.protocols.indexOf(v)===-1){a(new je("Unsupported protocol "+v+":",je.ERR_BAD_REQUEST,t));return}E.send(f||null)})},W_=(t,n)=>{let s=new AbortController,a;const u=function(_){if(!a){a=!0,h();const x=_ instanceof Error?_:this.reason;s.abort(x instanceof je?x:new gi(x instanceof Error?x.message:x))}};let f=n&&setTimeout(()=>{u(new je(`timeout ${n} of ms exceeded`,je.ETIMEDOUT))},n);const h=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(_=>{_&&(_.removeEventListener?_.removeEventListener("abort",u):_.unsubscribe(u))}),t=null)};t.forEach(_=>_&&_.addEventListener&&_.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=h,[m,()=>{f&&clearTimeout(f),f=null}]},$_=function*(t,n){let s=t.byteLength;if(!n||s<n){yield t;return}let a=0,u;for(;a<s;)u=a+n,yield t.slice(a,u),a=u},G_=async function*(t,n,s){for await(const a of t)yield*$_(ArrayBuffer.isView(a)?a:await s(String(a)),n)},t1=(t,n,s,a,u)=>{const f=G_(t,n,u);let h=0;return new ReadableStream({type:"bytes",async pull(m){const{done:_,value:x}=await f.next();if(_){m.close(),a();return}let E=x.byteLength;s&&s(h+=E),m.enqueue(new Uint8Array(x))},cancel(m){return a(m),f.return()}},{highWaterMark:2})},n1=(t,n)=>{const s=t!=null;return a=>setTimeout(()=>n({lengthComputable:s,total:t,loaded:a}))},Fa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jh=Fa&&typeof ReadableStream=="function",hc=Fa&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),X_=jh&&(()=>{let t=!1;const n=new Request(Wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),r1=64*1024,gc=jh&&!!(()=>{try{return J.isReadableStream(new Response("").body)}catch{}})(),aa={stream:gc&&(t=>t.body)};Fa&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!aa[n]&&(aa[n]=J.isFunction(t[n])?s=>s[n]():(s,a)=>{throw new je(`Response type '${n}' is not supported`,je.ERR_NOT_SUPPORT,a)})})})(new Response);const j_=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(J.isArrayBufferView(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await hc(t)).byteLength},z_=async(t,n)=>{const s=J.toFiniteNumber(t.getContentLength());return s??j_(n)},Y_=Fa&&(async t=>{let{url:n,method:s,data:a,signal:u,cancelToken:f,timeout:h,onDownloadProgress:m,onUploadProgress:_,responseType:x,headers:E,withCredentials:b="same-origin",fetchOptions:v}=Xh(t);x=x?(x+"").toLowerCase():"text";let[T,P]=u||f||h?W_([u,f],h):[],R,z;const ee=()=>{!R&&setTimeout(()=>{T&&T.unsubscribe()}),R=!0};let X;try{if(_&&X_&&s!=="get"&&s!=="head"&&(X=await z_(E,a))!==0){let W=new Request(n,{method:"POST",body:a,duplex:"half"}),F;J.isFormData(a)&&(F=W.headers.get("content-type"))&&E.setContentType(F),W.body&&(a=t1(W.body,r1,n1(X,oa(_)),null,hc))}J.isString(b)||(b=b?"cors":"omit"),z=new Request(n,{...v,signal:T,method:s.toUpperCase(),headers:E.normalize().toJSON(),body:a,duplex:"half",withCredentials:b});let L=await fetch(z);const Z=gc&&(x==="stream"||x==="response");if(gc&&(m||Z)){const W={};["status","statusText","headers"].forEach(Q=>{W[Q]=L[Q]});const F=J.toFiniteNumber(L.headers.get("content-length"));L=new Response(t1(L.body,r1,m&&n1(F,oa(m,!0)),Z&&ee,hc),W)}x=x||"text";let se=await aa[J.findKey(aa,x)||"text"](L,t);return!Z&&ee(),P&&P(),await new Promise((W,F)=>{$h(W,F,{data:se,headers:pn.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:z})})}catch(L){throw ee(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,z),{cause:L.cause||L}):je.from(L,L&&L.code,t,z)}}),pc={http:f_,xhr:H_,fetch:Y_};J.forEach(pc,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const s1=t=>`- ${t}`,K_=t=>J.isFunction(t)||t===null||t===!1,zh={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:n}=t;let s,a;const u={};for(let f=0;f<n;f++){s=t[f];let h;if(a=s,!K_(s)&&(a=pc[(h=String(s)).toLowerCase()],a===void 0))throw new je(`Unknown adapter '${h}'`);if(a)break;u[h||"#"+f]=a}if(!a){const f=Object.entries(u).map(([m,_])=>`adapter ${m} `+(_===!1?"is not supported by the environment":"is not available in the build"));let h=n?f.length>1?`since :
`+f.map(s1).join(`
`):" "+s1(f[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:pc};function Ol(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gi(null,t)}function i1(t){return Ol(t),t.headers=pn.from(t.headers),t.data=Il.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zh.getAdapter(t.adapter||uo.adapter)(t).then(function(a){return Ol(t),a.data=Il.call(t,t.transformResponse,a),a.headers=pn.from(a.headers),a},function(a){return Wh(a)||(Ol(t),a&&a.response&&(a.response.data=Il.call(t,t.transformResponse,a.response),a.response.headers=pn.from(a.response.headers))),Promise.reject(a)})}const Yh="1.7.2",eu={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{eu[t]=function(a){return typeof a===t||"a"+(n<1?"n ":" ")+t}});const o1={};eu.transitional=function(n,s,a){function u(f,h){return"[Axios v"+Yh+"] Transitional option '"+f+"'"+h+(a?". "+a:"")}return(f,h,m)=>{if(n===!1)throw new je(u(h," has been removed"+(s?" in "+s:"")),je.ERR_DEPRECATED);return s&&!o1[h]&&(o1[h]=!0,console.warn(u(h," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(f,h,m):!0}};function q_(t,n,s){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let u=a.length;for(;u-- >0;){const f=a[u],h=n[f];if(h){const m=t[f],_=m===void 0||h(m,f,t);if(_!==!0)throw new je("option "+f+" must be "+_,je.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new je("Unknown option "+f,je.ERR_BAD_OPTION)}}const mc={assertOptions:q_,validators:eu},Nr=mc.validators;class ws{constructor(n){this.defaults=n,this.interceptors={request:new Qf,response:new Qf}}async request(n,s){try{return await this._request(n,s)}catch(a){if(a instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=ys(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:f}=s;a!==void 0&&mc.assertOptions(a,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),u!=null&&(J.isFunction(u)?s.paramsSerializer={serialize:u}:mc.assertOptions(u,{encode:Nr.function,serialize:Nr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let h=f&&J.merge(f.common,f[s.method]);f&&J.forEach(["delete","get","head","post","put","patch","common"],P=>{delete f[P]}),s.headers=pn.concat(h,f);const m=[];let _=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(_=_&&R.synchronous,m.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let E,b=0,v;if(!_){const P=[i1.bind(this),void 0];for(P.unshift.apply(P,m),P.push.apply(P,x),v=P.length,E=Promise.resolve(s);b<v;)E=E.then(P[b++],P[b++]);return E}v=m.length;let T=s;for(b=0;b<v;){const P=m[b++],R=m[b++];try{T=P(T)}catch(z){R.call(this,z);break}}try{E=i1.call(this,T)}catch(P){return Promise.reject(P)}for(b=0,v=x.length;b<v;)E=E.then(x[b++],x[b++]);return E}getUri(n){n=ys(this.defaults,n);const s=Gh(n.baseURL,n.url);return Uh(s,n.params,n.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(n){ws.prototype[n]=function(s,a){return this.request(ys(a||{},{method:n,url:s,data:(a||{}).data}))}});J.forEach(["post","put","patch"],function(n){function s(a){return function(f,h,m){return this.request(ys(m||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}ws.prototype[n]=s(),ws.prototype[n+"Form"]=s(!0)});class tu{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(f){s=f});const a=this;this.promise.then(u=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](u);a._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(m=>{a.subscribe(m),f=m}).then(u);return h.cancel=function(){a.unsubscribe(f)},h},n(function(f,h,m){a.reason||(a.reason=new gi(f,h,m),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new tu(function(u){n=u}),cancel:n}}}function Z_(t){return function(s){return t.apply(null,s)}}function Q_(t){return J.isObject(t)&&t.isAxiosError===!0}const xc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xc).forEach(([t,n])=>{xc[n]=t});function Kh(t){const n=new ws(t),s=Sh(ws.prototype.request,n);return J.extend(s,ws.prototype,n,{allOwnKeys:!0}),J.extend(s,n,null,{allOwnKeys:!0}),s.create=function(u){return Kh(ys(t,u))},s}const Ct=Kh(uo);Ct.Axios=ws;Ct.CanceledError=gi;Ct.CancelToken=tu;Ct.isCancel=Wh;Ct.VERSION=Yh;Ct.toFormData=ka;Ct.AxiosError=je;Ct.Cancel=Ct.CanceledError;Ct.all=function(n){return Promise.all(n)};Ct.spread=Z_;Ct.isAxiosError=Q_;Ct.mergeConfig=ys;Ct.AxiosHeaders=pn;Ct.formToJSON=t=>Hh(J.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=zh.getAdapter;Ct.HttpStatusCode=xc;Ct.default=Ct;let J_="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const Cs=Ma("users",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await Ct.get(J_,{params:{table:"users"}});this.data=t.data,console.log("useUsersStore:",this.data)}catch(t){console.log("call api error: "+t);return}},async get_user_by_email(t){this.data===null&&await this.callAPI();for(let n=0;n<this.data.length;n++)if(this.data[n].email===t)return console.log("user found: ",this.data[n]),this.data[n];return console.log("user not found."),!1}},getters:{get_data(){return this.data}}});let eE="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const $r=Ma("clubs",{state:()=>({data:null}),actions:{async callAPI(){try{const t=await Ct.get(eE,{params:{table:"clubs"}});this.data=t.data,console.log("useClubsStore:",this.data)}catch(t){console.log("call api error: ",t);return}},async get_club_by_email(t){this.data===null&&await this.callAPI();const n=this.data.find(s=>s.email===t);return n||(console.log("club not found."),null)},async get_user_by_email_password(t,n){this.data===null&&await this.callAPI();for(let s=0;s<this.data.length;s++)if(console.log(this.data[s].email,this.data[s].password),this.data[s].email==t&&this.data[s].password==n)return this.data[s];return console.log("club not found."),!1}},getters:{}});let tE="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";const to=Ma("records",{state:()=>({data:null}),actions:{async callAPI(){const t=await Ct.get(tE,{params:{table:"records"}});this.data=t.data.reverse(),console.log("useRecordsStore:",this.data)},async query_record(t,n,s){console.log("query_record(",t,", ",n,", ",s,")"),await this.callAPI(),console.log(this.data);for(let a=0;a<this.data.length;a++)if(console.log(this.data[a].club_email,this.data[a].user_email,this.data[a].is_ig),this.data[a].club_email==t&&this.data[a].user_email==n&&this.data[a].is_ig==s)return console.log("record found:"),console.log(this.data[a]),this.data[a];return console.log("record not found."),!1},async query_by_user(t){const n=$r();await this.callAPI();let s=[];const a=ye();for(let u=0;u<this.data.length;u++)if(this.data[u].user_email===t){a.value=await n.get_club_by_email(this.data[u].club_email);let f=a.value.name,h=a.value.text_on_stamp;s.push({user_email:this.data[u].user_email,club_name:f,club_stamp:h,club_email:this.data[u].club_email,created_time:this.data[u].created_time,is_ig:this.data[u].is_ig})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s},async query_by_club(t){const n=Cs();await this.callAPI();let s=[];const a=ye();for(let u=0;u<this.data.length;u++)if(console.log(this.data[u].club_email),this.data[u].club_email===t){a.value=await n.get_user_by_email(this.data[u].user_email),console.log(a.value);let f=a.value.name;console.log("user_name: ",f),s.push({user_name:f,created_time:this.data[u].created_time,is_ig:this.data[u].is_ig})}return s==[]&&(console.log("record not found"),s=!1),console.log("query_by_user list:",s),s}},getters:{}}),jn=Ma("auth",{state:()=>({name:null,nick_name:null,department:null,email:null,phone:null,stamp_text:null,is_club:!1,token:null,access_priv:!1,is_staff:!1,records:null}),actions:{async get_user_records(){const t=to();this.isLoggedIn&&(this.records=await t.query_by_user(this.email),console.log("email: "+this.email,this.records))},async get_club_records(){const t=to();this.isLoggedIn&&(this.records=await t.query_by_club(this.email),console.log("email: "+this.email,this.records))},async user_login(t){t=t.toLowerCase();const n=Cs();try{const s=await n.get_user_by_email(t);console.log("user:",s),s?(this.token=s.user_id,this.access_priv=s.access_priv,this.name=s.name,this.nick_name=s.nick_name,this.department=s.department,this.email=s.email,this.phone=s.phone_number,console.log("user login successful!")):console.log("login failed :(")}catch(s){return console.error("Login error:",s),!1}},async club_login(t,n){console.log("email:",t,"password:",n);const a=await $r().get_user_by_email_password(t,n);if(console.log("club: "+a),a)this.token=a.club_id,this.access_priv=a.access_priv,this.is_staff=a.is_staff,this.is_club=!0,this.name=a.name,this.email=a.email,this.stamp_text=a.text_on_stamp,console.log("club login successful!");else{console.log("login failed :(");return}},logout(){this.token=null,this.is_club=!1,this.records=null,this.name=null,this.nick_name=null,this.department=null,this.email=null,this.phone=null,console.log("logout successed :p")},async update_auth(){if(!this.isLoggedIn)return;const t=Cs();await t.callAPI();try{const n=await t.get_user_by_email(this.email);console.log("user:",n),n?(this.token=n.user_id,this.access_priv=n.access_priv,this.name=n.name,this.nick_name=n.nick_name,this.department=n.department,this.email=n.email,this.phone=n.phone_number,this.is_club?this.get_club_records():this.get_user_records(),console.log("Update auth data successful!")):console.log("Update auth data failed, unknown account:",this.email)}catch(n){return console.error("Update auth data error:",n),!1}},async update_club_auth(){if(!this.isLoggedIn)return;const t=$r();await t.callAPI();try{const n=await t.get_club_by_email(this.email);console.log("user:",n),n?(this.token=n.club_id,this.access_priv=n.access_priv,this.is_staff=n.is_staff,this.is_club=!0,this.name=n.name,this.email=n.email,this.stamp_text=n.text_on_stamp,this.is_club?this.get_club_records():this.get_user_records(),console.log("Update auth data successful!")):console.log("Update auth data failed, unknown account:",this.email)}catch(n){return console.error("Update auth data error:",n),!1}}},getters:{isLoggedIn:t=>!!t.token,records_len:t=>t.records==null?0:t.records.length,get_access_priv:t=>t.access_priv,get_records:t=>t.records}}),Fn=(t,n)=>{const s=t.__vccOpts||t;for(const[a,u]of n)s[a]=u;return s},qh=t=>(Kr("data-v-536a8121"),t=t(),qr(),t),nE={class:"navbar navbar-expand-md navbar-dark fixed-top bg-danger"},rE={class:"container-fluid"},sE=qh(()=>D("strong",null,"TTU 社團博覽會",-1)),iE=qh(()=>D("span",{class:"navbar-toggler-icon"},null,-1)),oE=[iE],aE={class:"navbar-collapse",id:"navbarCollapse"},lE={class:"navbar-nav me-auto mb-2 mb-md-0"},cE={key:0,class:"nav-item"},uE={key:1,class:"nav-item"},fE={key:2,class:"nav-item"},dE={key:3,class:"nav-item"},hE={class:"nav-item"},gE={key:4,class:"nav-item"},pE={key:5,class:"nav-item"},mE={__name:"NavBar",setup(t){jm(E=>({"071388da":h.value}));const n=jn(),s=Zr(),a=Ah(),u=ye(!1),f=ye(null),h=ye("0px");function m(){u.value=!u.value,u.value&&oo(()=>{x()})}function _(E){s.push(E),u.value=!1}function x(){f.value&&(h.value=`${f.value.scrollHeight}px`)}return Es(()=>a.path,()=>{u.value=!1}),window.addEventListener("resize",()=>{u.value&&x()}),Is(()=>{f.value=document.getElementById("navbarCollapse")}),(E,b)=>{const v=Ud("RouterLink");return ke(),Fe("nav",nE,[D("div",rE,[It(v,{to:"/",class:"navbar-brand"},{default:ta(()=>[sE]),_:1}),D("button",{class:"navbar-toggler",onClick:b[0]||(b[0]=T=>m()),type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},oE),It(Oa,{name:"expand"},{default:ta(()=>[Bt(D("div",aE,[D("ul",lE,[we(n).is_club?St("",!0):(ke(),Fe("li",cE,[D("button",{onClick:b[1]||(b[1]=T=>_("/")),class:"nav-link"},"首頁")])),we(n).is_club?St("",!0):(ke(),Fe("li",uE,[D("button",{onClick:b[2]||(b[2]=T=>_("/stamp")),class:"nav-link"},"活動蓋章")])),we(n).is_club?(ke(),Fe("li",fE,[D("button",{onClick:b[3]||(b[3]=T=>_("/club/panel")),class:"nav-link"},"社團後台")])):St("",!0),we(n).is_club?(ke(),Fe("li",dE,[D("button",{onClick:b[4]||(b[4]=T=>_("/scan")),class:"nav-link"},"掃描新生")])):St("",!0),D("li",hE,[D("button",{onClick:b[5]||(b[5]=T=>_("/rules")),class:"nav-link"},"遊戲規則")]),we(n).isLoggedIn?St("",!0):(ke(),Fe("li",gE,[D("button",{onClick:b[6]||(b[6]=T=>_("/register")),class:"nav-link"},"註冊帳號")])),we(n).isLoggedIn?St("",!0):(ke(),Fe("li",pE,[D("button",{onClick:b[7]||(b[7]=T=>_("/club/login")),class:"nav-link"},"社團登入")]))])],512),[[Bi,u.value]])]),_:1})])])}}},xE=Fn(mE,[["__scopeId","data-v-536a8121"]]),_E=Ta('<svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"><button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg><span class="visually-hidden" id="bd-theme-text">Toggle theme</span></button><ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg> Light <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg> Dark <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li><li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg> Auto <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></div>',2),EE={class:"flex-shrink-0"},wE={class:"container",style:{"margin-top":"60px"}},bE=Ta('<footer class="footer mt-auto py-3 bg-body-tertiary"><div class="container"><div class="text-body-secondary"> © 2024 <a href="http://ttussc.github.io">TTUSSC</a>. Licensed under <a href="https://github.com/TTUSSC/Earth_Game/blob/main/LICENSE">MIT</a></div></div></footer>',1),AE={__name:"App",setup(t){return(()=>{const s="TTU 社團博覽會",a=ye(s),u=Ah();return Es(()=>u.meta.title,f=>{a.value=f?`${s}｜${f}`:s,document.title=a.value},{immediate:!0}),a})(),(s,a)=>{const u=Ud("router-view");return ke(),Fe(nn,null,[_E,D("header",null,[It(xE)]),D("main",EE,[D("div",wE,[It(Oa,{name:"route",mode:"out-in"},{default:ta(()=>[It(u,{class:"pt-3"})]),_:1})])]),bE],64)}}},yE=["src"],nu={__name:"createQRcode",props:{url:String,height:Number},setup(t){const n=t;var s="https://quickchart.io/qr?size=1080&margin=2&text=";return console.log(s+n.url),(a,u)=>(ke(),Fe("img",{class:"qrcode img-fluid rounded",src:we(s)+n.url,alt:"",style:ei({maxHeight:t.height+"px"})},null,12,yE))}},ar=t=>(Kr("data-v-218a5e82"),t=t(),qr(),t),CE=ar(()=>D("h1",null,"社博大地遊戲",-1)),vE={class:"my-4"},TE=ar(()=>D("div",{class:"card-btn card mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 邀請朋友！ "),D("i",{class:"fa-solid fa-share-from-square bi ms-auto"})])],-1)),SE={class:"collapse mb-3 mx-auto",id:"collapseExample"},IE={class:"card card-body"},OE=ar(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 遊戲規則 "),D("i",{class:"fa-solid fa-scale-balanced bi ms-auto"})],-1)),NE=[OE],RE=ar(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 攤位遊戲蓋章 "),D("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),DE=[RE],ME=ar(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 註冊帳號 "),D("i",{class:"fa-solid fa-right-to-bracket bi ms-auto"})],-1)),LE=[ME],PE=ar(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 社團秘密通道 "),D("i",{class:"fa-solid fa-dungeon bi ms-auto"})],-1)),BE=[PE],kE={class:"card-btn card mb-2"},FE=ar(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"},"data-bs-toggle":"modal","data-bs-target":"#logoutModal"},[vn(" 我要登出了 "),D("i",{class:"fa-solid fa-right-from-bracket bi ms-auto"})],-1)),UE=[FE],VE={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},HE={class:"modal-dialog modal-dialog-centered"},WE={class:"modal-content"},$E=ar(()=>D("div",{class:"modal-header"},[D("h1",{class:"modal-title fs-5"},"登出確認"),D("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),GE=ar(()=>D("div",{class:"modal-body"},[D("p",null,"確認要登出帳號嗎？")],-1)),XE={class:"modal-footer"},jE=ar(()=>D("button",{type:"button",class:"btn btn-secondary mx-2","data-bs-dismiss":"modal"},"取消",-1)),zE={__name:"HomeView",setup(t){const n=Zr(),s=jn();return(a,u)=>(ke(),Fe("div",null,[CE,D("section",vE,[TE,D("div",SE,[D("div",IE,[It(nu,{url:"https://ttussc.github.io/Earth_Game"})])]),D("div",{class:"card-btn card mb-2",onClick:u[0]||(u[0]=f=>{we(n).push({name:"rules"})})},NE),Bt(D("div",{class:"card-btn card mb-2",onClick:u[1]||(u[1]=f=>{we(n).push({name:"stamp"})})},DE,512),[[Bi,!we(s).is_club]]),Bt(D("div",{class:"card-btn card mb-2",onClick:u[2]||(u[2]=f=>{we(n).push({name:"register"})})},LE,512),[[Bi,!we(s).isLoggedIn]]),Bt(D("div",{class:"card-btn card mb-2",onClick:u[3]||(u[3]=f=>{we(n).push({name:"club_login"})})},BE,512),[[Bi,!we(s).isLoggedIn||we(s).isLoggedIn&&we(s).is_club]]),Bt(D("div",kE,UE,512),[[Bi,we(s).isLoggedIn]])]),D("div",VE,[D("div",HE,[D("div",WE,[$E,GE,D("div",XE,[jE,D("button",{type:"button",class:"btn btn-danger mx-2","data-bs-dismiss":"modal",onClick:u[4]||(u[4]=f=>{we(s).logout(),we(n).push("/")})}," 登出 ")])])])])]))}},YE=Fn(zE,[["__scopeId","data-v-218a5e82"]]),KE={},qE=D("h1",null,"排行榜",-1),ZE=[qE];function QE(t,n){return ke(),Fe("div",null,ZE)}const JE=Fn(KE,[["render",QE]]),ew=D("h1",{class:"title"},"蓋章！",-1),tw={class:"col mb-3"},nw=["disabled"],rw=D("div",{class:"valid-feedback"},"Looks good!",-1),sw=D("div",{class:"invalid-feedback"},"Looks bad!",-1),iw={class:"col-3 mb-3"},ow={class:"nav nav-tabs mb-2",id:"myTab",role:"tablist"},aw=D("li",{class:"nav-item",role:"presentation"},[D("button",{class:"nav-link active",id:"qrcode-tab","data-bs-toggle":"tab","data-bs-target":"#qrcode-tab-pane",type:"button",role:"tab","aria-controls":"qrcode-tab-pane","aria-selected":"true"}," QR code ")],-1),lw={class:"nav-item",role:"presentation"},cw={class:"nav-item",role:"presentation"},uw={class:"tab-pane fade show active",id:"qrcode-tab-pane",role:"tabpanel","aria-labelledby":"qrcode-tab",tabindex:"0"},fw={key:1},dw={key:2},hw={class:"tab-pane fade",id:"card-tab-pane",role:"tabpanel","aria-labelledby":"card-tab",tabindex:"0"},gw={key:0},pw={class:"mb-2"},mw={class:"card-header d-flex align-items-center"},xw={class:"card-body"},_w={key:0},Ew={key:1},ww={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},bw={key:0,class:"card"},Aw={class:"card-header d-flex align-items-center"},yw={class:"card-body"},Cw={class:"card-text"},vw=D("br",null,null,-1),Tw=D("br",null,null,-1),Sw=D("br",null,null,-1),Iw=D("br",null,null,-1),Ow={key:1},Nw={__name:"StampView",setup(t){const n=Cs(),s=to(),a=$r();n.callAPI(),s.callAPI(),a.callAPI();const u=jn(),f=ye(""),h=ye(!1),m=ye(""),_=Qe(()=>u.access_priv);let x=ye(!1),E=ye("btn btn-primary"),b=ye("登入");const v=async()=>{console.log("lock btn pushed."),x.value=!x.value,x.value?(E.value="btn btn-danger",b.value="登出"):(E.value="btn btn-primary",b.value="登入"),x.value?(console.log("login account:",m),await u.user_login(m.value),u.isLoggedIn?(h.value=!1,f.value="",await u.get_user_records()):(h.value=!0,f.value="找不到與電子郵件相符的帳號。尚未註冊帳號則點擊選單註冊帳號。",x.value=!1,E.value="btn btn-primary",b.value="登入")):u.logout()},T=ye(null),P=ye(0);Is(()=>{console.log("auth email:",u.email),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,x.value||(x.value=!0,E.value="btn btn-danger",b.value="登出")),R(),window.addEventListener("resize",R)}),u.isLoggedIn&&(console.log("user is already loged in."),m.value=u.email,x.value||(x.value=!0,E.value="btn btn-danger",b.value="登出"));const R=()=>{if(T.value){const ee=T.value.getBoundingClientRect(),X=window.innerHeight;P.value=X-ee.top-110,console.log("剩餘高度：",P.value)}},z=new Intl.DateTimeFormat("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return(ee,X)=>(ke(),Fe("div",null,[ew,f.value?(ke(),Fe("div",{key:0,class:tt(["mt-3 text-break",["alert",h.value?"alert-danger":"alert-success"]]),role:"alert"},We(f.value),3)):St("",!0),D("form",{class:"row align-items-center needs-validation my-3",onSubmit:lo(v,["prevent"])},[D("div",tw,[Bt(D("input",{type:"email",class:"form-control",id:"account","onUpdate:modelValue":X[0]||(X[0]=L=>m.value=L),placeholder:"輸入 Email",required:"",disabled:we(x)},null,8,nw),[[gn,m.value]]),rw,sw]),D("div",iw,[D("button",{type:"submit",class:tt(["btn",we(E)])},We(we(b)),3)])],32),D("ul",ow,[aw,D("li",lw,[D("button",{class:"nav-link",id:"card-tab","data-bs-toggle":"tab","data-bs-target":"#card-tab-pane",type:"button",role:"tab","aria-controls":"card-tab-pane","aria-selected":"false",onClick:X[1]||(X[1]=L=>{we(u).update_auth()})}," 集點卡 ")]),D("li",cw,[D("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false",onClick:X[2]||(X[2]=L=>{we(u).update_auth()})}," 個人資料 ")])]),D("div",{class:"tab-content",id:"myTabContent",ref_key:"tabContent",ref:T},[D("div",uw,[we(u).isLoggedIn&&we(u).access_priv?(ke(),Fe("div",{key:0,class:"d-flex",style:ei({maxHeight:P.value+"px"})},[It(nu,{class:"mx-auto",url:m.value.trim().toLowerCase(),height:P.value},null,8,["url","height"])],4)):we(u).isLoggedIn&&!we(u).access_priv?(ke(),Fe("div",fw," 兌換完抽獎券，帳號已經被鎖定了喔～ ")):(ke(),Fe("div",dw," 沒登入不能掃描 QR code 喔 "))]),D("div",hw,[we(u).isLoggedIn?(ke(),Fe("div",gw,[D("div",pw,"總點數："+We(we(u).records_len),1),D("div",{class:"overflow-auto",style:ei({maxHeight:P.value+"px"})},[(ke(!0),Fe(nn,null,Vd(Qe(()=>we(u).records).value,L=>(ke(),Fe("div",{class:"card my-2",key:L.created_time},[D("div",mw,[D("strong",null,We(L.club_name)+" ",1),D("span",{class:tt(["badge rounded-pill",{"text-bg-danger":L.is_ig,"text-bg-primary":!L.is_ig}])},We(L.is_ig?"限時動態":"攤位集點"),3)]),D("div",xw,[L.club_stamp!=""?(ke(),Fe("p",_w,We(L.club_stamp),1)):St("",!0),vn(" 蓋章時間："+We(we(z).format(new Date(L.created_time))),1)])]))),128))],4)])):(ke(),Fe("div",Ew," 這是一張空的集點卡呢 "))]),D("div",ww,[we(u).isLoggedIn?(ke(),Fe("div",bw,[D("div",Aw,[D("strong",null,We(we(u).name)+" ",1),D("span",{class:tt(["badge rounded-pill",{"text-bg-success":_.value,"text-bg-danger":!_.value}])},We(_.value?"集點中":"已兌換抽獎券"),3)]),D("div",yw,[D("p",Cw,[D("span",null,"暱稱： "+We(we(u).nick_name),1),vw,D("span",null,"科系： "+We(we(u).department),1),Tw,D("span",null,"電子信箱： "+We(we(u).email),1),Sw,D("span",null,"電話號碼： "+We(we(u).phone),1),Iw])])])):(ke(),Fe("div",Ow," 這裡什麼都沒有喔 (ゝ∀･) "))])],512)]))}},Rw="/Earth_Game/ssc_full_name.png",Dw={},Mw=Ta('<h1 class="my-3">主辦單位</h1><div class="text-center"><h2>科學開源服務社</h2></div><img class="img-fluid mt-2 mb-4" src="'+Rw+'" alt=""><p> 大同大學科學開源服務社（TTUSSC）是透過開源的方式做服務的社團。 會有技術型的社課，讓社員們可以學到各種課內學不到的技術與知識。我們也致力於校園內推廣開源文化，希望可以改善整體風氣，提供一個舒適的學習平台。 也會帶社員們參加國內的研討會，如：SITCON、COSCUP，並且在寒暑假一起舉辦營隊。 想要偷偷內卷但找不到同伴嗎？大學生活希望更充實的度過嗎？快來加入科學開源服務社的大家庭吧！ </p><h1 class="mb-4">共同主辦</h1><div class="text-center"><h2>大智佛學社</h2><p></p></div><div class="text-center"><h2>美術社</h2><p></p></div><div class="text-center"><h2>桌上遊戲社</h2><p></p></div><div class="text-center"><h2>飲品社</h2><p></p></div>',9),Lw=[Mw];function Pw(t,n){return ke(),Fe("div",null,Lw)}const Bw=Fn(Dw,[["render",Pw]]),kw={},Fw=D("h1",null,"404 Not Found",-1),Uw=D("p",null,"找不到這個網址的網頁餒",-1),Vw=[Fw,Uw];function Hw(t,n){return ke(),Fe("div",null,Vw)}const a1=Fn(kw,[["render",Hw]]),Ua=t=>(Kr("data-v-946d97f4"),t=t(),qr(),t),Ww=Ua(()=>D("h1",null,"註冊",-1)),$w={class:"col-md-6"},Gw={class:"invalid-feedback"},Xw={class:"col-md-6"},jw={class:"invalid-feedback"},zw={class:"col-md-6"},Yw=Ta('<option value="" selected disabled data-v-946d97f4>選擇科系</option><hr data-v-946d97f4><option value="機械與材料工程學系" data-v-946d97f4>機械與材料工程學系</option><option value="化學工程與生物科技學系" data-v-946d97f4>化學工程與生物科技學系</option><option value="工程學院學士班" data-v-946d97f4>工程學院學士班</option><option value="電機工程學系" data-v-946d97f4>電機工程學系</option><option value="資訊工程學系" data-v-946d97f4>資訊工程學系</option><option value="事業經營學系" data-v-946d97f4>事業經營學系</option><option value="資訊經營學系" data-v-946d97f4>資訊經營學系</option><option value="工業設計學系" data-v-946d97f4>工業設計學系</option><option value="媒體設計學系" data-v-946d97f4>媒體設計學系</option><option value="應用外語學系" data-v-946d97f4>應用外語學系</option>',12),Kw=[Yw],qw={class:"invalid-feedback"},Zw={class:"col-md-6"},Qw={class:"invalid-feedback"},Jw={class:"col-md-6"},eb={class:"invalid-feedback"},tb={class:"col-12"},nb={class:"form-check"},rb=Ua(()=>D("label",{class:"form-check-label",for:"gridCheck"},[vn(" 同意"),D("a",{"data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"資料使用條款")],-1)),sb={class:"invalid-feedback"},ib=Ua(()=>D("div",{class:"collapse mb-3 mx-auto",id:"collapseExample"},[D("div",{class:"card card-body"},[D("h6",null,"資料使用條款"),D("p",null," 大同大學社團博覽會（以下簡稱「本活動」）的「大地遊戲集點活動」旨在 促進參與者對各社團的了解與興趣。參與者需透過系統蓋章和儲存資料來收 集點數。 "),D("p",null," 為了參加本活動，我們需要收集您的個人資料，包括但不限於姓名、 聯絡電話、電子郵件地址等（以下簡稱「個人資料」）。這些資料將用於活 動管理和參與者聯絡。 "),D("p",null," 收集的個人資料僅用於：管理和統計參與情況、向您發送活動相關的通知、 獎品信息及其他必要的溝通。 "),D("p",null," 您有權查詢我們持有的您的個人資料，並要求更正或刪除不正確的資料。 您可隨時撤回對個人資料使用的同意，這可能會影響您參與本活動的資格。 ")])],-1)),ob={class:"col-6 d-grid mx-auto"},ab=["disabled"],lb={key:1,class:"loading-overlay"},cb=Ua(()=>D("div",{class:"spinner-border text-primary",role:"status"},[D("span",{class:"visually-hidden"},"Loading...")],-1)),ub=[cb],fb={__name:"RegisterView",setup(t){const n=Zr(),s=Cs(),a=jn();let u=ye(""),f=ye(""),h=ye(""),m=ye(""),_=ye(""),x=ye(""),E=ye(!1);const b=ye(!1),v=ye(""),T=ye(!1),P=ye({name:"",nick_name:"",department:"",email:"",phone:"",password:"",check:""});var R=ye(!1);const z=async()=>{R.value=!0,b.value=!0;try{if(await B()){const $=new FormData;$.append("entry.1936143612",u.value),$.append("entry.1883933211",f.value),$.append("entry.2093473455",m.value.toLowerCase()),$.append("entry.1241463021",_.value),$.append("entry.1370233916",h.value),await fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfijitS0keu4OKn0P6PdaVg_R9QGPwsP5jl7Wa7RIOnNeNYbA/formResponse",{method:"POST",mode:"no-cors",body:$}),console.log("Form submitted successfully"),console.log("Submitted email:",m.value);let re=null;for(let Re=0;Re<5;Re++)if(console.log(`Attempt ${Re+1} to fetch user data`),await s.callAPI(),re=await s.get_user_by_email(m.value),console.log("API response:",re),re){console.log("i=",Re,"found updated user:",re),T.value=!1;break}else T.value=!0;T.value?v.value="資料提交失敗":(v.value="註冊成功！",console.log("trying to login."),await a.user_login(m.value),console.log("name:",a.name),console.log("nick_name:",a.nick_name),console.log("department:",a.department),console.log("email:",a.email),console.log("phone:",a.phone),b.value=!1,xe(),n.push({name:"stamp"}))}else b.value=!1,console.log("驗證失敗或未勾選同意條款")}catch(Ee){T.value=!0,v.value="註冊表單錯誤："+Ee,R.value=!1,console.error("Error submitting form:",Ee)}finally{b.value=!1}},ee=(Ee,$,re)=>re.required&&(!$||$==="")?(P.value[Ee]="此欄位為必填",!1):re.minLength&&$.length<re.minLength?(P.value[Ee]=`最少需要 ${re.minLength} 個字符`,!1):re.pattern&&!re.pattern.test($)?(P.value[Ee]="格式不正確",!1):(P.value[Ee]="",!0),X=Qe(()=>ee("name",u.value,{required:!0})),L=Qe(()=>ee("nick_name",f.value,{required:!1})),Z=Qe(()=>ee("department",h.value,{required:!0})),se=Qe(()=>ee("email",m.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),W=Qe(()=>ee("phone",_.value,{required:!0,pattern:/^\d{10}$/})),F=Qe(()=>ee("check",E.value,{required:!0})),Q=Qe(()=>X.value&&L.value&&Z.value&&se.value&&W.value&&F.value);async function B(){let Ee="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";var $=!0;if(!Q.value)return!1;try{const Re=await Ct.get(Ee,{params:{table:"users"}});console.log("get users data:"),console.log(Re.data);const G=Re.data;for(var re=0;re<G.length;re++)if(G[re].email===m.value||G[re].phone_number===_.value)return console.log("data conflict."),T.value=!0,v.value="電子信箱或電話號碼已經被註冊過了。",R.value=!1,!1;return console.log("data valid passed."),$}catch(Re){return console.error("Error validating form:",Re),!1}}const xe=()=>{u.value="",f.value="",m.value="",_.value="",x.value="",E.value=!1};return(Ee,$)=>(ke(),Fe("div",null,[Ww,v.value?(ke(),Fe("div",{key:0,class:tt(["mt-3",["alert",T.value?"alert-danger":"alert-success"]]),role:"alert"},We(v.value),3)):St("",!0),D("form",{class:tt(["row g-3 my-3 needs-validation",{"was-validated":we(R)}]),onSubmit:lo(z,["prevent"]),novalidate:""},[D("div",$w,[Bt(D("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=re=>rt(u)?u.value=re:u=re),class:tt(["form-control",{"is-invalid":!X.value}]),name:"name",id:"name",placeholder:"姓名",required:""},null,2),[[gn,we(u)]]),D("div",Gw,We(P.value.name),1)]),D("div",Xw,[Bt(D("input",{type:"text","onUpdate:modelValue":$[1]||($[1]=re=>rt(f)?f.value=re:f=re),class:tt(["form-control",{"is-invalid":!L.value}]),name:"nick_name",id:"nick_name",placeholder:"暱稱",required:""},null,2),[[gn,we(f)]]),D("div",jw,We(P.value.nick_name),1)]),D("div",zw,[Bt(D("select",{"onUpdate:modelValue":$[2]||($[2]=re=>rt(h)?h.value=re:h=re),class:tt(["form-select",{"is-invalid":!Z.value}]),name:"department",id:"department",required:""},Kw,2),[[l2,we(h)]]),D("div",qw,We(P.value.department),1)]),D("div",Zw,[Bt(D("input",{type:"email","onUpdate:modelValue":$[3]||($[3]=re=>rt(m)?m.value=re:m=re),class:tt(["form-control",{"is-invalid":!se.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[gn,we(m)]]),D("div",Qw,We(P.value.email),1)]),D("div",Jw,[Bt(D("input",{type:"tel","onUpdate:modelValue":$[4]||($[4]=re=>rt(_)?_.value=re:_=re),class:tt(["form-control",{"is-invalid":!W.value}]),name:"phone",id:"phone",placeholder:"電話號碼",required:""},null,2),[[gn,we(_)]]),D("div",eb,We(P.value.phone),1)]),D("div",tb,[D("div",nb,[Bt(D("input",{type:"checkbox",class:tt(["form-check-input",{"is-invalid":!F.value}]),"onUpdate:modelValue":$[5]||($[5]=re=>rt(E)?E.value=re:E=re),id:"gridCheck",required:""},null,2),[[a2,we(E)]]),rb,D("div",sb,We(P.value.check),1)])]),ib,D("div",ob,[D("button",{type:"submit",class:"btn btn-primary",disabled:!Q.value||b.value},We(b.value?"提交中...":"註冊"),9,ab)])],34),b.value?(ke(),Fe("div",lb,ub)):St("",!0)]))}},db=Fn(fb,[["__scopeId","data-v-946d97f4"]]);var Te;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var l1=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),c1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(c1||(c1={}));function hb(t){return Object.values(Te).includes(t)}var la;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(la||(la={}));var gb=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[la.SCAN_TYPE_CAMERA,la.SCAN_TYPE_FILE],t}(),Zh=function(){function t(n,s){this.format=n,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!l1.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,l1.get(n))},t}(),u1=function(){function t(){}return t.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t}(),_c;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_c||(_c={}));var pb=function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:_c.UNKWOWN_ERROR}},t}(),mb=function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t}();function cr(t){return typeof t>"u"||t===null}var Ys=function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Qh=function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),h=Object.keys(n),m=0,_=h;m<_.length;m++){var x=_[m];if(f.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ec={exports:{}};(function(t,n){(function(s,a){a(n)})(Ri,function(s){function a(A){return A==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var r in e)e.hasOwnProperty(r)&&(A[r]=e[r])};function f(A,e){u(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function h(A,e){var r=Object.setPrototypeOf;r?r(A,e):A.__proto__=e}function m(A,e){e===void 0&&(e=A.constructor);var r=Error.captureStackTrace;r&&r(A,e)}var _=function(A){f(e,A);function e(r){var i=this.constructor,o=A.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),h(o,i.prototype),m(o),o}return e}(Error);class x extends _{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class b extends x{}b.kind="IllegalArgumentException";class v{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,i,o){const l=this.binarizer.getLuminanceSource().crop(e,r,i,o);return new v(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends x{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class P{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(e,r,i,o,l){for(;l--;)i[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class z extends x{}z.kind="IndexOutOfBoundsException";class ee extends z{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}ee.kind="ArrayIndexOutOfBoundsException";class X{static fill(e,r){for(let i=0,o=e.length;i<o;i++)e[i]=r}static fillWithin(e,r,i,o){X.rangeCheck(e.length,r,i);for(let l=r;l<i;l++)e[l]=o}static rangeCheck(e,r,i){if(r>i)throw new b("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new ee(r);if(i>e)throw new ee(i)}static asList(...e){return e}static create(e,r,i){return Array.from({length:e}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(e,r,i){return Array.from({length:e}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==r[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const i of e)r=31*r+i;return r}static fillUint8Array(e,r){for(let i=0;i!==e.length;i++)e[i]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const i=new Uint8Array(r);return i.set(e),i}return e.slice(0,r)}static copyOfRange(e,r,i){const o=i-r,l=new Int32Array(o);return R.arraycopy(e,r,l,0,o),l}static binarySearch(e,r,i){i===void 0&&(i=X.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const c=l+o>>1,d=i(r,e[c]);if(d>0)o=c+1;else if(d<0)l=c-1;else return c}return-o-1}static numberComparator(e,r){return e-r}}class L{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let i=31;return r=e<<16,r!==0&&(i-=16,e=r),r=e<<8,r!==0&&(i-=8,e=r),r=e<<4,r!==0&&(i-=4,e=r),r=e<<2,r!==0&&(i-=2,e=r),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=Z.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=Z.makeArray(e);R.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=i[o]}const d=o*32+L.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(e){const r=this.size;if(e>=r)return r;const i=this.bits;let o=Math.floor(e/32),l=~i[o];l&=~((1<<(e&31))-1);const c=i.length;for(;l===0;){if(++o===c)return r;l=~i[o]}const d=o*32+L.numberOfTrailingZeros(l);return d>r?r:d}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new b;if(r===e)return;r--;const i=Math.floor(e/32),o=Math.floor(r/32),l=this.bits;for(let c=i;c<=o;c++){const d=c>i?0:e&31,p=(2<<(c<o?31:r&31))-(1<<d);l[c]|=p}}clear(){const e=this.bits.length,r=this.bits;for(let i=0;i<e;i++)r[i]=0}isRange(e,r,i){if(r<e||e<0||r>this.size)throw new b;if(r===e)return!0;r--;const o=Math.floor(e/32),l=Math.floor(r/32),c=this.bits;for(let d=o;d<=l;d++){const g=d>o?0:e&31,w=(2<<(d<l?31:r&31))-(1<<g)&4294967295;if((c[d]&w)!==(i?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=e.bits[i]}toBytes(e,r,i,o){for(let l=0;l<o;l++){let c=0;for(let d=0;d<8;d++)this.get(e)&&(c|=1<<7-d),e++;r[i+l]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[r-l]=c}if(this.size!==i*32){const l=i*32-this.size;let c=e[0]>>>l;for(let d=1;d<i;d++){const g=e[d];c|=g<<32-l,e[d-1]=c,c=g>>>l}e[i-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Z))return!1;const r=e;return this.size===r.size&&X.equals(this.bits,r.bits)}hashCode(){return 31*this.size+X.hashCode(this.bits)}toString(){let e="";for(let r=0,i=this.size;r<i;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new Z(this.size,this.bits.slice())}}var se;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(se||(se={}));var W=se;class F extends x{static getFormatInstance(){return new F}}F.kind="FormatException";var Q;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class B{constructor(e,r,i,...o){this.valueIdentifier=e,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,B.VALUE_IDENTIFIER_TO_ECI.set(e,this),B.NAME_TO_ECI.set(i,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const g=l[c];B.VALUES_TO_ECI.set(g,this)}for(const c of o)B.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new F("incorect value");const r=B.VALUES_TO_ECI.get(e);if(r===void 0)throw new F("incorect value");return r}static getCharacterSetECIByName(e){const r=B.NAME_TO_ECI.get(e);if(r===void 0)throw new F("incorect value");return r}equals(e){if(!(e instanceof B))return!1;const r=e;return this.getName()===r.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(Q.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(Q.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(Q.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(Q.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(Q.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(Q.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(Q.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(Q.Big5,28,"Big5"),B.GB18030=new B(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(Q.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends x{}xe.kind="UnsupportedOperationException";class Ee{static decode(e,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Ee.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof B?e:B.getCharacterSetECIByName(e)}static decodeFallback(e,r){const i=this.encodingCharacterSet(r);if(Ee.isDecodeFallbackSupported(i)){let o="";for(let l=0,c=e.length;l<c;l++){let d=e[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(i.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(B.UTF8)||e.equals(B.ISO8859_1)||e.equals(B.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class ${static castAsNonUtf8Char(e,r=null){const i=r?r.getName():this.ISO88591;return Ee.decode(new Uint8Array([e]),i)}static guessEncoding(e,r){if(r!=null&&r.get(W.CHARACTER_SET)!==void 0)return r.get(W.CHARACTER_SET).toString();const i=e.length;let o=!0,l=!0,c=!0,d=0,g=0,p=0,w=0,y=0,C=0,O=0,M=0,k=0,U=0,K=0;const he=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let pe=0;pe<i&&(o||l||c);pe++){const ue=e[pe]&255;c&&(d>0?ue&128?d--:c=!1:ue&128&&(ue&64?(d++,ue&32?(d++,ue&16?(d++,ue&8?c=!1:w++):p++):g++):c=!1)),o&&(ue>127&&ue<160?o=!1:ue>159&&(ue<192||ue===215||ue===247)&&K++),l&&(y>0?ue<64||ue===127||ue>252?l=!1:y--:ue===128||ue===160||ue>239?l=!1:ue>160&&ue<224?(C++,M=0,O++,O>k&&(k=O)):ue>127?(y++,O=0,M++,M>U&&(U=M)):(O=0,M=0))}return c&&d>0&&(c=!1),l&&y>0&&(l=!1),c&&(he||g+p+w>0)?$.UTF8:l&&($.ASSUME_SHIFT_JIS||k>=3||U>=3)?$.SHIFT_JIS:o&&l?k===2&&C===2||K*10>=i?$.SHIFT_JIS:$.ISO88591:o?$.ISO88591:l?$.SHIFT_JIS:c?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let i=-1;function o(c,d,g,p,w,y){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=w?parseInt(w.substr(1)):void 0,O;switch(y){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(C||16);break;case"d":O=parseFloat(parseInt(r[i],C||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(C);let M=parseInt(g),k=g&&g[0]+""=="0"?"0":" ";for(;O.length<M;)O=d!==void 0?O+k:k+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}static getBytes(e,r){return Ee.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}$.SHIFT_JIS=B.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=B.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=B.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class re{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=$.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,i){for(let o=r;r<r+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Re{constructor(e,r,i,o){if(this.width=e,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new b("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,i=e[0].length,o=new Re(i,r);for(let l=0;l<r;l++){const c=e[l];for(let d=0;d<i;d++)c[d]&&o.set(d,l)}return o}static parseFromString(e,r,i){if(e===null)throw new b("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,c=0,d=-1,g=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new b("row lengths do not match");c=l,g++}p++}else if(e.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(e.substring(p,p+i.length)===i)p+=i.length,o[l]=!1,l++;else throw new b("illegal character encountered: "+e.substring(p));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new b("row lengths do not match");g++}const w=new Re(d,g);for(let y=0;y<l;y++)o[y]&&w.set(Math.floor(y%d),Math.floor(y/d));return w}get(e,r){const i=r*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const r=new Z(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*i,g=e.getRow(l,r).getBitArray();for(let p=0;p<i;p++)o[d+p]^=g[p]}}clear(){const e=this.bits,r=e.length;for(let i=0;i<r;i++)e[i]=0}setRegion(e,r,i,o){if(r<0||e<0)throw new b("Left and top must be nonnegative");if(o<1||i<1)throw new b("Height and width must be at least 1");const l=e+i,c=r+o;if(c>this.height||l>this.width)throw new b("The region must fit inside the matrix");const d=this.rowSize,g=this.bits;for(let p=r;p<c;p++){const w=p*d;for(let y=e;y<l;y++)g[w+Math.floor(y/32)]|=1<<(y&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new Z(this.width):r.clear();const i=this.rowSize,o=this.bits,l=e*i;for(let c=0;c<i;c++)r.setBulk(c*32,o[l+c]);return r}setRow(e,r){R.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let i=new Z(e),o=new Z(e);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const e=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=e,c=r,d=-1,g=-1;for(let p=0;p<r;p++)for(let w=0;w<i;w++){const y=o[p*i+w];if(y!==0){if(p<c&&(c=p),p>g&&(g=p),w*32<l){let C=0;for(;!(y<<31-C&4294967295);)C++;w*32+C<l&&(l=w*32+C)}if(w*32+31>d){let C=31;for(;!(y>>>C);)C--;w*32+C>d&&(d=w*32+C)}}}return d<l||g<c?null:Int32Array.from([l,c,d-l+1,g-c+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/e;let l=i%e*32;const c=r[i];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let l=Math.floor(i%e)*32;const c=r[i];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Re))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&X.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+X.hashCode(this.bits),e}toString(e="X ",r="  ",i=`
`){return this.buildToString(e,r,i)}buildToString(e,r,i){let o=new re;for(let l=0,c=this.height;l<c;l++){for(let d=0,g=this.width;d<g;d++)o.append(this.get(d,l)?e:r);o.append(i)}return o.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends x{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class Oe extends P{constructor(e){super(e),this.luminances=Oe.EMPTY,this.buckets=new Int32Array(Oe.LUMINANCE_BUCKETS)}getBlackRow(e,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new Z(o):r.clear(),this.initArrays(o);const l=i.getRow(e,this.luminances),c=this.buckets;for(let g=0;g<o;g++)c[(l[g]&255)>>Oe.LUMINANCE_SHIFT]++;const d=Oe.estimateBlackPoint(c);if(o<3)for(let g=0;g<o;g++)(l[g]&255)<d&&r.set(g);else{let g=l[0]&255,p=l[1]&255;for(let w=1;w<o-1;w++){const y=l[w+1]&255;(p*4-g-y)/2<d&&r.set(w),g=p,p=y}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new Re(r,i);this.initArrays(r);const l=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(i*g/5),w=e.getRow(p,this.luminances),y=Math.floor(r*4/5);for(let C=Math.floor(r/5);C<y;C++){const O=w[C]&255;l[O>>Oe.LUMINANCE_SHIFT]++}}const c=Oe.estimateBlackPoint(l),d=e.getMatrix();for(let g=0;g<i;g++){const p=g*r;for(let w=0;w<r;w++)(d[p+w]&255)<c&&o.set(w,g)}return o}createBinarizer(e){return new Oe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let i=0;i<Oe.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(e){const r=e.length;let i=0,o=0,l=0;for(let w=0;w<r;w++)e[w]>l&&(o=w,l=e[w]),e[w]>i&&(i=e[w]);let c=0,d=0;for(let w=0;w<r;w++){const y=w-o,C=e[w]*y*y;C>d&&(c=w,d=C)}if(o>c){const w=o;o=c,c=w}if(c-o<=r/16)throw new G;let g=c-1,p=-1;for(let w=c-1;w>o;w--){const y=w-o,C=y*y*(c-w)*(i-e[w]);C>p&&(g=w,p=C)}return g<<Oe.LUMINANCE_SHIFT}}Oe.LUMINANCE_BITS=5,Oe.LUMINANCE_SHIFT=8-Oe.LUMINANCE_BITS,Oe.LUMINANCE_BUCKETS=1<<Oe.LUMINANCE_BITS,Oe.EMPTY=Uint8ClampedArray.from([0]);class fe extends Oe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=fe.MINIMUM_DIMENSION&&i>=fe.MINIMUM_DIMENSION){const o=e.getMatrix();let l=r>>fe.BLOCK_SIZE_POWER;r&fe.BLOCK_SIZE_MASK&&l++;let c=i>>fe.BLOCK_SIZE_POWER;i&fe.BLOCK_SIZE_MASK&&c++;const d=fe.calculateBlackPoints(o,l,c,r,i),g=new Re(r,i);fe.calculateThresholdForBlock(o,l,c,r,i,d,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new fe(e)}static calculateThresholdForBlock(e,r,i,o,l,c,d){const g=l-fe.BLOCK_SIZE,p=o-fe.BLOCK_SIZE;for(let w=0;w<i;w++){let y=w<<fe.BLOCK_SIZE_POWER;y>g&&(y=g);const C=fe.cap(w,2,i-3);for(let O=0;O<r;O++){let M=O<<fe.BLOCK_SIZE_POWER;M>p&&(M=p);const k=fe.cap(O,2,r-3);let U=0;for(let he=-2;he<=2;he++){const pe=c[C+he];U+=pe[k-2]+pe[k-1]+pe[k]+pe[k+1]+pe[k+2]}const K=U/25;fe.thresholdBlock(e,M,y,K,o,d)}}}static cap(e,r,i){return e<r?r:e>i?i:e}static thresholdBlock(e,r,i,o,l,c){for(let d=0,g=i*l+r;d<fe.BLOCK_SIZE;d++,g+=l)for(let p=0;p<fe.BLOCK_SIZE;p++)(e[g+p]&255)<=o&&c.set(r+p,i+d)}static calculateBlackPoints(e,r,i,o,l){const c=l-fe.BLOCK_SIZE,d=o-fe.BLOCK_SIZE,g=new Array(i);for(let p=0;p<i;p++){g[p]=new Int32Array(r);let w=p<<fe.BLOCK_SIZE_POWER;w>c&&(w=c);for(let y=0;y<r;y++){let C=y<<fe.BLOCK_SIZE_POWER;C>d&&(C=d);let O=0,M=255,k=0;for(let K=0,he=w*o+C;K<fe.BLOCK_SIZE;K++,he+=o){for(let pe=0;pe<fe.BLOCK_SIZE;pe++){const ue=e[he+pe]&255;O+=ue,ue<M&&(M=ue),ue>k&&(k=ue)}if(k-M>fe.MIN_DYNAMIC_RANGE)for(K++,he+=o;K<fe.BLOCK_SIZE;K++,he+=o)for(let pe=0;pe<fe.BLOCK_SIZE;pe++)O+=e[he+pe]&255}let U=O>>fe.BLOCK_SIZE_POWER*2;if(k-M<=fe.MIN_DYNAMIC_RANGE&&(U=M/2,p>0&&y>0)){const K=(g[p-1][y]+2*g[p][y-1]+g[p-1][y-1])/4;M<K&&(U=K)}g[p][y]=U}}return g}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class ze{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,i,o){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new re;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let l=0;l<this.width;l++){const c=o[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class _t extends ze{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const i=this.delegate.getRow(e,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,i,o){return new _t(this.delegate.crop(e,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _t(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _t(this.delegate.rotateCounterClockwise45())}}class Ot extends ze{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ot.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ot.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,c=0,d=e.length;l<d;l+=4,c++){let g;if(e[l+3]===0)g=255;else{const w=e[l],y=e[l+1],C=e[l+2];g=306*w+601*y+117*C+512>>10}o[c]=g}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,i,o){return super.crop(e,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*Ot.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),g=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=d,r.height=g,i.translate(d/2,g/2),i.rotate(o),i.drawImage(this.canvas,l/-2,c/-2),this.buffer=Ot.makeBufferFromCanvasImageData(r),this}invert(){return new _t(this)}}Ot.DEGREE_TO_RADIANS=Math.PI/180;class Xt{constructor(e,r,i){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Je=(globalThis||Ri||self||window||void 0)&&(globalThis||Ri||self||window||void 0).__awaiter||function(A,e,r,i){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(w){try{p(i.next(w))}catch(y){c(y)}}function g(w){try{p(i.throw(w))}catch(y){c(y)}}function p(w){w.done?l(w.value):o(w.value).then(d,g)}p((i=i.apply(A,e||[])).next())})};class Ft{constructor(e,r=500,i){this.reader=e,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Je(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,c=i.label||`Video device ${r.length+1}`,d=i.groupId,g={deviceId:l,label:c,kind:o,groupId:d};r.push(g)}return r})}getVideoInputDevices(){return Je(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Xt(r.deviceId,r.label))})}findDeviceById(e){return Je(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return Je(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return Je(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return Je(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(e,r){return Je(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,r,i){return Je(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,i)})}decodeFromVideoDevice(e,r,i){return Je(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(e,r,i){return Je(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(e,r,i){return Je(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return Je(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((r,i)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Je(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const i=document.getElementById(e);if(!i)throw new E(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${e}' must be an ${r} element`);return i}decodeFromImage(e,r){if(!e&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,i){if(e===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(e){if(!e)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=e,i}decodeFromVideoUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=e,i}decodeFromVideoUrlContinuously(e,r){if(!e)throw new E("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Je(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return Je(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(e);l(d)}catch(d){const g=r&&d instanceof G,w=(d instanceof T||d instanceof F)&&i;if(g||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof T||o instanceof F,c=o instanceof G;(l||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,i){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),i=new Ot(r),o=new fe(i);return new v(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class dt{constructor(e,r,i=r==null?0:8*r.length,o,l,c=R.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=e,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=R.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(r.length+e.length);R.arraycopy(r,0,i,0,r.length),R.arraycopy(e,0,i,r.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var jt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jt||(jt={}));var Ae=jt,te;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(te||(te={}));var de=te;class _e{constructor(e,r,i,o,l=-1,c=-1){this.rawBytes=e,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Se{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class Ve{constructor(e,r){if(r.length===0)throw new b;this.field=e;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),R.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(e===1){i=0;for(let c=0,d=r.length;c!==d;c++){const g=r[c];i=Se.addOrSubtract(i,g)}return i}i=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)i=Se.addOrSubtract(l.multiply(e,i),r[c]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){const c=r;r=i,i=c}let o=new Int32Array(i.length);const l=i.length-r.length;R.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=Se.addOrSubtract(r[c-l],i[c]);return new Ve(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1),d=this.field;for(let g=0;g<i;g++){const p=r[g];for(let w=0;w<l;w++)c[g+w]=Se.addOrSubtract(c[g+w],d.multiply(p,o[w]))}return new Ve(d,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=i.multiply(l[c],e);return new Ve(i,o)}multiplyByMonomial(e,r){if(e<0)throw new b;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+e),c=this.field;for(let d=0;d<o;d++)l[d]=c.multiply(i[d],r);return new Ve(c,l)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),c=r.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const d=o.getDegree()-e.getDegree(),g=r.multiply(o.getCoefficient(o.getDegree()),c),p=e.multiplyByMonomial(d,g),w=r.buildMonomial(d,g);i=i.addOrSubtract(w),o=o.addOrSubtract(p)}return[i,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class ut extends x{}ut.kind="ArithmeticException";class S extends Se{constructor(e,r,i){super(),this.primitive=e,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=e,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let d=0;d<r-1;d++)c[o[d]]=d;this.logTable=c,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new b;if(r===0)return this.zero;const i=new Int32Array(e+1);return i[0]=r,new Ve(this,i)}inverse(e){if(e===0)throw new ut;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}S.AZTEC_DATA_12=new S(4201,4096,1),S.AZTEC_DATA_10=new S(1033,1024,1),S.AZTEC_DATA_6=new S(67,64,1),S.AZTEC_PARAM=new S(19,16,1),S.QR_CODE_FIELD_256=new S(285,256,0),S.DATA_MATRIX_FIELD_256=new S(301,256,1),S.AZTEC_DATA_8=S.DATA_MATRIX_FIELD_256,S.MAXICODE_FIELD_64=S.AZTEC_DATA_6;class N extends x{}N.kind="ReedSolomonException";class H extends x{}H.kind="IllegalStateException";class ie{constructor(e){this.field=e}decode(e,r){const i=this.field,o=new Ve(i,e),l=new Int32Array(r);let c=!0;for(let O=0;O<r;O++){const M=o.evaluateAt(i.exp(O+i.getGeneratorBase()));l[l.length-1-O]=M,M!==0&&(c=!1)}if(c)return;const d=new Ve(i,l),g=this.runEuclideanAlgorithm(i.buildMonomial(r,1),d,r),p=g[0],w=g[1],y=this.findErrorLocations(p),C=this.findErrorMagnitudes(w,y);for(let O=0;O<y.length;O++){const M=e.length-1-i.log(y[O]);if(M<0)throw new N("Bad error location");e[M]=S.addOrSubtract(e[M],C[O])}}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){const O=e;e=r,r=O}const o=this.field;let l=e,c=r,d=o.getZero(),g=o.getOne();for(;c.getDegree()>=(i/2|0);){let O=l,M=d;if(l=c,d=g,l.isZero())throw new N("r_{i-1} was zero");c=O;let k=o.getZero();const U=l.getCoefficient(l.getDegree()),K=o.inverse(U);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const he=c.getDegree()-l.getDegree(),pe=o.multiply(c.getCoefficient(c.getDegree()),K);k=k.addOrSubtract(o.buildMonomial(he,pe)),c=c.addOrSubtract(l.multiplyByMonomial(he,pe))}if(g=k.multiply(d).addOrSubtract(M),c.getDegree()>=l.getDegree())throw new H("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new N("sigmaTilde(0) was zero");const w=o.inverse(p),y=g.multiplyScalar(w),C=c.multiplyScalar(w);return[y,C]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)e.evaluateAt(c)===0&&(i[o]=l.inverse(c),o++);if(o!==r)throw new N("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let c=0;c<i;c++){const d=l.inverse(r[c]);let g=1;for(let p=0;p<i;p++)if(c!==p){const w=l.multiply(r[p],d),y=w&1?w&-2:w|1;g=l.multiply(g,y)}o[c]=l.multiply(e.evaluateAt(d),l.inverse(g)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],d))}return o}}var q;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(q||(q={}));class ne{decode(e){this.ddata=e;let r=e.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=ne.convertBoolArrayToByteArray(o),c=ne.getEncodedData(o),d=new _e(l,c,null,null);return d.setNumBits(o.length),d}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,i=q.UPPER,o=q.UPPER,l="",c=0;for(;c<r;)if(o===q.BINARY){if(r-c<5)break;let d=ne.readCode(e,c,5);if(c+=5,d===0){if(r-c<11)break;d=ne.readCode(e,c,11)+31,c+=11}for(let g=0;g<d;g++){if(r-c<8){c=r;break}const p=ne.readCode(e,c,8);l+=$.castAsNonUtf8Char(p),c+=8}o=i}else{let d=o===q.DIGIT?4:5;if(r-c<d)break;let g=ne.readCode(e,c,d);c+=d;let p=ne.getCharacter(o,g);p.startsWith("CTRL_")?(i=o,o=ne.getTable(p.charAt(5)),p.charAt(6)==="L"&&(i=o)):(l+=p,o=i)}return l}static getTable(e){switch(e){case"L":return q.LOWER;case"P":return q.PUNCT;case"M":return q.MIXED;case"D":return q.DIGIT;case"B":return q.BINARY;case"U":default:return q.UPPER}}static getCharacter(e,r){switch(e){case q.UPPER:return ne.UPPER_TABLE[r];case q.LOWER:return ne.LOWER_TABLE[r];case q.MIXED:return ne.MIXED_TABLE[r];case q.PUNCT:return ne.PUNCT_TABLE[r];case q.DIGIT:return ne.DIGIT_TABLE[r];default:throw new H("Bad table")}}correctBits(e){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=S.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=S.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=S.AZTEC_DATA_10):(i=12,r=S.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=e.length/i;if(l<o)throw new F;let c=e.length%i,d=new Int32Array(l);for(let C=0;C<l;C++,c+=i)d[C]=ne.readCode(e,c,i);try{new ie(r).decode(d,l-o)}catch(C){throw new F(C)}let g=(1<<i)-1,p=0;for(let C=0;C<o;C++){let O=d[C];if(O===0||O===g)throw new F;(O===1||O===g-1)&&p++}let w=new Array(o*i-p),y=0;for(let C=0;C<o;C++){let O=d[C];if(O===1||O===g-1)w.fill(O>1,y,y+i-1),y+=i-1;else for(let M=i-1;M>=0;--M)w[y++]=(O&1<<M)!==0}return w}extractBits(e){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*L.truncDivision(L.truncDivision(o,2)-1,15),g=o/2,p=L.truncDivision(d,2);for(let w=0;w<g;w++){let y=w+L.truncDivision(w,15);l[g-w-1]=p-y-1,l[g+w]=p+y+1}}for(let d=0,g=0;d<i;d++){let p=(i-d)*4+(r?9:12),w=d*2,y=o-1-w;for(let C=0;C<p;C++){let O=C*2;for(let M=0;M<2;M++)c[g+O+M]=e.get(l[w+M],l[w+C]),c[g+2*p+O+M]=e.get(l[w+C],l[y-M]),c[g+4*p+O+M]=e.get(l[y-M],l[y-C]),c[g+6*p+O+M]=e.get(l[y-C],l[w+M])}g+=p*8}return c}static readCode(e,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,e[l]&&(o|=1);return o}static readByte(e,r){let i=e.length-r;return i>=8?ne.readCode(e,r,8):ne.readCode(e,r,i)<<8-i}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let i=0;i<r.length;i++)r[i]=ne.readByte(e,8*i);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ne.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,i,o){const l=e-i,c=r-o;return Math.sqrt(l*l+c*c)}static sum(e){let r=0;for(let i=0,o=e.length;i!==o;i++){const l=e[i];r+=l}return r}}class ge{static floatToIntBits(e){return e}}ge.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof j){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ge.floatToIntBits(this.x)+ge.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,c,d;if(i>=r&&i>=o?(c=e[0],l=e[1],d=e[2]):o>=i&&o>=r?(c=e[1],l=e[0],d=e[2]):(c=e[2],l=e[0],d=e[1]),this.crossProductZ(l,c,d)<0){const g=l;l=d,d=g}e[0]=l,e[1]=c,e[2]=d}static distance(e,r){return oe.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,i){const o=r.x,l=r.y;return(i.x-o)*(e.y-l)-(i.y-l)*(e.x-o)}}class le{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class be extends le{constructor(e,r,i,o,l){super(e,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ce{constructor(e,r,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=Ce.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let e=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,c=!0,d=!1,g=!1,p=!1,w=!1,y=!1;const C=this.width,O=this.height;for(;c;){c=!1;let M=!0;for(;(M||!g)&&r<C;)M=this.containsBlackPoint(i,o,r,!1),M?(r++,c=!0,g=!0):g||r++;if(r>=C){l=!0;break}let k=!0;for(;(k||!p)&&o<O;)k=this.containsBlackPoint(e,r,o,!0),k?(o++,c=!0,p=!0):p||o++;if(o>=O){l=!0;break}let U=!0;for(;(U||!w)&&e>=0;)U=this.containsBlackPoint(i,o,e,!1),U?(e--,c=!0,w=!0):w||e--;if(e<0){l=!0;break}let K=!0;for(;(K||!y)&&i>=0;)K=this.containsBlackPoint(e,r,i,!0),K?(i--,c=!0,y=!0):y||i--;if(i<0){l=!0;break}c&&(d=!0)}if(!l&&d){const M=r-e;let k=null;for(let pe=1;k===null&&pe<M;pe++)k=this.getBlackPointOnSegment(e,o-pe,e+pe,o);if(k==null)throw new G;let U=null;for(let pe=1;U===null&&pe<M;pe++)U=this.getBlackPointOnSegment(e,i+pe,e+pe,i);if(U==null)throw new G;let K=null;for(let pe=1;K===null&&pe<M;pe++)K=this.getBlackPointOnSegment(r,i+pe,r-pe,i);if(K==null)throw new G;let he=null;for(let pe=1;he===null&&pe<M;pe++)he=this.getBlackPointOnSegment(r,o-pe,r-pe,o);if(he==null)throw new G;return this.centerEdges(he,k,K,U)}else throw new G}getBlackPointOnSegment(e,r,i,o){const l=oe.round(oe.distance(e,r,i,o)),c=(i-e)/l,d=(o-r)/l,g=this.image;for(let p=0;p<l;p++){const w=oe.round(e+p*c),y=oe.round(r+p*d);if(g.get(w,y))return new j(w,y)}return null}centerEdges(e,r,i,o){const l=e.getX(),c=e.getY(),d=r.getX(),g=r.getY(),p=i.getX(),w=i.getY(),y=o.getX(),C=o.getY(),O=Ce.CORR;return l<this.width/2?[new j(y-O,C+O),new j(d+O,g+O),new j(p-O,w-O),new j(l+O,c-O)]:[new j(y+O,C+O),new j(d+O,g-O),new j(p-O,w+O),new j(l-O,c-O)]}containsBlackPoint(e,r,i,o){const l=this.image;if(o){for(let c=e;c<=r;c++)if(l.get(c,i))return!0}else for(let c=e;c<=r;c++)if(l.get(i,c))return!0;return!1}}Ce.INIT_SIZE=10,Ce.CORR=1;class Ie{static checkAndNudgePoints(e,r){const i=e.getWidth(),o=e.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const d=Math.floor(r[c]),g=Math.floor(r[c+1]);if(d<-1||d>i||g<-1||g>o)throw new G;l=!1,d===-1?(r[c]=0,l=!0):d===i&&(r[c]=i-1,l=!0),g===-1?(r[c+1]=0,l=!0):g===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const d=Math.floor(r[c]),g=Math.floor(r[c+1]);if(d<-1||d>i||g<-1||g>o)throw new G;l=!1,d===-1?(r[c]=0,l=!0):d===i&&(r[c]=i-1,l=!0),g===-1?(r[c+1]=0,l=!0):g===o&&(r[c+1]=o-1,l=!0)}}}class Ne{constructor(e,r,i,o,l,c,d,g,p){this.a11=e,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=c,this.a13=d,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(e,r,i,o,l,c,d,g,p,w,y,C,O,M,k,U){const K=Ne.quadrilateralToSquare(e,r,i,o,l,c,d,g);return Ne.squareToQuadrilateral(p,w,y,C,O,M,k,U).times(K)}transformPoints(e){const r=e.length,i=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,g=this.a23,p=this.a31,w=this.a32,y=this.a33;for(let C=0;C<r;C+=2){const O=e[C],M=e[C+1],k=l*O+g*M+y;e[C]=(i*O+c*M+p)/k,e[C+1]=(o*O+d*M+w)/k}}transformPointsWithValues(e,r){const i=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,g=this.a23,p=this.a31,w=this.a32,y=this.a33,C=e.length;for(let O=0;O<C;O++){const M=e[O],k=r[O],U=l*M+g*k+y;e[O]=(i*M+c*k+p)/U,r[O]=(o*M+d*k+w)/U}}static squareToQuadrilateral(e,r,i,o,l,c,d,g){const p=e-i+l-d,w=r-o+c-g;if(p===0&&w===0)return new Ne(i-e,l-i,e,o-r,c-o,r,0,0,1);{const y=i-l,C=d-l,O=o-c,M=g-c,k=y*M-C*O,U=(p*M-C*w)/k,K=(y*w-p*O)/k;return new Ne(i-e+U*i,d-e+K*d,e,o-r+U*o,g-r+K*g,r,U,K,1)}}static quadrilateralToSquare(e,r,i,o,l,c,d,g){return Ne.squareToQuadrilateral(e,r,i,o,l,c,d,g).buildAdjoint()}buildAdjoint(){return new Ne(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ne(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class $e extends Ie{sampleGrid(e,r,i,o,l,c,d,g,p,w,y,C,O,M,k,U,K,he,pe){const ue=Ne.quadrilateralToQuadrilateral(o,l,c,d,g,p,w,y,C,O,M,k,U,K,he,pe);return this.sampleGridWithTransform(e,r,i,ue)}sampleGridWithTransform(e,r,i,o){if(r<=0||i<=0)throw new G;const l=new Re(r,i),c=new Float32Array(2*r);for(let d=0;d<i;d++){const g=c.length,p=d+.5;for(let w=0;w<g;w+=2)c[w]=w/2+.5,c[w+1]=p;o.transformPoints(c),Ie.checkAndNudgePoints(e,c);try{for(let w=0;w<g;w+=2)e.get(Math.floor(c[w]),Math.floor(c[w+1]))&&l.set(w/2,d)}catch{throw new G}}return l}}class Ze{static setGridSampler(e){Ze.gridSampler=e}static getInstance(){return Ze.gridSampler}}Ze.gridSampler=new $e;class He{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new j(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Lt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(e){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new be(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new G;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let c=0;c<4;c++){let d=i[(this.shift+c)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(e,r){let i=0;e.forEach((o,l,c)=>{let d=(o>>r-2<<1)+(o&1);i=(i<<3)+d}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(L.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new G}getCorrectedParameterData(e,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,c=new Int32Array(i);for(let g=i-1;g>=0;--g)c[g]=e&15,e>>=4;try{new ie(S.AZTEC_PARAM).decode(c,l)}catch{throw new G}let d=0;for(let g=0;g<o;g++)d=(d<<4)+c[g];return d}getBullsEyeCorners(e){let r=e,i=e,o=e,l=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let y=this.getFirstDifferent(r,c,1,-1),C=this.getFirstDifferent(i,c,1,1),O=this.getFirstDifferent(o,c,-1,1),M=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let k=this.distancePoint(M,y)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(y,C,O,M))break}r=y,i=C,o=O,l=M,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let d=new j(r.getX()+.5,r.getY()-.5),g=new j(i.getX()+.5,i.getY()+.5),p=new j(o.getX()-.5,o.getY()+.5),w=new j(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,g,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,i,o;try{let d=new Ce(this.image).detect();e=d[0],r=d[1],i=d[2],o=d[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new He(g+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new He(g+7,p+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new He(g-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new He(g-7,p-7),!1,-1,-1).toResultPoint()}let l=oe.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=oe.round((e.getY()+o.getY()+r.getY()+i.getY())/4);try{let d=new Ce(this.image,15,l,c).detect();e=d[0],r=d[1],i=d[2],o=d[3]}catch{e=this.getFirstDifferent(new He(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new He(l+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new He(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new He(l-7,c-7),!1,-1,-1).toResultPoint()}return l=oe.round((e.getX()+o.getX()+r.getX()+i.getX())/4),c=oe.round((e.getY()+o.getY()+r.getY()+i.getY())/4),new He(l,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,i,o,l){let c=Ze.getInstance(),d=this.getDimension(),g=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return c.sampleGrid(e,d,d,g,g,p,g,p,p,g,p,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,r,i){let o=0,l=this.distanceResultPoint(e,r),c=l/i,d=e.getX(),g=e.getY(),p=c*(r.getX()-e.getX())/l,w=c*(r.getY()-e.getY())/l;for(let y=0;y<i;y++)this.image.get(oe.round(d+y*p),oe.round(g+y*w))&&(o|=1<<i-y-1);return o}isWhiteOrBlackRectangle(e,r,i,o){let l=3;e=new He(e.getX()-l,e.getY()+l),r=new He(r.getX()-l,r.getY()-l),i=new He(i.getX()+l,i.getY()-l),o=new He(o.getX()+l,o.getY()+l);let c=this.getColor(o,e);if(c===0)return!1;let d=this.getColor(e,r);return d!==c||(d=this.getColor(r,i),d!==c)?!1:(d=this.getColor(i,o),d===c)}getColor(e,r){let i=this.distancePoint(e,r),o=(r.getX()-e.getX())/i,l=(r.getY()-e.getY())/i,c=0,d=e.getX(),g=e.getY(),p=this.image.get(e.getX(),e.getY()),w=Math.ceil(i);for(let C=0;C<w;C++)d+=o,g+=l,this.image.get(oe.round(d),oe.round(g))!==p&&c++;let y=c/i;return y>.1&&y<.9?0:y<=.1===p?1:-1}getFirstDifferent(e,r,i,o){let l=e.getX()+i,c=e.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i,c+=o;for(l-=i,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=i;for(l-=i;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new He(l,c)}expandSquare(e,r,i){let o=i/(2*r),l=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),d=(e[0].getX()+e[2].getX())/2,g=(e[0].getY()+e[2].getY())/2,p=new j(d+o*l,g+o*c),w=new j(d-o*l,g-o*c);l=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),d=(e[1].getX()+e[3].getX())/2,g=(e[1].getY()+e[3].getY())/2;let y=new j(d+o*l,g+o*c),C=new j(d-o*l,g-o*c);return[p,y,w,C]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=oe.round(e.getX()),i=oe.round(e.getY());return this.isValid(r,i)}distancePoint(e,r){return oe.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return oe.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(e,r=null){let i=null,o=new Lt(e.getBlackMatrix()),l=null,c=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new ne().decode(w)}catch(w){i=w}if(c==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new ne().decode(w)}catch(w){throw i??w}let d=new dt(c.getText(),c.getRawBytes(),c.getNumBits(),l,Ae.AZTEC,R.currentTimeMillis()),g=c.getByteSegments();g!=null&&d.putMetadata(de.BYTE_SEGMENTS,g);let p=c.getECLevel();return p!=null&&d.putMetadata(de.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(e,r){if(e!=null){let i=e.get(W.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class _r extends Ft{constructor(e=500){super(new qt,e)}}class vt{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(W.TRY_HARDER)===!0&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),c=this.doDecode(l,r),d=c.getResultMetadata();let g=270;d!==null&&d.get(de.ORIENTATION)===!0&&(g=g+d.get(de.ORIENTATION)%360),c.putMetadata(de.ORIENTATION,g);const p=c.getResultPoints();if(p!==null){const w=l.getHeight();for(let y=0;y<p.length;y++)p[y]=new j(w-p[y].getY()-1,p[y].getX())}return c}else throw new G}}reset(){}doDecode(e,r){const i=e.getWidth(),o=e.getHeight();let l=new Z(i);const c=r&&r.get(W.TRY_HARDER)===!0,d=Math.max(1,o>>(c?8:5));let g;c?g=o:g=15;const p=Math.trunc(o/2);for(let w=0;w<g;w++){const y=Math.trunc((w+1)/2),C=(w&1)===0,O=p+d*(C?y:-y);if(O<0||O>=o)break;try{l=e.getBlackRow(O,l)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(l.reverse(),r&&r.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const k=new Map;r.forEach((U,K)=>k.set(K,U)),k.delete(W.NEED_RESULT_POINT_CALLBACK),r=k}try{const k=this.decodeRow(O,l,r);if(M===1){k.putMetadata(de.ORIENTATION,180);const U=k.getResultPoints();U!==null&&(U[0]=new j(i-U[0].getX()-1,U[0].getY()),U[1]=new j(i-U[1].getX()-1,U[1].getY()))}return k}catch{}}}throw new G}static recordPattern(e,r,i){const o=i.length;for(let p=0;p<o;p++)i[p]=0;const l=e.getSize();if(r>=l)throw new G;let c=!e.get(r),d=0,g=r;for(;g<l;){if(e.get(g)!==c)i[d]++;else{if(++d===o)break;i[d]=1,c=!c}g++}if(!(d===o||d===o-1&&g===l))throw new G}static recordPatternInReverse(e,r,i){let o=i.length,l=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new G;vt.recordPattern(e,r+1,i)}static patternMatchVariance(e,r,i){const o=e.length;let l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;i*=d;let g=0;for(let p=0;p<o;p++){const w=e[p],y=r[p]*d,C=w>y?w-y:y-w;if(C>i)return Number.POSITIVE_INFINITY;g+=C}return g/l}}class me extends vt{static findStartPattern(e){const r=e.getSize(),i=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=i,d=!1;const g=6;for(let p=i;p<r;p++)if(e.get(p)!==d)l[o]++;else{if(o===g-1){let w=me.MAX_AVG_VARIANCE,y=-1;for(let C=me.CODE_START_A;C<=me.CODE_START_C;C++){const O=vt.patternMatchVariance(l,me.CODE_PATTERNS[C],me.MAX_INDIVIDUAL_VARIANCE);O<w&&(w=O,y=C)}if(y>=0&&e.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,y]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new G}static decodeCode(e,r,i){vt.recordPattern(e,i,r);let o=me.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<me.CODE_PATTERNS.length;c++){const d=me.CODE_PATTERNS[c],g=this.patternMatchVariance(r,d,me.MAX_INDIVIDUAL_VARIANCE);g<o&&(o=g,l=c)}if(l>=0)return l;throw new G}decodeRow(e,r,i){const o=i&&i.get(W.ASSUME_GS1)===!0,l=me.findStartPattern(r),c=l[2];let d=0;const g=new Uint8Array(20);g[d++]=c;let p;switch(c){case me.CODE_START_A:p=me.CODE_CODE_A;break;case me.CODE_START_B:p=me.CODE_CODE_B;break;case me.CODE_START_C:p=me.CODE_CODE_C;break;default:throw new F}let w=!1,y=!1,C="",O=l[0],M=l[1];const k=Int32Array.from([0,0,0,0,0,0]);let U=0,K=0,he=c,pe=0,ue=!0,et=!1,Xe=!1;for(;!w;){const Us=y;switch(y=!1,U=K,K=me.decodeCode(r,k,M),g[d++]=K,K!==me.CODE_STOP&&(ue=!0),K!==me.CODE_STOP&&(pe++,he+=pe*K),O=M,M+=k.reduce((Rg,Dg)=>Rg+Dg,0),K){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new F}switch(p){case me.CODE_CODE_A:if(K<64)Xe===et?C+=String.fromCharCode(32+K):C+=String.fromCharCode(32+K+128),Xe=!1;else if(K<96)Xe===et?C+=String.fromCharCode(K-64):C+=String.fromCharCode(K+64),Xe=!1;else switch(K!==me.CODE_STOP&&(ue=!1),K){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!et&&Xe?(et=!0,Xe=!1):et&&Xe?(et=!1,Xe=!1):Xe=!0;break;case me.CODE_SHIFT:y=!0,p=me.CODE_CODE_B;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:w=!0;break}break;case me.CODE_CODE_B:if(K<96)Xe===et?C+=String.fromCharCode(32+K):C+=String.fromCharCode(32+K+128),Xe=!1;else switch(K!==me.CODE_STOP&&(ue=!1),K){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!et&&Xe?(et=!0,Xe=!1):et&&Xe?(et=!1,Xe=!1):Xe=!0;break;case me.CODE_SHIFT:y=!0,p=me.CODE_CODE_A;break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_C:p=me.CODE_CODE_C;break;case me.CODE_STOP:w=!0;break}break;case me.CODE_CODE_C:if(K<100)K<10&&(C+="0"),C+=K;else switch(K!==me.CODE_STOP&&(ue=!1),K){case me.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case me.CODE_CODE_A:p=me.CODE_CODE_A;break;case me.CODE_CODE_B:p=me.CODE_CODE_B;break;case me.CODE_STOP:w=!0;break}break}Us&&(p=p===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const un=M-O;if(M=r.getNextUnset(M),!r.isRange(M,Math.min(r.getSize(),M+(M-O)/2),!1))throw new G;if(he-=pe*U,he%103!==U)throw new T;const Hn=C.length;if(Hn===0)throw new G;Hn>0&&ue&&(p===me.CODE_CODE_C?C=C.substring(0,Hn-2):C=C.substring(0,Hn-1));const fn=(l[1]+l[0])/2,mt=O+un/2,Kt=g.length,xn=new Uint8Array(Kt);for(let Us=0;Us<Kt;Us++)xn[Us]=g[Us];const Fs=[new j(fn,e),new j(mt,e)];return new dt(C,xn,0,Fs,Ae.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Nt extends vt{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=Nt.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),d=r.getSize(),g,p;do{Nt.recordPattern(r,c,o);let k=Nt.toNarrowWidePattern(o);if(k<0)throw new G;g=Nt.patternToChar(k),this.decodeRowResult+=g,p=c;for(let U of o)c+=U;c=r.getNextSet(c)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let k of o)w+=k;let y=c-p-w;if(c!==d&&y*2<w)throw new G;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,U=0;for(let K=0;K<k;K++)U+=Nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(k)!==Nt.ALPHABET_STRING.charAt(U%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new G;let C;this.extendedMode?C=Nt.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let O=(l[1]+l[0])/2,M=p+w/2;return new dt(C,null,0,[new j(O,e),new j(M,e)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let i=e.getSize(),o=e.getNextSet(0),l=0,c=o,d=!1,g=r.length;for(let p=o;p<i;p++)if(e.get(p)!==d)r[l]++;else{if(l===g-1){if(this.toNarrowWidePattern(r)===Nt.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new G}static toNarrowWidePattern(e){let r=e.length,i=0,o;do{let l=2147483647;for(let g of e)g<l&&g>i&&(l=g);i=l,o=0;let c=0,d=0;for(let g=0;g<r;g++){let p=e[g];p>i&&(d|=1<<r-1-g,o++,c+=p)}if(o===3){for(let g=0;g<r&&o>0;g++){let p=e[g];if(p>i&&(o--,p*2>=c))return-1}return d}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<Nt.CHARACTER_ENCODINGS.length;r++)if(Nt.CHARACTER_ENCODINGS[r]===e)return Nt.ALPHABET_STRING.charAt(r);if(e===Nt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(e){let r=e.length,i="";for(let o=0;o<r;o++){let l=e.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=e.charAt(o+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new F;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new F;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new F;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new F;break}i+=d,o++}else i+=l}return i}}Nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Nt.ASTERISK_ENCODING=148;class Ye extends vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new re;Ye.decodeMiddle(r,o[1],l[0],c);let d=c.toString(),g=null;i!=null&&(g=i.get(W.ALLOWED_LENGTHS)),g==null&&(g=Ye.DEFAULT_ALLOWED_LENGTHS);let p=d.length,w=!1,y=0;for(let M of g){if(p===M){w=!0;break}M>y&&(y=M)}if(!w&&p>y&&(w=!0),!w)throw new F;const C=[new j(o[1],e),new j(l[0],e)];return new dt(d,null,0,C,Ae.ITF,new Date().getTime())}static decodeMiddle(e,r,i,o){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);r<i;){vt.recordPattern(e,r,l);for(let p=0;p<5;p++){let w=2*p;c[p]=l[w],d[p]=l[w+1]}let g=Ye.decodeDigit(c);o.append(g.toString()),g=this.decodeDigit(d),o.append(g.toString()),l.forEach(function(p){r+=p})}}decodeStart(e){let r=Ye.skipWhiteSpace(e),i=Ye.findGuardPattern(e,r,Ye.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new G}static skipWhiteSpace(e){const r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new G;return i}decodeEnd(e){e.reverse();try{let r=Ye.skipWhiteSpace(e),i;try{i=Ye.findGuardPattern(e,r,Ye.END_PATTERN_REVERSED[0])}catch(l){l instanceof G&&(i=Ye.findGuardPattern(e,r,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,r,i){let o=i.length,l=new Int32Array(o),c=e.getSize(),d=!1,g=0,p=r;l.fill(0);for(let w=r;w<c;w++)if(e.get(w)!==d)l[g]++;else{if(g===o-1){if(vt.patternMatchVariance(l,i,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],R.arraycopy(l,2,l,0,g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,d=!d}throw new G}static decodeDigit(e){let r=Ye.MAX_AVG_VARIANCE,i=-1,o=Ye.PATTERNS.length;for(let l=0;l<o;l++){let c=Ye.PATTERNS[l],d=vt.patternMatchVariance(e,c,Ye.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,i=l):d===r&&(i=-1)}if(i>=0)return i%10;throw new G}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=st.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let c=i[0];o=i[1];let d=c-(o-c);d>=0&&(r=e.isRange(d,c,!1))}return i}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return st.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}return(1e3-i)%10}static decodeEnd(e,r){return st.findGuardPattern(e,r,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))}static findGuardPattern(e,r,i,o,l){let c=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);let d=0,g=r,p=o.length,w=i;for(let y=r;y<c;y++)if(e.get(y)!==w)l[d]++;else{if(d===p-1){if(vt.patternMatchVariance(l,o,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([g,y]);g+=l[0]+l[1];let C=l.slice(2,l.length-1);for(let O=0;O<d-1;O++)l[O]=C[O];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new G}static decodeDigit(e,r,i,o){this.recordPattern(e,i,r);let l=this.MAX_AVG_VARIANCE,c=-1,d=o.length;for(let g=0;g<d;g++){let p=o[g],w=vt.patternMatchVariance(r,p,st.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,c=g)}if(c>=0)return c;throw new G}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Er{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),d=Er.parseExtensionString(c),g=[new j((i[0]+i[1])/2,e),new j(l,e)],p=new dt(c,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],d=0;for(let p=0;p<5&&c<l;p++){let w=st.decodeDigit(e,o,c,st.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(d|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==5)throw new G;let g=this.determineCheckDigit(d);if(Er.extensionChecksum(i.toString())!==g)throw new G;return c}static extensionChecksum(e){let r=e.length,i=0;for(let o=r-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new G}static parseExtensionString(e){if(e.length!==5)return null;let r=Er.parseExtension5String(e);return r==null?null:new Map([[de.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),l=i%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class Ya{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),c=o.toString(),d=Ya.parseExtensionString(c),g=[new j((i[0]+i[1])/2,e),new j(l,e)],p=new dt(c,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],d=0;for(let g=0;g<2&&c<l;g++){let p=st.decodeDigit(e,o,c,st.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of o)c+=w;p>=10&&(d|=1<<1-g),g!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==2)throw new G;if(parseInt(i.toString())%4!==d)throw new G;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[de.ISSUE_NUMBER,parseInt(e)]])}}class yu{static decodeRow(e,r,i){let o=st.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Er().decodeRow(e,r,o)}catch{return new Ya().decodeRow(e,r,o)}}}yu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends st{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=lt.L_PATTERNS[e-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];lt.L_AND_G_PATTERNS[e]=i}}decodeRow(e,r,i){let o=lt.findStartGuardPattern(r),l=i==null?null:i.get(W.NEED_RESULT_POINT_CALLBACK);if(l!=null){const ue=new j((o[0]+o[1])/2,e);l.foundPossibleResultPoint(ue)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=c.rowOffset,g=c.resultString;if(l!=null){const ue=new j(d,e);l.foundPossibleResultPoint(ue)}let p=this.decodeEnd(r,d);if(l!=null){const ue=new j((p[0]+p[1])/2,e);l.foundPossibleResultPoint(ue)}let w=p[1],y=w+(w-p[0]);if(y>=r.getSize()||!r.isRange(w,y,!1))throw new G;let C=g.toString();if(C.length<8)throw new F;if(!lt.checkChecksum(C))throw new T;let O=(o[1]+o[0])/2,M=(p[1]+p[0])/2,k=this.getBarcodeFormat(),U=[new j(O,e),new j(M,e)],K=new dt(C,null,0,U,k,new Date().getTime()),he=0;try{let ue=yu.decodeRow(e,r,p[1]);K.putMetadata(de.UPC_EAN_EXTENSION,ue.getText()),K.putAllMetadata(ue.getResultMetadata()),K.addResultPoints(ue.getResultPoints()),he=ue.getText().length}catch{}let pe=i==null?null:i.get(W.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let ue=!1;for(let et in pe)if(he.toString()===et){ue=!0;break}if(!ue)throw new G}return K}decodeEnd(e,r){return lt.findGuardPattern(e,r,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return lt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return lt.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;i+=l}return(1e3-i)%10}}class ns extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1],d=0;for(let p=0;p<6&&c<l;p++){let w=lt.decodeDigit(e,o,c,lt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(d|=1<<5-p)}i=ns.determineFirstDigit(i,d),c=lt.findGuardPattern(e,c,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let w=lt.decodeDigit(e,o,c,lt.L_PATTERNS);i+=String.fromCharCode(48+w);for(let y of o)c+=y}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(e,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new G}}ns.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Cu extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=r[1];for(let g=0;g<4&&c<l;g++){let p=lt.decodeDigit(e,o,c,lt.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}c=lt.findGuardPattern(e,c,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&c<l;g++){let p=lt.decodeDigit(e,o,c,lt.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of o)c+=w}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return Ae.EAN_8}}class vu extends lt{constructor(){super(...arguments),this.ean13Reader=new ns}getBarcodeFormat(){return Ae.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))}decodeMiddle(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let i=new dt(r.substring(1),null,null,e.getResultPoints(),Ae.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new G}reset(){this.ean13Reader.reset()}}class Vn extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,i){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let c=r[1],d=0;for(let p=0;p<6&&c<l;p++){const w=Vn.decodeDigit(e,o,c,Vn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let y of o)c+=y;w>=10&&(d|=1<<5-p)}let g=Vn.determineNumSysAndCheckDigit(i,d);return{rowOffset:c,resultString:g}}decodeEnd(e,r){return Vn.findGuardPatternWithoutCounters(e,r,!0,Vn.MIDDLE_END_PATTERN)}checkChecksum(e){return lt.checkChecksum(Vn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),c=String.fromCharCode(48+o);return l+e+c}throw G.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new re;i.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ka extends vt{constructor(e){super();let r=e==null?null:e.get(W.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new ns),i.push(new vu),i.push(new Cu),i.push(new Vn)):(r.indexOf(Ae.EAN_13)>-1&&i.push(new ns),r.indexOf(Ae.UPC_A)>-1&&i.push(new vu),r.indexOf(Ae.EAN_8)>-1&&i.push(new Cu),r.indexOf(Ae.UPC_E)>-1&&i.push(new Vn)),this.readers=i}decodeRow(e,r,i){for(let o of this.readers)try{const l=o.decodeRow(e,r,i),c=l.getBarcodeFormat()===Ae.EAN_13&&l.getText().charAt(0)==="0",d=i==null?null:i.get(W.POSSIBLE_FORMATS),g=d==null||d.includes(Ae.UPC_A);if(c&&g){const p=l.getRawBytes(),w=new dt(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),Ae.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new G}reset(){for(let e of this.readers)e.reset()}}class Zt extends vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let i=0;i<r.length;i++)if(vt.patternMatchVariance(e,r[i],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return i;throw new G}static count(e){return oe.sum(new Int32Array(e))}static increment(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]>o&&(o=r[l],i=l);e[i]++}static decrement(e,r){let i=0,o=r[0];for(let l=1;l<e.length;l++)r[l]<o&&(o=r[l],i=l);e[i]--}static isFinderPattern(e){let r=e[0]+e[1],i=r+e[2]+e[3],o=r/i;if(o>=Zt.MIN_FINDER_PATTERN_RATIO&&o<=Zt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of e)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rs{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Rs))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class _o{constructor(e,r,i,o,l){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new j(i,l)),this.resultPoints.push(new j(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof _o))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(e,r,i){let o=0;for(let g of e)o+=g;let l=0,c=0,d=e.length;for(let g=0;g<d-1;g++){let p;for(p=1,c|=1<<g;p<e[g];p++,c&=~(1<<g)){let w=Yn.combins(o-p-1,d-g-2);if(i&&c===0&&o-p-(d-g-1)>=d-g-1&&(w-=Yn.combins(o-p-(d-g),d-g-2)),d-g-1>1){let y=0;for(let C=o-p-(d-g-2);C>r;C--)y+=Yn.combins(o-p-C-1,d-g-3);w-=y*(d-1-g)}else o-p>r&&w--;l+=w}o-=p}return l}static combins(e,r){let i,o;e-r>r?(o=r,i=e-r):(o=e-r,i=r);let l=1,c=1;for(let d=e;d>i;d--)l*=d,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class rg{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new Z(i),l=0,d=e[0].getRightChar().getValue();for(let g=11;g>=0;--g)d&1<<g&&o.set(l),l++;for(let g=1;g<e.length;++g){let p=e[g],w=p.getLeftChar().getValue();for(let y=11;y>=0;--y)w&1<<y&&o.set(l),l++;if(p.getRightChar()!=null){let y=p.getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&o.set(l),l++}}return o}}class rs{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class qa{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class an extends qa{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===an.FNC1}}an.FNC1="$";class ss extends qa{constructor(e,r,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tn extends qa{constructor(e,r,i){if(super(e),r<0||r>10||i<0||i>10)throw new F;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tn.FNC1}isAnyFNC1(){return this.firstDigit===Tn.FNC1||this.secondDigit===Tn.FNC1}}Tn.FNC1=10;class ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new G;let r=e.substring(0,2);for(let l of ve.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(2,l[2],e):ve.processFixedAI(2,l[1],e);if(e.length<3)throw new G;let i=e.substring(0,3);for(let l of ve.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(3,l[2],e):ve.processFixedAI(3,l[1],e);for(let l of ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,l[2],e):ve.processFixedAI(4,l[1],e);if(e.length<4)throw new G;let o=e.substring(0,4);for(let l of ve.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,l[2],e):ve.processFixedAI(4,l[1],e);throw new G}static processFixedAI(e,r,i){if(i.length<e)throw new G;let o=i.substring(0,e);if(i.length<e+r)throw new G;let l=i.substring(e,e+r),c=i.substring(e+r),d="("+o+")"+l,g=ve.parseFieldsInGeneralPurpose(c);return g==null?d:d+g}static processVariableAI(e,r,i){let o=i.substring(0,e),l;i.length<e+r?l=i.length:l=e+r;let c=i.substring(e,l),d=i.substring(l),g="("+o+")"+c,p=ve.parseFieldsInGeneralPurpose(d);return p==null?g:g+p}}ve.VARIABLE_LENGTH=[],ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ve.VARIABLE_LENGTH,20],["22",ve.VARIABLE_LENGTH,29],["30",ve.VARIABLE_LENGTH,8],["37",ve.VARIABLE_LENGTH,8],["90",ve.VARIABLE_LENGTH,30],["91",ve.VARIABLE_LENGTH,30],["92",ve.VARIABLE_LENGTH,30],["93",ve.VARIABLE_LENGTH,30],["94",ve.VARIABLE_LENGTH,30],["95",ve.VARIABLE_LENGTH,30],["96",ve.VARIABLE_LENGTH,30],["97",ve.VARIABLE_LENGTH,3],["98",ve.VARIABLE_LENGTH,30],["99",ve.VARIABLE_LENGTH,30]],ve.THREE_DIGIT_DATA_LENGTH=[["240",ve.VARIABLE_LENGTH,30],["241",ve.VARIABLE_LENGTH,30],["242",ve.VARIABLE_LENGTH,6],["250",ve.VARIABLE_LENGTH,30],["251",ve.VARIABLE_LENGTH,30],["253",ve.VARIABLE_LENGTH,17],["254",ve.VARIABLE_LENGTH,20],["400",ve.VARIABLE_LENGTH,30],["401",ve.VARIABLE_LENGTH,30],["402",17],["403",ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ve.VARIABLE_LENGTH,20],["421",ve.VARIABLE_LENGTH,15],["422",3],["423",ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ve.VARIABLE_LENGTH,15],["391",ve.VARIABLE_LENGTH,18],["392",ve.VARIABLE_LENGTH,15],["393",ve.VARIABLE_LENGTH,18],["703",ve.VARIABLE_LENGTH,30]],ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ve.VARIABLE_LENGTH,20],["8003",ve.VARIABLE_LENGTH,30],["8004",ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ve.VARIABLE_LENGTH,30],["8008",ve.VARIABLE_LENGTH,12],["8018",18],["8020",ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ve.VARIABLE_LENGTH,70],["8200",ve.VARIABLE_LENGTH,70]];class Ds{constructor(e){this.buffer=new re,this.information=e}decodeAllCodes(e,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),c=ve.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&e.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return l===0?new Tn(this.information.getSize(),Tn.FNC1,Tn.FNC1):new Tn(this.information.getSize(),l-1,Tn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new Tn(e+7,i,o)}extractNumericValueFromBitArray(e,r){return Ds.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,i){let o=0;for(let l=0;l<i;++l)e.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ss(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new ss(this.current.getPosition(),this.buffer.toString()):r=new ss(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new rs(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rs(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new an(e+5,an.FNC1);if(r>=5&&r<15)return new an(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new an(e+7,""+(i+1));if(i>=90&&i<116)return new an(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new F}return new an(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new an(e+5,an.FNC1);if(r>=5&&r<15)return new an(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new an(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new H("Decoding invalid alphanumeric value: "+i)}return new an(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class Za{constructor(e){this.information=e,this.generalDecoder=new Ds(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ln extends Za{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)}encodeCompressedGtinWithoutAI(e,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&e.append("0"),l/10===0&&e.append("0"),e.append(l)}ln.appendCheckDigit(e,i)}static appendCheckDigit(e,r){let i=0;for(let o=0;o<13;o++){let l=e.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),e.append(i)}}ln.GTIN_SIZE=40;class Ms extends ln{constructor(e){super(e)}parseInformation(){let e=new re;e.append("(01)");let r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ms.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Ms.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,Ms.HEADER_SIZE+44)}}Ms.HEADER_SIZE=4;class Eo extends Za{constructor(e){super(e)}parseInformation(){let e=new re;return this.getGeneralDecoder().decodeAllCodes(e,Eo.HEADER_SIZE)}}Eo.HEADER_SIZE=5;class wo extends ln{constructor(e){super(e)}encodeCompressedWeight(e,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);let l=this.checkWeight(o),c=1e5;for(let d=0;d<5;++d)l/c===0&&e.append("0"),c/=10;e.append(l)}}class Kn extends wo{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+wo.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new G;let e=new re;return this.encodeCompressedGtin(e,Kn.HEADER_SIZE),this.encodeCompressedWeight(e,Kn.HEADER_SIZE+wo.GTIN_SIZE,Kn.WEIGHT_SIZE),e.toString()}}Kn.HEADER_SIZE=5,Kn.WEIGHT_SIZE=15;class sg extends Kn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class ig extends Kn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class qn extends ln{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qn.HEADER_SIZE+ln.GTIN_SIZE)throw new G;let e=new re;this.encodeCompressedGtin(e,qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE+ln.GTIN_SIZE,qn.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(qn.HEADER_SIZE+ln.GTIN_SIZE+qn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}qn.HEADER_SIZE=8,qn.LAST_DIGIT_SIZE=2;class en extends ln{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+ln.GTIN_SIZE)throw new G;let e=new re;this.encodeCompressedGtin(e,en.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE,en.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class At extends wo{constructor(e,r,i){super(e),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new G;let e=new re;return this.encodeCompressedGtin(e,At.HEADER_SIZE),this.encodeCompressedWeight(e,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(e,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,At.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let c=i;c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function Tu(A){try{if(A.get(1))return new Ms(A);if(!A.get(2))return new Eo(A);switch(Ds.extractNumericValueFromBitArray(A,1,4)){case 4:return new sg(A);case 5:return new ig(A)}switch(Ds.extractNumericValueFromBitArray(A,1,5)){case 12:return new qn(A);case 13:return new en(A)}switch(Ds.extractNumericValueFromBitArray(A,1,7)){case 56:return new At(A,"310","11");case 57:return new At(A,"320","11");case 58:return new At(A,"310","13");case 59:return new At(A,"320","13");case 60:return new At(A,"310","15");case 61:return new At(A,"320","15");case 62:return new At(A,"310","17");case 63:return new At(A,"320","17")}}catch(e){throw console.log(e),new H("unknown decoder: "+A)}}class wr{constructor(e,r,i,o){this.leftchar=e,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof wr?wr.equalsOrNull(e.leftchar,r.leftchar)&&wr.equalsOrNull(e.rightchar,r.rightchar)&&wr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:wr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Qa{constructor(e,r,i){this.pairs=e,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Qa?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let i;return e.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class ae extends Zt{constructor(e){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(l){if(l instanceof G){if(!this.pairs.length)throw new G;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new G}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,i+1)}catch(c){this.verbose&&console.log(c)}}throw new G}static isValidSequence(e){for(let r of ae.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>e){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}l||o||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Qa(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let i of r)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let l of e)if(wr.equals(o,l))break}}static isPartialRow(e,r){for(let i of r){let o=!0;for(let l of e){let c=!1;for(let d of i.getPairs())if(l.equals(d)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=rg.buildBitArray(e),o=Tu(r).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new dt(o,null,null,d,Ae.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let g=this.pairs.get(d);o+=g.getLeftChar().getChecksumPortion(),l++;let p=g.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(e,r){let i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i}retrieveNextPair(e,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,d=-1;do this.findNextPair(e,r,d),l=this.parseFoundFinderPattern(e,i,o),l==null?d=ae.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let g=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new G;let p;try{p=this.decodeDataCharacter(e,l,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new wr(g,p,l,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c;i>=0?c=i:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let g=!1;for(;c<l&&(g=!e.get(c),!!g);)c++;let p=0,w=c;for(let y=c;y<l;y++)if(e.get(y)!=g)o[p]++;else{if(p==3){if(d&&ae.reverseCounters(o),ae.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=y;return}d&&ae.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,g=!g}throw new G}static reverseCounters(e){let r=e.length;for(let i=0;i<r/2;++i){let o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}}parseFoundFinderPattern(e,r,i){let o,l,c;if(i){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let d=this.getDecodeFinderCounters();R.arraycopy(d,0,d,1,d.length-1),d[0]=o;let g;try{g=this.parseFinderValue(d,ae.FINDER_PATTERNS)}catch{return null}return new _o(g,[l,c],l,c,r)}decodeDataCharacter(e,r,i,o){let l=this.getDataCharacterCounters();for(let mt=0;mt<l.length;mt++)l[mt]=0;if(o)ae.recordPatternInReverse(e,r.getStartEnd()[0],l);else{ae.recordPattern(e,r.getStartEnd()[1],l);for(let mt=0,Kt=l.length-1;mt<Kt;mt++,Kt--){let xn=l[mt];l[mt]=l[Kt],l[Kt]=xn}}let c=17,d=oe.sum(new Int32Array(l))/c,g=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-g)/g>.3)throw new G;let p=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let mt=0;mt<l.length;mt++){let Kt=1*l[mt]/d,xn=Kt+.5;if(xn<1){if(Kt<.3)throw new G;xn=1}else if(xn>8){if(Kt>8.7)throw new G;xn=8}let Fs=mt/2;mt&1?(w[Fs]=xn,C[Fs]=Kt-xn):(p[Fs]=xn,y[Fs]=Kt-xn)}this.adjustOddEvenCounts(c);let O=4*r.getValue()+(i?0:2)+(o?0:1)-1,M=0,k=0;for(let mt=p.length-1;mt>=0;mt--){if(ae.isNotA1left(r,i,o)){let Kt=ae.WEIGHTS[O][2*mt];k+=p[mt]*Kt}M+=p[mt]}let U=0;for(let mt=w.length-1;mt>=0;mt--)if(ae.isNotA1left(r,i,o)){let Kt=ae.WEIGHTS[O][2*mt+1];U+=w[mt]*Kt}let K=k+U;if(M&1||M>13||M<4)throw new G;let he=(13-M)/2,pe=ae.SYMBOL_WIDEST[he],ue=9-pe,et=Yn.getRSSvalue(p,pe,!0),Xe=Yn.getRSSvalue(w,ue,!1),un=ae.EVEN_TOTAL_SUBSET[he],Hn=ae.GSUM[he],fn=et*un+Xe+Hn;return new Rs(fn,K)}static isNotA1left(e,r,i){return!(e.getValue()==0&&r&&i)}adjustOddEvenCounts(e){let r=oe.sum(new Int32Array(this.getOddCounts())),i=oe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,d=!1;i>13?d=!0:i<4&&(c=!0);let g=r+i-e,p=(r&1)==1,w=(i&1)==0;if(g==1)if(p){if(w)throw new G;l=!0}else{if(!w)throw new G;d=!0}else if(g==-1)if(p){if(w)throw new G;o=!0}else{if(!w)throw new G;c=!0}else if(g==0){if(p){if(!w)throw new G;r<i?(o=!0,d=!0):(l=!0,c=!0)}else if(w)throw new G}else throw new G;if(o){if(l)throw new G;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new G;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class og extends Rs{constructor(e,r,i){super(e,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,i){const o=this.decodePair(r,!1,e,i);Rt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,e,i);Rt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&Rt.checkChecksum(c,d))return Rt.constructResult(c,d)}throw new G}static addOrTally(e,r){if(r==null)return;let i=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),l=new re;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let c=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-48;c+=p&1?w:3*w}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=e.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new dt(l.toString(),null,0,[d[0],d[1],g[0],g[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(e,r){let i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,r,i,o){try{let l=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,i,r,l),d=o==null?null:o.get(W.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;r&&(w=e.getSize()-1-w),d.foundPossibleResultPoint(new j(w,i))}let g=this.decodeDataCharacter(e,c,!0),p=this.decodeDataCharacter(e,c,!1);return new og(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,r,i){let o=this.getDataCharacterCounters();for(let U=0;U<o.length;U++)o[U]=0;if(i)vt.recordPatternInReverse(e,r.getStartEnd()[0],o);else{vt.recordPattern(e,r.getStartEnd()[1]+1,o);for(let U=0,K=o.length-1;U<K;U++,K--){let he=o[U];o[U]=o[K],o[K]=he}}let l=i?16:15,c=oe.sum(new Int32Array(o))/l,d=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let U=0;U<o.length;U++){let K=o[U]/c,he=Math.floor(K+.5);he<1?he=1:he>8&&(he=8);let pe=Math.floor(U/2);U&1?(g[pe]=he,w[pe]=K-he):(d[pe]=he,p[pe]=K-he)}this.adjustOddEvenCounts(i,l);let y=0,C=0;for(let U=d.length-1;U>=0;U--)C*=9,C+=d[U],y+=d[U];let O=0,M=0;for(let U=g.length-1;U>=0;U--)O*=9,O+=g[U],M+=g[U];let k=C+3*O;if(i){if(y&1||y>12||y<4)throw new G;let U=(12-y)/2,K=Rt.OUTSIDE_ODD_WIDEST[U],he=9-K,pe=Yn.getRSSvalue(d,K,!1),ue=Yn.getRSSvalue(g,he,!0),et=Rt.OUTSIDE_EVEN_TOTAL_SUBSET[U],Xe=Rt.OUTSIDE_GSUM[U];return new Rs(pe*et+ue+Xe,k)}else{if(M&1||M>10||M<4)throw new G;let U=(10-M)/2,K=Rt.INSIDE_ODD_WIDEST[U],he=9-K,pe=Yn.getRSSvalue(d,K,!0),ue=Yn.getRSSvalue(g,he,!1),et=Rt.INSIDE_ODD_TOTAL_SUBSET[U],Xe=Rt.INSIDE_GSUM[U];return new Rs(ue*et+pe+Xe,k)}}findFinderPattern(e,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),l=!1,c=0;for(;c<o&&(l=!e.get(c),r!==l);)c++;let d=0,g=c;for(let p=c;p<o;p++)if(e.get(p)!==l)i[d]++;else{if(d===3){if(Zt.isFinderPattern(i))return[g,p];g+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,d--}else d++;i[d]=1,l=!l}throw new G}parseFoundFinderPattern(e,r,i,o){let l=e.get(o[0]),c=o[0]-1;for(;c>=0&&l!==e.get(c);)c--;c++;const d=o[0]-c,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);R.arraycopy(g,0,p,1,g.length-1),p[0]=d;const w=this.parseFinderValue(p,Rt.FINDER_PATTERNS);let y=c,C=o[1];return i&&(y=e.getSize()-1-y,C=e.getSize()-1-C),new _o(w,[c,o[1]],y,C,r)}adjustOddEvenCounts(e,r){let i=oe.sum(new Int32Array(this.getOddCounts())),o=oe.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,g=!1;e?(i>12?c=!0:i<4&&(l=!0),o>12?g=!0:o<4&&(d=!0)):(i>11?c=!0:i<5&&(l=!0),o>10?g=!0:o<4&&(d=!0));let p=i+o-r,w=(i&1)===(e?1:0),y=(o&1)===1;if(p===1)if(w){if(y)throw new G;c=!0}else{if(!y)throw new G;g=!0}else if(p===-1)if(w){if(y)throw new G;l=!0}else{if(!y)throw new G;d=!0}else if(p===0){if(w){if(!y)throw new G;i<o?(l=!0,g=!0):(c=!0,d=!0)}else if(y)throw new G}else throw new G;if(l){if(c)throw new G;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new G;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ls extends vt{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const i=e?e.get(W.POSSIBLE_FORMATS):null,o=e&&e.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(Ae.EAN_13)||i.includes(Ae.UPC_A)||i.includes(Ae.EAN_8)||i.includes(Ae.UPC_E))&&this.readers.push(new Ka(e)),i.includes(Ae.CODE_39)&&this.readers.push(new Nt(o)),i.includes(Ae.CODE_128)&&this.readers.push(new me),i.includes(Ae.ITF)&&this.readers.push(new Ye),i.includes(Ae.RSS_14)&&this.readers.push(new Rt),i.includes(Ae.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new Ka(e)),this.readers.push(new Nt),this.readers.push(new Ka(e)),this.readers.push(new me),this.readers.push(new Ye),this.readers.push(new Rt),this.readers.push(new ae(this.verbose)))}decodeRow(e,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new G}reset(){this.readers.forEach(e=>e.reset())}}class ag extends Ft{constructor(e=500,r){super(new Ls(r),e,r)}}class ft{constructor(e,r,i){this.ecCodewords=e,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(e,r,i,o,l,c){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const g=c.getECCodewords(),p=c.getECBlocks();for(let w of p)d+=w.getCount()*(w.getDataCodewords()+g);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new F;for(let i of nt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===r)return i;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new ft(5,new ct(1,3))),new nt(2,12,12,10,10,new ft(7,new ct(1,5))),new nt(3,14,14,12,12,new ft(10,new ct(1,8))),new nt(4,16,16,14,14,new ft(12,new ct(1,12))),new nt(5,18,18,16,16,new ft(14,new ct(1,18))),new nt(6,20,20,18,18,new ft(18,new ct(1,22))),new nt(7,22,22,20,20,new ft(20,new ct(1,30))),new nt(8,24,24,22,22,new ft(24,new ct(1,36))),new nt(9,26,26,24,24,new ft(28,new ct(1,44))),new nt(10,32,32,14,14,new ft(36,new ct(1,62))),new nt(11,36,36,16,16,new ft(42,new ct(1,86))),new nt(12,40,40,18,18,new ft(48,new ct(1,114))),new nt(13,44,44,20,20,new ft(56,new ct(1,144))),new nt(14,48,48,22,22,new ft(68,new ct(1,174))),new nt(15,52,52,24,24,new ft(42,new ct(2,102))),new nt(16,64,64,14,14,new ft(56,new ct(2,140))),new nt(17,72,72,16,16,new ft(36,new ct(4,92))),new nt(18,80,80,18,18,new ft(48,new ct(4,114))),new nt(19,88,88,20,20,new ft(56,new ct(4,144))),new nt(20,96,96,22,22,new ft(68,new ct(4,174))),new nt(21,104,104,24,24,new ft(56,new ct(6,136))),new nt(22,120,120,18,18,new ft(68,new ct(6,175))),new nt(23,132,132,20,20,new ft(62,new ct(8,163))),new nt(24,144,144,22,22,new ft(62,new ct(8,156),new ct(2,155))),new nt(25,8,18,6,16,new ft(7,new ct(1,5))),new nt(26,8,32,6,14,new ft(11,new ct(1,10))),new nt(27,12,26,10,24,new ft(14,new ct(1,16))),new nt(28,12,36,10,16,new ft(18,new ct(1,22))),new nt(29,16,36,14,16,new ft(24,new ct(1,32))),new nt(30,16,48,14,22,new ft(28,new ct(1,49)))]}}nt.VERSIONS=nt.buildVersions();class Ja{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new F;this.version=Ja.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),i=e.getWidth();return nt.getVersionForDimensions(r,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,g=!1,p=!1,w=!1;do if(i===l&&o===0&&!d)e[r++]=this.readCorner1(l,c)&255,i-=2,o+=2,d=!0;else if(i===l-2&&o===0&&c&3&&!g)e[r++]=this.readCorner2(l,c)&255,i-=2,o+=2,g=!0;else if(i===l+4&&o===2&&!(c&7)&&!p)e[r++]=this.readCorner3(l,c)&255,i-=2,o+=2,p=!0;else if(i===l-2&&o===0&&(c&7)===4&&!w)e[r++]=this.readCorner4(l,c)&255,i-=2,o+=2,w=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(e[r++]=this.readUtah(i,o,l,c)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<c);if(r!==this.version.getTotalCodewords())throw new F;return e}readModule(e,r,i,o){return e<0&&(e+=i,r+=4-(i+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,i,o){let l=0;return this.readModule(e-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,r,i,o)&&(l|=1),l<<=1,this.readModule(e,r-2,i,o)&&(l|=1),l<<=1,this.readModule(e,r-1,i,o)&&(l|=1),l<<=1,this.readModule(e,r,i,o)&&(l|=1),l}readCorner1(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,1,e,r)&&(i|=1),i<<=1,this.readModule(e-1,2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}readCorner2(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-4,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner3(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-3,e,r)&&(i|=1),i<<=1,this.readModule(1,r-2,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner4(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new b("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,d=i/l|0,g=c*o,p=d*l,w=new Re(p,g);for(let y=0;y<c;++y){const C=y*o;for(let O=0;O<d;++O){const M=O*l;for(let k=0;k<o;++k){const U=y*(o+2)+1+k,K=C+k;for(let he=0;he<l;++he){const pe=O*(l+2)+1+he;if(e.get(pe,U)){const ue=M+he;w.set(ue,K)}}}}}return w}}class el{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let k of l)o+=k.getCount();const c=new Array(o);let d=0;for(let k of l)for(let U=0;U<k.getCount();U++){const K=k.getDataCodewords(),he=i.getECCodewords()+K;c[d++]=new el(K,new Uint8Array(he))}const p=c[0].codewords.length-i.getECCodewords(),w=p-1;let y=0;for(let k=0;k<w;k++)for(let U=0;U<d;U++)c[U].codewords[k]=e[y++];const C=r.getVersionNumber()===24,O=C?8:d;for(let k=0;k<O;k++)c[k].codewords[p-1]=e[y++];const M=c[0].codewords.length;for(let k=p;k<M;k++)for(let U=0;U<d;U++){const K=C?(U+8)%d:U,he=C&&K>7?k-1:k;c[K].codewords[he]=e[y++]}if(y!==e.length)throw new b;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tl{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const c=8-i,d=e<c?e:c,g=c-d,p=255>>8-d<<g;r=(l[o]&p)>>g,e-=d,i+=d,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)r=r<<8|l[o]&255,o++,e-=8;if(e>0){const c=8-e,d=255>>c<<c;r=r<<e|(l[o]&d)>>c,i+=e}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ut;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ut||(Ut={}));class br{static decode(e){const r=new tl(e),i=new re,o=new re,l=new Array;let c=Ut.ASCII_ENCODE;do if(c===Ut.ASCII_ENCODE)c=this.decodeAsciiSegment(r,i,o);else{switch(c){case Ut.C40_ENCODE:this.decodeC40Segment(r,i);break;case Ut.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Ut.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Ut.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Ut.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new F}c=Ut.ASCII_ENCODE}while(c!==Ut.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new _e(e,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(e,r,i){let o=!1;do{let l=e.readBits(8);if(l===0)throw new F;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),Ut.ASCII_ENCODE;if(l===129)return Ut.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return Ut.C40_ENCODE;case 231:return Ut.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Ut.ANSIX12_ENCODE;case 239:return Ut.TEXT_ENCODE;case 240:return Ut.EDIFACT_ENCODE;case 241:break;default:if(l!==254||e.available()!==0)throw new F;break}}while(e.available()>0);return Ut.ASCII_ENCODE}static decodeC40Segment(e,r){let i=!1;const o=[];let l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let d=0;d<3;d++){const g=o[d];switch(l){case 0:if(g<3)l=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new F;break;case 1:i?(r.append(String.fromCharCode(g+128)),i=!1):r.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(g){case 27:r.append("");break;case 30:i=!0;break;default:throw new F}l=0;break;case 3:i?(r.append(String.fromCharCode(g+224)),i=!1):r.append(String.fromCharCode(g+96)),l=0;break;default:throw new F}}}while(e.available()>0)}static decodeTextSegment(e,r){let i=!1,o=[],l=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let d=0;d<3;d++){const g=o[d];switch(l){case 0:if(g<3)l=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else throw new F;break;case 1:i?(r.append(String.fromCharCode(g+128)),i=!1):r.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p)}else switch(g){case 27:r.append("");break;case 30:i=!0;break;default:throw new F}l=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];i?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):r.append(p),l=0}else throw new F;break;default:throw new F}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let l=0;l<3;l++){const c=i[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new F;break}}}while(e.available()>0)}static parseTwoBytes(e,r,i){let o=(e<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const l=8-e.getBitOffset();l!==8&&e.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,i){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let c;if(l===0?c=e.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new F;const d=new Uint8Array(c);for(let g=0;g<c;g++){if(e.available()<8)throw new F;d[g]=this.unrandomize255State(e.readBits(8),o++)}i.push(d);try{r.append(Ee.decode(d,$.ISO88591))}catch(g){throw new H("Platform does not support required encoding: "+g.message)}}static unrandomize255State(e,r){const i=149*r%255+1,o=e-i;return o>=0?o:o+256}}br.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],br.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],br.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],br.TEXT_SHIFT2_SET_CHARS=br.C40_SHIFT2_SET_CHARS,br.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class lg{constructor(){this.rsDecoder=new ie(S.DATA_MATRIX_FIELD_256)}decode(e){const r=new Ja(e),i=r.getVersion(),o=r.readCodewords(),l=el.getDataBlocks(o,i);let c=0;for(let p of l)c+=p.getNumDataCodewords();const d=new Uint8Array(c),g=l.length;for(let p=0;p<g;p++){const w=l[p],y=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(y,C);for(let O=0;O<C;O++)d[O*g+p]=y[O]}return br.decode(d)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new T}for(let o=0;o<r;o++)e[o]=i[o]}}class Pt{constructor(e){this.image=e,this.rectangleDetector=new Ce(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new G;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],c=r[3];let d=this.transitionsBetween(i,c)+1,g=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(g&1)===1&&(g+=1),4*d<7*g&&4*g<7*d&&(d=g=Math.max(d,g));let p=Pt.sampleGrid(this.image,i,o,l,c,d,g);return new le(p,[i,o,l,c])}static shiftPoint(e,r,i){let o=(r.getX()-e.getX())/(i+1),l=(r.getY()-e.getY())/(i+1);return new j(e.getX()+o,e.getY()+l)}static moveAway(e,r,i){let o=e.getX(),l=e.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new j(o,l)}detectSolid1(e){let r=e[0],i=e[1],o=e[3],l=e[2],c=this.transitionsBetween(r,i),d=this.transitionsBetween(i,o),g=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),w=c,y=[l,r,i,o];return w>d&&(w=d,y[0]=r,y[1]=i,y[2]=o,y[3]=l),w>g&&(w=g,y[0]=i,y[1]=o,y[2]=l,y[3]=r),w>p&&(y[0]=o,y[1]=l,y[2]=r,y[3]=i),y}detectSolid2(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),d=Pt.shiftPoint(i,o,(c+1)*4),g=Pt.shiftPoint(o,i,(c+1)*4),p=this.transitionsBetween(d,r),w=this.transitionsBetween(g,l);return p<w?(e[0]=r,e[1]=i,e[2]=o,e[3]=l):(e[0]=i,e[1]=o,e[2]=l,e[3]=r),e}correctTopRight(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l),d=this.transitionsBetween(i,l),g=Pt.shiftPoint(r,i,(d+1)*4),p=Pt.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(g,l),d=this.transitionsBetween(p,l);let w=new j(l.getX()+(o.getX()-i.getX())/(c+1),l.getY()+(o.getY()-i.getY())/(c+1)),y=new j(l.getX()+(r.getX()-i.getX())/(d+1),l.getY()+(r.getY()-i.getY())/(d+1));if(!this.isValid(w))return this.isValid(y)?y:null;if(!this.isValid(y))return w;let C=this.transitionsBetween(g,w)+this.transitionsBetween(p,w),O=this.transitionsBetween(g,y)+this.transitionsBetween(p,y);return C>O?w:y}shiftToModuleCenter(e){let r=e[0],i=e[1],o=e[2],l=e[3],c=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,g=Pt.shiftPoint(r,i,d*4),p=Pt.shiftPoint(o,i,c*4);c=this.transitionsBetween(g,l)+1,d=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let w=(r.getX()+i.getX()+o.getX()+l.getX())/4,y=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=Pt.moveAway(r,w,y),i=Pt.moveAway(i,w,y),o=Pt.moveAway(o,w,y),l=Pt.moveAway(l,w,y);let C,O;return g=Pt.shiftPoint(r,i,d*4),g=Pt.shiftPoint(g,l,c*4),C=Pt.shiftPoint(i,r,d*4),C=Pt.shiftPoint(C,o,c*4),p=Pt.shiftPoint(o,l,d*4),p=Pt.shiftPoint(p,i,c*4),O=Pt.shiftPoint(l,o,d*4),O=Pt.shiftPoint(O,r,c*4),[g,C,p,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,i,o,l,c,d){return Ze.getInstance().sampleGrid(e,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,r){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),d=Math.abs(c-o)>Math.abs(l-i);if(d){let k=i;i=o,o=k,k=l,l=c,c=k}let g=Math.abs(l-i),p=Math.abs(c-o),w=-g/2,y=o<c?1:-1,C=i<l?1:-1,O=0,M=this.image.get(d?o:i,d?i:o);for(let k=i,U=o;k!==l;k+=C){let K=this.image.get(d?U:k,d?k:U);if(K!==M&&(O++,M=K),w+=p,w>0){if(U===c)break;U+=y,w-=g}}return O}}class Ar{constructor(){this.decoder=new lg}decode(e,r=null){let i,o;if(r!=null&&r.has(W.PURE_BARCODE)){const p=Ar.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(p),o=Ar.NO_POINTS}else{const p=new Pt(e.getBlackMatrix()).detect();i=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=i.getRawBytes(),c=new dt(i.getText(),l,8*l.length,o,Ae.DATA_MATRIX,R.currentTimeMillis()),d=i.getByteSegments();d!=null&&c.putMetadata(de.BYTE_SEGMENTS,d);const g=i.getECLevel();return g!=null&&c.putMetadata(de.ERROR_CORRECTION_LEVEL,g),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r==null||i==null)throw new G;const o=this.moduleSize(r,e);let l=r[1];const c=i[1];let d=r[0];const p=(i[0]-d+1)/o,w=(c-l+1)/o;if(p<=0||w<=0)throw new G;const y=o/2;l+=y,d+=y;const C=new Re(p,w);for(let O=0;O<w;O++){const M=l+O*o;for(let k=0;k<p;k++)e.get(d+k*o,M)&&C.set(k,O)}return C}static moduleSize(e,r){const i=r.getWidth();let o=e[0];const l=e[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new G;const c=o-e[0];if(c===0)throw new G;return c}}Ar.NO_POINTS=[];class cg extends Ft{constructor(e=500){super(new Ar,e)}}var Ps;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Ps||(Ps={}));class Et{constructor(e,r,i){this.value=e,this.stringValue=r,this.bits=i,Et.FOR_BITS.set(i,this),Et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new E(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Et))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=Et.FOR_BITS.size)throw new b;return Et.FOR_BITS.get(e)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(Ps.L,"L",1),Et.M=new Et(Ps.M,"M",0),Et.Q=new Et(Ps.Q,"Q",3),Et.H=new Et(Ps.H,"H",2);class Qt{constructor(e){this.errorCorrectionLevel=Et.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return L.bitCount(e^r)}static decodeFormatInformation(e,r){const i=Qt.doDecodeFormatInformation(e,r);return i!==null?i:Qt.doDecodeFormatInformation(e^Qt.FORMAT_INFO_MASK_QR,r^Qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of Qt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===e||c===r)return new Qt(l[1]);let d=Qt.numBitsDiffering(e,c);d<i&&(o=l[1],i=d),e!==r&&(d=Qt.numBitsDiffering(r,c),d<i&&(o=l[1],i=d))}return i<=3?new Qt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Qt))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Qt.FORMAT_INFO_MASK_QR=21522,Qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const i of r)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(e,r,...i){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const d of c)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new F;try{return this.getVersionForNumber((e-17)/4)}catch{throw new F}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return De.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<De.VERSION_DECODE_INFO.length;o++){const l=De.VERSION_DECODE_INFO[o];if(l===e)return De.getVersionForNumber(o+7);const c=Qt.numBitsDiffering(e,l);c<r&&(i=o+7,r=c)}return r<=3?De.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Re(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new V(7,new I(1,19)),new V(10,new I(1,16)),new V(13,new I(1,13)),new V(17,new I(1,9))),new De(2,Int32Array.from([6,18]),new V(10,new I(1,34)),new V(16,new I(1,28)),new V(22,new I(1,22)),new V(28,new I(1,16))),new De(3,Int32Array.from([6,22]),new V(15,new I(1,55)),new V(26,new I(1,44)),new V(18,new I(2,17)),new V(22,new I(2,13))),new De(4,Int32Array.from([6,26]),new V(20,new I(1,80)),new V(18,new I(2,32)),new V(26,new I(2,24)),new V(16,new I(4,9))),new De(5,Int32Array.from([6,30]),new V(26,new I(1,108)),new V(24,new I(2,43)),new V(18,new I(2,15),new I(2,16)),new V(22,new I(2,11),new I(2,12))),new De(6,Int32Array.from([6,34]),new V(18,new I(2,68)),new V(16,new I(4,27)),new V(24,new I(4,19)),new V(28,new I(4,15))),new De(7,Int32Array.from([6,22,38]),new V(20,new I(2,78)),new V(18,new I(4,31)),new V(18,new I(2,14),new I(4,15)),new V(26,new I(4,13),new I(1,14))),new De(8,Int32Array.from([6,24,42]),new V(24,new I(2,97)),new V(22,new I(2,38),new I(2,39)),new V(22,new I(4,18),new I(2,19)),new V(26,new I(4,14),new I(2,15))),new De(9,Int32Array.from([6,26,46]),new V(30,new I(2,116)),new V(22,new I(3,36),new I(2,37)),new V(20,new I(4,16),new I(4,17)),new V(24,new I(4,12),new I(4,13))),new De(10,Int32Array.from([6,28,50]),new V(18,new I(2,68),new I(2,69)),new V(26,new I(4,43),new I(1,44)),new V(24,new I(6,19),new I(2,20)),new V(28,new I(6,15),new I(2,16))),new De(11,Int32Array.from([6,30,54]),new V(20,new I(4,81)),new V(30,new I(1,50),new I(4,51)),new V(28,new I(4,22),new I(4,23)),new V(24,new I(3,12),new I(8,13))),new De(12,Int32Array.from([6,32,58]),new V(24,new I(2,92),new I(2,93)),new V(22,new I(6,36),new I(2,37)),new V(26,new I(4,20),new I(6,21)),new V(28,new I(7,14),new I(4,15))),new De(13,Int32Array.from([6,34,62]),new V(26,new I(4,107)),new V(22,new I(8,37),new I(1,38)),new V(24,new I(8,20),new I(4,21)),new V(22,new I(12,11),new I(4,12))),new De(14,Int32Array.from([6,26,46,66]),new V(30,new I(3,115),new I(1,116)),new V(24,new I(4,40),new I(5,41)),new V(20,new I(11,16),new I(5,17)),new V(24,new I(11,12),new I(5,13))),new De(15,Int32Array.from([6,26,48,70]),new V(22,new I(5,87),new I(1,88)),new V(24,new I(5,41),new I(5,42)),new V(30,new I(5,24),new I(7,25)),new V(24,new I(11,12),new I(7,13))),new De(16,Int32Array.from([6,26,50,74]),new V(24,new I(5,98),new I(1,99)),new V(28,new I(7,45),new I(3,46)),new V(24,new I(15,19),new I(2,20)),new V(30,new I(3,15),new I(13,16))),new De(17,Int32Array.from([6,30,54,78]),new V(28,new I(1,107),new I(5,108)),new V(28,new I(10,46),new I(1,47)),new V(28,new I(1,22),new I(15,23)),new V(28,new I(2,14),new I(17,15))),new De(18,Int32Array.from([6,30,56,82]),new V(30,new I(5,120),new I(1,121)),new V(26,new I(9,43),new I(4,44)),new V(28,new I(17,22),new I(1,23)),new V(28,new I(2,14),new I(19,15))),new De(19,Int32Array.from([6,30,58,86]),new V(28,new I(3,113),new I(4,114)),new V(26,new I(3,44),new I(11,45)),new V(26,new I(17,21),new I(4,22)),new V(26,new I(9,13),new I(16,14))),new De(20,Int32Array.from([6,34,62,90]),new V(28,new I(3,107),new I(5,108)),new V(26,new I(3,41),new I(13,42)),new V(30,new I(15,24),new I(5,25)),new V(28,new I(15,15),new I(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new V(28,new I(4,116),new I(4,117)),new V(26,new I(17,42)),new V(28,new I(17,22),new I(6,23)),new V(30,new I(19,16),new I(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new V(28,new I(2,111),new I(7,112)),new V(28,new I(17,46)),new V(30,new I(7,24),new I(16,25)),new V(24,new I(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new V(30,new I(4,121),new I(5,122)),new V(28,new I(4,47),new I(14,48)),new V(30,new I(11,24),new I(14,25)),new V(30,new I(16,15),new I(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new V(30,new I(6,117),new I(4,118)),new V(28,new I(6,45),new I(14,46)),new V(30,new I(11,24),new I(16,25)),new V(30,new I(30,16),new I(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new V(26,new I(8,106),new I(4,107)),new V(28,new I(8,47),new I(13,48)),new V(30,new I(7,24),new I(22,25)),new V(30,new I(22,15),new I(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new V(28,new I(10,114),new I(2,115)),new V(28,new I(19,46),new I(4,47)),new V(28,new I(28,22),new I(6,23)),new V(30,new I(33,16),new I(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new V(30,new I(8,122),new I(4,123)),new V(28,new I(22,45),new I(3,46)),new V(30,new I(8,23),new I(26,24)),new V(30,new I(12,15),new I(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new I(3,117),new I(10,118)),new V(28,new I(3,45),new I(23,46)),new V(30,new I(4,24),new I(31,25)),new V(30,new I(11,15),new I(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new I(7,116),new I(7,117)),new V(28,new I(21,45),new I(7,46)),new V(30,new I(1,23),new I(37,24)),new V(30,new I(19,15),new I(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new I(5,115),new I(10,116)),new V(28,new I(19,47),new I(10,48)),new V(30,new I(15,24),new I(25,25)),new V(30,new I(23,15),new I(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new I(13,115),new I(3,116)),new V(28,new I(2,46),new I(29,47)),new V(30,new I(42,24),new I(1,25)),new V(30,new I(23,15),new I(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new I(17,115)),new V(28,new I(10,46),new I(23,47)),new V(30,new I(10,24),new I(35,25)),new V(30,new I(19,15),new I(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new I(17,115),new I(1,116)),new V(28,new I(14,46),new I(21,47)),new V(30,new I(29,24),new I(19,25)),new V(30,new I(11,15),new I(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new I(13,115),new I(6,116)),new V(28,new I(14,46),new I(23,47)),new V(30,new I(44,24),new I(7,25)),new V(30,new I(59,16),new I(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new I(12,121),new I(7,122)),new V(28,new I(12,47),new I(26,48)),new V(30,new I(39,24),new I(14,25)),new V(30,new I(22,15),new I(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new I(6,121),new I(14,122)),new V(28,new I(6,47),new I(34,48)),new V(30,new I(46,24),new I(10,25)),new V(30,new I(2,15),new I(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new I(17,122),new I(4,123)),new V(28,new I(29,46),new I(14,47)),new V(30,new I(49,24),new I(10,25)),new V(30,new I(24,15),new I(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new I(4,122),new I(18,123)),new V(28,new I(13,46),new I(32,47)),new V(30,new I(48,24),new I(14,25)),new V(30,new I(42,15),new I(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new I(20,117),new I(4,118)),new V(28,new I(40,47),new I(7,48)),new V(30,new I(43,24),new I(22,25)),new V(30,new I(10,15),new I(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new I(19,118),new I(6,119)),new V(28,new I(18,47),new I(31,48)),new V(30,new I(34,24),new I(34,25)),new V(30,new I(20,15),new I(61,16)))];var Ht;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Ht||(Ht={}));class Sn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&e.flip(o,i)}}Sn.values=new Map([[Ht.DATA_MASK_000,new Sn(Ht.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Ht.DATA_MASK_001,new Sn(Ht.DATA_MASK_001,(A,e)=>(A&1)===0)],[Ht.DATA_MASK_010,new Sn(Ht.DATA_MASK_010,(A,e)=>e%3===0)],[Ht.DATA_MASK_011,new Sn(Ht.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Ht.DATA_MASK_100,new Sn(Ht.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Ht.DATA_MASK_101,new Sn(Ht.DATA_MASK_101,(A,e)=>A*e%6===0)],[Ht.DATA_MASK_110,new Sn(Ht.DATA_MASK_110,(A,e)=>A*e%6<3)],[Ht.DATA_MASK_111,new Sn(Ht.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class ug{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new F;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=Qt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return De.getVersionForNumber(r);let i=0;const o=e-11;for(let c=5;c>=0;c--)for(let d=e-9;d>=o;d--)i=this.copyBit(d,c,i);let l=De.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;i=0;for(let c=5;c>=0;c--)for(let d=e-9;d>=o;d--)i=this.copyBit(c,d,i);if(l=De.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new F}copyBit(e,r,i){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),i=Sn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const d=new Uint8Array(r.getTotalCodewords());let g=0,p=0,w=0;for(let y=o-1;y>0;y-=2){y===6&&y--;for(let C=0;C<o;C++){const O=c?o-1-C:C;for(let M=0;M<2;M++)l.get(y-M,O)||(w++,p<<=1,this.bitMatrix.get(y-M,O)&&(p|=1),w===8&&(d[g++]=p,w=0,p=0))}c=!c}if(g!==r.getTotalCodewords())throw new F;return d}remask(){if(this.parsedFormatInfo===null)return;const e=Sn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,i=e.getWidth();r<i;r++)for(let o=r+1,l=e.getHeight();o<l;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class nl{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,i){if(e.length!==r.getTotalCodewords())throw new b;const o=r.getECBlocksForLevel(i);let l=0;const c=o.getECBlocks();for(const M of c)l+=M.getCount();const d=new Array(l);let g=0;for(const M of c)for(let k=0;k<M.getCount();k++){const U=M.getDataCodewords(),K=o.getECCodewordsPerBlock()+U;d[g++]=new nl(U,new Uint8Array(K))}const p=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==p;)w--;w++;const y=p-o.getECCodewordsPerBlock();let C=0;for(let M=0;M<y;M++)for(let k=0;k<g;k++)d[k].codewords[M]=e[C++];for(let M=w;M<g;M++)d[M].codewords[y]=e[C++];const O=d[0].codewords.length;for(let M=y;M<O;M++)for(let k=0;k<g;k++){const U=k<w?M:M+1;d[k].codewords[U]=e[C++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var In;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(In||(In={}));class Le{constructor(e,r,i,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,Le.FOR_BITS.set(o,this),Le.FOR_VALUE.set(e,this)}static forBits(e){const r=Le.FOR_BITS.get(e);if(r===void 0)throw new b;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Le))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(In.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(In.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(In.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(In.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(In.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(In.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(In.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(In.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(In.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(In.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tt{static decode(e,r,i,o){const l=new tl(e);let c=new re;const d=new Array;let g=-1,p=-1;try{let w=null,y=!1,C;do{if(l.available()<4)C=Le.TERMINATOR;else{const O=l.readBits(4);C=Le.forBits(O)}switch(C){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:y=!0;break;case Le.STRUCTURED_APPEND:if(l.available()<16)throw new F;g=l.readBits(8),p=l.readBits(8);break;case Le.ECI:const O=Tt.parseECIValue(l);if(w=B.getCharacterSetECIByValue(O),w===null)throw new F;break;case Le.HANZI:const M=l.readBits(4),k=l.readBits(C.getCharacterCountBits(r));M===Tt.GB2312_SUBSET&&Tt.decodeHanziSegment(l,c,k);break;default:const U=l.readBits(C.getCharacterCountBits(r));switch(C){case Le.NUMERIC:Tt.decodeNumericSegment(l,c,U);break;case Le.ALPHANUMERIC:Tt.decodeAlphanumericSegment(l,c,U,y);break;case Le.BYTE:Tt.decodeByteSegment(l,c,U,w,d,o);break;case Le.KANJI:Tt.decodeKanjiSegment(l,c,U);break;default:throw new F}break}}while(C!==Le.TERMINATOR)}catch{throw new F}return new _e(e,c.toString(),d.length===0?null:d,i===null?null:i.toString(),g,p)}static decodeHanziSegment(e,r,i){if(i*13>e.available())throw new F;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,i--}try{r.append(Ee.decode(o,$.GB2312))}catch(c){throw new F(c)}}static decodeKanjiSegment(e,r,i){if(i*13>e.available())throw new F;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const c=e.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,i--}try{r.append(Ee.decode(o,$.SHIFT_JIS))}catch(c){throw new F(c)}}static decodeByteSegment(e,r,i,o,l,c){if(8*i>e.available())throw new F;const d=new Uint8Array(i);for(let p=0;p<i;p++)d[p]=e.readBits(8);let g;o===null?g=$.guessEncoding(d,c):g=o.getName();try{r.append(Ee.decode(d,g))}catch(p){throw new F(p)}l.push(d)}static toAlphaNumericChar(e){if(e>=Tt.ALPHANUMERIC_CHARS.length)throw new F;return Tt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,i,o){const l=r.length();for(;i>1;){if(e.available()<11)throw new F;const c=e.readBits(11);r.append(Tt.toAlphaNumericChar(Math.floor(c/45))),r.append(Tt.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(e.available()<6)throw new F;r.append(Tt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(e,r,i){for(;i>=3;){if(e.available()<10)throw new F;const o=e.readBits(10);if(o>=1e3)throw new F;r.append(Tt.toAlphaNumericChar(Math.floor(o/100))),r.append(Tt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Tt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new F;const o=e.readBits(7);if(o>=100)throw new F;r.append(Tt.toAlphaNumericChar(Math.floor(o/10))),r.append(Tt.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new F;const o=e.readBits(4);if(o>=10)throw new F;r.append(Tt.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=e.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new F}}Tt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tt.GB2312_SUBSET=1;class Su{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class fg{constructor(){this.rsDecoder=new ie(S.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Re.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const i=new ug(e);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Su(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(e,r){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=nl.getDataBlocks(l,i,o);let d=0;for(const w of c)d+=w.getNumDataCodewords();const g=new Uint8Array(d);let p=0;for(const w of c){const y=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(y,C);for(let O=0;O<C;O++)g[p++]=y[O]}return Tt.decode(g,i,o,r)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new T}for(let o=0;o<r;o++)e[o]=i[o]}}class rl extends j{constructor(e,r,i){super(e,r),this.estimatedModuleSize=i}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=(this.getX()+r)/2,l=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new rl(o,l,c)}}class bo{constructor(e,r,i,o,l,c,d){this.image=e,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,i=this.width,o=e+i,l=this.startY+r/2,c=new Int32Array(3),d=this.image;for(let g=0;g<r;g++){const p=l+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=e;for(;w<o&&!d.get(w,p);)w++;let y=0;for(;w<o;){if(d.get(w,p))if(y===1)c[1]++;else if(y===2){if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,w);if(C!==null)return C}c[0]=c[2],c[1]=1,c[2]=0,y=1}else c[++y]++;else y===1&&y++,c[y]++;w++}if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,o);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=i)return!1;return!0}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let g=e;for(;g>=0&&l.get(r,g)&&d[1]<=i;)d[1]++,g--;if(g<0||d[1]>i)return NaN;for(;g>=0&&!l.get(r,g)&&d[0]<=i;)d[0]++,g--;if(d[0]>i)return NaN;for(g=e+1;g<c&&l.get(r,g)&&d[1]<=i;)d[1]++,g++;if(g===c||d[1]>i)return NaN;for(;g<c&&!l.get(r,g)&&d[2]<=i;)d[2]++,g++;if(d[2]>i)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(d)?bo.centerFromEnd(d,g):NaN}handlePossibleCenter(e,r,i){const o=e[0]+e[1]+e[2],l=bo.centerFromEnd(e,i),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){const d=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,c,l))return p.combineEstimate(c,l,d);const g=new rl(l,c,d);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class sl extends j{constructor(e,r,i,o){super(e,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,d=(this.count*this.estimatedModuleSize+i)/o;return new sl(l,c,d,o)}}class dg{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wt{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(W.TRY_HARDER)!==void 0,i=e!=null&&e.get(W.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let d=Math.floor(3*l/(4*Wt.MAX_MODULES));(d<Wt.MIN_SKIP||r)&&(d=Wt.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let y=d-1;y<l&&!g;y+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let C=0;for(let O=0;O<c;O++)if(o.get(O,y))(C&1)===1&&C++,p[C]++;else if(C&1)p[C]++;else if(C===4)if(Wt.foundPatternCross(p)){if(this.handlePossibleCenter(p,y,O,i)===!0)if(d=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const k=this.findRowSkip();k>p[2]&&(y+=k-p[2]-d,O=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;continue}C=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;else p[++C]++;Wt.foundPatternCross(p)&&this.handlePossibleCenter(p,y,c,i)===!0&&(d=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return j.orderBestPatterns(w),new dg(w)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let l=0;l<5;l++){const c=e[l];if(c===0)return!1;r+=c}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,i,o){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;e>=c&&r>=c&&d.get(r-c,e-c);)l[2]++,c++;if(e<c||r<c)return!1;for(;e>=c&&r>=c&&!d.get(r-c,e-c)&&l[1]<=i;)l[1]++,c++;if(e<c||r<c||l[1]>i)return!1;for(;e>=c&&r>=c&&d.get(r-c,e-c)&&l[0]<=i;)l[0]++,c++;if(l[0]>i)return!1;const g=d.getHeight(),p=d.getWidth();for(c=1;e+c<g&&r+c<p&&d.get(r+c,e+c);)l[2]++,c++;if(e+c>=g||r+c>=p)return!1;for(;e+c<g&&r+c<p&&!d.get(r+c,e+c)&&l[3]<i;)l[3]++,c++;if(e+c>=g||r+c>=p||l[3]>=i)return!1;for(;e+c<g&&r+c<p&&d.get(r+c,e+c)&&l[4]<i;)l[4]++,c++;if(l[4]>=i)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&Wt.foundPatternCross(l)}crossCheckVertical(e,r,i,o){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let g=e;for(;g>=0&&l.get(r,g);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(r,g)&&d[1]<=i;)d[1]++,g--;if(g<0||d[1]>i)return NaN;for(;g>=0&&l.get(r,g)&&d[0]<=i;)d[0]++,g--;if(d[0]>i)return NaN;for(g=e+1;g<c&&l.get(r,g);)d[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(r,g)&&d[3]<i;)d[3]++,g++;if(g===c||d[3]>=i)return NaN;for(;g<c&&l.get(r,g)&&d[4]<i;)d[4]++,g++;if(d[4]>=i)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=2*o?NaN:Wt.foundPatternCross(d)?Wt.centerFromEnd(d,g):NaN}crossCheckHorizontal(e,r,i,o){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let g=e;for(;g>=0&&l.get(g,r);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(g,r)&&d[1]<=i;)d[1]++,g--;if(g<0||d[1]>i)return NaN;for(;g>=0&&l.get(g,r)&&d[0]<=i;)d[0]++,g--;if(d[0]>i)return NaN;for(g=e+1;g<c&&l.get(g,r);)d[2]++,g++;if(g===c)return NaN;for(;g<c&&!l.get(g,r)&&d[3]<i;)d[3]++,g++;if(g===c||d[3]>=i)return NaN;for(;g<c&&l.get(g,r)&&d[4]<i;)d[4]++,g++;if(d[4]>=i)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=o?NaN:Wt.foundPatternCross(d)?Wt.centerFromEnd(d,g):NaN}handlePossibleCenter(e,r,i,o){const l=e[0]+e[1]+e[2]+e[3]+e[4];let c=Wt.centerFromEnd(e,i),d=this.crossCheckVertical(r,Math.floor(c),e[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),e[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),e[2],l)))){const g=l/7;let p=!1;const w=this.possibleCenters;for(let y=0,C=w.length;y<C;y++){const O=w[y];if(O.aboutEquals(g,d,c)){w[y]=O.combineEstimate(d,c,g),p=!0;break}}if(!p){const y=new sl(c,d,g);w.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Wt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Wt.CENTER_QUORUM&&(e++,r+=c.getEstimatedModuleSize());if(e<3)return!1;const o=r/i;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new G;const r=this.possibleCenters;let i;if(e>3){let o=0,l=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();o+=p,l+=p*p}i=o/e;let c=Math.sqrt(l/e-i*i);r.sort((g,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-i),y=Math.abs(g.getEstimatedModuleSize()-i);return w<y?-1:w>y?1:0});const d=Math.max(.2*i,c);for(let g=0;g<r.length&&r.length>3;g++){const p=r[g];Math.abs(p.getEstimatedModuleSize()-i)>d&&(r.splice(g,1),g--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-i),g=Math.abs(l.getEstimatedModuleSize()-i);return d<g?1:d>g?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Wt.CENTER_QUORUM=2,Wt.MIN_SKIP=3,Wt.MAX_MODULES=57;class Ei{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(W.NEED_RESULT_POINT_CALLBACK);const i=new Wt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const r=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new G("No pattern found in proccess finder.");const c=Ei.computeDimension(r,i,o,l),d=De.getProvisionalVersionForDimension(c),g=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const O=i.getX()-r.getX()+o.getX(),M=i.getY()-r.getY()+o.getY(),k=1-3/g,U=Math.floor(r.getX()+k*(O-r.getX())),K=Math.floor(r.getY()+k*(M-r.getY()));for(let he=4;he<=16;he<<=1)try{p=this.findAlignmentInRegion(l,U,K,he);break}catch(pe){if(!(pe instanceof G))throw pe}}const w=Ei.createTransform(r,i,o,p,c),y=Ei.sampleGrid(this.image,w,c);let C;return p===null?C=[o,r,i]:C=[o,r,i,p],new le(y,C)}static createTransform(e,r,i,o,l){const c=l-3.5;let d,g,p,w;return o!==null?(d=o.getX(),g=o.getY(),p=c-3,w=p):(d=r.getX()-e.getX()+i.getX(),g=r.getY()-e.getY()+i.getY(),p=c,w=c),Ne.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,w,3.5,c,e.getX(),e.getY(),r.getX(),r.getY(),d,g,i.getX(),i.getY())}static sampleGrid(e,r,i){return Ze.getInstance().sampleGridWithTransform(e,i,i,r)}static computeDimension(e,r,i,o){const l=oe.round(j.distance(e,r)/o),c=oe.round(j.distance(e,i)/o);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new G("Dimensions could be not found.")}return d}calculateModuleSize(e,r,i){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(e,r,i,o),c=1,d=e-(i-e);d<0?(c=e/(e-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(d-e),d=this.image.getWidth()-1);let g=Math.floor(r-(o-r)*c);return c=1,g<0?(c=r/(r-g),g=0):g>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(g-r),g=this.image.getHeight()-1),d=Math.floor(e+(d-e)*c),l+=this.sizeOfBlackWhiteBlackRun(e,r,d,g),l-1}sizeOfBlackWhiteBlackRun(e,r,i,o){const l=Math.abs(o-r)>Math.abs(i-e);if(l){let O=e;e=r,r=O,O=i,i=o,o=O}const c=Math.abs(i-e),d=Math.abs(o-r);let g=-c/2;const p=e<i?1:-1,w=r<o?1:-1;let y=0;const C=i+p;for(let O=e,M=r;O!==C;O+=p){const k=l?M:O,U=l?O:M;if(y===1===this.image.get(k,U)){if(y===2)return oe.distance(O,M,e,r);y++}if(g+=d,g>0){if(M===o)break;M+=w,g-=c}}return y===2?oe.distance(i+p,o,e,r):NaN}findAlignmentInRegion(e,r,i,o){const l=Math.floor(o*e),c=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-c<e*3)throw new G("Alignment top exceeds estimated module size.");const g=Math.max(0,i-l),p=Math.min(this.image.getHeight()-1,i+l);if(p-g<e*3)throw new G("Alignment bottom exceeds estimated module size.");return new bo(this.image,c,g,d-c,p-g,e,this.resultPointCallback).find()}}class yr{constructor(){this.decoder=new fg}getDecoder(){return this.decoder}decode(e,r){let i,o;if(r!=null&&r.get(W.PURE_BARCODE)!==void 0){const g=yr.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(g,r),o=yr.NO_POINTS}else{const g=new Ei(e.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(g.getBits(),r),o=g.getPoints()}i.getOther()instanceof Su&&i.getOther().applyMirroredCorrection(o);const l=new dt(i.getText(),i.getRawBytes(),void 0,o,Ae.QR_CODE,void 0),c=i.getByteSegments();c!==null&&l.putMetadata(de.BYTE_SEGMENTS,c);const d=i.getECLevel();return d!==null&&l.putMetadata(de.ERROR_CORRECTION_LEVEL,d),i.hasStructuredAppend()&&(l.putMetadata(de.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(de.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r===null||i===null)throw new G;const o=this.moduleSize(r,e);let l=r[1],c=i[1],d=r[0],g=i[0];if(d>=g||l>=c)throw new G;if(c-l!==g-d&&(g=d+(c-l),g>=e.getWidth()))throw new G;const p=Math.round((g-d+1)/o),w=Math.round((c-l+1)/o);if(p<=0||w<=0)throw new G;if(w!==p)throw new G;const y=Math.floor(o/2);l+=y,d+=y;const C=d+Math.floor((p-1)*o)-g;if(C>0){if(C>y)throw new G;d-=C}const O=l+Math.floor((w-1)*o)-c;if(O>0){if(O>y)throw new G;l-=O}const M=new Re(p,w);for(let k=0;k<w;k++){const U=l+Math.floor(k*o);for(let K=0;K<p;K++)e.get(d+Math.floor(K*o),U)&&M.set(K,k)}return M}static moduleSize(e,r){const i=r.getHeight(),o=r.getWidth();let l=e[0],c=e[1],d=!0,g=0;for(;l<o&&c<i;){if(d!==r.get(l,c)){if(++g===5)break;d=!d}l++,c++}if(l===o||c===i)throw new G;return(l-e[0])/7}}yr.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ue.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let i=0;for(const o of e)r[i++]=o;return r}static getCodeword(e){const r=X.binarySearch(Ue.SYMBOL_TABLE,e&262143);return r<0?-1:(Ue.CODEWORD_TABLE[r]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hg{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(e,r,i){let o=e.getBlackMatrix(),l=Ke.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=Ke.detect(i,o)),new hg(o,l)}static detect(e,r){const i=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const d=Ke.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const g of i)g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())));o+=Ke.ROW_STEP;continue}if(c=!0,i.push(d),!e)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return i}static findVertices(e,r,i){const o=e.getHeight(),l=e.getWidth(),c=new Array(8);return Ke.copyToResult(c,Ke.findRowsWithPattern(e,o,l,r,i,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ke.copyToResult(c,Ke.findRowsWithPattern(e,o,l,r,i,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),c}static copyToResult(e,r,i){for(let o=0;o<i.length;o++)e[i[o]]=r[o]}static findRowsWithPattern(e,r,i,o,l,c){const d=new Array(4);let g=!1;const p=new Int32Array(c.length);for(;o<r;o+=Ke.ROW_STEP){let y=Ke.findGuardPattern(e,l,o,i,!1,c,p);if(y!=null){for(;o>0;){const C=Ke.findGuardPattern(e,l,--o,i,!1,c,p);if(C!=null)y=C;else{o++;break}}d[0]=new j(y[0],o),d[1]=new j(y[1],o),g=!0;break}}let w=o+1;if(g){let y=0,C=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<r;w++){const O=Ke.findGuardPattern(e,C[0],w,i,!1,c,p);if(O!=null&&Math.abs(C[0]-O[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(C[1]-O[1])<Ke.MAX_PATTERN_DRIFT)C=O,y=0;else{if(y>Ke.SKIPPED_ROW_COUNT_MAX)break;y++}}w-=y+1,d[2]=new j(C[0],w),d[3]=new j(C[1],w)}return w-o<Ke.BARCODE_MIN_HEIGHT&&X.fill(d,null),d}static findGuardPattern(e,r,i,o,l,c,d){X.fillWithin(d,0,d.length,0);let g=r,p=0;for(;e.get(g,i)&&g>0&&p++<Ke.MAX_PIXEL_DRIFT;)g--;let w=g,y=0,C=c.length;for(let O=l;w<o;w++)if(e.get(w,i)!==O)d[y]++;else{if(y===C-1){if(Ke.patternMatchVariance(d,c,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([g,w]);g+=d[0]+d[1],R.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,O=!O}return y===C-1&&Ke.patternMatchVariance(d,c,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([g,w-1]):null}static patternMatchVariance(e,r,i){let o=e.length,l=0,c=0;for(let p=0;p<o;p++)l+=e[p],c+=r[p];if(l<c)return 1/0;let d=l/c;i*=d;let g=0;for(let p=0;p<o;p++){let w=e[p],y=r[p]*d,C=w>y?w-y:y-w;if(C>i)return 1/0;g+=C}return g/l}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class zt{constructor(e,r){if(r.length===0)throw new b;this.field=e;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),R.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){let c=r;r=i,i=c}let o=new Int32Array(i.length),l=i.length-r.length;R.arraycopy(i,0,o,0,l);for(let c=l;c<i.length;c++)o[c]=this.field.add(r[c-l],i[c]);return new zt(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof zt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new zt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=e.coefficients,l=o.length,c=new Int32Array(i+l-1);for(let d=0;d<i;d++){let g=r[d];for(let p=0;p<l;p++)c[d+p]=this.field.add(c[d+p],this.field.multiply(g,o[p]))}return new zt(this.field,c)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let i=0;i<e;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new zt(this.field,r)}multiplyScalar(e){if(e===0)return new zt(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new zt(this.field,i)}multiplyByMonomial(e,r){if(e<0)throw new b;if(r===0)return new zt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new zt(this.field,o)}toString(){let e=new re;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(r===0||i!==1)&&e.append(i),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class gg{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new ut;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class il extends gg{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new b;if(r===0)return this.zero;let i=new Int32Array(e+1);return i[0]=r,new zt(this,i)}}il.PDF417_GF=new il(Ue.NUMBER_OF_CODEWORDS,3);class Iu{constructor(){this.field=il.PDF417_GF}decode(e,r,i){let o=new zt(this.field,e),l=new Int32Array(r),c=!1;for(let M=r;M>0;M--){let k=o.evaluateAt(this.field.exp(M));l[r-M]=k,k!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(i!=null)for(const M of i){let k=this.field.exp(e.length-1-M),U=new zt(this.field,new Int32Array([this.field.subtract(0,k),1]));d=d.multiply(U)}let g=new zt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),g,r),w=p[0],y=p[1],C=this.findErrorLocations(w),O=this.findErrorMagnitudes(y,w,C);for(let M=0;M<C.length;M++){let k=e.length-1-this.field.log(C[M]);if(k<0)throw T.getChecksumInstance();e[k]=this.field.subtract(e[k],O[M])}return C.length}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){let C=e;e=r,r=C}let o=e,l=r,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let C=o,O=c;if(o=l,c=d,o.isZero())throw T.getChecksumInstance();l=C;let M=this.field.getZero(),k=o.getCoefficient(o.getDegree()),U=this.field.inverse(k);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let K=l.getDegree()-o.getDegree(),he=this.field.multiply(l.getCoefficient(l.getDegree()),U);M=M.add(this.field.buildMonomial(K,he)),l=l.subtract(o.multiplyByMonomial(K,he))}d=M.multiply(c).subtract(O).negative()}let g=d.getCoefficient(0);if(g===0)throw T.getChecksumInstance();let p=this.field.inverse(g),w=d.multiply(p),y=l.multiply(p);return[w,y]}findErrorLocations(e){let r=e.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)e.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw T.getChecksumInstance();return i}findErrorMagnitudes(e,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new zt(this.field,l),d=i.length,g=new Int32Array(d);for(let p=0;p<d;p++){let w=this.field.inverse(i[p]),y=this.field.subtract(0,e.evaluateAt(w)),C=this.field.inverse(c.evaluateAt(w));g[p]=this.field.multiply(y,C)}return g}}class is{constructor(e,r,i,o,l){e instanceof is?this.constructor_2(e):this.constructor_1(e,r,i,o,l)}constructor_1(e,r,i,o,l){const c=r==null||i==null,d=o==null||l==null;if(c&&d)throw new G;c?(r=new j(0,o.getY()),i=new j(0,l.getY())):d&&(o=new j(e.getWidth()-1,r.getY()),l=new j(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new is(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,i){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(e>0){let g=i?this.topLeft:this.topRight,p=Math.trunc(g.getY()-e);p<0&&(p=0);let w=new j(g.getX(),p);i?o=w:c=w}if(r>0){let g=i?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new j(g.getX(),p);i?l=w:d=w}return new is(this.image,o,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pg{constructor(e,r,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class wi{constructor(){this.buffer=""}static form(e,r){let i=-1;function o(c,d,g,p,w,y){if(c==="%%")return"%";if(r[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=w?parseInt(w.substr(1)):void 0,O;switch(y){case"s":O=r[i];break;case"c":O=r[i][0];break;case"f":O=parseFloat(r[i]).toFixed(c);break;case"p":O=parseFloat(r[i]).toPrecision(c);break;case"e":O=parseFloat(r[i]).toExponential(c);break;case"x":O=parseInt(r[i]).toString(C||16);break;case"d":O=parseFloat(parseInt(r[i],C||10).toPrecision(c)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(C);let M=parseInt(g),k=g&&g[0]+""=="0"?"0":" ";for(;O.length<M;)O=d!==void 0?O+k:k+O;return O}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}format(e,...r){this.buffer+=wi.form(e,r)}toString(){return this.buffer}}class bi{constructor(e){this.boundingBox=new is(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let i=1;i<bi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new wi;let r=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return e.toString()}}bi.MAX_NEARBY_DISTANCE=5;class Ai{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>e?(e=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===e&&r.push(l.getKey())}return Ue.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Ou extends bi{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=-1,p=1,w=0;for(let y=c;y<d;y++){if(r[y]==null)continue;let C=r[y],O=C.getRowNumber()-g;if(O===0)w++;else if(O===1)p=Math.max(p,w),w=1,g=C.getRowNumber();else if(O<0||C.getRowNumber()>=e.getRowCount()||O>y)r[y]=null;else{let M;p>2?M=(p-2)*O:M=O;let k=M>=y;for(let U=1;U<=M&&!k;U++)k=r[y-U]!=null;k?r[y]=null:(g=C.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),g=-1;for(let p=l;p<c;p++){if(d[p]==null)continue;let w=d[p];w.setRowNumberAsRowIndicatorColumn();let y=w.getRowNumber()-g;y===0||(y===1?g=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?d[p]=null:g=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new Ai,i=new Ai,o=new Ai,l=new Ai;for(let d of e){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let g=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:i.setValue(g*3+1);break;case 1:l.setValue(g/3),o.setValue(g%3);break;case 2:r.setValue(g+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let c=new pg(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,r){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:l+1!==r.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yi{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ue.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&r[i]!=null&&e[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(e[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[i];d!=null&&(l=yi.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[i];d!=null&&(l=yi.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,i){if(!this.detectionResultColumns[e-1])return;let o=i[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=i[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=i[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<i.length-1&&(d[1]=i[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<i.length-2&&(d[9]=i[r+2],d[12]=l[r+2],d[13]=c[r+2]);for(let g of d)if(yi.adjustRowNumber(o,g))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new wi;for(let i=0;i<e.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Ci{constructor(e,r,i,o){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class cn{static initialize(){for(let e=0;e<Ue.SYMBOL_TABLE.length;e++){let r=Ue.SYMBOL_TABLE[e],i=r&1;for(let o=0;o<Ue.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,cn.RATIOS_TABLE[e]||(cn.RATIOS_TABLE[e]=new Array(Ue.BARS_IN_MODULE)),cn.RATIOS_TABLE[e][Ue.BARS_IN_MODULE-o-1]=Math.fround(l/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=cn.getDecodedCodewordValue(cn.sampleBitCounts(e));return r!==-1?r:cn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=oe.sum(e),i=new Int32Array(Ue.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<Ue.MODULES_IN_CODEWORD;c++){let d=r/(2*Ue.MODULES_IN_CODEWORD)+c*r/Ue.MODULES_IN_CODEWORD;l+e[o]<=d&&(l+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let r=cn.getBitValue(e);return Ue.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=oe.sum(e),i=new Array(Ue.BARS_IN_MODULE);if(r>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(e[c]/r);let o=ge.MAX_VALUE,l=-1;this.bSymbolTableReady||cn.initialize();for(let c=0;c<cn.RATIOS_TABLE.length;c++){let d=0,g=cn.RATIOS_TABLE[c];for(let p=0;p<Ue.BARS_IN_MODULE;p++){let w=Math.fround(g[p]-i[p]);if(d+=Math.fround(w*w),d>=o)break}d<o&&(o=d,l=Ue.SYMBOL_TABLE[c])}return l}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(A=>new Array(Ue.BARS_IN_MODULE));class Nu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ru{static parseLong(e,r=void 0){return parseInt(e,r)}}class Du extends x{}Du.kind="NullPointerException";class mg{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,i){if(e==null)throw new Du;if(r<0||r>e.length||i<0||r+i>e.length||r+i<0)throw new z;if(i===0)return;for(let o=0;o<i;o++)this.write(e[r+o])}flush(){}close(){}}class xg extends x{}class _g extends mg{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new xg;i=L.MAX_VALUE}this.buf=X.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new z;this.ensureCapacity(this.count+i),R.arraycopy(e,r,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return X.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var gt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(gt||(gt={}));function Mu(){if(typeof window<"u")return window.BigInt||null;if(typeof Ri<"u")return Ri.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ao;function Cr(A){if(typeof Ao>"u"&&(Ao=Mu()),Ao===null)throw new Error("BigInt is not supported!");return Ao(A)}function Eg(){let A=[];A[0]=Cr(1);let e=Cr(900);A[1]=e;for(let r=2;r<16;r++)A[r]=A[r-1]*e;return A}class Y{static decode(e,r){let i=new re(""),o=B.ISO8859_1;i.enableDecoding(o);let l=1,c=e[l++],d=new Nu;for(;l<e[0];){switch(c){case Y.TEXT_COMPACTION_MODE_LATCH:l=Y.textCompaction(e,l,i);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:l=Y.byteCompaction(c,e,o,l,i);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[l++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:l=Y.numericCompaction(e,l,i);break;case Y.ECI_CHARSET:B.getCharacterSetECIByValue(e[l++]);break;case Y.ECI_GENERAL_PURPOSE:l+=2;break;case Y.ECI_USER_DEFINED:l++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Y.decodeMacroBlock(e,l,d);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new F;default:l--,l=Y.textCompaction(e,l,i);break}if(l<e.length)c=e[l++];else throw F.getFormatInstance()}if(i.length()===0)throw F.getFormatInstance();let g=new _e(null,i.toString(),null,r);return g.setOther(d),g}static decodeMacroBlock(e,r,i){if(r+Y.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw F.getFormatInstance();let o=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<Y.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=e[r];i.setSegmentIndex(L.parseInt(Y.decodeBase900toBase10(o,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new re;r=Y.textCompaction(e,r,l),i.setFileId(l.toString());let c=-1;for(e[r]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<e[0];)switch(e[r]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new re;r=Y.textCompaction(e,r+1,d),i.setFileName(d.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new re;r=Y.textCompaction(e,r+1,g),i.setSender(g.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new re;r=Y.textCompaction(e,r+1,p),i.setAddressee(p.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new re;r=Y.numericCompaction(e,r+1,w),i.setSegmentCount(L.parseInt(w.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let y=new re;r=Y.numericCompaction(e,r+1,y),i.setTimestamp(Ru.parseLong(y.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new re;r=Y.numericCompaction(e,r+1,C),i.setChecksum(L.parseInt(C.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new re;r=Y.numericCompaction(e,r+1,O),i.setFileSize(Ru.parseLong(O.toString()));break;default:throw F.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(c!==-1){let d=r-c;i.isLastSegment()&&d--,i.setOptionalData(X.copyOfRange(e,c,c+d))}return r}static textCompaction(e,r,i){let o=new Int32Array((e[0]-r)*2),l=new Int32Array((e[0]-r)*2),c=0,d=!1;for(;r<e[0]&&!d;){let g=e[r++];if(g<Y.TEXT_COMPACTION_MODE_LATCH)o[c]=g/30,o[c+1]=g%30,c+=2;else switch(g){case Y.TEXT_COMPACTION_MODE_LATCH:o[c++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=e[r++],l[c]=g,c++;break}}return Y.decodeTextCompaction(o,l,c,i),r}static decodeTextCompaction(e,r,i,o){let l=gt.ALPHA,c=gt.ALPHA,d=0;for(;d<i;){let g=e[d],p="";switch(l){case gt.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case Y.LL:l=gt.LOWER;break;case Y.ML:l=gt.MIXED;break;case Y.PS:c=l,l=gt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case Y.AS:c=l,l=gt.ALPHA_SHIFT;break;case Y.ML:l=gt.MIXED;break;case Y.PS:c=l,l=gt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.MIXED:if(g<Y.PL)p=Y.MIXED_CHARS[g];else switch(g){case Y.PL:l=gt.PUNCT;break;case 26:p=" ";break;case Y.LL:l=gt.LOWER;break;case Y.AL:l=gt.ALPHA;break;case Y.PS:c=l,l=gt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.PUNCT:if(g<Y.PAL)p=Y.PUNCT_CHARS[g];else switch(g){case Y.PAL:l=gt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.ALPHA_SHIFT:if(l=c,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break;case gt.PUNCT_SHIFT:if(l=c,g<Y.PAL)p=Y.PUNCT_CHARS[g];else switch(g){case Y.PAL:l=gt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case Y.TEXT_COMPACTION_MODE_LATCH:l=gt.ALPHA;break}break}p!==""&&o.append(p),d++}}static byteCompaction(e,r,i,o,l){let c=new _g,d=0,g=0,p=!1;switch(e){case Y.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),y=r[o++];for(;o<r[0]&&!p;)switch(w[d++]=y,g=900*g+y,y=r[o++],y){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(d%5===0&&d>0){for(let C=0;C<6;++C)c.write(Number(Cr(g)>>Cr(8*(5-C))));g=0,d=0}break}o===r[0]&&y<Y.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=y);for(let C=0;C<d;C++)c.write(w[C]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let C=r[o++];if(C<Y.TEXT_COMPACTION_MODE_LATCH)d++,g=900*g+C;else switch(C){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(d%5===0&&d>0){for(let O=0;O<6;++O)c.write(Number(Cr(g)>>Cr(8*(5-O))));g=0,d=0}}break}return l.append(Ee.decode(c.toByteArray(),i)),o}static numericCompaction(e,r,i){let o=0,l=!1,c=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!l;){let d=e[r++];if(r===e[0]&&(l=!0),d<Y.TEXT_COMPACTION_MODE_LATCH)c[o]=d,o++;else switch(d){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%Y.MAX_NUMERIC_CODEWORDS===0||d===Y.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(Y.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(e,r){let i=Cr(0);for(let l=0;l<r;l++)i+=Y.EXP900[r-l-1]*Cr(e[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new F;return o.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=Mu()?Eg():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(e,r,i,o,l,c,d){let g=new is(e,r,i,o,l),p=null,w=null,y;for(let M=!0;;M=!1){if(r!=null&&(p=qe.getRowIndicatorColumn(e,g,r,!0,c,d)),o!=null&&(w=qe.getRowIndicatorColumn(e,g,o,!1,c,d)),y=qe.merge(p,w),y==null)throw G.getNotFoundInstance();let k=y.getBoundingBox();if(M&&k!=null&&(k.getMinY()<g.getMinY()||k.getMaxY()>g.getMaxY()))g=k;else break}y.setBoundingBox(g);let C=y.getBarcodeColumnCount()+1;y.setDetectionResultColumn(0,p),y.setDetectionResultColumn(C,w);let O=p!=null;for(let M=1;M<=C;M++){let k=O?M:C-M;if(y.getDetectionResultColumn(k)!==void 0)continue;let U;k===0||k===C?U=new Ou(g,k===0):U=new bi(g),y.setDetectionResultColumn(k,U);let K=-1,he=K;for(let pe=g.getMinY();pe<=g.getMaxY();pe++){if(K=qe.getStartColumn(y,k,pe,O),K<0||K>g.getMaxX()){if(he===-1)continue;K=he}let ue=qe.detectCodeword(e,g.getMinX(),g.getMaxX(),O,K,pe,c,d);ue!=null&&(U.setCodeword(pe,ue),he=K,c=Math.min(c,ue.getWidth()),d=Math.max(d,ue.getWidth()))}}return qe.createDecoderResult(y)}static merge(e,r){if(e==null&&r==null)return null;let i=qe.getBarcodeMetadata(e,r);if(i==null)return null;let o=is.merge(qe.adjustBoundingBox(e),qe.adjustBoundingBox(r));return new yi(i,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let i=qe.getMax(r),o=0;for(let d of r)if(o+=i-d,d>0)break;let l=e.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let c=0;for(let d=r.length-1;d>=0&&(c+=i-r[d],!(r[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let r=-1;for(let i of e)r=Math.max(r,i);return r}static getBarcodeMetadata(e,r){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,r,i,o,l,c){let d=new Ou(r,o);for(let g=0;g<2;g++){let p=g===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let y=Math.trunc(Math.trunc(i.getY()));y<=r.getMaxY()&&y>=r.getMinY();y+=p){let C=qe.detectCodeword(e,0,e.getWidth(),o,w,y,l,c);C!=null&&(d.setCodeword(y,C),o?w=C.getStartX():w=C.getEndX())}}return d}static adjustCodewordCount(e,r){let i=r[0][1],o=i.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-qe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(l<1||l>Ue.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(e){let r=qe.createBarcodeMatrix(e);qe.adjustCodewordCount(e,r);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],c=new Array;for(let g=0;g<e.getBarcodeRowCount();g++)for(let p=0;p<e.getBarcodeColumnCount();p++){let w=r[g][p+1].getValue(),y=g*e.getBarcodeColumnCount()+p;w.length===0?i.push(y):w.length===1?o[y]=w[0]:(c.push(y),l.push(w))}let d=new Array(l.length);for(let g=0;g<d.length;g++)d[g]=l[g];return qe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Ue.toIntArray(i),Ue.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(e,r,i,o,l){let c=new Int32Array(o.length),d=100;for(;d-- >0;){for(let g=0;g<c.length;g++)r[o[g]]=l[g][c[g]];try{return qe.decodeCodewords(r,e,i)}catch(g){if(!(g instanceof T))throw g}if(c.length===0)throw T.getChecksumInstance();for(let g=0;g<c.length;g++)if(c[g]<l[g].length-1){c[g]++;break}else if(c[g]=0,g===c.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Ai;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,i,o){let l=o?1:-1,c=null;if(qe.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(qe.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let d=0;for(;qe.isValidBarcodeColumn(e,r-l);){r-=l;for(let g of e.getDetectionResultColumn(r).getCodewords())if(g!=null)return(o?g.getEndX():g.getStartX())+l*d*(g.getEndX()-g.getStartX());d++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,i,o,l,c,d,g){l=qe.adjustCodewordStartColumn(e,r,i,o,l,c);let p=qe.getModuleBitCount(e,r,i,o,l,c);if(p==null)return null;let w,y=oe.sum(p);if(o)w=l+y;else{for(let M=0;M<p.length/2;M++){let k=p[M];p[M]=p[p.length-1-M],p[p.length-1-M]=k}w=l,l=w-y}if(!qe.checkCodewordSkew(y,d,g))return null;let C=cn.getDecodedValue(p),O=Ue.getCodeword(C);return O===-1?null:new Ci(l,w,qe.getCodewordBucketNumber(C),O)}static getModuleBitCount(e,r,i,o,l,c){let d=l,g=new Int32Array(8),p=0,w=o?1:-1,y=o;for(;(o?d<i:d>=r)&&p<g.length;)e.get(d,c)===y?(g[p]++,d+=w):(p++,y=!y);return p===g.length||d===(o?i:r)&&p===g.length-1?g:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,i,o,l,c){let d=l,g=o?-1:1;for(let p=0;p<2;p++){for(;(o?d>=r:d<i)&&o===e.get(d,c);){if(Math.abs(l-d)>qe.CODEWORD_SKEW_SIZE)return l;d+=g}g=-g,o=!o}return d}static checkCodewordSkew(e,r,i){return r-qe.CODEWORD_SKEW_SIZE<=e&&e<=i+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,i){if(e.length===0)throw F.getFormatInstance();let o=1<<r+1,l=qe.correctErrors(e,i,o);qe.verifyCodewordCount(e,o);let c=Y.decode(e,""+r);return c.setErrorsCorrected(l),c.setErasures(i.length),c}static correctErrors(e,r,i){if(r!=null&&r.length>i/2+qe.MAX_ERRORS||i<0||i>qe.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return qe.errorCorrection.decode(e,i,r)}static verifyCodewordCount(e,r){if(e.length<4)throw F.getFormatInstance();let i=e[0];if(i>e.length)throw F.getFormatInstance();if(i===0)if(r<e.length)e[0]=e.length-r;else throw F.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new wi;for(let i=0;i<e.length;i++){r.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let l=e[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new Iu;class Yt{decode(e,r=null){let i=Yt.decode(e,r,!1);if(i==null||i.length===0||i[0]==null)throw G.getNotFoundInstance();return i[0]}decodeMultiple(e,r=null){try{return Yt.decode(e,r,!0)}catch(i){throw i instanceof F||i instanceof T?G.getNotFoundInstance():i}}static decode(e,r,i){const o=new Array,l=Ke.detectMultiple(e,r,i);for(const c of l.getPoints()){const d=qe.decode(l.getBits(),c[4],c[5],c[6],c[7],Yt.getMinCodewordWidth(c),Yt.getMaxCodewordWidth(c)),g=new dt(d.getText(),d.getRawBytes(),void 0,c,Ae.PDF_417);g.putMetadata(de.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&g.putMetadata(de.PDF417_EXTRA_METADATA,p),o.push(g)}return o.map(c=>c)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?L.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Yt.getMaxWidth(e[0],e[4]),Yt.getMaxWidth(e[6],e[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(Yt.getMaxWidth(e[1],e[5]),Yt.getMaxWidth(e[7],e[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Yt.getMinWidth(e[0],e[4]),Yt.getMinWidth(e[6],e[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(Yt.getMinWidth(e[1],e[5]),Yt.getMinWidth(e[7],e[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class yo extends x{}yo.kind="ReaderException";class Lu{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!a(e)&&e.get(W.TRY_HARDER)===!0,i=a(e)?null:e.get(W.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(c=>c===Ae.UPC_A||c===Ae.UPC_E||c===Ae.EAN_13||c===Ae.EAN_8||c===Ae.CODABAR||c===Ae.CODE_39||c===Ae.CODE_93||c===Ae.CODE_128||c===Ae.ITF||c===Ae.RSS_14||c===Ae.RSS_EXPANDED);l&&!r&&o.push(new Ls(e,this.verbose)),i.includes(Ae.QR_CODE)&&o.push(new yr),i.includes(Ae.DATA_MATRIX)&&o.push(new Ar),i.includes(Ae.AZTEC)&&o.push(new qt),i.includes(Ae.PDF_417)&&o.push(new Yt),l&&r&&o.push(new Ls(e,this.verbose))}o.length===0&&(r||o.push(new Ls(e,this.verbose)),o.push(new yr),o.push(new Ar),o.push(new qt),o.push(new Yt),r&&o.push(new Ls(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new yo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(i){if(i instanceof yo)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class wg extends Ft{constructor(e=null,r=500){const i=new Lu;i.setHints(e),super(i,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class bg extends Ft{constructor(e=500){super(new Yt,e)}}class Ag extends Ft{constructor(e=500){super(new yr,e)}}var ol;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(ol||(ol={}));var Vt=ol;class al{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=e;l++){const c=i.multiply(new Ve(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),i=c}}return r[e]}encode(e,r){if(r===0)throw new b("No error correction bytes");const i=e.length-r;if(i<=0)throw new b("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);R.arraycopy(e,0,l,0,i);let c=new Ve(this.field,l);c=c.multiplyByMonomial(r,1);const g=c.divide(o)[1].getCoefficients(),p=r-g.length;for(let w=0;w<p;w++)e[i+w]=0;R.arraycopy(g,0,e,i+p,g.length)}}class Dt{constructor(){}static applyMaskPenaltyRule1(e){return Dt.applyMaskPenaltyRule1Internal(e,!0)+Dt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l-1;c++){const d=i[c];for(let g=0;g<o-1;g++){const p=d[g];p===d[g+1]&&p===i[c+1][g]&&p===i[c+1][g+1]&&r++}}return Dt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let c=0;c<l;c++)for(let d=0;d<o;d++){const g=i[c];d+6<o&&g[d]===1&&g[d+1]===0&&g[d+2]===1&&g[d+3]===1&&g[d+4]===1&&g[d+5]===0&&g[d+6]===1&&(Dt.isWhiteHorizontal(g,d-4,d)||Dt.isWhiteHorizontal(g,d+7,d+11))&&r++,c+6<l&&i[c][d]===1&&i[c+1][d]===0&&i[c+2][d]===1&&i[c+3][d]===1&&i[c+4][d]===1&&i[c+5][d]===0&&i[c+6][d]===1&&(Dt.isWhiteVertical(i,d,c-4,c)||Dt.isWhiteVertical(i,d,c+7,c+11))&&r++}return r*Dt.N3}static isWhiteHorizontal(e,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let l=i;l<o;l++)if(e[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let g=0;g<l;g++){const p=i[g];for(let w=0;w<o;w++)p[w]===1&&r++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*Dt.N4}static getDataMaskBit(e,r,i){let o,l;switch(e){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let i=0;const o=r?e.getHeight():e.getWidth(),l=r?e.getWidth():e.getHeight(),c=e.getArray();for(let d=0;d<o;d++){let g=0,p=-1;for(let w=0;w<l;w++){const y=r?c[d][w]:c[w][d];y===p?g++:(g>=5&&(i+=Dt.N1+(g-5)),g=1,p=y)}g>=5&&(i+=Dt.N1+(g-5))}return i}}Dt.N1=3,Dt.N2=3,Dt.N3=40,Dt.N4=10;class Co{constructor(e,r){this.width=e,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,i){this.bytes[r][e]=i}setBoolean(e,r,i){this.bytes[r][e]=i?1:0}clear(e){for(const r of this.bytes)X.fill(r,e)}equals(e){if(!(e instanceof Co))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],c=r.bytes[i];for(let d=0,g=this.width;d<g;++d)if(l[d]!==c[d])return!1}return!0}toString(){const e=new re;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class os{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new re;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<os.NUM_MASK_PATTERNS}}os.NUM_MASK_PATTERNS=8;class pt extends x{}pt.kind="WriterException";class Be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,i,o,l){Be.clearMatrix(l),Be.embedBasicPatterns(i,l),Be.embedTypeInfo(r,o,l),Be.maybeEmbedVersionInfo(i,l),Be.embedDataBits(e,o,l)}static embedBasicPatterns(e,r){Be.embedPositionDetectionPatternsAndSeparators(r),Be.embedDarkDotAtLeftBottomCorner(r),Be.maybeEmbedPositionAdjustmentPatterns(e,r),Be.embedTimingPatterns(r)}static embedTypeInfo(e,r,i){const o=new Z;Be.makeTypeInfoBits(e,r,o);for(let l=0,c=o.getSize();l<c;++l){const d=o.get(o.getSize()-1-l),g=Be.TYPE_INFO_COORDINATES[l],p=g[0],w=g[1];if(i.setBoolean(p,w,d),l<8){const y=i.getWidth()-l-1;i.setBoolean(y,8,d)}else{const C=i.getHeight()-7+(l-8);i.setBoolean(8,C,d)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const i=new Z;Be.makeVersionInfoBits(e,i);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,d),r.setBoolean(r.getHeight()-11+c,l,d)}}static embedDataBits(e,r,i){let o=0,l=-1,c=i.getWidth()-1,d=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<i.getHeight();){for(let g=0;g<2;++g){const p=c-g;if(!Be.isEmpty(i.get(p,d)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,r!==255&&Dt.getDataMaskBit(r,p,d)&&(w=!w),i.setBoolean(p,d,w)}d+=l}l=-l,d+=l,c-=2}if(o!==e.getSize())throw new pt("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-L.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new b("0 polynomial");const i=Be.findMSBSet(r);for(e<<=i-1;Be.findMSBSet(e)>=i;)e^=r<<Be.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,r,i){if(!os.isValidMaskPattern(r))throw new pt("Invalid mask pattern");const o=e.getBits()<<3|r;i.appendBits(o,5);const l=Be.calculateBCHCode(o,Be.TYPE_INFO_POLY);i.appendBits(l,10);const c=new Z;if(c.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new pt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const i=Be.calculateBCHCode(e.getVersionNumber(),Be.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new pt("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const i=(r+1)%2;Be.isEmpty(e.get(r,6))&&e.setNumber(r,6,i),Be.isEmpty(e.get(6,r))&&e.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new pt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,i){for(let o=0;o<8;++o){if(!Be.isEmpty(i.get(e+o,r)))throw new pt;i.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,i){for(let o=0;o<7;++o){if(!Be.isEmpty(i.get(e,r+o)))throw new pt;i.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,i){for(let o=0;o<5;++o){const l=Be.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPattern(e,r,i){for(let o=0;o<7;++o){const l=Be.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(e+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,e),Be.embedPositionDetectionPattern(e.getWidth()-r,0,e),Be.embedPositionDetectionPattern(0,e.getWidth()-r,e);const i=8;Be.embedHorizontalSeparationPattern(0,i-1,e),Be.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Be.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;Be.embedVerticalSeparationPattern(o,0,e),Be.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Be.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,c=o.length;l!==c;l++){const d=o[l];if(d>=0)for(let g=0;g!==c;g++){const p=o[g];p>=0&&Be.isEmpty(r.get(p,d))&&Be.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class yg{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wt{constructor(){}static calculateMaskPenalty(e){return Dt.applyMaskPenaltyRule1(e)+Dt.applyMaskPenaltyRule2(e)+Dt.applyMaskPenaltyRule3(e)+Dt.applyMaskPenaltyRule4(e)}static encode(e,r,i=null){let o=wt.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(Vt.CHARACTER_SET)!==void 0;l&&(o=i.get(Vt.CHARACTER_SET).toString());const c=this.chooseMode(e,o),d=new Z;if(c===Le.BYTE&&(l||wt.DEFAULT_BYTE_MODE_ENCODING!==o)){const pe=B.getCharacterSetECIByName(o);pe!==void 0&&this.appendECI(pe,d)}this.appendModeInfo(c,d);const g=new Z;this.appendBytes(e,c,g,o);let p;if(i!==null&&i.get(Vt.QR_VERSION)!==void 0){const pe=Number.parseInt(i.get(Vt.QR_VERSION).toString(),10);p=De.getVersionForNumber(pe);const ue=this.calculateBitsNeeded(c,d,g,p);if(!this.willFit(ue,p,r))throw new pt("Data too big for requested version")}else p=this.recommendVersion(r,c,d,g);const w=new Z;w.appendBitArray(d);const y=c===Le.BYTE?g.getSizeInBytes():e.length;this.appendLengthInfo(y,p,c,w),w.appendBitArray(g);const C=p.getECBlocksForLevel(r),O=p.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(O,w);const M=this.interleaveWithECBytes(w,p.getTotalCodewords(),O,C.getNumBlocks()),k=new os;k.setECLevel(r),k.setMode(c),k.setVersion(p);const U=p.getDimensionForVersion(),K=new Co(U,U),he=this.chooseMaskPattern(M,r,p,K);return k.setMaskPattern(he),Be.buildMatrix(M,r,p,he,K),k.setMatrix(K),k}static recommendVersion(e,r,i,o){const l=this.calculateBitsNeeded(r,i,o,De.getVersionForNumber(1)),c=this.chooseVersion(l,e),d=this.calculateBitsNeeded(r,i,o,c);return this.chooseVersion(d,e)}static calculateBitsNeeded(e,r,i,o){return r.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<wt.ALPHANUMERIC_TABLE.length?wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(B.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Le.KANJI;let i=!1,o=!1;for(let l=0,c=e.length;l<c;++l){const d=e.charAt(l);if(wt.isDigit(d))i=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return Le.BYTE}return o?Le.ALPHANUMERIC:i?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=Ee.encode(e,B.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,r,i,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<os.NUM_MASK_PATTERNS;d++){Be.buildMatrix(e,r,i,d,o);let g=this.calculateMaskPenalty(o);g<l&&(l=g,c=d)}return c}static chooseVersion(e,r){for(let i=1;i<=40;i++){const o=De.getVersionForNumber(i);if(wt.willFit(e,o,r))return o}throw new pt("Data too big")}static willFit(e,r,i){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(i).getTotalECCodewords(),d=o-c,g=(e+7)/8;return d>=g}static terminateBits(e,r){const i=e*8;if(r.getSize()>i)throw new pt("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let c=0;c<4&&r.getSize()<i;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=e-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==i)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,i,o,l,c){if(o>=i)throw new pt("Block ID too large");const d=e%i,g=i-d,p=Math.floor(e/i),w=p+1,y=Math.floor(r/i),C=y+1,O=p-y,M=w-C;if(O!==M)throw new pt("EC bytes mismatch");if(i!==g+d)throw new pt("RS blocks mismatch");if(e!==(y+O)*g+(C+M)*d)throw new pt("Total bytes mismatch");o<g?(l[0]=y,c[0]=O):(l[0]=C,c[0]=M)}static interleaveWithECBytes(e,r,i,o){if(e.getSizeInBytes()!==i)throw new pt("Number of bits and data bytes does not match");let l=0,c=0,d=0;const g=new Array;for(let w=0;w<o;++w){const y=new Int32Array(1),C=new Int32Array(1);wt.getNumDataBytesAndNumECBytesForBlockID(r,i,o,w,y,C);const O=y[0],M=new Uint8Array(O);e.toBytes(8*l,M,0,O);const k=wt.generateECBytes(M,C[0]);g.push(new yg(M,k)),c=Math.max(c,O),d=Math.max(d,k.length),l+=y[0]}if(i!==l)throw new pt("Data bytes does not match offset");const p=new Z;for(let w=0;w<c;++w)for(const y of g){const C=y.getDataBytes();w<C.length&&p.appendBits(C[w],8)}for(let w=0;w<d;++w)for(const y of g){const C=y.getErrorCorrectionBytes();w<C.length&&p.appendBits(C[w],8)}if(r!==p.getSizeInBytes())throw new pt("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,r){const i=e.length,o=new Int32Array(i+r);for(let c=0;c<i;c++)o[c]=e[c]&255;new al(S.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[i+c];return l}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,i,o){const l=i.getCharacterCountBits(r);if(e>=1<<l)throw new pt(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,r,i,o){switch(r){case Le.NUMERIC:wt.appendNumericBytes(e,i);break;case Le.ALPHANUMERIC:wt.appendAlphanumericBytes(e,i);break;case Le.BYTE:wt.append8BitBytes(e,i,o);break;case Le.KANJI:wt.appendKanjiBytes(e,i);break;default:throw new pt("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=wt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=wt.getDigit(e.charAt(o));if(o+2<i){const c=wt.getDigit(e.charAt(o+1)),d=wt.getDigit(e.charAt(o+2));r.appendBits(l*100+c*10+d,10),o+=3}else if(o+1<i){const c=wt.getDigit(e.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(e,r){const i=e.length;let o=0;for(;o<i;){const l=wt.getAlphanumericCode(e.charCodeAt(o));if(l===-1)throw new pt;if(o+1<i){const c=wt.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new pt;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(e,r,i){let o;try{o=Ee.encode(e,i)}catch(l){throw new pt(l)}for(let l=0,c=o.length;l!==c;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(e,r){let i;try{i=Ee.encode(e,B.SJIS)}catch(l){throw new pt(l)}const o=i.length;for(let l=0;l<o;l+=2){const c=i[l]&255,d=i[l+1]&255,g=c<<8&4294967295|d;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new pt("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(e,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wt.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class as{write(e,r,i,o=null){if(e.length===0)throw new b("Found empty contents");if(r<0||i<0)throw new b("Requested dimensions are too small: "+r+"x"+i);let l=Et.L,c=as.QUIET_ZONE_SIZE;o!==null&&(o.get(Vt.ERROR_CORRECTION)!==void 0&&(l=Et.fromString(o.get(Vt.ERROR_CORRECTION).toString())),o.get(Vt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Vt.MARGIN).toString(),10)));const d=wt.encode(e,l,o);return this.renderResult(d,r,i,c)}writeToDom(e,r,i,o,l=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(r,i,o,l);e&&e.appendChild(c)}renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new H;const c=l.getWidth(),d=l.getHeight(),g=c+o*2,p=d+o*2,w=Math.max(r,g),y=Math.max(i,p),C=Math.min(Math.floor(w/g),Math.floor(y/p)),O=Math.floor((w-c*C)/2),M=Math.floor((y-d*C)/2),k=this.createSVGElement(w,y);for(let U=0,K=M;U<d;U++,K+=C)for(let he=0,pe=O;he<c;he++,pe+=C)if(l.get(he,U)===1){const ue=this.createSvgRectElement(pe,K,C,C);k.appendChild(ue)}return k}createSVGElement(e,r){const i=document.createElementNS(as.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(e,r,i,o){const l=document.createElementNS(as.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}as.QUIET_ZONE_SIZE=4,as.SVG_NS="http://www.w3.org/2000/svg";class Bs{encode(e,r,i,o,l){if(e.length===0)throw new b("Found empty contents");if(r!==Ae.QR_CODE)throw new b("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new b(`Requested dimensions are too small: ${i}x${o}`);let c=Et.L,d=Bs.QUIET_ZONE_SIZE;l!==null&&(l.get(Vt.ERROR_CORRECTION)!==void 0&&(c=Et.fromString(l.get(Vt.ERROR_CORRECTION).toString())),l.get(Vt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Vt.MARGIN).toString(),10)));const g=wt.encode(e,c,l);return Bs.renderResult(g,i,o,d)}static renderResult(e,r,i,o){const l=e.getMatrix();if(l===null)throw new H;const c=l.getWidth(),d=l.getHeight(),g=c+o*2,p=d+o*2,w=Math.max(r,g),y=Math.max(i,p),C=Math.min(Math.floor(w/g),Math.floor(y/p)),O=Math.floor((w-c*C)/2),M=Math.floor((y-d*C)/2),k=new Re(w,y);for(let U=0,K=M;U<d;U++,K+=C)for(let he=0,pe=O;he<c;he++,pe+=C)l.get(he,U)===1&&k.setRegion(pe,K,C,C);return k}}Bs.QUIET_ZONE_SIZE=4;class Cg{encode(e,r,i,o,l){let c;switch(r){case Ae.QR_CODE:c=new Bs;break;default:throw new b("No encoder available for format "+r)}return c.encode(e,r,i,o,l)}}class Zn extends ze{constructor(e,r,i,o,l,c,d,g){if(super(c,d),this.yuvData=e,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+c>r||l+d>i)throw new b("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(c,d)}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.yuvData,l,o,0,i),o;for(let c=0;c<r;c++){const d=c*e;R.arraycopy(this.yuvData,l,o,d,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new Zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)}renderThumbnail(){const e=this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const d=c*e;for(let g=0;g<e;g++){const p=o[l+g*Zn.THUMBNAIL_SCALE_FACTOR]&255;i[d+g]=4278190080|p*65793}l+=this.dataWidth*Zn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+e/2;for(let d=l,g=l+e-1;d<c;d++,g--){const p=i[d];i[d]=i[g],i[g]=p}}}invert(){return new _t(this)}}Zn.THUMBNAIL_SCALE_FACTOR=2;class ll extends ze{constructor(e,r,i,o,l,c,d){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,e.BYTES_PER_ELEMENT===4){const g=r*i,p=new Uint8ClampedArray(g);for(let w=0;w<g;w++){const y=e[w],C=y>>16&255,O=y>>7&510,M=y&255;p[w]=(C+O+M)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=e*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.luminances,l,o,0,i),o;for(let c=0;c<r;c++){const d=c*e;R.arraycopy(this.luminances,l,o,d,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,i,o){return new ll(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new _t(this)}}class Pu extends B{static forName(e){return this.getCharacterSetECIByName(e)}}class cl{}cl.ISO_8859_1=B.ISO8859_1;class Bu{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ku{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class vg{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ks extends vg{constructor(e,r,i){super(e),this.value=r,this.bitCount=i}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new ks(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ks(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+L.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ul extends ks{constructor(e,r,i){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(e,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(e,r){return new ul(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Tg(A,e,r){return new ul(A,e,r)}function vi(A,e,r){return new ks(A,e,r)}const Sg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vr=0,vo=1,On=2,Fu=3,Qn=4,Ig=new ks(null,0,0),fl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Og(A){for(let e of A)X.fill(e,-1);return A[vr][Qn]=0,A[vo][Qn]=0,A[vo][vr]=28,A[Fu][Qn]=0,A[On][Qn]=0,A[On][vr]=15,A}const Uu=Og(X.createInt32Array(6,6));class Jn{constructor(e,r,i,o){this.token=e,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let i=this.bitCount,o=this.token;if(e!==this.mode){let c=fl[this.mode][e];o=vi(o,c&65535,c>>16),i+=c>>16}let l=e===On?4:5;return o=vi(o,r,l),new Jn(o,e,0,i+l)}shiftAndAppend(e,r){let i=this.token,o=this.mode===On?4:5;return i=vi(i,Uu[this.mode][e],o),i=vi(i,r,5),new Jn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Qn||this.mode===On){let d=fl[i][vr];r=vi(r,d&65535,d>>16),o+=d>>16,i=vr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Jn(r,i,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Tg(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(fl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Jn.calculateBinaryShiftCost(e)-Jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new Z;for(const o of r)o.appendTo(i,e);return i}toString(){return $.format("%s bits=%d bytes=%d",Sg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Jn.INITIAL_STATE=new Jn(Ig,vr,0,0);function Ng(A){const e=$.getCharCode(" "),r=$.getCharCode("."),i=$.getCharCode(",");A[vr][e]=1;const o=$.getCharCode("Z"),l=$.getCharCode("A");for(let C=l;C<=o;C++)A[vr][C]=C-l+2;A[vo][e]=1;const c=$.getCharCode("z"),d=$.getCharCode("a");for(let C=d;C<=c;C++)A[vo][C]=C-d+2;A[On][e]=1;const g=$.getCharCode("9"),p=$.getCharCode("0");for(let C=p;C<=g;C++)A[On][C]=C-p+2;A[On][i]=12,A[On][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<w.length;C++)A[Fu][$.getCharCode(w[C])]=C;const y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<y.length;C++)$.getCharCode(y[C])>0&&(A[Qn][$.getCharCode(y[C])]=C);return A}const dl=Ng(X.createInt32Array(5,256));class Ti{constructor(e){this.text=e}encode(){const e=$.getCharCode(" "),r=$.getCharCode(`
`);let i=ku.singletonList(Jn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case $.getCharCode("\r"):c=d===r?2:0;break;case $.getCharCode("."):c=d===e?3:0;break;case $.getCharCode(","):c=d===e?4:0;break;case $.getCharCode(":"):c=d===e?5:0;break;default:c=0}c>0?(i=Ti.updateStateListForPair(i,l,c),l++):i=this.updateStateListForChar(i,l)}return ku.min(i,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const i=[];for(let o of e)this.updateStateForChar(o,r,i);return Ti.simplifyStates(i)}updateStateForChar(e,r,i){let o=this.text[r]&255,l=dl[e.getMode()][o]>0,c=null;for(let d=0;d<=Qn;d++){let g=dl[d][o];if(g>0){if(c==null&&(c=e.endBinaryShift(r)),!l||d===e.getMode()||d===On){const p=c.latchAndAppend(d,g);i.push(p)}if(!l&&Uu[e.getMode()][d]>=0){const p=c.shiftAndAppend(d,g);i.push(p)}}}if(e.getBinaryShiftByteCount()>0||dl[e.getMode()][o]===0){let d=e.addBinaryShiftChar(r);i.push(d)}}static updateStateListForPair(e,r,i){const o=[];for(let l of e)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(e,r,i,o){let l=e.endBinaryShift(r);if(o.push(l.latchAndAppend(Qn,i)),e.getMode()!==Qn&&o.push(l.shiftAndAppend(Qn,i)),i===3||i===4){let c=l.latchAndAppend(On,16-i).latchAndAppend(On,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(e){let r=[];for(const i of e){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(i)}return r}}class it{constructor(){}static encodeBytes(e){return it.encode(e,it.DEFAULT_EC_PERCENT,it.DEFAULT_AZTEC_LAYERS)}static encode(e,r,i){let o=new Ti(e).encode(),l=L.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,d,g,p,w,y;if(i!==it.DEFAULT_AZTEC_LAYERS){if(d=i<0,g=Math.abs(i),g>(d?it.MAX_NB_BITS_COMPACT:it.MAX_NB_BITS))throw new b($.format("Illegal value %s for layers",i));p=it.totalBitsInLayer(g,d),w=it.WORD_SIZE[g];let ue=p-p%w;if(y=it.stuffBits(o,w),y.getSize()+l>ue)throw new b("Data to large for user specified layer");if(d&&y.getSize()>w*64)throw new b("Data to large for user specified layer")}else{w=0,y=null;for(let ue=0;;ue++){if(ue>it.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(d=ue<=3,g=d?ue+1:ue,p=it.totalBitsInLayer(g,d),c>p)continue;(y==null||w!==it.WORD_SIZE[g])&&(w=it.WORD_SIZE[g],y=it.stuffBits(o,w));let et=p-p%w;if(!(d&&y.getSize()>w*64)&&y.getSize()+l<=et)break}}let C=it.generateCheckWords(y,p,w),O=y.getSize()/w,M=it.generateModeMessage(d,g,O),k=(d?11:14)+g*4,U=new Int32Array(k),K;if(d){K=k;for(let ue=0;ue<U.length;ue++)U[ue]=ue}else{K=k+1+2*L.truncDivision(L.truncDivision(k,2)-1,15);let ue=L.truncDivision(k,2),et=L.truncDivision(K,2);for(let Xe=0;Xe<ue;Xe++){let un=Xe+L.truncDivision(Xe,15);U[ue-Xe-1]=et-un-1,U[ue+Xe]=et+un+1}}let he=new Re(K);for(let ue=0,et=0;ue<g;ue++){let Xe=(g-ue)*4+(d?9:12);for(let un=0;un<Xe;un++){let Hn=un*2;for(let fn=0;fn<2;fn++)C.get(et+Hn+fn)&&he.set(U[ue*2+fn],U[ue*2+un]),C.get(et+Xe*2+Hn+fn)&&he.set(U[ue*2+un],U[k-1-ue*2-fn]),C.get(et+Xe*4+Hn+fn)&&he.set(U[k-1-ue*2-fn],U[k-1-ue*2-un]),C.get(et+Xe*6+Hn+fn)&&he.set(U[k-1-ue*2-un],U[ue*2+fn])}et+=Xe*8}if(it.drawModeMessage(he,d,K,M),d)it.drawBullsEye(he,L.truncDivision(K,2),5);else{it.drawBullsEye(he,L.truncDivision(K,2),7);for(let ue=0,et=0;ue<L.truncDivision(k,2)-1;ue+=15,et+=16)for(let Xe=L.truncDivision(K,2)&1;Xe<K;Xe+=2)he.set(L.truncDivision(K,2)-et,Xe),he.set(L.truncDivision(K,2)+et,Xe),he.set(Xe,L.truncDivision(K,2)-et),he.set(Xe,L.truncDivision(K,2)+et)}let pe=new Bu;return pe.setCompact(d),pe.setSize(K),pe.setLayers(g),pe.setCodeWords(O),pe.setMatrix(he),pe}static drawBullsEye(e,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)e.set(l,r-o),e.set(l,r+o),e.set(r-o,l),e.set(r+o,l);e.set(r-i,r-i),e.set(r-i+1,r-i),e.set(r-i,r-i+1),e.set(r+i,r-i),e.set(r+i,r-i+1),e.set(r+i,r+i-1)}static generateModeMessage(e,r,i){let o=new Z;return e?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=it.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=it.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,i,o){let l=L.truncDivision(i,2);if(r)for(let c=0;c<7;c++){let d=l-3+c;o.get(c)&&e.set(d,l-5),o.get(c+7)&&e.set(l+5,d),o.get(20-c)&&e.set(d,l+5),o.get(27-c)&&e.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+L.truncDivision(c,5);o.get(c)&&e.set(d,l-7),o.get(c+10)&&e.set(l+7,d),o.get(29-c)&&e.set(d,l+7),o.get(39-c)&&e.set(l-7,d)}}static generateCheckWords(e,r,i){let o=e.getSize()/i,l=new al(it.getGF(i)),c=L.truncDivision(r,i),d=it.bitsToWords(e,i,c);l.encode(d,c-o);let g=r%i,p=new Z;p.appendBits(0,g);for(const w of Array.from(d))p.appendBits(w,i);return p}static bitsToWords(e,r,i){let o=new Int32Array(i),l,c;for(l=0,c=e.getSize()/r;l<c;l++){let d=0;for(let g=0;g<r;g++)d|=e.get(l*r+g)?1<<r-g-1:0;o[l]=d}return o}static getGF(e){switch(e){case 4:return S.AZTEC_PARAM;case 6:return S.AZTEC_DATA_6;case 8:return S.AZTEC_DATA_8;case 10:return S.AZTEC_DATA_10;case 12:return S.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,r){let i=new Z,o=e.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let d=0;for(let g=0;g<r;g++)(c+g>=o||e.get(c+g))&&(d|=1<<r-1-g);(d&l)===l?(i.appendBits(d&l,r),c--):d&l?i.appendBits(d,r):(i.appendBits(d|1,r),c--)}return i}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}it.DEFAULT_EC_PERCENT=33,it.DEFAULT_AZTEC_LAYERS=0,it.MAX_NB_BITS=32,it.MAX_NB_BITS_COMPACT=4,it.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class To{encode(e,r,i,o){return this.encodeWithHints(e,r,i,o,null)}encodeWithHints(e,r,i,o,l){let c=cl.ISO_8859_1,d=it.DEFAULT_EC_PERCENT,g=it.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Vt.CHARACTER_SET)&&(c=Pu.forName(l.get(Vt.CHARACTER_SET).toString())),l.has(Vt.ERROR_CORRECTION)&&(d=L.parseInt(l.get(Vt.ERROR_CORRECTION).toString())),l.has(Vt.AZTEC_LAYERS)&&(g=L.parseInt(l.get(Vt.AZTEC_LAYERS).toString()))),To.encodeLayers(e,r,i,o,c,d,g)}static encodeLayers(e,r,i,o,l,c,d){if(r!==Ae.AZTEC)throw new b("Can only encode AZTEC, but got "+r);let g=it.encode($.getBytes(e,l),c,d);return To.renderResult(g,i,o)}static renderResult(e,r,i){let o=e.getMatrix();if(o==null)throw new H;let l=o.getWidth(),c=o.getHeight(),d=Math.max(r,l),g=Math.max(i,c),p=Math.min(d/l,g/c),w=(d-l*p)/2,y=(g-c*p)/2,C=new Re(d,g);for(let O=0,M=y;O<c;O++,M+=p)for(let k=0,U=w;k<l;k++,U+=p)o.get(k,O)&&C.setRegion(U,M,p,p);return C}}s.AbstractExpandedDecoder=Za,s.ArgumentException=E,s.ArithmeticException=ut,s.AztecCode=Bu,s.AztecCodeReader=qt,s.AztecCodeWriter=To,s.AztecDecoder=ne,s.AztecDetector=Lt,s.AztecDetectorResult=be,s.AztecEncoder=it,s.AztecHighLevelEncoder=Ti,s.AztecPoint=He,s.BarcodeFormat=Ae,s.Binarizer=P,s.BinaryBitmap=v,s.BitArray=Z,s.BitMatrix=Re,s.BitSource=tl,s.BrowserAztecCodeReader=_r,s.BrowserBarcodeReader=ag,s.BrowserCodeReader=Ft,s.BrowserDatamatrixCodeReader=cg,s.BrowserMultiFormatReader=wg,s.BrowserPDF417Reader=bg,s.BrowserQRCodeReader=Ag,s.BrowserQRCodeSvgWriter=as,s.CharacterSetECI=B,s.ChecksumException=T,s.Code128Reader=me,s.Code39Reader=Nt,s.DataMatrixDecodedBitStreamParser=br,s.DataMatrixReader=Ar,s.DecodeHintType=W,s.DecoderResult=_e,s.DefaultGridSampler=$e,s.DetectorResult=le,s.EAN13Reader=ns,s.EncodeHintType=Vt,s.Exception=x,s.FormatException=F,s.GenericGF=S,s.GenericGFPoly=Ve,s.GlobalHistogramBinarizer=Oe,s.GridSampler=Ie,s.GridSamplerInstance=Ze,s.HTMLCanvasElementLuminanceSource=Ot,s.HybridBinarizer=fe,s.ITFReader=Ye,s.IllegalArgumentException=b,s.IllegalStateException=H,s.InvertedLuminanceSource=_t,s.LuminanceSource=ze,s.MathUtils=oe,s.MultiFormatOneDReader=Ls,s.MultiFormatReader=Lu,s.MultiFormatWriter=Cg,s.NotFoundException=G,s.OneDReader=vt,s.PDF417DecodedBitStreamParser=Y,s.PDF417DecoderErrorCorrection=Iu,s.PDF417Reader=Yt,s.PDF417ResultMetadata=Nu,s.PerspectiveTransform=Ne,s.PlanarYUVLuminanceSource=Zn,s.QRCodeByteMatrix=Co,s.QRCodeDataMask=Sn,s.QRCodeDecodedBitStreamParser=Tt,s.QRCodeDecoderErrorCorrectionLevel=Et,s.QRCodeDecoderFormatInformation=Qt,s.QRCodeEncoder=wt,s.QRCodeEncoderQRCode=os,s.QRCodeMaskUtil=Dt,s.QRCodeMatrixUtil=Be,s.QRCodeMode=Le,s.QRCodeReader=yr,s.QRCodeVersion=De,s.QRCodeWriter=Bs,s.RGBLuminanceSource=ll,s.RSS14Reader=Rt,s.RSSExpandedReader=ae,s.ReaderException=yo,s.ReedSolomonDecoder=ie,s.ReedSolomonEncoder=al,s.ReedSolomonException=N,s.Result=dt,s.ResultMetadataType=de,s.ResultPoint=j,s.StringUtils=$,s.UnsupportedOperationException=xe,s.VideoInputDevice=Xt,s.WhiteRectangleDetector=Ce,s.WriterException=pt,s.ZXingArrays=X,s.ZXingCharset=Pu,s.ZXingInteger=L,s.ZXingStandardCharsets=cl,s.ZXingStringBuilder=re,s.ZXingStringEncoding=Ee,s.ZXingSystem=R,s.createAbstractExpandedDecoder=Tu,Object.defineProperty(s,"__esModule",{value:!0})})})(Ec,Ec.exports);var bt=Ec.exports;const _b=xb(bt),Eb=Mg({__proto__:null,default:_b},[bt]);var f1=function(){function t(n,s,a){if(this.formatMap=new Map([[Te.QR_CODE,bt.BarcodeFormat.QR_CODE],[Te.AZTEC,bt.BarcodeFormat.AZTEC],[Te.CODABAR,bt.BarcodeFormat.CODABAR],[Te.CODE_39,bt.BarcodeFormat.CODE_39],[Te.CODE_93,bt.BarcodeFormat.CODE_93],[Te.CODE_128,bt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,bt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,bt.BarcodeFormat.MAXICODE],[Te.ITF,bt.BarcodeFormat.ITF],[Te.EAN_13,bt.BarcodeFormat.EAN_13],[Te.EAN_8,bt.BarcodeFormat.EAN_8],[Te.PDF_417,bt.BarcodeFormat.PDF_417],[Te.RSS_14,bt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,bt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,bt.BarcodeFormat.UPC_A],[Te.UPC_E,bt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,bt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Eb)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(bt.DecodeHintType.POSSIBLE_FORMATS,u),f.set(bt.DecodeHintType.TRY_HARDER,!1),this.hints=f}return t.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,u){try{a(s.decode(n))}catch(f){u(f)}})},t.prototype.decode=function(n){var s=new bt.MultiFormatReader(this.verbose,this.hints),a=new bt.HTMLCanvasElementLuminanceSource(n),u=new bt.BinaryBitmap(new bt.HybridBinarizer(a)),f=s.decode(u);return{text:f.text,format:Zh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),wb=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(E){try{x(a.next(E))}catch(b){h(b)}}function _(E){try{x(a.throw(E))}catch(b){h(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},bb=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},d1=function(){function t(n,s,a){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return wb(this,void 0,void 0,function(){var s,a;return bb(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:Zh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,u=0,f=n;u<f.length;u++){var h=f[u],m=h.boundingBox.width*h.boundingBox.height;m>a&&(a=m,s=h)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,u){n.set(s,a)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),h1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(E){try{x(a.next(E))}catch(b){h(b)}}function _(E){try{x(a.throw(E))}catch(b){h(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},g1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ab=function(){function t(n,s,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&d1.isSupported()?(this.primaryDecoder=new d1(n,a,u),this.secondaryDecoder=new f1(n,a,u)):this.primaryDecoder=new f1(n,a,u)}return t.prototype.decodeAsync=function(n){return h1(this,void 0,void 0,function(){var s;return g1(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return h1(this,void 0,void 0,function(){var s,a;return g1(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var u=a[s];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),ru=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),ca=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(E){try{x(a.next(E))}catch(b){h(b)}}function _(E){try{x(a.throw(E))}catch(b){h(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},ua=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Jh=function(){function t(n,s){this.name=n,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},t}(),yb=function(t){ru(n,t);function n(s,a){return t.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Jh),Cb=function(t){ru(n,t);function n(s){return t.call(this,"zoom",s)||this}return n}(yb),vb=function(t){ru(n,t);function n(s){return t.call(this,"torch",s)||this}return n}(Jh),Tb=function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new Cb(this.track)},t.prototype.torchFeature=function(){return new vb(this.track)},t}(),Sb=function(){function t(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,s,a,u){return ca(this,void 0,void 0,function(){var f,h;return ua(this,function(m){switch(m.label){case 0:return f=new t(n,s,u),a.aspectRatio?(h={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return ca(this,void 0,void 0,function(){return ua(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var u=n.mediaStream.getVideoTracks(),f=u.length,h=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++h,h>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},t.prototype.getCapabilities=function(){return new Tb(this.getFirstTrackOrFail())},t}(),Ib=function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,s,a){return ca(this,void 0,void 0,function(){return ua(this,function(u){return[2,Sb.create(n,this.mediaStream,s,a)]})})},t.create=function(n){return ca(this,void 0,void 0,function(){var s,a;return ua(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=u.sent(),[2,new t(a)]}})})},t}(),p1=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(E){try{x(a.next(E))}catch(b){h(b)}}function _(E){try{x(a.throw(E))}catch(b){h(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},m1=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ob=function(){function t(){}return t.failIfNotSupported=function(){return p1(this,void 0,void 0,function(){return m1(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return p1(this,void 0,void 0,function(){return m1(this,function(s){return[2,Ib.create(n)]})})},t}(),Nb=function(t,n,s,a){function u(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(E){try{x(a.next(E))}catch(b){h(b)}}function _(E){try{x(a.throw(E))}catch(b){h(b)}}function x(E){E.done?f(E.value):u(E.value).then(m,_)}x((a=a.apply(t,n||[])).next())})},Rb=function(t,n){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(x){return function(E){return _([x,E])}}function _(x){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(s=0)),s;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,u=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){s.label=x[1];break}if(x[0]===6&&s.label<f[1]){s.label=f[1],f=x;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(x);break}f[2]&&s.ops.pop(),s.trys.pop();continue}x=n.call(t,s)}catch(E){x=[6,E],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Db=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=Ys.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=Ys.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return Nb(this,void 0,void 0,function(){var n,s,a,u,f,h,m;return Rb(this,function(_){switch(_.label){case 0:return n=function(x){for(var E=x.getVideoTracks(),b=0,v=E;b<v.length;b++){var T=v[b];T.enabled=!1,T.stop(),x.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=_.sent(),u=[],f=0,h=a;f<h.length;f++)m=h[f],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return n(s),[2,u]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(f){for(var h=[],m=0,_=f;m<_.length;m++){var x=_[m];x.kind==="video"&&h.push({id:x.id,label:x.label})}n(h)},u=MediaStreamTrack;u.getSources(a)})},t}(),Mt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Mt||(Mt={}));var Mb=function(){function t(){this.state=Mt.NOT_STARTED,this.onGoingTransactionNewState=Mt.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Mt.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Mt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Mt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Mt.UNKNOWN:throw"Transition from unknown is not allowed";case Mt.NOT_STARTED:this.failIfNewStateIs(n,[Mt.PAUSED]);break;case Mt.SCANNING:break;case Mt.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,s){for(var a=0,u=s;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t}(),Lb=function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Mt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Mt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Mt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Mt.PAUSED},t}(),Pb=function(){function t(){}return t.create=function(){return new Lb(new Mb)},t}(),Bb=function(){var t=function(n,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},t(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),_n=function(t){Bb(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(gb),kb=function(){function t(n,s){this.logger=s,this.fps=_n.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=_n.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Qh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},t.create=function(n,s){return new t(n,s)},t}(),Fb=function(){function t(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new mb(this.verbose),this.qrcode=new Ab(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Pb.create()}return t.prototype.start=function(n,s,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;u?h=u:h=this.verbose?this.logger.log:function(){};var m=kb.create(s,this.logger);this.clearElement();var _=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=_,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:_n.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var b=this,v=this.stateManagerProxy.startTransition(Mt.SCANNING);return new Promise(function(T,P){var R=x?m.videoConstraints:b.createVideoConstraints(n);if(!R){v.cancel(),P("videoConstraints should be defined");return}var z={};(!x||m.aspectRatio)&&(z.aspectRatio=m.aspectRatio);var ee={onRenderSurfaceReady:function(X,L){b.setupUi(X,L,m),b.isScanning=!0,b.foreverScan(m,a,h)}};Ob.failIfNotSupported().then(function(X){X.create(R).then(function(L){return L.render(f.element,z,ee).then(function(Z){b.renderedCamera=Z,v.execute(),T(null)}).catch(function(Z){v.cancel(),P(Z)})}).catch(function(L){v.cancel(),P(Ys.errorGettingUserMedia(L))})}).catch(function(X){v.cancel(),P(Ys.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Mt.PAUSED),this.showPausedState(),(cr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(Mt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Mt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(_n.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),s.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},t.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var h=new Image;h.onload=function(){var m=h.width,_=h.height,x=document.getElementById(a.elementId),E=x.clientWidth?x.clientWidth:_n.DEFAULT_WIDTH,b=Math.max(x.clientHeight?x.clientHeight:_,_n.FILE_SCAN_MIN_HEIGHT),v=a.computeCanvasDrawConfig(m,_,E,b);if(s){var T=a.createCanvasElement(E,b,"qr-canvas-visible");T.style.display="inline-block",x.appendChild(T);var P=T.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=E,P.canvas.height=b,P.drawImage(h,0,0,m,_,v.x,v.y,v.width,v.height)}var R=_n.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(h.width,v.width),ee=Math.max(h.height,v.height),X=z+2*R,L=ee+2*R,Z=a.createCanvasElement(X,L);x.appendChild(Z);var se=Z.getContext("2d");if(!se)throw"Unable to get 2d context from canvas";se.canvas.width=X,se.canvas.height=L,se.drawImage(h,0,0,m,_,R,R,z,ee);try{a.qrcode.decodeRobustlyAsync(Z).then(function(W){u(u1.createFromQrcodeResult(W))}).catch(f)}catch(W){f("QR code parse error, error = ".concat(W))}},h.onerror=f,h.onabort=f,h.onstalled=f,h.onsuspend=f,h.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Db.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!Qh.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var s=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var h=f[u];hb(h)?a.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(cr(n))return!0;if(!cr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(cr(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return cr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,s,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var h=this.toQrdimensions(n,s,f),m=function(x){if(x<_n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_n.MIN_QR_BOX_SIZE,"px.")},_=function(x){return x>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(h.width),m(h.height),h.width=_(h.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},t.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var u=cr(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,s,u);f.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=a.isShadedBoxEnabled()&&f.height<=s,m={x:0,y:0,width:n,height:s},_=h?this.getShadedRegionBounds(n,s,f):m,x=this.createCanvasElement(_.width,_.height),E={willReadFrequently:!0},b=x.getContext("2d",E);b.canvas.width=_.width,b.canvas.height=_.height,this.element.append(x),h&&this.possiblyInsertShadingElement(this.element,n,s,f),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=b,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Ys.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,u1.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=Ys.codeParseError(u);return s(f,pb.createFrom(f)),!1})},t.prototype.foreverScan=function(n,s,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),h=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*h,x=this.qrRegion.height*m,E=this.qrRegion.x*h,b=this.qrRegion.y*m;this.context.drawImage(f,E,b,_,x,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,s,a)},u.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(T){!T&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,a).finally(function(){v()})):v()}).catch(function(T){u.logger.logError("Error happend while scanning context",T),v()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",h=function(P){if(P in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var _=Object.keys(n)[0];if(_!==s&&_!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(_===s){var x=n.facingMode;if(typeof x=="string"){if(h(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(h(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var b=n.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(f in b)return{deviceId:{exact:b["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var v=typeof b;throw"Invalid type of 'deviceId' = ".concat(v)}}}var T=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(n,s,a,u){if(n<=a&&s<=u){var f=(a-n)/2,h=(u-s)/2;return{x:f,y:h,width:n,height:s}}else{var m=n,_=s;return n>a&&(s=a/n*s,n=a),s>u&&(n=u/s*n,s=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(_)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,u)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?_n.BORDER_SHADER_MATCH_COLOR:_n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,s,a){var u=n,f=s,h=document.createElement("canvas");return h.style.width="".concat(u,"px"),h.style.height="".concat(f,"px"),h.style.display="none",h.id=cr(a)?"qr-canvas":a,h},t.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},t.prototype.possiblyInsertShadingElement=function(n,s,a,u){if(!(s-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var h=(s-u.width)/2,m=(a-u.height)/2;if(f.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(_n.SHADED_REGION_ELEMENT_ID),s-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var _=5,x=40;this.insertShaderBorders(f,x,_,-_,null,0,!0),this.insertShaderBorders(f,x,_,-_,null,0,!1),this.insertShaderBorders(f,x,_,null,-_,0,!0),this.insertShaderBorders(f,x,_,null,-_,0,!1),this.insertShaderBorders(f,_,x+_,-_,null,-_,!0),this.insertShaderBorders(f,_,x+_,null,-_,-_,!0),this.insertShaderBorders(f,_,x+_,-_,null,-_,!1),this.insertShaderBorders(f,_,x+_,null,-_,-_,!1),this.hasBorderShaders=!0}n.append(f)}},t.prototype.insertShaderBorders=function(n,s,a,u,f,h,m){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=_n.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(s,"px"),_.style.height="".concat(a,"px"),u!==null&&(_.style.top="".concat(u,"px")),f!==null&&(_.style.bottom="".concat(f,"px")),m?_.style.left="".concat(h,"px"):_.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),n.appendChild(_)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t}(),x1;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(x1||(x1={}));const Ub={class:"card",style:{overflow:"hidden"}},Vb={class:"card-body p-0",style:{overflow:"hidden"}},Hb={key:0,class:"ratio ratio-1x1",id:"qr-reader"},Wb={class:"d-grid col-6 mx-auto my-4"},$b={__name:"QRcodeReader",emits:["scan-success"],setup(t,{emit:n}){const s=jn(),a=ye(!1),u=ye("");let f=null;const h=n,m=()=>{if(!(!s.isLoggedIn||!s.is_club))try{f=new Fb("qr-reader");const R=document.getElementById("qr-reader").offsetWidth,z=document.getElementById("qr-reader").offsetHeight,ee={fps:10,qrbox:{width:250,height:250},aspectRatio:1,width:R*.7,height:z*.7};f.start({facingMode:"environment"},ee,_,x)}catch(R){console.log("init scanner failed: "+R),v.value="btn btn-primary",T.value="開啟相機",b.value=!1}},_=R=>{u.value=R,h("scan-success",R),E()},x=R=>{console.warn(`QR Code scanning failed: ${R}`)};Is(()=>{P()}),Wc(()=>{E()});const E=async()=>{if(f)try{await f.stop()}catch(R){console.error("Failed to stop scanner:",R)}v.value="btn btn-primary",T.value="開啟相機",b.value=!1},b=ye(!1),v=ye("btn btn-primary"),T=ye("關閉相機"),P=async()=>{b.value=!b.value,b.value?(m(),v.value="btn btn-danger",T.value="關閉相機"):(E(),v.value="btn btn-primary",T.value="開啟相機")};return(R,z)=>(ke(),Fe(nn,null,[D("div",Ub,[D("div",Vb,[a.value?St("",!0):(ke(),Fe("div",Hb))])]),D("div",Wb,[D("button",{class:tt(v.value),type:"button",onClick:P},We(T.value),3)])],64))}},Gb=t=>(Kr("data-v-d7f2f27d"),t=t(),qr(),t),Xb={key:0},jb={class:"mb-4"},zb={class:"row mb-2 mx-5"},Yb={key:1,class:"loading-overlay"},Kb=Gb(()=>D("div",{class:"spinner-border text-primary",role:"status"},[D("span",{class:"visually-hidden"},"Loading...")],-1)),qb=[Kb],Di=0,Hs=1,Nl=2,Zb={__name:"ScanView",setup(t){const n=Cs(),s=$r(),a=to(),u=jn();s.callAPI(),n.callAPI(),a.callAPI();const f=Zr();Is(()=>{(!u.isLoggedIn||!u.is_club)&&f.push({name:"club_login"}),u.update_club_auth()});const h=ye(!1),m=ye(!1),_=async()=>{if(h.value=!0,console.log("sendStamp() update user data."),await n.callAPI(),(await n.get_user_by_email(b.value.toLowerCase())).access_priv!=!0){R.value=!0,P.value="帳號已經兌換過抽獎券了",h.value=!1;return}if(await E(u.email,b.value,z.value==Hs)){h.value=!1;return}try{const L=new FormData;L.append("entry.1180634340",u.email),L.append("entry.1788223982",b.value.toLowerCase()),L.append("entry.914325063",z.value==Hs),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLScMibiJl3amUlq6x91EwApaW7XqnRTl51ZQagvWz3vNftR3tw/formResponse",{method:"POST",mode:"no-cors",body:L}),console.log("Form submitted successfully"),R.value=!1,P.value="提交 "+v.value+" 蓋章紀錄成功！"}catch(L){R.value=!0,P.value="紀錄提交錯誤："+L,console.error("Error submitting form:",L)}finally{h.value=!1}},x=async()=>{if(h.value=!0,console.log("exangeStamp() update user data."),await n.callAPI(),(await n.get_user_by_email(b.value)).access_priv==!1){R.value=!0,P.value="帳號已經兌換過抽獎券了",h.value=!1;return}try{const L=new FormData;L.append("entry.1180634340",u.email),L.append("entry.1788223982",b.value),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLSfyjgMo-YodfYApI5mg4kTPhLOQR8oeD_Ey5LXhHqWrhXtSHA/formResponse",{method:"POST",mode:"no-cors",body:L}),console.log("Form submitted successfully"),R.value=!1,P.value="提交 "+v.value+" 兌換紀錄成功！"}catch(L){R.value=!0,P.value="紀錄提交錯誤："+L,console.error("Error submitting form:",L)}finally{h.value=!1}},E=async(X,L,Z)=>{const se=await a.query_record(X,L,Z);return console.log(Z,se),se?(R.value=!0,P.value="已經蓋過章了！",!0):(R.value=!1,P.value="",!1)},b=ye(""),v=ye(""),T=async X=>{if(m.value)return;m.value=!0,b.value=X;let L=await n.get_user_by_email(X);if(console.log(L),L)L.nick_name!=""?v.value=L.nick_name:v.value=L.name,R.value=!1,P.value="掃描成功！"+v.value;else{R.value=!0,P.value="找不到 email: "+X+" 的帳號。",m.value=!1;return}z.value==Hs||z.value==Di?await _():(u.is_staff||(R.value=!0,P.value="你沒有鎖定帳號的權限"),await x()),m.value=!1},P=ye(""),R=ye(!1),z=ye(Di),ee=Qe(()=>z.value==Di?"掃描":z.value==Hs?"限動":z.value==Nl?"兌換":null);return(X,L)=>(ke(),Fe("div",null,[we(u).isLoggedIn&&we(u).is_club?(ke(),Fe("div",Xb,[D("h1",jb,We(we(u).name)+"："+We(ee.value?ee.value:"錯誤"),1),P.value?(ke(),Fe("div",{key:0,class:tt(["mt-3 text-break",["alert",R.value?"alert-danger":"alert-success"]]),role:"alert"},We(P.value),3)):St("",!0),It($b,{onScanSuccess:T}),D("div",zb,[D("button",{class:tt(["d-grid col mx-2 btn btn-outline-success",{active:z.value==Di}]),onClick:L[0]||(L[0]=Z=>z.value=Di)}," 蓋章 ",2),D("button",{class:tt(["d-grid col mx-2 btn btn-outline-success",{active:z.value==Hs}]),onClick:L[1]||(L[1]=Z=>z.value=Hs)}," IG ",2),we(u).is_staff?(ke(),Fe("button",{key:0,class:tt(["d-grid col mx-2 btn btn-outline-success",{active:z.value==Nl}]),onClick:L[2]||(L[2]=Z=>z.value=Nl)}," 鎖定 ",2)):St("",!0)])])):St("",!0),h.value?(ke(),Fe("div",Yb,qb)):St("",!0)]))}},Qb=Fn(Zb,[["__scopeId","data-v-d7f2f27d"]]);var fa=function t(n){function s(B,xe){return B>>>xe|B<<32-xe}for(var a=Math.pow,u=a(2,32),f="length",h,m,_="",x=[],E=n[f]*8,b=t.h=t.h||[],v=t.k=t.k||[],T=v[f],P={},R=2;T<64;R++)if(!P[R]){for(h=0;h<313;h+=R)P[h]=R;b[T]=a(R,.5)*u|0,v[T++]=a(R,1/3)*u|0}for(n+="";n[f]%64-56;)n+="\0";for(h=0;h<n[f];h++){if(m=n.charCodeAt(h),m>>8)return;x[h>>2]|=m<<(3-h)%4*8}for(x[x[f]]=E/u|0,x[x[f]]=E,m=0;m<x[f];){var z=x.slice(m,m+=16),ee=b;for(b=b.slice(0,8),h=0;h<64;h++){var X=z[h-15],L=z[h-2],Z=b[0],se=b[4],W=b[7]+(s(se,6)^s(se,11)^s(se,25))+(se&b[5]^~se&b[6])+v[h]+(z[h]=h<16?z[h]:z[h-16]+(s(X,7)^s(X,18)^X>>>3)+z[h-7]+(s(L,17)^s(L,19)^L>>>10)|0),F=(s(Z,2)^s(Z,13)^s(Z,22))+(Z&b[1]^Z&b[2]^b[1]&b[2]);b=[W+F|0].concat(b),b[4]=b[4]+W|0}for(h=0;h<8;h++)b[h]=b[h]+ee[h]|0}for(h=0;h<8;h++)for(m=3;m+1;m--){var Q=b[h]>>m*8&255;_+=(Q<16?0:"")+Q.toString(16)}return _};const e0=t=>(Kr("data-v-6a4573dc"),t=t(),qr(),t),Jb=e0(()=>D("h1",{class:"mb-4"},"社團登入",-1)),eA={class:"col-md-6"},tA={class:"invalid-feedback"},nA={class:"col-md-6"},rA={class:"invalid-feedback"},sA={class:"col-6 d-grid mx-auto"},iA=["disabled"],oA={key:1,class:"loading-overlay"},aA=e0(()=>D("div",{class:"spinner-border text-primary",role:"status"},[D("span",{class:"visually-hidden"},"Loading...")],-1)),lA=[aA],cA={__name:"ClubLoginView",setup(t){const n=Cs(),s=$r(),a=to(),u=jn(),f=Zr();s.callAPI(),n.callAPI(),a.callAPI();const h=ye(""),m=ye(!1),_=ye("");u.isLoggedIn&&u.is_club&&f.push({name:"panel"});let x=ye(""),E=ye("");const b=ye(!1),v=ye({email:"",password:""});var T=ye("row g-3 my-3 needs-validation");const P=async()=>{b.value=!0;try{const se=await L();console.log("hashed password:",fa(E.value)),await u.club_login(x.value,fa(E.value)),se&&u.isLoggedIn&&u.is_club?(console.log("Club login successfully"),m.value=!1,h.value="登入成功！",console.log(u.name,u.email,u.is_club),_.value=u.name,Z(),f.push({name:"panel"})):(m.value=!0,h.value="帳號密碼錯誤",console.log("帳號密碼錯誤"))}catch(se){m.value=!0,h.value="登入表單錯誤："+se,console.error("Error submitting form:",se)}finally{b.value=!1}},R=(se,W,F)=>F.required&&!W?(v.value[se]="此欄位為必填",!1):F.minLength&&W.length<F.minLength?(v.value[se]=`最少需要 ${F.minLength} 個字符`,!1):F.pattern&&!F.pattern.test(W)?(v.value[se]="格式不正確",!1):(v.value[se]="",T.value="row g-3 my-3 needs-validation was-validated",!0),z=Qe(()=>R("email",x.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),ee=Qe(()=>R("password",E.value,{required:!0,minLength:4})),X=Qe(()=>z.value&&ee.value);async function L(){return X.value?!0:(T.value="row g-3 my-3 needs-validation was-validated",!1)}const Z=()=>{x.value="",E.value=""};return(se,W)=>(ke(),Fe("div",null,[Jb,h.value?(ke(),Fe("div",{key:0,class:tt(["mt-3 text-break",["alert",m.value?"alert-danger":"alert-success"]]),role:"alert"},We(h.value),3)):St("",!0),D("form",{class:tt(we(T)),onSubmit:lo(P,["prevent"]),novalidate:""},[D("div",eA,[Bt(D("input",{type:"email","onUpdate:modelValue":W[0]||(W[0]=F=>rt(x)?x.value=F:x=F),class:tt(["form-control",{"is-invalid":!z.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[gn,we(x)]]),D("div",tA,We(v.value.email),1)]),D("div",nA,[Bt(D("input",{type:"password","onUpdate:modelValue":W[1]||(W[1]=F=>rt(E)?E.value=F:E=F),class:tt(["form-control",{"is-invalid":!ee.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[gn,we(E)]]),D("div",rA,We(v.value.password),1)]),D("div",sA,[D("button",{type:"submit",class:"btn btn-primary",disabled:!X.value||b.value},We(b.value?"提交中...":"登入"),9,iA)])],34),b.value?(ke(),Fe("div",oA,lA)):St("",!0)]))}},uA=Fn(cA,[["__scopeId","data-v-6a4573dc"]]),Qr=t=>(Kr("data-v-30f66140"),t=t(),qr(),t),fA={class:"my-4"},dA=Qr(()=>D("div",{class:"card-btn card mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 邀請朋友參加大地遊戲！ "),D("i",{class:"fa-solid fa-share-from-square bi ms-auto"})])],-1)),hA={class:"collapse mb-3 mx-auto",id:"collapseExample"},gA={class:"card card-body"},pA=Qr(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 趕快去幫新生蓋章！ "),D("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),mA=[pA],xA=Qr(()=>D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"}},[vn(" 修改社團帳號資料 "),D("i",{class:"fa-solid fa-stamp bi ms-auto"})],-1)),_A=[xA],EA=Qr(()=>D("div",{class:"card-btn card mb-2"},[D("div",{class:"card-body icon-link icon-link-hover",style:{"--bs-icon-link-transform":"translate3d(0, -.25rem, 0)"},"data-bs-toggle":"modal","data-bs-target":"#logoutModal"},[vn(" 我要登出了 "),D("i",{class:"fa-solid fa-right-from-bracket bi ms-auto"})])],-1)),wA=Qr(()=>D("hr",null,null,-1)),bA={class:"mb-2"},AA={class:"overflow-auto",style:{maxHeight:"400px"}},yA={class:"card-header d-flex align-items-center"},CA={class:"card-body"},vA={class:"modal fade",id:"logoutModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},TA={class:"modal-dialog modal-dialog-centered"},SA={class:"modal-content"},IA=Qr(()=>D("div",{class:"modal-header"},[D("h1",{class:"modal-title fs-5"},"登出確認"),D("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),OA=Qr(()=>D("div",{class:"modal-body"},[D("p",null,"確認要登出帳號嗎？")],-1)),NA={class:"modal-footer"},RA=Qr(()=>D("button",{type:"button",class:"btn btn-secondary mx-2","data-bs-dismiss":"modal"},"取消",-1)),DA={__name:"ClubView",setup(t){const n=Zr(),s=jn();(!s.isLoggedIn||!s.is_club)&&n.push({name:"club_login"}),s.get_club_records();const a=new Intl.DateTimeFormat("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return(u,f)=>(ke(),Fe("div",null,[D("h1",null,We(we(s).name),1),D("div",fA,[dA,D("div",hA,[D("div",gA,[It(nu,{url:"https://ttussc.github.io/Earth_Game"})])]),we(s).access_priv?(ke(),Fe("div",{key:0,class:"card-btn card mb-2",onClick:f[0]||(f[0]=h=>{we(n).push({name:"scan"})})},mA)):St("",!0),we(s).access_priv?(ke(),Fe("div",{key:1,class:"card-btn card mb-2",onClick:f[1]||(f[1]=h=>{we(n).push({name:"club_edit"})})},_A)):St("",!0),EA]),wA,D("div",bA,"總點數："+We(we(s).records_len),1),D("div",AA,[(ke(!0),Fe(nn,null,Vd(Qe(()=>we(s).records).value,h=>(ke(),Fe("div",{class:"card my-2",key:h.created_time},[D("div",yA,[D("span",{class:tt(["badge rounded-pill",{"text-bg-danger":h.is_ig,"text-bg-primary":!h.is_ig}])},We(h.is_ig?"限時動態":"攤位集點"),3),D("span",null,"  "+We(we(a).format(new Date(h.created_time))),1)]),D("div",CA," 集點人："+We(h.user_name),1)]))),128))]),D("div",vA,[D("div",TA,[D("div",SA,[IA,OA,D("div",NA,[RA,D("button",{type:"button",class:"btn btn-danger mx-2","data-bs-dismiss":"modal",onClick:f[2]||(f[2]=h=>{we(s).logout(),we(n).push("/")})}," 登出 ")])])])])]))}},MA=Fn(DA,[["__scopeId","data-v-30f66140"]]),LA={},PA=D("h1",null,"遊戲規則",-1),BA=D("div",{class:"my-4"},null,-1),kA=[PA,BA];function FA(t,n){return ke(),Fe("div",null,kA)}const UA=Fn(LA,[["render",FA]]),t0=t=>(Kr("data-v-4aefd2c5"),t=t(),qr(),t),VA=t0(()=>D("h1",null,"社團帳號註冊",-1)),HA={class:"col-md-6"},WA={class:"invalid-feedback"},$A={class:"col-md-6"},GA={class:"invalid-feedback"},XA={class:"col-md-6"},jA={class:"invalid-feedback"},zA={class:"col-md-6"},YA={class:"invalid-feedback"},KA={class:"col-6 d-grid mx-auto"},qA=["disabled"],ZA={key:1,class:"loading-overlay"},QA=t0(()=>D("div",{class:"spinner-border text-primary",role:"status"},[D("span",{class:"visually-hidden"},"Loading...")],-1)),JA=[QA],e3={__name:"ClubRegisterView",setup(t){const n=Zr(),s=jn(),a=$r();let u=ye(""),f=ye(""),h=ye(""),m=ye(Qe(()=>fa(h.value))),_=ye("");const x=ye(!1),E=ye(""),b=ye(!1),v=ye({name:"",email:"",password:"",text:""});var T=ye(!1);const P=async()=>{T.value=!0,x.value=!0;try{if(await se()){console.log("prepare form data");const Q=new FormData;Q.append("entry.1657837598",u.value),Q.append("entry.478569220",f.value.toLowerCase()),Q.append("entry.433170047",m.value),Q.append("entry.504494998",_.value),console.log("開始發送社團註冊請求"),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLSfTqC-Z6ByQYiYedMlCGtwsJ1jdZr8Ci5_QtkCunPgNEoVcbA/formResponse",{method:"POST",mode:"no-cors",body:Q}),console.log("社團註冊送出成功"),console.log("Submitted email:",f.value),console.log("開始檢查註冊狀態");let B=null;for(let xe=0;xe<5;xe++)if(console.log(`Attempt ${xe+1} to fetch user data`),await a.callAPI(),B=await a.get_club_by_email(f.value),console.log("API response:",B),B){console.log("i=",xe,"found updated user:",B),b.value=!1;break}else b.value=!0;b.value?E.value="資料提交失敗":(E.value="註冊成功！",console.log("trying to login."),await a.callAPI(),await s.club_login(f.value,m.value),console.log("name:",s.name),console.log("email:",s.email),x.value=!1,W(),n.push({name:"panel"}))}else x.value=!1,console.log("驗證失敗")}catch(F){b.value=!0,E.value="註冊表單錯誤："+F,T.value=!1,console.error("Error submitting form:",F)}finally{x.value=!1}},R=(F,Q,B)=>B.required&&(!Q||Q==="")?(v.value[F]="此欄位為必填",!1):B.minLength&&Q.length<B.minLength?(v.value[F]=`最少需要 ${B.minLength} 個字符`,!1):B.pattern&&!B.pattern.test(Q)?(v.value[F]="格式不正確",!1):(v.value[F]="",!0),z=Qe(()=>R("name",u.value,{required:!0})),ee=Qe(()=>R("email",f.value,{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/})),X=Qe(()=>R("password",h.value,{required:!0})),L=Qe(()=>R("text",_.value,{required:!1})),Z=Qe(()=>z.value&&ee.value&&X.value&&L.value),se=async()=>{let F="https://script.google.com/macros/s/AKfycbwQGQY4CAhuYzI5AoAzsbWx4-aXTAONiZXpXq7Ue3MkojbgbvuKnDWXLk8wDZJLyx7P_g/exec";try{const B=await Ct.get(F,{params:{table:"clubs"}});console.log("get clubs data:"),console.log(B.data);const xe=B.data;for(var Q=0;Q<xe.length;Q++)if(xe[Q].email===f.value)return console.log("data conflict."),b.value=!0,E.value="電子信箱或電話號碼已經被註冊過了。",T.value=!1,!1;return console.log("data valid passed."),!0}catch(B){return console.error("Error validating form:",B),!1}},W=()=>{u.value="",f.value="",h.value="",_.value=""};return(F,Q)=>(ke(),Fe("div",null,[VA,E.value?(ke(),Fe("div",{key:0,class:tt(["mt-3",["alert",b.value?"alert-danger":"alert-success"]]),role:"alert"},We(E.value),3)):St("",!0),D("form",{class:tt(["row g-3 my-3 needs-validation",{"was-validated":we(T)}]),onSubmit:lo(P,["prevent"]),novalidate:""},[D("div",HA,[Bt(D("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=B=>rt(u)?u.value=B:u=B),class:tt(["form-control",{"is-invalid":!z.value}]),name:"name",id:"name",placeholder:"社團名稱",required:""},null,2),[[gn,we(u)]]),D("div",WA,We(v.value.name),1)]),D("div",$A,[Bt(D("input",{type:"email","onUpdate:modelValue":Q[1]||(Q[1]=B=>rt(f)?f.value=B:f=B),class:tt(["form-control",{"is-invalid":!ee.value}]),name:"email",id:"email",placeholder:"電子郵件",required:""},null,2),[[gn,we(f)]]),D("div",GA,We(v.value.email),1)]),D("div",XA,[Bt(D("input",{type:"password","onUpdate:modelValue":Q[2]||(Q[2]=B=>rt(h)?h.value=B:h=B),class:tt(["form-control",{"is-invalid":!X.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[gn,we(h)]]),D("div",jA,We(v.value.password),1)]),D("div",zA,[Bt(D("input",{type:"text","onUpdate:modelValue":Q[3]||(Q[3]=B=>rt(_)?_.value=B:_=B),class:tt(["form-control",{"is-invalid":!L.value}]),name:"password",id:"text",placeholder:"蓋章的字"},null,2),[[gn,we(_)]]),D("div",YA,We(v.value.text),1)]),D("div",KA,[D("button",{type:"submit",class:"btn btn-primary",disabled:!Z.value||x.value},We(x.value?"提交中...":"註冊"),9,qA)])],34),x.value?(ke(),Fe("div",ZA,JA)):St("",!0)]))}},t3=Fn(e3,[["__scopeId","data-v-4aefd2c5"]]),fo=t=>(Kr("data-v-dfbf7df9"),t=t(),qr(),t),n3=fo(()=>D("h1",null,"修改社團帳號資料",-1)),r3={class:"col-md-6"},s3=fo(()=>D("label",{for:"",class:"form-label"},"社團名稱",-1)),i3={class:"invalid-feedback"},o3={class:"col-md-6"},a3=fo(()=>D("label",{for:"",class:"form-label"},"蓋章的字",-1)),l3={class:"invalid-feedback"},c3={class:"col-md-6"},u3=fo(()=>D("label",{for:"",class:"form-label"},"密碼",-1)),f3={class:"invalid-feedback"},d3={class:"col-6 d-grid mx-auto"},h3=["disabled"],g3={key:1,class:"loading-overlay"},p3=fo(()=>D("div",{class:"spinner-border text-primary",role:"status"},[D("span",{class:"visually-hidden"},"Loading...")],-1)),m3=[p3],x3={__name:"ClubChangePasswordView",setup(t){const n=Zr(),s=jn(),a=$r();(!s.isLoggedIn||!s.is_club)&&(console.log(s.isLoggedIn,s.is_club),console.log(s),console.warn("社團沒有登入"),n.push({name:"club_login"}));let u=ye(""),f=ye(""),h=ye(""),m=ye(Qe(()=>fa(h.value))),_=ye("");const x=ye(!1),E=ye(""),b=ye(!1),v=ye({name:"",email:"",password:"",text:""});u.value=s.name,f.value=s.email,_.value=s.stamp_text;var T=ye(!1);const P=async()=>{T.value=!0,x.value=!0;try{{console.log("prepare form data");const W=new FormData;W.append("entry.1657837598",u.value),W.append("entry.478569220",f.value.toLowerCase()),W.append("entry.433170047",h.value==""?"":m.value),W.append("entry.504494998",_.value),console.log("開始發送社團註冊請求"),await fetch("https://docs.google.com/forms/u/2/d/e/1FAIpQLSfTqC-Z6ByQYiYedMlCGtwsJ1jdZr8Ci5_QtkCunPgNEoVcbA/formResponse",{method:"POST",mode:"no-cors",body:W}),console.log("社團註冊送出成功"),console.log("Submitted email:",f.value),console.log("開始檢查註冊狀態");let F=null;for(let Q=0;Q<5;Q++)if(console.log(`Attempt ${Q+1} to fetch user data`),await a.callAPI(),F=await a.get_club_by_email(f.value),console.log("API response:",F),F){console.log("i=",Q,"found updated user:",F),b.value=!1;break}else b.value=!0;b.value?E.value="資料提交失敗":(E.value="註冊成功！",console.log("trying to login."),await a.callAPI(),await s.club_login(f.value,m.value),console.log("name:",s.name),console.log("email:",s.email),x.value=!1,Z(),n.push({name:"panel"}))}}catch(se){b.value=!0,E.value="註冊表單錯誤："+se,T.value=!1,console.error("Error submitting form:",se)}finally{x.value=!1}},R=(se,W,F)=>F.required&&(!W||W==="")?(v.value[se]="此欄位為必填",!1):F.minLength&&W.length<F.minLength?(v.value[se]=`最少需要 ${F.minLength} 個字符`,!1):F.pattern&&!F.pattern.test(W)?(v.value[se]="格式不正確",!1):(v.value[se]="",!0),z=Qe(()=>R("name",u.value,{required:!0})),ee=Qe(()=>R("password",h.value,{required:!1})),X=Qe(()=>R("text",_.value,{required:!1})),L=Qe(()=>z.value&&ee.value&&X.value),Z=()=>{u.value="",f.value="",h.value="",_.value=""};return(se,W)=>(ke(),Fe("div",null,[n3,E.value?(ke(),Fe("div",{key:0,class:tt(["mt-3",["alert",b.value?"alert-danger":"alert-success"]]),role:"alert"},We(E.value),3)):St("",!0),D("form",{class:tt(["row g-3 my-3 needs-validation",{"was-validated":we(T)}]),onSubmit:lo(P,["prevent"]),novalidate:""},[D("div",r3,[s3,Bt(D("input",{type:"text","onUpdate:modelValue":W[0]||(W[0]=F=>rt(u)?u.value=F:u=F),class:tt(["form-control",{"is-invalid":!z.value}]),name:"name",id:"name",placeholder:"社團名稱",required:""},null,2),[[gn,we(u)]]),D("div",i3,We(v.value.name),1)]),D("div",o3,[a3,Bt(D("input",{type:"text","onUpdate:modelValue":W[1]||(W[1]=F=>rt(_)?_.value=F:_=F),class:tt(["form-control",{"is-invalid":!X.value}]),name:"password",id:"text",placeholder:"蓋章的字"},null,2),[[gn,we(_)]]),D("div",l3,We(v.value.text),1)]),D("div",c3,[u3,Bt(D("input",{type:"text","onUpdate:modelValue":W[2]||(W[2]=F=>rt(h)?h.value=F:h=F),class:tt(["form-control",{"is-invalid":!ee.value}]),name:"password",id:"password",placeholder:"密碼",required:""},null,2),[[gn,we(h)]]),D("div",f3,We(v.value.password),1)]),D("div",d3,[D("button",{type:"submit",class:"btn btn-primary",disabled:!L.value||x.value},We(x.value?"提交中...":"送出"),9,h3)])],34),x.value?(ke(),Fe("div",g3,m3)):St("",!0)]))}},_3=Fn(x3,[["__scopeId","data-v-dfbf7df9"]]),n0=_x({linkActiveClass:"active",linkExactActiveClass:"",history:j2("/Earth_Game/"),routes:[{path:"/",name:"home",component:YE,meta:{title:"首頁"}},{path:"/stamp",name:"stamp",component:Nw,meta:{title:"活動蓋章"}},{path:"/rank",name:"rank",component:JE,meta:{title:"排行"}},{path:"/partner",name:"partner",component:Bw,meta:{title:"合作夥伴"}},{path:"/register",name:"register",component:db,meta:{title:"註冊"}},{path:"/club/login",name:"club_login",component:uA,meta:{title:"社團登入"}},{path:"/scan",name:"scan",component:Qb,meta:{title:"掃描蓋章"}},{path:"/club/panel",name:"panel",component:MA,meta:{title:"社團後台"}},{path:"/rules",name:"rules",component:UA,meta:{title:"遊戲規則"}},{path:"/club/register",name:"club_register",component:t3,meta:{title:"註冊社團帳號"}},{path:"/club/edit",name:"club_edit",component:_3,meta:{title:"註冊社團帳號"}},{path:"/404",name:"NotFound",component:a1,meta:{title:"404 找不到東西啦~"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:a1,meta:{title:"404 找不到東西啦~"}}]});n0.beforeEach(async(t,n)=>{const s=jn();if(!s.is_club&&(t.name=="scan"||t.name=="panel"))return{name:"club_login"};if(s.isLoggedIn&&s.is_club&&(t.name=="club_login"||t.name=="home"))return{name:"panel"};if(n=="panel"&&t=="scan"&&!s.access_priv)return{name:"panel"}});var sn="top",An="bottom",yn="right",on="left",Va="auto",pi=[sn,An,yn,on],vs="start",ii="end",r0="clippingParents",su="viewport",Xs="popper",s0="reference",wc=pi.reduce(function(t,n){return t.concat([n+"-"+vs,n+"-"+ii])},[]),iu=[].concat(pi,[Va]).reduce(function(t,n){return t.concat([n,n+"-"+vs,n+"-"+ii])},[]),i0="beforeRead",o0="read",a0="afterRead",l0="beforeMain",c0="main",u0="afterMain",f0="beforeWrite",d0="write",h0="afterWrite",g0=[i0,o0,a0,l0,c0,u0,f0,d0,h0];function or(t){return t?(t.nodeName||"").toLowerCase():null}function Cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ts(t){var n=Cn(t).Element;return t instanceof n||t instanceof Element}function Pn(t){var n=Cn(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function ou(t){if(typeof ShadowRoot>"u")return!1;var n=Cn(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function E3(t){var n=t.state;Object.keys(n.elements).forEach(function(s){var a=n.styles[s]||{},u=n.attributes[s]||{},f=n.elements[s];!Pn(f)||!or(f)||(Object.assign(f.style,a),Object.keys(u).forEach(function(h){var m=u[h];m===!1?f.removeAttribute(h):f.setAttribute(h,m===!0?"":m)}))})}function w3(t){var n=t.state,s={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,s.popper),n.styles=s,n.elements.arrow&&Object.assign(n.elements.arrow.style,s.arrow),function(){Object.keys(n.elements).forEach(function(a){var u=n.elements[a],f=n.attributes[a]||{},h=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:s[a]),m=h.reduce(function(_,x){return _[x]="",_},{});!Pn(u)||!or(u)||(Object.assign(u.style,m),Object.keys(f).forEach(function(_){u.removeAttribute(_)}))})}}const au={name:"applyStyles",enabled:!0,phase:"write",fn:E3,effect:w3,requires:["computeStyles"]};function rr(t){return t.split("-")[0]}var bs=Math.max,da=Math.min,oi=Math.round;function bc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function p0(){return!/^((?!chrome|android).)*safari/i.test(bc())}function ai(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var a=t.getBoundingClientRect(),u=1,f=1;n&&Pn(t)&&(u=t.offsetWidth>0&&oi(a.width)/t.offsetWidth||1,f=t.offsetHeight>0&&oi(a.height)/t.offsetHeight||1);var h=Ts(t)?Cn(t):window,m=h.visualViewport,_=!p0()&&s,x=(a.left+(_&&m?m.offsetLeft:0))/u,E=(a.top+(_&&m?m.offsetTop:0))/f,b=a.width/u,v=a.height/f;return{width:b,height:v,top:E,right:x+b,bottom:E+v,left:x,x,y:E}}function lu(t){var n=ai(t),s=t.offsetWidth,a=t.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:a}}function m0(t,n){var s=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(s&&ou(s)){var a=n;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function pr(t){return Cn(t).getComputedStyle(t)}function b3(t){return["table","td","th"].indexOf(or(t))>=0}function Jr(t){return((Ts(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ha(t){return or(t)==="html"?t:t.assignedSlot||t.parentNode||(ou(t)?t.host:null)||Jr(t)}function _1(t){return!Pn(t)||pr(t).position==="fixed"?null:t.offsetParent}function A3(t){var n=/firefox/i.test(bc()),s=/Trident/i.test(bc());if(s&&Pn(t)){var a=pr(t);if(a.position==="fixed")return null}var u=Ha(t);for(ou(u)&&(u=u.host);Pn(u)&&["html","body"].indexOf(or(u))<0;){var f=pr(u);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return u;u=u.parentNode}return null}function ho(t){for(var n=Cn(t),s=_1(t);s&&b3(s)&&pr(s).position==="static";)s=_1(s);return s&&(or(s)==="html"||or(s)==="body"&&pr(s).position==="static")?n:s||A3(t)||n}function cu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gi(t,n,s){return bs(t,da(n,s))}function y3(t,n,s){var a=Gi(t,n,s);return a>s?s:a}function x0(){return{top:0,right:0,bottom:0,left:0}}function _0(t){return Object.assign({},x0(),t)}function E0(t,n){return n.reduce(function(s,a){return s[a]=t,s},{})}var C3=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,_0(typeof n!="number"?n:E0(n,pi))};function v3(t){var n,s=t.state,a=t.name,u=t.options,f=s.elements.arrow,h=s.modifiersData.popperOffsets,m=rr(s.placement),_=cu(m),x=[on,yn].indexOf(m)>=0,E=x?"height":"width";if(!(!f||!h)){var b=C3(u.padding,s),v=lu(f),T=_==="y"?sn:on,P=_==="y"?An:yn,R=s.rects.reference[E]+s.rects.reference[_]-h[_]-s.rects.popper[E],z=h[_]-s.rects.reference[_],ee=ho(f),X=ee?_==="y"?ee.clientHeight||0:ee.clientWidth||0:0,L=R/2-z/2,Z=b[T],se=X-v[E]-b[P],W=X/2-v[E]/2+L,F=Gi(Z,W,se),Q=_;s.modifiersData[a]=(n={},n[Q]=F,n.centerOffset=F-W,n)}}function T3(t){var n=t.state,s=t.options,a=s.element,u=a===void 0?"[data-popper-arrow]":a;u!=null&&(typeof u=="string"&&(u=n.elements.popper.querySelector(u),!u)||m0(n.elements.popper,u)&&(n.elements.arrow=u))}const w0={name:"arrow",enabled:!0,phase:"main",fn:v3,effect:T3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function li(t){return t.split("-")[1]}var S3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function I3(t,n){var s=t.x,a=t.y,u=n.devicePixelRatio||1;return{x:oi(s*u)/u||0,y:oi(a*u)/u||0}}function E1(t){var n,s=t.popper,a=t.popperRect,u=t.placement,f=t.variation,h=t.offsets,m=t.position,_=t.gpuAcceleration,x=t.adaptive,E=t.roundOffsets,b=t.isFixed,v=h.x,T=v===void 0?0:v,P=h.y,R=P===void 0?0:P,z=typeof E=="function"?E({x:T,y:R}):{x:T,y:R};T=z.x,R=z.y;var ee=h.hasOwnProperty("x"),X=h.hasOwnProperty("y"),L=on,Z=sn,se=window;if(x){var W=ho(s),F="clientHeight",Q="clientWidth";if(W===Cn(s)&&(W=Jr(s),pr(W).position!=="static"&&m==="absolute"&&(F="scrollHeight",Q="scrollWidth")),W=W,u===sn||(u===on||u===yn)&&f===ii){Z=An;var B=b&&W===se&&se.visualViewport?se.visualViewport.height:W[F];R-=B-a.height,R*=_?1:-1}if(u===on||(u===sn||u===An)&&f===ii){L=yn;var xe=b&&W===se&&se.visualViewport?se.visualViewport.width:W[Q];T-=xe-a.width,T*=_?1:-1}}var Ee=Object.assign({position:m},x&&S3),$=E===!0?I3({x:T,y:R},Cn(s)):{x:T,y:R};if(T=$.x,R=$.y,_){var re;return Object.assign({},Ee,(re={},re[Z]=X?"0":"",re[L]=ee?"0":"",re.transform=(se.devicePixelRatio||1)<=1?"translate("+T+"px, "+R+"px)":"translate3d("+T+"px, "+R+"px, 0)",re))}return Object.assign({},Ee,(n={},n[Z]=X?R+"px":"",n[L]=ee?T+"px":"",n.transform="",n))}function O3(t){var n=t.state,s=t.options,a=s.gpuAcceleration,u=a===void 0?!0:a,f=s.adaptive,h=f===void 0?!0:f,m=s.roundOffsets,_=m===void 0?!0:m,x={placement:rr(n.placement),variation:li(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:u,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,E1(Object.assign({},x,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:_})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,E1(Object.assign({},x,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const uu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:O3,data:{}};var Lo={passive:!0};function N3(t){var n=t.state,s=t.instance,a=t.options,u=a.scroll,f=u===void 0?!0:u,h=a.resize,m=h===void 0?!0:h,_=Cn(n.elements.popper),x=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&x.forEach(function(E){E.addEventListener("scroll",s.update,Lo)}),m&&_.addEventListener("resize",s.update,Lo),function(){f&&x.forEach(function(E){E.removeEventListener("scroll",s.update,Lo)}),m&&_.removeEventListener("resize",s.update,Lo)}}const fu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N3,data:{}};var R3={left:"right",right:"left",bottom:"top",top:"bottom"};function Ko(t){return t.replace(/left|right|bottom|top/g,function(n){return R3[n]})}var D3={start:"end",end:"start"};function w1(t){return t.replace(/start|end/g,function(n){return D3[n]})}function du(t){var n=Cn(t),s=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:s,scrollTop:a}}function hu(t){return ai(Jr(t)).left+du(t).scrollLeft}function M3(t,n){var s=Cn(t),a=Jr(t),u=s.visualViewport,f=a.clientWidth,h=a.clientHeight,m=0,_=0;if(u){f=u.width,h=u.height;var x=p0();(x||!x&&n==="fixed")&&(m=u.offsetLeft,_=u.offsetTop)}return{width:f,height:h,x:m+hu(t),y:_}}function L3(t){var n,s=Jr(t),a=du(t),u=(n=t.ownerDocument)==null?void 0:n.body,f=bs(s.scrollWidth,s.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),h=bs(s.scrollHeight,s.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),m=-a.scrollLeft+hu(t),_=-a.scrollTop;return pr(u||s).direction==="rtl"&&(m+=bs(s.clientWidth,u?u.clientWidth:0)-f),{width:f,height:h,x:m,y:_}}function gu(t){var n=pr(t),s=n.overflow,a=n.overflowX,u=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+u+a)}function b0(t){return["html","body","#document"].indexOf(or(t))>=0?t.ownerDocument.body:Pn(t)&&gu(t)?t:b0(Ha(t))}function Xi(t,n){var s;n===void 0&&(n=[]);var a=b0(t),u=a===((s=t.ownerDocument)==null?void 0:s.body),f=Cn(a),h=u?[f].concat(f.visualViewport||[],gu(a)?a:[]):a,m=n.concat(h);return u?m:m.concat(Xi(Ha(h)))}function Ac(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function P3(t,n){var s=ai(t,!1,n==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function b1(t,n,s){return n===su?Ac(M3(t,s)):Ts(n)?P3(n,s):Ac(L3(Jr(t)))}function B3(t){var n=Xi(Ha(t)),s=["absolute","fixed"].indexOf(pr(t).position)>=0,a=s&&Pn(t)?ho(t):t;return Ts(a)?n.filter(function(u){return Ts(u)&&m0(u,a)&&or(u)!=="body"}):[]}function k3(t,n,s,a){var u=n==="clippingParents"?B3(t):[].concat(n),f=[].concat(u,[s]),h=f[0],m=f.reduce(function(_,x){var E=b1(t,x,a);return _.top=bs(E.top,_.top),_.right=da(E.right,_.right),_.bottom=da(E.bottom,_.bottom),_.left=bs(E.left,_.left),_},b1(t,h,a));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function A0(t){var n=t.reference,s=t.element,a=t.placement,u=a?rr(a):null,f=a?li(a):null,h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,_;switch(u){case sn:_={x:h,y:n.y-s.height};break;case An:_={x:h,y:n.y+n.height};break;case yn:_={x:n.x+n.width,y:m};break;case on:_={x:n.x-s.width,y:m};break;default:_={x:n.x,y:n.y}}var x=u?cu(u):null;if(x!=null){var E=x==="y"?"height":"width";switch(f){case vs:_[x]=_[x]-(n[E]/2-s[E]/2);break;case ii:_[x]=_[x]+(n[E]/2-s[E]/2);break}}return _}function ci(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=a===void 0?t.placement:a,f=s.strategy,h=f===void 0?t.strategy:f,m=s.boundary,_=m===void 0?r0:m,x=s.rootBoundary,E=x===void 0?su:x,b=s.elementContext,v=b===void 0?Xs:b,T=s.altBoundary,P=T===void 0?!1:T,R=s.padding,z=R===void 0?0:R,ee=_0(typeof z!="number"?z:E0(z,pi)),X=v===Xs?s0:Xs,L=t.rects.popper,Z=t.elements[P?X:v],se=k3(Ts(Z)?Z:Z.contextElement||Jr(t.elements.popper),_,E,h),W=ai(t.elements.reference),F=A0({reference:W,element:L,strategy:"absolute",placement:u}),Q=Ac(Object.assign({},L,F)),B=v===Xs?Q:W,xe={top:se.top-B.top+ee.top,bottom:B.bottom-se.bottom+ee.bottom,left:se.left-B.left+ee.left,right:B.right-se.right+ee.right},Ee=t.modifiersData.offset;if(v===Xs&&Ee){var $=Ee[u];Object.keys(xe).forEach(function(re){var Re=[yn,An].indexOf(re)>=0?1:-1,G=[sn,An].indexOf(re)>=0?"y":"x";xe[re]+=$[G]*Re})}return xe}function F3(t,n){n===void 0&&(n={});var s=n,a=s.placement,u=s.boundary,f=s.rootBoundary,h=s.padding,m=s.flipVariations,_=s.allowedAutoPlacements,x=_===void 0?iu:_,E=li(a),b=E?m?wc:wc.filter(function(P){return li(P)===E}):pi,v=b.filter(function(P){return x.indexOf(P)>=0});v.length===0&&(v=b);var T=v.reduce(function(P,R){return P[R]=ci(t,{placement:R,boundary:u,rootBoundary:f,padding:h})[rr(R)],P},{});return Object.keys(T).sort(function(P,R){return T[P]-T[R]})}function U3(t){if(rr(t)===Va)return[];var n=Ko(t);return[w1(t),n,w1(n)]}function V3(t){var n=t.state,s=t.options,a=t.name;if(!n.modifiersData[a]._skip){for(var u=s.mainAxis,f=u===void 0?!0:u,h=s.altAxis,m=h===void 0?!0:h,_=s.fallbackPlacements,x=s.padding,E=s.boundary,b=s.rootBoundary,v=s.altBoundary,T=s.flipVariations,P=T===void 0?!0:T,R=s.allowedAutoPlacements,z=n.options.placement,ee=rr(z),X=ee===z,L=_||(X||!P?[Ko(z)]:U3(z)),Z=[z].concat(L).reduce(function(dt,jt){return dt.concat(rr(jt)===Va?F3(n,{placement:jt,boundary:E,rootBoundary:b,padding:x,flipVariations:P,allowedAutoPlacements:R}):jt)},[]),se=n.rects.reference,W=n.rects.popper,F=new Map,Q=!0,B=Z[0],xe=0;xe<Z.length;xe++){var Ee=Z[xe],$=rr(Ee),re=li(Ee)===vs,Re=[sn,An].indexOf($)>=0,G=Re?"width":"height",Oe=ci(n,{placement:Ee,boundary:E,rootBoundary:b,altBoundary:v,padding:x}),fe=Re?re?yn:on:re?An:sn;se[G]>W[G]&&(fe=Ko(fe));var ze=Ko(fe),_t=[];if(f&&_t.push(Oe[$]<=0),m&&_t.push(Oe[fe]<=0,Oe[ze]<=0),_t.every(function(dt){return dt})){B=Ee,Q=!1;break}F.set(Ee,_t)}if(Q)for(var Ot=P?3:1,Xt=function(jt){var Ae=Z.find(function(te){var de=F.get(te);if(de)return de.slice(0,jt).every(function(_e){return _e})});if(Ae)return B=Ae,"break"},Je=Ot;Je>0;Je--){var Ft=Xt(Je);if(Ft==="break")break}n.placement!==B&&(n.modifiersData[a]._skip=!0,n.placement=B,n.reset=!0)}}const y0={name:"flip",enabled:!0,phase:"main",fn:V3,requiresIfExists:["offset"],data:{_skip:!1}};function A1(t,n,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-n.height-s.y,right:t.right-n.width+s.x,bottom:t.bottom-n.height+s.y,left:t.left-n.width-s.x}}function y1(t){return[sn,yn,An,on].some(function(n){return t[n]>=0})}function H3(t){var n=t.state,s=t.name,a=n.rects.reference,u=n.rects.popper,f=n.modifiersData.preventOverflow,h=ci(n,{elementContext:"reference"}),m=ci(n,{altBoundary:!0}),_=A1(h,a),x=A1(m,u,f),E=y1(_),b=y1(x);n.modifiersData[s]={referenceClippingOffsets:_,popperEscapeOffsets:x,isReferenceHidden:E,hasPopperEscaped:b},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":b})}const C0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H3};function W3(t,n,s){var a=rr(t),u=[on,sn].indexOf(a)>=0?-1:1,f=typeof s=="function"?s(Object.assign({},n,{placement:t})):s,h=f[0],m=f[1];return h=h||0,m=(m||0)*u,[on,yn].indexOf(a)>=0?{x:m,y:h}:{x:h,y:m}}function $3(t){var n=t.state,s=t.options,a=t.name,u=s.offset,f=u===void 0?[0,0]:u,h=iu.reduce(function(E,b){return E[b]=W3(b,n.rects,f),E},{}),m=h[n.placement],_=m.x,x=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=_,n.modifiersData.popperOffsets.y+=x),n.modifiersData[a]=h}const v0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$3};function G3(t){var n=t.state,s=t.name;n.modifiersData[s]=A0({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const pu={name:"popperOffsets",enabled:!0,phase:"read",fn:G3,data:{}};function X3(t){return t==="x"?"y":"x"}function j3(t){var n=t.state,s=t.options,a=t.name,u=s.mainAxis,f=u===void 0?!0:u,h=s.altAxis,m=h===void 0?!1:h,_=s.boundary,x=s.rootBoundary,E=s.altBoundary,b=s.padding,v=s.tether,T=v===void 0?!0:v,P=s.tetherOffset,R=P===void 0?0:P,z=ci(n,{boundary:_,rootBoundary:x,padding:b,altBoundary:E}),ee=rr(n.placement),X=li(n.placement),L=!X,Z=cu(ee),se=X3(Z),W=n.modifiersData.popperOffsets,F=n.rects.reference,Q=n.rects.popper,B=typeof R=="function"?R(Object.assign({},n.rects,{placement:n.placement})):R,xe=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),Ee=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,$={x:0,y:0};if(W){if(f){var re,Re=Z==="y"?sn:on,G=Z==="y"?An:yn,Oe=Z==="y"?"height":"width",fe=W[Z],ze=fe+z[Re],_t=fe-z[G],Ot=T?-Q[Oe]/2:0,Xt=X===vs?F[Oe]:Q[Oe],Je=X===vs?-Q[Oe]:-F[Oe],Ft=n.elements.arrow,dt=T&&Ft?lu(Ft):{width:0,height:0},jt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:x0(),Ae=jt[Re],te=jt[G],de=Gi(0,F[Oe],dt[Oe]),_e=L?F[Oe]/2-Ot-de-Ae-xe.mainAxis:Xt-de-Ae-xe.mainAxis,Se=L?-F[Oe]/2+Ot+de+te+xe.mainAxis:Je+de+te+xe.mainAxis,Ve=n.elements.arrow&&ho(n.elements.arrow),ut=Ve?Z==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,S=(re=Ee==null?void 0:Ee[Z])!=null?re:0,N=fe+_e-S-ut,H=fe+Se-S,ie=Gi(T?da(ze,N):ze,fe,T?bs(_t,H):_t);W[Z]=ie,$[Z]=ie-fe}if(m){var q,ne=Z==="x"?sn:on,oe=Z==="x"?An:yn,ge=W[se],j=se==="y"?"height":"width",le=ge+z[ne],be=ge-z[oe],Ce=[sn,on].indexOf(ee)!==-1,Ie=(q=Ee==null?void 0:Ee[se])!=null?q:0,Ne=Ce?le:ge-F[j]-Q[j]-Ie+xe.altAxis,$e=Ce?ge+F[j]+Q[j]-Ie-xe.altAxis:be,Ze=T&&Ce?y3(Ne,ge,$e):Gi(T?Ne:le,ge,T?$e:be);W[se]=Ze,$[se]=Ze-ge}n.modifiersData[a]=$}}const T0={name:"preventOverflow",enabled:!0,phase:"main",fn:j3,requiresIfExists:["offset"]};function z3(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Y3(t){return t===Cn(t)||!Pn(t)?du(t):z3(t)}function K3(t){var n=t.getBoundingClientRect(),s=oi(n.width)/t.offsetWidth||1,a=oi(n.height)/t.offsetHeight||1;return s!==1||a!==1}function q3(t,n,s){s===void 0&&(s=!1);var a=Pn(n),u=Pn(n)&&K3(n),f=Jr(n),h=ai(t,u,s),m={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(a||!a&&!s)&&((or(n)!=="body"||gu(f))&&(m=Y3(n)),Pn(n)?(_=ai(n,!0),_.x+=n.clientLeft,_.y+=n.clientTop):f&&(_.x=hu(f))),{x:h.left+m.scrollLeft-_.x,y:h.top+m.scrollTop-_.y,width:h.width,height:h.height}}function Z3(t){var n=new Map,s=new Set,a=[];t.forEach(function(f){n.set(f.name,f)});function u(f){s.add(f.name);var h=[].concat(f.requires||[],f.requiresIfExists||[]);h.forEach(function(m){if(!s.has(m)){var _=n.get(m);_&&u(_)}}),a.push(f)}return t.forEach(function(f){s.has(f.name)||u(f)}),a}function Q3(t){var n=Z3(t);return g0.reduce(function(s,a){return s.concat(n.filter(function(u){return u.phase===a}))},[])}function J3(t){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(t())})})),n}}function ey(t){var n=t.reduce(function(s,a){var u=s[a.name];return s[a.name]=u?Object.assign({},u,a,{options:Object.assign({},u.options,a.options),data:Object.assign({},u.data,a.data)}):a,s},{});return Object.keys(n).map(function(s){return n[s]})}var C1={placement:"bottom",modifiers:[],strategy:"absolute"};function v1(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Wa(t){t===void 0&&(t={});var n=t,s=n.defaultModifiers,a=s===void 0?[]:s,u=n.defaultOptions,f=u===void 0?C1:u;return function(m,_,x){x===void 0&&(x=f);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},C1,f),modifiersData:{},elements:{reference:m,popper:_},attributes:{},styles:{}},b=[],v=!1,T={state:E,setOptions:function(ee){var X=typeof ee=="function"?ee(E.options):ee;R(),E.options=Object.assign({},f,E.options,X),E.scrollParents={reference:Ts(m)?Xi(m):m.contextElement?Xi(m.contextElement):[],popper:Xi(_)};var L=Q3(ey([].concat(a,E.options.modifiers)));return E.orderedModifiers=L.filter(function(Z){return Z.enabled}),P(),T.update()},forceUpdate:function(){if(!v){var ee=E.elements,X=ee.reference,L=ee.popper;if(v1(X,L)){E.rects={reference:q3(X,ho(L),E.options.strategy==="fixed"),popper:lu(L)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(xe){return E.modifiersData[xe.name]=Object.assign({},xe.data)});for(var Z=0;Z<E.orderedModifiers.length;Z++){if(E.reset===!0){E.reset=!1,Z=-1;continue}var se=E.orderedModifiers[Z],W=se.fn,F=se.options,Q=F===void 0?{}:F,B=se.name;typeof W=="function"&&(E=W({state:E,options:Q,name:B,instance:T})||E)}}}},update:J3(function(){return new Promise(function(z){T.forceUpdate(),z(E)})}),destroy:function(){R(),v=!0}};if(!v1(m,_))return T;T.setOptions(x).then(function(z){!v&&x.onFirstUpdate&&x.onFirstUpdate(z)});function P(){E.orderedModifiers.forEach(function(z){var ee=z.name,X=z.options,L=X===void 0?{}:X,Z=z.effect;if(typeof Z=="function"){var se=Z({state:E,name:ee,instance:T,options:L}),W=function(){};b.push(se||W)}})}function R(){b.forEach(function(z){return z()}),b=[]}return T}}var ty=Wa(),ny=[fu,pu,uu,au],ry=Wa({defaultModifiers:ny}),sy=[fu,pu,uu,au,v0,y0,T0,w0,C0],mu=Wa({defaultModifiers:sy});const S0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:u0,afterRead:a0,afterWrite:h0,applyStyles:au,arrow:w0,auto:Va,basePlacements:pi,beforeMain:l0,beforeRead:i0,beforeWrite:f0,bottom:An,clippingParents:r0,computeStyles:uu,createPopper:mu,createPopperBase:ty,createPopperLite:ry,detectOverflow:ci,end:ii,eventListeners:fu,flip:y0,hide:C0,left:on,main:c0,modifierPhases:g0,offset:v0,placements:iu,popper:Xs,popperGenerator:Wa,popperOffsets:pu,preventOverflow:T0,read:o0,reference:s0,right:yn,start:vs,top:sn,variationPlacements:wc,viewport:su,write:d0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Rr=new Map,Rl={set(t,n,s){Rr.has(t)||Rr.set(t,new Map);const a=Rr.get(t);if(!a.has(n)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(n,s)},get(t,n){return Rr.has(t)&&Rr.get(t).get(n)||null},remove(t,n){if(!Rr.has(t))return;const s=Rr.get(t);s.delete(n),s.size===0&&Rr.delete(t)}},iy=1e6,oy=1e3,yc="transitionend",I0=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(n,s)=>`#${CSS.escape(s)}`)),t),ay=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),ly=t=>{do t+=Math.floor(Math.random()*iy);while(document.getElementById(t));return t},cy=t=>{if(!t)return 0;let{transitionDuration:n,transitionDelay:s}=window.getComputedStyle(t);const a=Number.parseFloat(n),u=Number.parseFloat(s);return!a&&!u?0:(n=n.split(",")[0],s=s.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(s))*oy)},O0=t=>{t.dispatchEvent(new Event(yc))},hr=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Gr=t=>hr(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(I0(t)):null,mi=t=>{if(!hr(t)||t.getClientRects().length===0)return!1;const n=getComputedStyle(t).getPropertyValue("visibility")==="visible",s=t.closest("details:not([open])");if(!s)return n;if(s!==t){const a=t.closest("summary");if(a&&a.parentNode!==s||a===null)return!1}return n},Xr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",N0=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?N0(t.parentNode):null},ha=()=>{},go=t=>{t.offsetHeight},R0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dl=[],uy=t=>{document.readyState==="loading"?(Dl.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Dl)n()}),Dl.push(t)):t()},Bn=()=>document.documentElement.dir==="rtl",Un=t=>{uy(()=>{const n=R0();if(n){const s=t.NAME,a=n.fn[s];n.fn[s]=t.jQueryInterface,n.fn[s].Constructor=t,n.fn[s].noConflict=()=>(n.fn[s]=a,t.jQueryInterface)}})},hn=(t,n=[],s=t)=>typeof t=="function"?t(...n):s,D0=(t,n,s=!0)=>{if(!s){hn(t);return}const u=cy(n)+5;let f=!1;const h=({target:m})=>{m===n&&(f=!0,n.removeEventListener(yc,h),hn(t))};n.addEventListener(yc,h),setTimeout(()=>{f||O0(n)},u)},xu=(t,n,s,a)=>{const u=t.length;let f=t.indexOf(n);return f===-1?!s&&a?t[u-1]:t[0]:(f+=s?1:-1,a&&(f=(f+u)%u),t[Math.max(0,Math.min(f,u-1))])},fy=/[^.]*(?=\..*)\.|.*/,dy=/\..*/,hy=/::\d+$/,Ml={};let T1=1;const M0={mouseenter:"mouseover",mouseleave:"mouseout"},gy=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function L0(t,n){return n&&`${n}::${T1++}`||t.uidEvent||T1++}function P0(t){const n=L0(t);return t.uidEvent=n,Ml[n]=Ml[n]||{},Ml[n]}function py(t,n){return function s(a){return _u(a,{delegateTarget:t}),s.oneOff&&ce.off(t,a.type,n),n.apply(t,[a])}}function my(t,n,s){return function a(u){const f=t.querySelectorAll(n);for(let{target:h}=u;h&&h!==this;h=h.parentNode)for(const m of f)if(m===h)return _u(u,{delegateTarget:h}),a.oneOff&&ce.off(t,u.type,n,s),s.apply(h,[u])}}function B0(t,n,s=null){return Object.values(t).find(a=>a.callable===n&&a.delegationSelector===s)}function k0(t,n,s){const a=typeof n=="string",u=a?s:n||s;let f=F0(t);return gy.has(f)||(f=t),[a,u,f]}function S1(t,n,s,a,u){if(typeof n!="string"||!t)return;let[f,h,m]=k0(n,s,a);n in M0&&(h=(P=>function(R){if(!R.relatedTarget||R.relatedTarget!==R.delegateTarget&&!R.delegateTarget.contains(R.relatedTarget))return P.call(this,R)})(h));const _=P0(t),x=_[m]||(_[m]={}),E=B0(x,h,f?s:null);if(E){E.oneOff=E.oneOff&&u;return}const b=L0(h,n.replace(fy,"")),v=f?my(t,s,h):py(t,h);v.delegationSelector=f?s:null,v.callable=h,v.oneOff=u,v.uidEvent=b,x[b]=v,t.addEventListener(m,v,f)}function Cc(t,n,s,a,u){const f=B0(n[s],a,u);f&&(t.removeEventListener(s,f,!!u),delete n[s][f.uidEvent])}function xy(t,n,s,a){const u=n[s]||{};for(const[f,h]of Object.entries(u))f.includes(a)&&Cc(t,n,s,h.callable,h.delegationSelector)}function F0(t){return t=t.replace(dy,""),M0[t]||t}const ce={on(t,n,s,a){S1(t,n,s,a,!1)},one(t,n,s,a){S1(t,n,s,a,!0)},off(t,n,s,a){if(typeof n!="string"||!t)return;const[u,f,h]=k0(n,s,a),m=h!==n,_=P0(t),x=_[h]||{},E=n.startsWith(".");if(typeof f<"u"){if(!Object.keys(x).length)return;Cc(t,_,h,f,u?s:null);return}if(E)for(const b of Object.keys(_))xy(t,_,b,n.slice(1));for(const[b,v]of Object.entries(x)){const T=b.replace(hy,"");(!m||n.includes(T))&&Cc(t,_,h,v.callable,v.delegationSelector)}},trigger(t,n,s){if(typeof n!="string"||!t)return null;const a=R0(),u=F0(n),f=n!==u;let h=null,m=!0,_=!0,x=!1;f&&a&&(h=a.Event(n,s),a(t).trigger(h),m=!h.isPropagationStopped(),_=!h.isImmediatePropagationStopped(),x=h.isDefaultPrevented());const E=_u(new Event(n,{bubbles:m,cancelable:!0}),s);return x&&E.preventDefault(),_&&t.dispatchEvent(E),E.defaultPrevented&&h&&h.preventDefault(),E}};function _u(t,n={}){for(const[s,a]of Object.entries(n))try{t[s]=a}catch{Object.defineProperty(t,s,{configurable:!0,get(){return a}})}return t}function I1(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Ll(t){return t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const gr={setDataAttribute(t,n,s){t.setAttribute(`data-bs-${Ll(n)}`,s)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${Ll(n)}`)},getDataAttributes(t){if(!t)return{};const n={},s=Object.keys(t.dataset).filter(a=>a.startsWith("bs")&&!a.startsWith("bsConfig"));for(const a of s){let u=a.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),n[u]=I1(t.dataset[a])}return n},getDataAttribute(t,n){return I1(t.getAttribute(`data-bs-${Ll(n)}`))}};class po{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,s){const a=hr(s)?gr.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...hr(s)?gr.getDataAttributes(s):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,s=this.constructor.DefaultType){for(const[a,u]of Object.entries(s)){const f=n[a],h=hr(f)?"element":ay(f);if(!new RegExp(u).test(h))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${h}" but expected type "${u}".`)}}}const _y="5.3.3";class zn extends po{constructor(n,s){super(),n=Gr(n),n&&(this._element=n,this._config=this._getConfig(s),Rl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Rl.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,s,a=!0){D0(n,s,a)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Rl.get(Gr(n),this.DATA_KEY)}static getOrCreateInstance(n,s={}){return this.getInstance(n)||new this(n,typeof s=="object"?s:null)}static get VERSION(){return _y}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Pl=t=>{let n=t.getAttribute("data-bs-target");if(!n||n==="#"){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),n=s&&s!=="#"?s.trim():null}return n?n.split(",").map(s=>I0(s)).join(","):null},Pe={find(t,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,t))},findOne(t,n=document.documentElement){return Element.prototype.querySelector.call(n,t)},children(t,n){return[].concat(...t.children).filter(s=>s.matches(n))},parents(t,n){const s=[];let a=t.parentNode.closest(n);for(;a;)s.push(a),a=a.parentNode.closest(n);return s},prev(t,n){let s=t.previousElementSibling;for(;s;){if(s.matches(n))return[s];s=s.previousElementSibling}return[]},next(t,n){let s=t.nextElementSibling;for(;s;){if(s.matches(n))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(n,t).filter(s=>!Xr(s)&&mi(s))},getSelectorFromElement(t){const n=Pl(t);return n&&Pe.findOne(n)?n:null},getElementFromSelector(t){const n=Pl(t);return n?Pe.findOne(n):null},getMultipleElementsFromSelector(t){const n=Pl(t);return n?Pe.find(n):[]}},$a=(t,n="hide")=>{const s=`click.dismiss${t.EVENT_KEY}`,a=t.NAME;ce.on(document,s,`[data-bs-dismiss="${a}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),Xr(this))return;const f=Pe.getElementFromSelector(this)||this.closest(`.${a}`);t.getOrCreateInstance(f)[n]()})},Ey="alert",wy="bs.alert",U0=`.${wy}`,by=`close${U0}`,Ay=`closed${U0}`,yy="fade",Cy="show";class Ga extends zn{static get NAME(){return Ey}close(){if(ce.trigger(this._element,by).defaultPrevented)return;this._element.classList.remove(Cy);const s=this._element.classList.contains(yy);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),ce.trigger(this._element,Ay),this.dispose()}static jQueryInterface(n){return this.each(function(){const s=Ga.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}$a(Ga,"close");Un(Ga);const vy="button",Ty="bs.button",Sy=`.${Ty}`,Iy=".data-api",Oy="active",O1='[data-bs-toggle="button"]',Ny=`click${Sy}${Iy}`;class Xa extends zn{static get NAME(){return vy}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Oy))}static jQueryInterface(n){return this.each(function(){const s=Xa.getOrCreateInstance(this);n==="toggle"&&s[n]()})}}ce.on(document,Ny,O1,t=>{t.preventDefault();const n=t.target.closest(O1);Xa.getOrCreateInstance(n).toggle()});Un(Xa);const Ry="swipe",xi=".bs.swipe",Dy=`touchstart${xi}`,My=`touchmove${xi}`,Ly=`touchend${xi}`,Py=`pointerdown${xi}`,By=`pointerup${xi}`,ky="touch",Fy="pen",Uy="pointer-event",Vy=40,Hy={endCallback:null,leftCallback:null,rightCallback:null},Wy={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ga extends po{constructor(n,s){super(),this._element=n,!(!n||!ga.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hy}static get DefaultType(){return Wy}static get NAME(){return Ry}dispose(){ce.off(this._element,xi)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),hn(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=Vy)return;const s=n/this._deltaX;this._deltaX=0,s&&hn(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,Py,n=>this._start(n)),ce.on(this._element,By,n=>this._end(n)),this._element.classList.add(Uy)):(ce.on(this._element,Dy,n=>this._start(n)),ce.on(this._element,My,n=>this._move(n)),ce.on(this._element,Ly,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===Fy||n.pointerType===ky)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $y="carousel",Gy="bs.carousel",es=`.${Gy}`,V0=".data-api",Xy="ArrowLeft",jy="ArrowRight",zy=500,Mi="next",Ws="prev",js="left",qo="right",Yy=`slide${es}`,Bl=`slid${es}`,Ky=`keydown${es}`,qy=`mouseenter${es}`,Zy=`mouseleave${es}`,Qy=`dragstart${es}`,Jy=`load${es}${V0}`,eC=`click${es}${V0}`,H0="carousel",Po="active",tC="slide",nC="carousel-item-end",rC="carousel-item-start",sC="carousel-item-next",iC="carousel-item-prev",W0=".active",$0=".carousel-item",oC=W0+$0,aC=".carousel-item img",lC=".carousel-indicators",cC="[data-bs-slide], [data-bs-slide-to]",uC='[data-bs-ride="carousel"]',fC={[Xy]:qo,[jy]:js},dC={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hC={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mo extends zn{constructor(n,s){super(n,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne(lC,this._element),this._addEventListeners(),this._config.ride===H0&&this.cycle()}static get Default(){return dC}static get DefaultType(){return hC}static get NAME(){return $y}next(){this._slide(Mi)}nextWhenVisible(){!document.hidden&&mi(this._element)&&this.next()}prev(){this._slide(Ws)}pause(){this._isSliding&&O0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ce.one(this._element,Bl,()=>this.cycle());return}this.cycle()}}to(n){const s=this._getItems();if(n>s.length-1||n<0)return;if(this._isSliding){ce.one(this._element,Bl,()=>this.to(n));return}const a=this._getItemIndex(this._getActive());if(a===n)return;const u=n>a?Mi:Ws;this._slide(u,s[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&ce.on(this._element,Ky,n=>this._keydown(n)),this._config.pause==="hover"&&(ce.on(this._element,qy,()=>this.pause()),ce.on(this._element,Zy,()=>this._maybeEnableCycle())),this._config.touch&&ga.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of Pe.find(aC,this._element))ce.on(a,Qy,u=>u.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(js)),rightCallback:()=>this._slide(this._directionToOrder(qo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),zy+this._config.interval))}};this._swipeHelper=new ga(this._element,s)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const s=fC[n.key];s&&(n.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const s=Pe.findOne(W0,this._indicatorsElement);s.classList.remove(Po),s.removeAttribute("aria-current");const a=Pe.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);a&&(a.classList.add(Po),a.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const s=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(n,s=null){if(this._isSliding)return;const a=this._getActive(),u=n===Mi,f=s||xu(this._getItems(),a,u,this._config.wrap);if(f===a)return;const h=this._getItemIndex(f),m=T=>ce.trigger(this._element,T,{relatedTarget:f,direction:this._orderToDirection(n),from:this._getItemIndex(a),to:h});if(m(Yy).defaultPrevented||!a||!f)return;const x=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(h),this._activeElement=f;const E=u?rC:nC,b=u?sC:iC;f.classList.add(b),go(f),a.classList.add(E),f.classList.add(E);const v=()=>{f.classList.remove(E,b),f.classList.add(Po),a.classList.remove(Po,b,E),this._isSliding=!1,m(Bl)};this._queueCallback(v,a,this._isAnimated()),x&&this.cycle()}_isAnimated(){return this._element.classList.contains(tC)}_getActive(){return Pe.findOne(oC,this._element)}_getItems(){return Pe.find($0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return Bn()?n===js?Ws:Mi:n===js?Mi:Ws}_orderToDirection(n){return Bn()?n===Ws?js:qo:n===Ws?qo:js}static jQueryInterface(n){return this.each(function(){const s=mo.getOrCreateInstance(this,n);if(typeof n=="number"){s.to(n);return}if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(document,eC,cC,function(t){const n=Pe.getElementFromSelector(this);if(!n||!n.classList.contains(H0))return;t.preventDefault();const s=mo.getOrCreateInstance(n),a=this.getAttribute("data-bs-slide-to");if(a){s.to(a),s._maybeEnableCycle();return}if(gr.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});ce.on(window,Jy,()=>{const t=Pe.find(uC);for(const n of t)mo.getOrCreateInstance(n)});Un(mo);const gC="collapse",pC="bs.collapse",xo=`.${pC}`,mC=".data-api",xC=`show${xo}`,_C=`shown${xo}`,EC=`hide${xo}`,wC=`hidden${xo}`,bC=`click${xo}${mC}`,kl="show",Ks="collapse",Bo="collapsing",AC="collapsed",yC=`:scope .${Ks} .${Ks}`,CC="collapse-horizontal",vC="width",TC="height",SC=".collapse.show, .collapse.collapsing",vc='[data-bs-toggle="collapse"]',IC={parent:null,toggle:!0},OC={parent:"(null|element)",toggle:"boolean"};class no extends zn{constructor(n,s){super(n,s),this._isTransitioning=!1,this._triggerArray=[];const a=Pe.find(vc);for(const u of a){const f=Pe.getSelectorFromElement(u),h=Pe.find(f).filter(m=>m===this._element);f!==null&&h.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return IC}static get DefaultType(){return OC}static get NAME(){return gC}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(SC).filter(m=>m!==this._element).map(m=>no.getOrCreateInstance(m,{toggle:!1}))),n.length&&n[0]._isTransitioning||ce.trigger(this._element,xC).defaultPrevented)return;for(const m of n)m.hide();const a=this._getDimension();this._element.classList.remove(Ks),this._element.classList.add(Bo),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(Ks,kl),this._element.style[a]="",ce.trigger(this._element,_C)},h=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[a]=`${this._element[h]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,EC).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,go(this._element),this._element.classList.add(Bo),this._element.classList.remove(Ks,kl);for(const u of this._triggerArray){const f=Pe.getElementFromSelector(u);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(Ks),ce.trigger(this._element,wC)};this._element.style[s]="",this._queueCallback(a,this._element,!0)}_isShown(n=this._element){return n.classList.contains(kl)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=Gr(n.parent),n}_getDimension(){return this._element.classList.contains(CC)?vC:TC}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(vc);for(const s of n){const a=Pe.getElementFromSelector(s);a&&this._addAriaAndCollapsedClass([s],this._isShown(a))}}_getFirstLevelChildren(n){const s=Pe.find(yC,this._config.parent);return Pe.find(n,this._config.parent).filter(a=>!s.includes(a))}_addAriaAndCollapsedClass(n,s){if(n.length)for(const a of n)a.classList.toggle(AC,!s),a.setAttribute("aria-expanded",s)}static jQueryInterface(n){const s={};return typeof n=="string"&&/show|hide/.test(n)&&(s.toggle=!1),this.each(function(){const a=no.getOrCreateInstance(this,s);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n]()}})}}ce.on(document,bC,vc,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const n of Pe.getMultipleElementsFromSelector(this))no.getOrCreateInstance(n,{toggle:!1}).toggle()});Un(no);const N1="dropdown",NC="bs.dropdown",Os=`.${NC}`,Eu=".data-api",RC="Escape",R1="Tab",DC="ArrowUp",D1="ArrowDown",MC=2,LC=`hide${Os}`,PC=`hidden${Os}`,BC=`show${Os}`,kC=`shown${Os}`,G0=`click${Os}${Eu}`,X0=`keydown${Os}${Eu}`,FC=`keyup${Os}${Eu}`,zs="show",UC="dropup",VC="dropend",HC="dropstart",WC="dropup-center",$C="dropdown-center",gs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',GC=`${gs}.${zs}`,Zo=".dropdown-menu",XC=".navbar",jC=".navbar-nav",zC=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",YC=Bn()?"top-end":"top-start",KC=Bn()?"top-start":"top-end",qC=Bn()?"bottom-end":"bottom-start",ZC=Bn()?"bottom-start":"bottom-end",QC=Bn()?"left-start":"right-start",JC=Bn()?"right-start":"left-start",ev="top",tv="bottom",nv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class sr extends zn{constructor(n,s){super(n,s),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,Zo)[0]||Pe.prev(this._element,Zo)[0]||Pe.findOne(Zo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nv}static get DefaultType(){return rv}static get NAME(){return N1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Xr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!ce.trigger(this._element,BC,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(jC))for(const a of[].concat(...document.body.children))ce.on(a,"mouseover",ha);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zs),this._element.classList.add(zs),ce.trigger(this._element,kC,n)}}hide(){if(Xr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!ce.trigger(this._element,LC,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ce.off(a,"mouseover",ha);this._popper&&this._popper.destroy(),this._menu.classList.remove(zs),this._element.classList.remove(zs),this._element.setAttribute("aria-expanded","false"),gr.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,PC,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!hr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${N1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof S0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=this._parent:hr(this._config.reference)?n=Gr(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const s=this._getPopperConfig();this._popper=mu(n,this._menu,s)}_isShown(){return this._menu.classList.contains(zs)}_getPlacement(){const n=this._parent;if(n.classList.contains(VC))return QC;if(n.classList.contains(HC))return JC;if(n.classList.contains(WC))return ev;if(n.classList.contains($C))return tv;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(UC)?s?KC:YC:s?ZC:qC}_detectNavbar(){return this._element.closest(XC)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(gr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...hn(this._config.popperConfig,[n])}}_selectMenuItem({key:n,target:s}){const a=Pe.find(zC,this._menu).filter(u=>mi(u));a.length&&xu(a,s,n===D1,!a.includes(s)).focus()}static jQueryInterface(n){return this.each(function(){const s=sr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}static clearMenus(n){if(n.button===MC||n.type==="keyup"&&n.key!==R1)return;const s=Pe.find(GC);for(const a of s){const u=sr.getInstance(a);if(!u||u._config.autoClose===!1)continue;const f=n.composedPath(),h=f.includes(u._menu);if(f.includes(u._element)||u._config.autoClose==="inside"&&!h||u._config.autoClose==="outside"&&h||u._menu.contains(n.target)&&(n.type==="keyup"&&n.key===R1||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const m={relatedTarget:u._element};n.type==="click"&&(m.clickEvent=n),u._completeHide(m)}}static dataApiKeydownHandler(n){const s=/input|textarea/i.test(n.target.tagName),a=n.key===RC,u=[DC,D1].includes(n.key);if(!u&&!a||s&&!a)return;n.preventDefault();const f=this.matches(gs)?this:Pe.prev(this,gs)[0]||Pe.next(this,gs)[0]||Pe.findOne(gs,n.delegateTarget.parentNode),h=sr.getOrCreateInstance(f);if(u){n.stopPropagation(),h.show(),h._selectMenuItem(n);return}h._isShown()&&(n.stopPropagation(),h.hide(),f.focus())}}ce.on(document,X0,gs,sr.dataApiKeydownHandler);ce.on(document,X0,Zo,sr.dataApiKeydownHandler);ce.on(document,G0,sr.clearMenus);ce.on(document,FC,sr.clearMenus);ce.on(document,G0,gs,function(t){t.preventDefault(),sr.getOrCreateInstance(this).toggle()});Un(sr);const j0="backdrop",sv="fade",M1="show",L1=`mousedown.bs.${j0}`,iv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ov={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class z0 extends po{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return iv}static get DefaultType(){return ov}static get NAME(){return j0}show(n){if(!this._config.isVisible){hn(n);return}this._append();const s=this._getElement();this._config.isAnimated&&go(s),s.classList.add(M1),this._emulateAnimation(()=>{hn(n)})}hide(n){if(!this._config.isVisible){hn(n);return}this._getElement().classList.remove(M1),this._emulateAnimation(()=>{this.dispose(),hn(n)})}dispose(){this._isAppended&&(ce.off(this._element,L1),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(sv),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=Gr(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),ce.on(n,L1,()=>{hn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){D0(n,this._getElement(),this._config.isAnimated)}}const av="focustrap",lv="bs.focustrap",pa=`.${lv}`,cv=`focusin${pa}`,uv=`keydown.tab${pa}`,fv="Tab",dv="forward",P1="backward",hv={autofocus:!0,trapElement:null},gv={autofocus:"boolean",trapElement:"element"};class Y0 extends po{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hv}static get DefaultType(){return gv}static get NAME(){return av}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,pa),ce.on(document,cv,n=>this._handleFocusin(n)),ce.on(document,uv,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,pa))}_handleFocusin(n){const{trapElement:s}=this._config;if(n.target===document||n.target===s||s.contains(n.target))return;const a=Pe.focusableChildren(s);a.length===0?s.focus():this._lastTabNavDirection===P1?a[a.length-1].focus():a[0].focus()}_handleKeydown(n){n.key===fv&&(this._lastTabNavDirection=n.shiftKey?P1:dv)}}const B1=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",k1=".sticky-top",ko="padding-right",F1="margin-right";class Tc{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ko,s=>s+n),this._setElementAttributes(B1,ko,s=>s+n),this._setElementAttributes(k1,F1,s=>s-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ko),this._resetElementAttributes(B1,ko),this._resetElementAttributes(k1,F1)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,s,a){const u=this.getWidth(),f=h=>{if(h!==this._element&&window.innerWidth>h.clientWidth+u)return;this._saveInitialAttribute(h,s);const m=window.getComputedStyle(h).getPropertyValue(s);h.style.setProperty(s,`${a(Number.parseFloat(m))}px`)};this._applyManipulationCallback(n,f)}_saveInitialAttribute(n,s){const a=n.style.getPropertyValue(s);a&&gr.setDataAttribute(n,s,a)}_resetElementAttributes(n,s){const a=u=>{const f=gr.getDataAttribute(u,s);if(f===null){u.style.removeProperty(s);return}gr.removeDataAttribute(u,s),u.style.setProperty(s,f)};this._applyManipulationCallback(n,a)}_applyManipulationCallback(n,s){if(hr(n)){s(n);return}for(const a of Pe.find(n,this._element))s(a)}}const pv="modal",mv="bs.modal",kn=`.${mv}`,xv=".data-api",_v="Escape",Ev=`hide${kn}`,wv=`hidePrevented${kn}`,K0=`hidden${kn}`,q0=`show${kn}`,bv=`shown${kn}`,Av=`resize${kn}`,yv=`click.dismiss${kn}`,Cv=`mousedown.dismiss${kn}`,vv=`keydown.dismiss${kn}`,Tv=`click${kn}${xv}`,U1="modal-open",Sv="fade",V1="show",Fl="modal-static",Iv=".modal.show",Ov=".modal-dialog",Nv=".modal-body",Rv='[data-bs-toggle="modal"]',Dv={backdrop:!0,focus:!0,keyboard:!0},Mv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ui extends zn{constructor(n,s){super(n,s),this._dialog=Pe.findOne(Ov,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Tc,this._addEventListeners()}static get Default(){return Dv}static get DefaultType(){return Mv}static get NAME(){return pv}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||ce.trigger(this._element,q0,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(U1),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||ce.trigger(this._element,Ev).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(V1),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ce.off(window,kn),ce.off(this._dialog,kn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new z0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Y0({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=Pe.findOne(Nv,this._dialog);s&&(s.scrollTop=0),go(this._element),this._element.classList.add(V1);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,bv,{relatedTarget:n})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,vv,n=>{if(n.key===_v){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ce.on(window,Av,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,Cv,n=>{ce.one(this._element,yv,s=>{if(!(this._element!==n.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(U1),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,K0)})}_isAnimated(){return this._element.classList.contains(Sv)}_triggerBackdropTransition(){if(ce.trigger(this._element,wv).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(Fl)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(Fl),this._queueCallback(()=>{this._element.classList.remove(Fl),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),a=s>0;if(a&&!n){const u=Bn()?"paddingLeft":"paddingRight";this._element.style[u]=`${s}px`}if(!a&&n){const u=Bn()?"paddingRight":"paddingLeft";this._element.style[u]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,s){return this.each(function(){const a=ui.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError(`No method named "${n}"`);a[n](s)}})}}ce.on(document,Tv,Rv,function(t){const n=Pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ce.one(n,q0,u=>{u.defaultPrevented||ce.one(n,K0,()=>{mi(this)&&this.focus()})});const s=Pe.findOne(Iv);s&&ui.getInstance(s).hide(),ui.getOrCreateInstance(n).toggle(this)});$a(ui);Un(ui);const Lv="offcanvas",Pv="bs.offcanvas",xr=`.${Pv}`,Z0=".data-api",Bv=`load${xr}${Z0}`,kv="Escape",H1="show",W1="showing",$1="hiding",Fv="offcanvas-backdrop",Q0=".offcanvas.show",Uv=`show${xr}`,Vv=`shown${xr}`,Hv=`hide${xr}`,G1=`hidePrevented${xr}`,J0=`hidden${xr}`,Wv=`resize${xr}`,$v=`click${xr}${Z0}`,Gv=`keydown.dismiss${xr}`,Xv='[data-bs-toggle="offcanvas"]',jv={backdrop:!0,keyboard:!0,scroll:!1},zv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jr extends zn{constructor(n,s){super(n,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return jv}static get DefaultType(){return zv}static get NAME(){return Lv}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||ce.trigger(this._element,Uv,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Tc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(W1);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(H1),this._element.classList.remove(W1),ce.trigger(this._element,Vv,{relatedTarget:n})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||ce.trigger(this._element,Hv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($1),this._backdrop.hide();const s=()=>{this._element.classList.remove(H1,$1),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Tc().reset(),ce.trigger(this._element,J0)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){ce.trigger(this._element,G1);return}this.hide()},s=!!this._config.backdrop;return new z0({className:Fv,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?n:null})}_initializeFocusTrap(){return new Y0({trapElement:this._element})}_addEventListeners(){ce.on(this._element,Gv,n=>{if(n.key===kv){if(this._config.keyboard){this.hide();return}ce.trigger(this._element,G1)}})}static jQueryInterface(n){return this.each(function(){const s=jr.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}ce.on(document,$v,Xv,function(t){const n=Pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Xr(this))return;ce.one(n,J0,()=>{mi(this)&&this.focus()});const s=Pe.findOne(Q0);s&&s!==n&&jr.getInstance(s).hide(),jr.getOrCreateInstance(n).toggle(this)});ce.on(window,Bv,()=>{for(const t of Pe.find(Q0))jr.getOrCreateInstance(t).show()});ce.on(window,Wv,()=>{for(const t of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&jr.getOrCreateInstance(t).hide()});$a(jr);Un(jr);const Yv=/^aria-[\w-]*$/i,eg={"*":["class","dir","id","lang","role",Yv],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Kv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Zv=(t,n)=>{const s=t.nodeName.toLowerCase();return n.includes(s)?Kv.has(s)?!!qv.test(t.nodeValue):!0:n.filter(a=>a instanceof RegExp).some(a=>a.test(s))};function Qv(t,n,s){if(!t.length)return t;if(s&&typeof s=="function")return s(t);const u=new window.DOMParser().parseFromString(t,"text/html"),f=[].concat(...u.body.querySelectorAll("*"));for(const h of f){const m=h.nodeName.toLowerCase();if(!Object.keys(n).includes(m)){h.remove();continue}const _=[].concat(...h.attributes),x=[].concat(n["*"]||[],n[m]||[]);for(const E of _)Zv(E,x)||h.removeAttribute(E.nodeName)}return u.body.innerHTML}const Jv="TemplateFactory",e8={allowList:eg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},t8={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},n8={entry:"(string|element|function|null)",selector:"(string|element)"};class r8 extends po{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return e8}static get DefaultType(){return t8}static get NAME(){return Jv}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[u,f]of Object.entries(this._config.content))this._setContent(n,f,u);const s=n.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&s.classList.add(...a.split(" ")),s}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[s,a]of Object.entries(n))super._typeCheckConfig({selector:s,entry:a},n8)}_setContent(n,s,a){const u=Pe.findOne(a,n);if(u){if(s=this._resolvePossibleFunction(s),!s){u.remove();return}if(hr(s)){this._putElementInTemplate(Gr(s),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(s);return}u.textContent=s}}_maybeSanitize(n){return this._config.sanitize?Qv(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return hn(n,[this])}_putElementInTemplate(n,s){if(this._config.html){s.innerHTML="",s.append(n);return}s.textContent=n.textContent}}const s8="tooltip",i8=new Set(["sanitize","allowList","sanitizeFn"]),Ul="fade",o8="modal",Fo="show",a8=".tooltip-inner",X1=`.${o8}`,j1="hide.bs.modal",Li="hover",Vl="focus",l8="click",c8="manual",u8="hide",f8="hidden",d8="show",h8="shown",g8="inserted",p8="click",m8="focusin",x8="focusout",_8="mouseenter",E8="mouseleave",w8={AUTO:"auto",TOP:"top",RIGHT:Bn()?"left":"right",BOTTOM:"bottom",LEFT:Bn()?"right":"left"},b8={allowList:eg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},A8={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _i extends zn{constructor(n,s){if(typeof S0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return b8}static get DefaultType(){return A8}static get NAME(){return s8}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(X1),j1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=ce.trigger(this._element,this.constructor.eventName(d8)),a=(N0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!a)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:f}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(u),ce.trigger(this._element,this.constructor.eventName(g8))),this._popper=this._createPopper(u),u.classList.add(Fo),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))ce.on(m,"mouseover",ha);const h=()=>{ce.trigger(this._element,this.constructor.eventName(h8)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(h,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ce.trigger(this._element,this.constructor.eventName(u8)).defaultPrevented)return;if(this._getTipElement().classList.remove(Fo),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))ce.off(u,"mouseover",ha);this._activeTrigger[l8]=!1,this._activeTrigger[Vl]=!1,this._activeTrigger[Li]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName(f8)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const s=this._getTemplateFactory(n).toHtml();if(!s)return null;s.classList.remove(Ul,Fo),s.classList.add(`bs-${this.constructor.NAME}-auto`);const a=ly(this.constructor.NAME).toString();return s.setAttribute("id",a),this._isAnimated()&&s.classList.add(Ul),s}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new r8({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[a8]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ul)}_isShown(){return this.tip&&this.tip.classList.contains(Fo)}_createPopper(n){const s=hn(this._config.placement,[this,n,this._element]),a=w8[s.toUpperCase()];return mu(this._element,n,this._getPopperConfig(a))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_resolvePossibleFunction(n){return hn(n,[this._element])}_getPopperConfig(n){const s={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...s,...hn(this._config.popperConfig,[s])}}_setListeners(){const n=this._config.trigger.split(" ");for(const s of n)if(s==="click")ce.on(this._element,this.constructor.eventName(p8),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(s!==c8){const a=s===Li?this.constructor.eventName(_8):this.constructor.eventName(m8),u=s===Li?this.constructor.eventName(E8):this.constructor.eventName(x8);ce.on(this._element,a,this._config.selector,f=>{const h=this._initializeOnDelegatedTarget(f);h._activeTrigger[f.type==="focusin"?Vl:Li]=!0,h._enter()}),ce.on(this._element,u,this._config.selector,f=>{const h=this._initializeOnDelegatedTarget(f);h._activeTrigger[f.type==="focusout"?Vl:Li]=h._element.contains(f.relatedTarget),h._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(X1),j1,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,s){clearTimeout(this._timeout),this._timeout=setTimeout(n,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const s=gr.getDataAttributes(this._element);for(const a of Object.keys(s))i8.has(a)&&delete s[a];return n={...s,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:Gr(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[s,a]of Object.entries(this._config))this.constructor.Default[s]!==a&&(n[s]=a);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const s=_i.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Un(_i);const y8="popover",C8=".popover-header",v8=".popover-body",T8={..._i.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},S8={..._i.DefaultType,content:"(null|string|element|function)"};class wu extends _i{static get Default(){return T8}static get DefaultType(){return S8}static get NAME(){return y8}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[C8]:this._getTitle(),[v8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const s=wu.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Un(wu);const I8="scrollspy",O8="bs.scrollspy",bu=`.${O8}`,N8=".data-api",R8=`activate${bu}`,z1=`click${bu}`,D8=`load${bu}${N8}`,M8="dropdown-item",$s="active",L8='[data-bs-spy="scroll"]',Hl="[href]",P8=".nav, .list-group",Y1=".nav-link",B8=".nav-item",k8=".list-group-item",F8=`${Y1}, ${B8} > ${Y1}, ${k8}`,U8=".dropdown",V8=".dropdown-toggle",H8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},W8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ja extends zn{constructor(n,s){super(n,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return H8}static get DefaultType(){return W8}static get NAME(){return I8}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=Gr(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(s=>Number.parseFloat(s))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,z1),ce.on(this._config.target,z1,Hl,n=>{const s=this._observableSections.get(n.target.hash);if(s){n.preventDefault();const a=this._rootElement||window,u=s.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:u,behavior:"smooth"});return}a.scrollTop=u}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),n)}_observerCallback(n){const s=h=>this._targetLinks.get(`#${h.target.id}`),a=h=>{this._previousScrollData.visibleEntryTop=h.target.offsetTop,this._process(s(h))},u=(this._rootElement||document.documentElement).scrollTop,f=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const h of n){if(!h.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(h));continue}const m=h.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(f&&m){if(a(h),!u)return;continue}!f&&!m&&a(h)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=Pe.find(Hl,this._config.target);for(const s of n){if(!s.hash||Xr(s))continue;const a=Pe.findOne(decodeURI(s.hash),this._element);mi(a)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,a))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add($s),this._activateParents(n),ce.trigger(this._element,R8,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(M8)){Pe.findOne(V8,n.closest(U8)).classList.add($s);return}for(const s of Pe.parents(n,P8))for(const a of Pe.prev(s,F8))a.classList.add($s)}_clearActiveClass(n){n.classList.remove($s);const s=Pe.find(`${Hl}.${$s}`,n);for(const a of s)a.classList.remove($s)}static jQueryInterface(n){return this.each(function(){const s=ja.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(window,D8,()=>{for(const t of Pe.find(L8))ja.getOrCreateInstance(t)});Un(ja);const $8="tab",G8="bs.tab",Ns=`.${G8}`,X8=`hide${Ns}`,j8=`hidden${Ns}`,z8=`show${Ns}`,Y8=`shown${Ns}`,K8=`click${Ns}`,q8=`keydown${Ns}`,Z8=`load${Ns}`,Q8="ArrowLeft",K1="ArrowRight",J8="ArrowUp",q1="ArrowDown",Wl="Home",Z1="End",ps="active",Q1="fade",$l="show",e4="dropdown",tg=".dropdown-toggle",t4=".dropdown-menu",Gl=`:not(${tg})`,n4='.list-group, .nav, [role="tablist"]',r4=".nav-item, .list-group-item",s4=`.nav-link${Gl}, .list-group-item${Gl}, [role="tab"]${Gl}`,ng='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Xl=`${s4}, ${ng}`,i4=`.${ps}[data-bs-toggle="tab"], .${ps}[data-bs-toggle="pill"], .${ps}[data-bs-toggle="list"]`;class fi extends zn{constructor(n){super(n),this._parent=this._element.closest(n4),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,q8,s=>this._keydown(s)))}static get NAME(){return $8}show(){const n=this._element;if(this._elemIsActive(n))return;const s=this._getActiveElem(),a=s?ce.trigger(s,X8,{relatedTarget:n}):null;ce.trigger(n,z8,{relatedTarget:s}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(s,n),this._activate(n,s))}_activate(n,s){if(!n)return;n.classList.add(ps),this._activate(Pe.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add($l);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),ce.trigger(n,Y8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(Q1))}_deactivate(n,s){if(!n)return;n.classList.remove(ps),n.blur(),this._deactivate(Pe.getElementFromSelector(n));const a=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove($l);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),ce.trigger(n,j8,{relatedTarget:s})};this._queueCallback(a,n,n.classList.contains(Q1))}_keydown(n){if(![Q8,K1,J8,q1,Wl,Z1].includes(n.key))return;n.stopPropagation(),n.preventDefault();const s=this._getChildren().filter(u=>!Xr(u));let a;if([Wl,Z1].includes(n.key))a=s[n.key===Wl?0:s.length-1];else{const u=[K1,q1].includes(n.key);a=xu(s,n.target,u,!0)}a&&(a.focus({preventScroll:!0}),fi.getOrCreateInstance(a).show())}_getChildren(){return Pe.find(Xl,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,s){this._setAttributeIfNotExists(n,"role","tablist");for(const a of s)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const s=this._elemIsActive(n),a=this._getOuterElement(n);n.setAttribute("aria-selected",s),a!==n&&this._setAttributeIfNotExists(a,"role","presentation"),s||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const s=Pe.getElementFromSelector(n);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,s){const a=this._getOuterElement(n);if(!a.classList.contains(e4))return;const u=(f,h)=>{const m=Pe.findOne(f,a);m&&m.classList.toggle(h,s)};u(tg,ps),u(t4,$l),a.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(n,s,a){n.hasAttribute(s)||n.setAttribute(s,a)}_elemIsActive(n){return n.classList.contains(ps)}_getInnerElement(n){return n.matches(Xl)?n:Pe.findOne(Xl,n)}_getOuterElement(n){return n.closest(r4)||n}static jQueryInterface(n){return this.each(function(){const s=fi.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}ce.on(document,K8,ng,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Xr(this)&&fi.getOrCreateInstance(this).show()});ce.on(window,Z8,()=>{for(const t of Pe.find(i4))fi.getOrCreateInstance(t)});Un(fi);const o4="toast",a4="bs.toast",ts=`.${a4}`,l4=`mouseover${ts}`,c4=`mouseout${ts}`,u4=`focusin${ts}`,f4=`focusout${ts}`,d4=`hide${ts}`,h4=`hidden${ts}`,g4=`show${ts}`,p4=`shown${ts}`,m4="fade",J1="hide",Uo="show",Vo="showing",x4={animation:"boolean",autohide:"boolean",delay:"number"},_4={animation:!0,autohide:!0,delay:5e3};class za extends zn{constructor(n,s){super(n,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _4}static get DefaultType(){return x4}static get NAME(){return o4}show(){if(ce.trigger(this._element,g4).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(m4);const s=()=>{this._element.classList.remove(Vo),ce.trigger(this._element,p4),this._maybeScheduleHide()};this._element.classList.remove(J1),go(this._element),this._element.classList.add(Uo,Vo),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||ce.trigger(this._element,d4).defaultPrevented)return;const s=()=>{this._element.classList.add(J1),this._element.classList.remove(Vo,Uo),ce.trigger(this._element,h4)};this._element.classList.add(Vo),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Uo),super.dispose()}isShown(){return this._element.classList.contains(Uo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,s){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const a=n.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,l4,n=>this._onInteraction(n,!0)),ce.on(this._element,c4,n=>this._onInteraction(n,!1)),ce.on(this._element,u4,n=>this._onInteraction(n,!0)),ce.on(this._element,f4,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const s=za.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}$a(za);Un(za);/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2024 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const t=()=>localStorage.getItem("theme"),n=f=>localStorage.setItem("theme",f),s=()=>{const f=t();return f||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},a=f=>{f==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",f)};a(s());const u=(f,h=!1)=>{const m=document.querySelector("#bd-theme");if(!m)return;const _=document.querySelector("#bd-theme-text"),x=document.querySelector(".theme-icon-active use"),E=document.querySelector(`[data-bs-theme-value="${f}"]`),b=E.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(T=>{T.classList.remove("active"),T.setAttribute("aria-pressed","false")}),E.classList.add("active"),E.setAttribute("aria-pressed","true"),x.setAttribute("href",b);const v=`${_.textContent} (${E.dataset.bsThemeValue})`;m.setAttribute("aria-label",v),h&&m.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const f=t();f!=="light"&&f!=="dark"&&a(s())}),window.addEventListener("DOMContentLoaded",()=>{u(s()),document.querySelectorAll("[data-bs-theme-value]").forEach(f=>{f.addEventListener("click",()=>{const h=f.getAttribute("data-bs-theme-value");n(h),a(h),u(h,!0)})})})})();const E4=bx(),Au=h2(AE);Au.use(n0);Au.use(E4);Au.mount("#app");
